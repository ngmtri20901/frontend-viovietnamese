(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,99970,(e,t,n)=>{"use strict";var r=Object.defineProperty,i=Object.getOwnPropertyDescriptor,a=Object.getOwnPropertyNames,s=Object.prototype.hasOwnProperty,o={};((e,t)=>{for(var n in t)r(e,n,{get:t[n],enumerable:!0})})(o,{SYMBOL_FOR_REQ_CONTEXT:()=>l,getContext:()=>c}),t.exports=((e,t,n,o)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let l of a(t))s.call(e,l)||l===n||r(e,l,{get:()=>t[l],enumerable:!(o=i(t,l))||o.enumerable});return e})(r({},"__esModule",{value:!0}),o);let l=Symbol.for("@vercel/request-context");function c(){var e,t,n;return null!=(n=null==(t=globalThis[l])||null==(e=t.get)?void 0:e.call(t))?n:{}}},725150,(e,t,n)=>{"use strict";var r=Object.defineProperty,i=Object.getOwnPropertyDescriptor,a=Object.getOwnPropertyNames,s=Object.prototype.hasOwnProperty,o={};((e,t)=>{for(var n in t)r(e,n,{get:t[n],enumerable:!0})})(o,{getContext:()=>l.getContext,getVercelOidcToken:()=>c,getVercelOidcTokenSync:()=>u}),t.exports=((e,t,n,o)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let l of a(t))s.call(e,l)||l===n||r(e,l,{get:()=>t[l],enumerable:!(o=i(t,l))||o.enumerable});return e})(r({},"__esModule",{value:!0}),o);var l=e.r(99970);async function c(){return""}function u(){return""}},561866,(e,t,n)=>{t.exports=function(e,t){let n;if("function"!=typeof e)throw TypeError("Expected the first argument to be a `function`, got `".concat(typeof e,"`."));let r=0;return function(){for(var i=arguments.length,a=Array(i),s=0;s<i;s++)a[s]=arguments[s];clearTimeout(n);let o=Date.now(),l=t-(o-r);l<=0?(r=o,e.apply(this,a)):n=setTimeout(()=>{r=Date.now(),e.apply(this,a)},l)}}},629801,(e,t,n)=>{"use strict";t.exports=function e(t,n){if(t===n)return!0;if(t&&n&&"object"==typeof t&&"object"==typeof n){if(t.constructor!==n.constructor)return!1;if(Array.isArray(t)){if((r=t.length)!=n.length)return!1;for(i=r;0!=i--;)if(!e(t[i],n[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if((r=(a=Object.keys(t)).length)!==Object.keys(n).length)return!1;for(i=r;0!=i--;)if(!Object.prototype.hasOwnProperty.call(n,a[i]))return!1;for(i=r;0!=i--;){var r,i,a,s=a[i];if(!e(t[s],n[s]))return!1}return!0}return t!=t&&n!=n}},78333,(e,t,n)=>{var r=0/0,i=/^\s+|\s+$/g,a=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,o=/^0o[0-7]+$/i,l=parseInt,c=e.g&&e.g.Object===Object&&e.g,u="object"==typeof self&&self&&self.Object===Object&&self,d=c||u||Function("return this")(),h=Object.prototype.toString,p=Math.max,f=Math.min,m=function(){return d.Date.now()};function g(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function y(e){if("number"==typeof e)return e;if("symbol"==typeof(t=e)||t&&"object"==typeof t&&"[object Symbol]"==h.call(t))return r;if(g(e)){var t,n="function"==typeof e.valueOf?e.valueOf():e;e=g(n)?n+"":n}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(i,"");var c=s.test(e);return c||o.test(e)?l(e.slice(2),c?2:8):a.test(e)?r:+e}t.exports=function(e,t,n){var r,i,a,s,o,l,c=0,u=!1,d=!1,h=!0;if("function"!=typeof e)throw TypeError("Expected a function");function b(t){var n=r,a=i;return r=i=void 0,c=t,s=e.apply(a,n)}function v(e){var n=e-l,r=e-c;return void 0===l||n>=t||n<0||d&&r>=a}function k(){var e,n,r,i=m();if(v(i))return x(i);o=setTimeout(k,(e=i-l,n=i-c,r=t-e,d?f(r,a-n):r))}function x(e){return(o=void 0,h&&r)?b(e):(r=i=void 0,s)}function _(){var e,n=m(),a=v(n);if(r=arguments,i=this,l=n,a){if(void 0===o)return c=e=l,o=setTimeout(k,t),u?b(e):s;if(d)return o=setTimeout(k,t),b(l)}return void 0===o&&(o=setTimeout(k,t)),s}return t=y(t)||0,g(n)&&(u=!!n.leading,a=(d="maxWait"in n)?p(y(n.maxWait)||0,t):a,h="trailing"in n?!!n.trailing:h),_.cancel=function(){void 0!==o&&clearTimeout(o),c=0,r=l=i=o=void 0},_.flush=function(){return void 0===o?s:x(m())},_}},469957,(e,t,n)=>{"use strict";var r=e.r(271645),i=e.r(174080);function a(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=Symbol.for("react.transitional.element"),o=Symbol.for("react.portal"),l=Symbol.for("react.fragment"),c=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),d=Symbol.for("react.consumer"),h=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),m=Symbol.for("react.suspense_list"),g=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),b=Symbol.for("react.scope"),v=Symbol.for("react.activity"),k=Symbol.for("react.legacy_hidden"),x=Symbol.for("react.memo_cache_sentinel"),_=Symbol.for("react.view_transition"),E=Symbol.iterator;function T(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=E&&e[E]||e["@@iterator"])?e:null}var S=Array.isArray;function w(e,t){var n=3&e.length,r=e.length-n,i=t;for(t=0;t<r;){var a=255&e.charCodeAt(t)|(255&e.charCodeAt(++t))<<8|(255&e.charCodeAt(++t))<<16|(255&e.charCodeAt(++t))<<24;++t,i^=a=0x1b873593*(65535&(a=(a=0xcc9e2d51*(65535&a)+((0xcc9e2d51*(a>>>16)&65535)<<16)|0)<<15|a>>>17))+((0x1b873593*(a>>>16)&65535)<<16)|0,i=(65535&(i=5*(65535&(i=i<<13|i>>>19))+((5*(i>>>16)&65535)<<16)|0))+27492+(((i>>>16)+58964&65535)<<16)}switch(a=0,n){case 3:a^=(255&e.charCodeAt(t+2))<<16;case 2:a^=(255&e.charCodeAt(t+1))<<8;case 1:a^=255&e.charCodeAt(t),i^=0x1b873593*(65535&(a=(a=0xcc9e2d51*(65535&a)+((0xcc9e2d51*(a>>>16)&65535)<<16)|0)<<15|a>>>17))+((0x1b873593*(a>>>16)&65535)<<16)}return i^=e.length,i^=i>>>16,i=0x85ebca6b*(65535&i)+((0x85ebca6b*(i>>>16)&65535)<<16)|0,i^=i>>>13,((i=0xc2b2ae35*(65535&i)+((0xc2b2ae35*(i>>>16)&65535)<<16)|0)^i>>>16)>>>0}var C=Object.assign,A=Object.prototype.hasOwnProperty,N=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),I={},D={};function M(e){return!!A.call(D,e)||!A.call(I,e)&&(N.test(e)?D[e]=!0:(I[e]=!0,!1))}var O=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" ")),R=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),P=/["'&<>]/;function L(e){if("boolean"==typeof e||"number"==typeof e||"bigint"==typeof e)return""+e;e=""+e;var t=P.exec(e);if(t){var n,r="",i=0;for(n=t.index;n<e.length;n++){switch(e.charCodeAt(n)){case 34:t="&quot;";break;case 38:t="&amp;";break;case 39:t="&#x27;";break;case 60:t="&lt;";break;case 62:t="&gt;";break;default:continue}i!==n&&(r+=e.slice(i,n)),i=n+1,r+=t}e=i!==n?r+e.slice(i,n):r}return e}var F=/([A-Z])/g,j=/^ms-/,B=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function H(e){return B.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var U=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,z=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,V={pending:!1,data:null,method:null,action:null},G=z.d;z.d={f:G.f,r:G.r,D:function(e){var t=tY||null;if(t){var n,r,i=t.resumableState,a=t.renderState;"string"==typeof e&&e&&(i.dnsResources.hasOwnProperty(e)||(i.dnsResources[e]=null,(r=(i=a.headers)&&0<i.remainingCapacity)&&(n="<"+(""+e).replace(eZ,e$)+">; rel=dns-prefetch",r=0<=(i.remainingCapacity-=n.length+2)),r?(a.resets.dns[e]=null,i.preconnects&&(i.preconnects+=", "),i.preconnects+=n):(eh(n=[],{href:e,rel:"dns-prefetch"}),a.preconnects.add(n))),nI(t))}else G.D(e)},C:function(e,t){var n=tY||null;if(n){var r=n.resumableState,i=n.renderState;if("string"==typeof e&&e){var a,s,o="use-credentials"===t?"credentials":"string"==typeof t?"anonymous":"default";r.connectResources[o].hasOwnProperty(e)||(r.connectResources[o][e]=null,(s=(r=i.headers)&&0<r.remainingCapacity)&&(s="<"+(""+e).replace(eZ,e$)+">; rel=preconnect","string"==typeof t&&(s+='; crossorigin="'+(""+t).replace(eW,eY)+'"'),a=s,s=0<=(r.remainingCapacity-=a.length+2)),s?(i.resets.connect[o][e]=null,r.preconnects&&(r.preconnects+=", "),r.preconnects+=a):(eh(o=[],{rel:"preconnect",href:e,crossOrigin:t}),i.preconnects.add(o))),nI(n)}}else G.C(e,t)},L:function(e,t,n){var r=tY||null;if(r){var i=r.resumableState,a=r.renderState;if(t&&e){switch(t){case"image":if(n)var s,o=n.imageSrcSet,l=n.imageSizes,c=n.fetchPriority;var u=o?o+"\n"+(l||""):e;if(i.imageResources.hasOwnProperty(u))return;i.imageResources[u]=q,(i=a.headers)&&0<i.remainingCapacity&&"string"!=typeof o&&"high"===c&&(s=eq(e,t,n),0<=(i.remainingCapacity-=s.length+2))?(a.resets.image[u]=q,i.highImagePreloads&&(i.highImagePreloads+=", "),i.highImagePreloads+=s):(eh(i=[],C({rel:"preload",href:o?void 0:e,as:t},n)),"high"===c?a.highImagePreloads.add(i):(a.bulkPreloads.add(i),a.preloads.images.set(u,i)));break;case"style":if(i.styleResources.hasOwnProperty(e))return;eh(o=[],C({rel:"preload",href:e,as:t},n)),i.styleResources[e]=n&&("string"==typeof n.crossOrigin||"string"==typeof n.integrity)?[n.crossOrigin,n.integrity]:q,a.preloads.stylesheets.set(e,o),a.bulkPreloads.add(o);break;case"script":if(i.scriptResources.hasOwnProperty(e))return;o=[],a.preloads.scripts.set(e,o),a.bulkPreloads.add(o),eh(o,C({rel:"preload",href:e,as:t},n)),i.scriptResources[e]=n&&("string"==typeof n.crossOrigin||"string"==typeof n.integrity)?[n.crossOrigin,n.integrity]:q;break;default:if(i.unknownResources.hasOwnProperty(t)){if((o=i.unknownResources[t]).hasOwnProperty(e))return}else o={},i.unknownResources[t]=o;o[e]=q,(i=a.headers)&&0<i.remainingCapacity&&"font"===t&&(u=eq(e,t,n),0<=(i.remainingCapacity-=u.length+2))?(a.resets.font[e]=q,i.fontPreloads&&(i.fontPreloads+=", "),i.fontPreloads+=u):(eh(i=[],e=C({rel:"preload",href:e,as:t},n)),"font"===t)?a.fontPreloads.add(i):a.bulkPreloads.add(i)}nI(r)}}else G.L(e,t,n)},m:function(e,t){var n=tY||null;if(n){var r=n.resumableState,i=n.renderState;if(e){var a=t&&"string"==typeof t.as?t.as:"script";if("script"===a){if(r.moduleScriptResources.hasOwnProperty(e))return;a=[],r.moduleScriptResources[e]=t&&("string"==typeof t.crossOrigin||"string"==typeof t.integrity)?[t.crossOrigin,t.integrity]:q,i.preloads.moduleScripts.set(e,a)}else{if(r.moduleUnknownResources.hasOwnProperty(a)){var s=r.unknownResources[a];if(s.hasOwnProperty(e))return}else s={},r.moduleUnknownResources[a]=s;a=[],s[e]=q}eh(a,C({rel:"modulepreload",href:e},t)),i.bulkPreloads.add(a),nI(n)}}else G.m(e,t)},X:function(e,t){var n=tY||null;if(n){var r=n.resumableState,i=n.renderState;if(e){var a=r.scriptResources.hasOwnProperty(e)?r.scriptResources[e]:void 0;null!==a&&(r.scriptResources[e]=null,t=C({src:e,async:!0},t),a&&(2===a.length&&eG(t,a),e=i.preloads.scripts.get(e))&&(e.length=0),e=[],i.scripts.add(e),ey(e,t),nI(n))}}else G.X(e,t)},S:function(e,t,n){var r=tY||null;if(r){var i=r.resumableState,a=r.renderState;if(e){t=t||"default";var s=a.styles.get(t),o=i.styleResources.hasOwnProperty(e)?i.styleResources[e]:void 0;null!==o&&(i.styleResources[e]=null,s||(s={precedence:L(t),rules:[],hrefs:[],sheets:new Map},a.styles.set(t,s)),t={state:0,props:C({rel:"stylesheet",href:e,"data-precedence":t},n)},o&&(2===o.length&&eG(t.props,o),(a=a.preloads.stylesheets.get(e))&&0<a.length?a.length=0:t.state=1),s.sheets.set(e,t),nI(r))}}else G.S(e,t,n)},M:function(e,t){var n=tY||null;if(n){var r=n.resumableState,i=n.renderState;if(e){var a=r.moduleScriptResources.hasOwnProperty(e)?r.moduleScriptResources[e]:void 0;null!==a&&(r.moduleScriptResources[e]=null,t=C({src:e,type:"module",async:!0},t),a&&(2===a.length&&eG(t,a),e=i.preloads.moduleScripts.get(e))&&(e.length=0),e=[],i.scripts.add(e),ey(e,t),nI(n))}}else G.M(e,t)}};var q=[],Z=null,$=/(<\/|<)(s)(cript)/gi;function W(e,t,n,r){return""+t+("s"===n?"\\u0073":"\\u0053")+r}function Y(e,t,n,r){return{insertionMode:e,selectedValue:t,tagScope:n,viewTransition:r}}function K(e,t,n){var r=-25&e.tagScope;switch(t){case"noscript":return Y(2,null,1|r,null);case"select":return Y(2,null!=n.value?n.value:n.defaultValue,r,null);case"svg":return Y(4,null,r,null);case"picture":return Y(2,null,2|r,null);case"math":return Y(5,null,r,null);case"foreignObject":return Y(2,null,r,null);case"table":return Y(6,null,r,null);case"thead":case"tbody":case"tfoot":return Y(7,null,r,null);case"colgroup":return Y(9,null,r,null);case"tr":return Y(8,null,r,null);case"head":if(2>e.insertionMode)return Y(3,null,r,null);break;case"html":if(0===e.insertionMode)return Y(1,null,r,null)}return 6<=e.insertionMode||2>e.insertionMode?Y(2,null,r,null):e.tagScope!==r?Y(e.insertionMode,e.selectedValue,r,null):e}function J(e){return null===e?null:{update:e.update,enter:"none",exit:"none",share:e.update,name:e.autoName,autoName:e.autoName,nameIdx:0}}function Q(e,t){return 32&t.tagScope&&(e.instructions|=128),Y(t.insertionMode,t.selectedValue,12|t.tagScope,J(t.viewTransition))}function X(e,t){return Y(t.insertionMode,t.selectedValue,16|t.tagScope,J(t.viewTransition))}var ee=new Map;function et(e,t){if("object"!=typeof t)throw Error(a(62));var n,r=!0;for(n in t)if(A.call(t,n)){var i=t[n];if(null!=i&&"boolean"!=typeof i&&""!==i){if(0===n.indexOf("--")){var s=L(n);i=L((""+i).trim())}else void 0===(s=ee.get(n))&&(s=L(n.replace(F,"-$1").toLowerCase().replace(j,"-ms-")),ee.set(n,s)),i="number"==typeof i?0===i||O.has(n)?""+i:i+"px":L((""+i).trim());r?(r=!1,e.push(' style="',s,":",i)):e.push(";",s,":",i)}}r||e.push('"')}function en(e,t,n){n&&"function"!=typeof n&&"symbol"!=typeof n&&e.push(" ",t,'=""')}function er(e,t,n){"function"!=typeof n&&"symbol"!=typeof n&&"boolean"!=typeof n&&e.push(" ",t,'="',L(n),'"')}var ei=L("javascript:throw new Error('React form unexpectedly submitted.')");function ea(e,t){this.push('<input type="hidden"'),es(e),er(this,"name",t),er(this,"value",e),this.push("/>")}function es(e){if("string"!=typeof e)throw Error(a(480))}function eo(e,t){if("function"==typeof t.$$FORM_ACTION){var n=e.nextFormID++;e=e.idPrefix+n;try{var r=t.$$FORM_ACTION(e);if(r){var i=r.data;null!=i&&i.forEach(es)}return r}catch(e){if("object"==typeof e&&null!==e&&"function"==typeof e.then)throw e}}return null}function el(e,t,n,r,i,a,s,o){var l=null;if("function"==typeof r){var c=eo(t,r);null!==c?(o=c.name,r=c.action||"",i=c.encType,a=c.method,s=c.target,l=c.data):(e.push(" ","formAction",'="',ei,'"'),s=a=i=r=o=null,ed(t,n))}return null!=o&&ec(e,"name",o),null!=r&&ec(e,"formAction",r),null!=i&&ec(e,"formEncType",i),null!=a&&ec(e,"formMethod",a),null!=s&&ec(e,"formTarget",s),l}function ec(e,t,n){switch(t){case"className":er(e,"class",n);break;case"tabIndex":er(e,"tabindex",n);break;case"dir":case"role":case"viewBox":case"width":case"height":er(e,t,n);break;case"style":et(e,n);break;case"src":case"href":if(""===n)break;case"action":case"formAction":if(null==n||"function"==typeof n||"symbol"==typeof n||"boolean"==typeof n)break;n=H(""+n),e.push(" ",t,'="',L(n),'"');break;case"defaultValue":case"defaultChecked":case"innerHTML":case"suppressContentEditableWarning":case"suppressHydrationWarning":case"ref":break;case"autoFocus":case"multiple":case"muted":en(e,t.toLowerCase(),n);break;case"xlinkHref":if("function"==typeof n||"symbol"==typeof n||"boolean"==typeof n)break;n=H(""+n),e.push(" ","xlink:href",'="',L(n),'"');break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":"function"!=typeof n&&"symbol"!=typeof n&&e.push(" ",t,'="',L(n),'"');break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":n&&"function"!=typeof n&&"symbol"!=typeof n&&e.push(" ",t,'=""');break;case"capture":case"download":!0===n?e.push(" ",t,'=""'):!1!==n&&"function"!=typeof n&&"symbol"!=typeof n&&e.push(" ",t,'="',L(n),'"');break;case"cols":case"rows":case"size":case"span":"function"!=typeof n&&"symbol"!=typeof n&&!isNaN(n)&&1<=n&&e.push(" ",t,'="',L(n),'"');break;case"rowSpan":case"start":"function"==typeof n||"symbol"==typeof n||isNaN(n)||e.push(" ",t,'="',L(n),'"');break;case"xlinkActuate":er(e,"xlink:actuate",n);break;case"xlinkArcrole":er(e,"xlink:arcrole",n);break;case"xlinkRole":er(e,"xlink:role",n);break;case"xlinkShow":er(e,"xlink:show",n);break;case"xlinkTitle":er(e,"xlink:title",n);break;case"xlinkType":er(e,"xlink:type",n);break;case"xmlBase":er(e,"xml:base",n);break;case"xmlLang":er(e,"xml:lang",n);break;case"xmlSpace":er(e,"xml:space",n);break;default:if((!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&M(t=R.get(t)||t)){switch(typeof n){case"function":case"symbol":return;case"boolean":var r=t.toLowerCase().slice(0,5);if("data-"!==r&&"aria-"!==r)return}e.push(" ",t,'="',L(n),'"')}}}function eu(e,t,n){if(null!=t){if(null!=n)throw Error(a(60));if("object"!=typeof t||!("__html"in t))throw Error(a(61));null!=(t=t.__html)&&e.push(""+t)}}function ed(e,t){if(0==(16&e.instructions)){e.instructions|=16;var n=t.preamble,r=t.bootstrapChunks;(n.htmlChunks||n.headChunks)&&0===r.length?(r.push(t.startInlineScript),ez(r,e),r.push(">",'addEventListener("submit",function(a){if(!a.defaultPrevented){var c=a.target,d=a.submitter,e=c.action,b=d;if(d){var f=d.getAttribute("formAction");null!=f&&(e=f,b=null)}"javascript:throw new Error(\'React form unexpectedly submitted.\')"===e&&(a.preventDefault(),b?(a=document.createElement("input"),a.name=b.name,a.value=b.value,b.parentNode.insertBefore(a,b),b=new FormData(c),a.parentNode.removeChild(a)):b=new FormData(c),a=c.ownerDocument||c,(a.$$reactFormReplay=a.$$reactFormReplay||[]).push(c,d,b))}});',"</script>")):r.unshift(t.startInlineScript,">",'addEventListener("submit",function(a){if(!a.defaultPrevented){var c=a.target,d=a.submitter,e=c.action,b=d;if(d){var f=d.getAttribute("formAction");null!=f&&(e=f,b=null)}"javascript:throw new Error(\'React form unexpectedly submitted.\')"===e&&(a.preventDefault(),b?(a=document.createElement("input"),a.name=b.name,a.value=b.value,b.parentNode.insertBefore(a,b),b=new FormData(c),a.parentNode.removeChild(a)):b=new FormData(c),a=c.ownerDocument||c,(a.$$reactFormReplay=a.$$reactFormReplay||[]).push(c,d,b))}});',"</script>")}}function eh(e,t){for(var n in e.push(e_("link")),t)if(A.call(t,n)){var r=t[n];if(null!=r)switch(n){case"children":case"dangerouslySetInnerHTML":throw Error(a(399,"link"));default:ec(e,n,r)}}return e.push("/>"),null}var ep=/(<\/|<)(s)(tyle)/gi;function ef(e,t,n,r){return""+t+("s"===n?"\\73 ":"\\53 ")+r}function em(e,t,n){for(var r in e.push(e_(n)),t)if(A.call(t,r)){var i=t[r];if(null!=i)switch(r){case"children":case"dangerouslySetInnerHTML":throw Error(a(399,n));default:ec(e,r,i)}}return e.push("/>"),null}function eg(e,t){e.push(e_("title"));var n,r=null,i=null;for(n in t)if(A.call(t,n)){var a=t[n];if(null!=a)switch(n){case"children":r=a;break;case"dangerouslySetInnerHTML":i=a;break;default:ec(e,n,a)}}return e.push(">"),"function"!=typeof(t=Array.isArray(r)?2>r.length?r[0]:null:r)&&"symbol"!=typeof t&&null!=t&&e.push(L(""+t)),eu(e,i,r),e.push(eT("title")),null}function ey(e,t){e.push(e_("script"));var n,r=null,i=null;for(n in t)if(A.call(t,n)){var a=t[n];if(null!=a)switch(n){case"children":r=a;break;case"dangerouslySetInnerHTML":i=a;break;default:ec(e,n,a)}}return e.push(">"),eu(e,i,r),"string"==typeof r&&e.push((""+r).replace($,W)),e.push(eT("script")),null}function eb(e,t,n){e.push(e_(n));var r,i=n=null;for(r in t)if(A.call(t,r)){var a=t[r];if(null!=a)switch(r){case"children":n=a;break;case"dangerouslySetInnerHTML":i=a;break;default:ec(e,r,a)}}return e.push(">"),eu(e,i,n),n}function ev(e,t,n){e.push(e_(n));var r,i=n=null;for(r in t)if(A.call(t,r)){var a=t[r];if(null!=a)switch(r){case"children":n=a;break;case"dangerouslySetInnerHTML":i=a;break;default:ec(e,r,a)}}return e.push(">"),eu(e,i,n),"string"==typeof n?(e.push(L(n)),null):n}var ek=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,ex=new Map;function e_(e){var t=ex.get(e);if(void 0===t){if(!ek.test(e))throw Error(a(65,e));t="<"+e,ex.set(e,t)}return t}var eE=new Map;function eT(e){var t=eE.get(e);return void 0===t&&(t="</"+e+">",eE.set(e,t)),t}function eS(e,t){null===(e=e.preamble).htmlChunks&&t.htmlChunks&&(e.htmlChunks=t.htmlChunks),null===e.headChunks&&t.headChunks&&(e.headChunks=t.headChunks),null===e.bodyChunks&&t.bodyChunks&&(e.bodyChunks=t.bodyChunks)}function ew(e,t){t=t.bootstrapChunks;for(var n=0;n<t.length-1;n++)e.push(t[n]);return!(n<t.length)||(n=t[n],t.length=0,e.push(n))}function eC(e,t,n){if(e.push('<!--$?--><template id="'),null===n)throw Error(a(395));return e.push(t.boundaryPrefix),t=n.toString(16),e.push(t),e.push('"></template>')}var eA=/[<\u2028\u2029]/g,eN=/[&><\u2028\u2029]/g;function eI(e){return JSON.stringify(e).replace(eN,function(e){switch(e){case"&":return"\\u0026";case">":return"\\u003e";case"<":return"\\u003c";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw Error("escapeJSObjectForInstructionScripts encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}})}var eD=!1,eM=!0;function eO(e){var t=e.rules,n=e.hrefs,r=0;if(n.length){for(this.push(Z.startInlineStyle),this.push(' media="not all" data-precedence="'),this.push(e.precedence),this.push('" data-href="');r<n.length-1;r++)this.push(n[r]),this.push(" ");for(this.push(n[r]),this.push('">'),r=0;r<t.length;r++)this.push(t[r]);eM=this.push("</style>"),eD=!0,t.length=0,n.length=0}}function eR(e){return 2!==e.state&&(eD=!0)}function eP(e,t,n){return eD=!1,eM=!0,Z=n,t.styles.forEach(eO,e),Z=null,t.stylesheets.forEach(eR),eD&&(n.stylesToHoist=!0),eM}function eL(e){for(var t=0;t<e.length;t++)this.push(e[t]);e.length=0}var eF=[];function ej(e){eh(eF,e.props);for(var t=0;t<eF.length;t++)this.push(eF[t]);eF.length=0,e.state=2}function eB(e){var t=0<e.sheets.size;e.sheets.forEach(ej,this),e.sheets.clear();var n=e.rules,r=e.hrefs;if(!t||r.length){if(this.push(Z.startInlineStyle),this.push(' data-precedence="'),this.push(e.precedence),e=0,r.length){for(this.push('" data-href="');e<r.length-1;e++)this.push(r[e]),this.push(" ");this.push(r[e])}for(this.push('">'),e=0;e<n.length;e++)this.push(n[e]);this.push("</style>"),n.length=0,r.length=0}}function eH(e){if(0===e.state){e.state=1;var t=e.props;for(eh(eF,{rel:"preload",as:"style",href:e.props.href,crossOrigin:t.crossOrigin,fetchPriority:t.fetchPriority,integrity:t.integrity,media:t.media,hrefLang:t.hrefLang,referrerPolicy:t.referrerPolicy}),e=0;e<eF.length;e++)this.push(eF[e]);eF.length=0}}function eU(e){e.sheets.forEach(eH,this),e.sheets.clear()}function ez(e,t){0==(32&t.instructions)&&(t.instructions|=32,e.push(' id="',L("_"+t.idPrefix+"R_"),'"'))}function eV(){return{styles:new Set,stylesheets:new Set}}function eG(e,t){null==e.crossOrigin&&(e.crossOrigin=t[0]),null==e.integrity&&(e.integrity=t[1])}function eq(e,t,n){for(var r in t="<"+(e=(""+e).replace(eZ,e$))+'>; rel=preload; as="'+(t=(""+t).replace(eW,eY))+'"',n)A.call(n,r)&&"string"==typeof(e=n[r])&&(t+="; "+r.toLowerCase()+'="'+(""+e).replace(eW,eY)+'"');return t}var eZ=/[<>\r\n]/g;function e$(e){switch(e){case"<":return"%3C";case">":return"%3E";case"\n":return"%0A";case"\r":return"%0D";default:throw Error("escapeLinkHrefForHeaderContextReplacer encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}}var eW=/["';,\r\n]/g;function eY(e){switch(e){case'"':return"%22";case"'":return"%27";case";":return"%3B";case",":return"%2C";case"\n":return"%0A";case"\r":return"%0D";default:throw Error("escapeStringForLinkHeaderQuotedParamValueContextReplacer encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}}function eK(e){this.styles.add(e)}function eJ(e){this.stylesheets.add(e)}function eQ(e,t){t.styles.forEach(eK,e),t.stylesheets.forEach(eJ,e)}function eX(e,t,n,r){return n.generateStaticMarkup?(e.push(L(t)),!1):(""===t?e=r:(r&&e.push("<!-- -->"),e.push(L(t)),e=!0),e)}function e0(e,t,n,r){t.generateStaticMarkup||n&&r&&e.push("<!-- -->")}var e1=Function.prototype.bind,e2=Symbol.for("react.client.reference");function e5(e){if(null==e)return null;if("function"==typeof e)return e.$$typeof===e2?null:e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case l:return"Fragment";case u:return"Profiler";case c:return"StrictMode";case f:return"Suspense";case m:return"SuspenseList";case v:return"Activity"}if("object"==typeof e)switch(e.$$typeof){case o:return"Portal";case h:return e.displayName||"Context";case d:return(e._context.displayName||"Context")+".Consumer";case p:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case g:return null!==(t=e.displayName||null)?t:e5(e.type)||"Memo";case y:t=e._payload,e=e._init;try{return e5(e(t))}catch(e){}}return null}var e3={},e4=null;function e6(e,t){if(e!==t){e.context._currentValue2=e.parentValue,e=e.parent;var n=t.parent;if(null===e){if(null!==n)throw Error(a(401))}else{if(null===n)throw Error(a(401));e6(e,n)}t.context._currentValue2=t.value}}function e9(e){var t=e4;t!==e&&(null===t?function e(t){var n=t.parent;null!==n&&e(n),t.context._currentValue2=t.value}(e):null===e?function e(t){t.context._currentValue2=t.parentValue,null!==(t=t.parent)&&e(t)}(t):t.depth===e.depth?e6(t,e):t.depth>e.depth?function e(t,n){if(t.context._currentValue2=t.parentValue,null===(t=t.parent))throw Error(a(402));t.depth===n.depth?e6(t,n):e(t,n)}(t,e):function e(t,n){var r=n.parent;if(null===r)throw Error(a(402));t.depth===r.depth?e6(t,r):e(t,r),n.context._currentValue2=n.value}(t,e),e4=e)}var e8={enqueueSetState:function(e,t){null!==(e=e._reactInternals).queue&&e.queue.push(t)},enqueueReplaceState:function(e,t){(e=e._reactInternals).replace=!0,e.queue=[t]},enqueueForceUpdate:function(){}},e7={id:1,overflow:""};function te(e,t,n){var r=e.id;e=e.overflow;var i=32-tt(r)-1;r&=~(1<<i),n+=1;var a=32-tt(t)+i;if(30<a){var s=i-i%5;return a=(r&(1<<s)-1).toString(32),r>>=s,i-=s,{id:1<<32-tt(t)+i|n<<i|r,overflow:a+e}}return{id:1<<a|n<<i|r,overflow:e}}var tt=Math.clz32?Math.clz32:function(e){return 0==(e>>>=0)?32:31-(tn(e)/tr|0)|0},tn=Math.log,tr=Math.LN2;function ti(){}var ta=Error(a(460)),ts=null;function to(){if(null===ts)throw Error(a(459));var e=ts;return ts=null,e}var tl="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},tc=null,tu=null,td=null,th=null,tp=null,tf=null,tm=!1,tg=!1,ty=0,tb=0,tv=-1,tk=0,tx=null,t_=null,tE=0;function tT(){if(null===tc)throw Error(a(321));return tc}function tS(){if(0<tE)throw Error(a(312));return{memoizedState:null,queue:null,next:null}}function tw(){return null===tf?null===tp?(tm=!1,tp=tf=tS()):(tm=!0,tf=tp):null===tf.next?(tm=!1,tf=tf.next=tS()):(tm=!0,tf=tf.next),tf}function tC(){var e=tx;return tx=null,e}function tA(){th=td=tu=tc=null,tg=!1,tp=null,tE=0,tf=t_=null}function tN(e,t){return"function"==typeof t?t(e):t}function tI(e,t,n){if(tc=tT(),tf=tw(),tm){var r=tf.queue;if(t=r.dispatch,null!==t_&&void 0!==(n=t_.get(r))){t_.delete(r),r=tf.memoizedState;do r=e(r,n.action),n=n.next;while(null!==n)return tf.memoizedState=r,[r,t]}return[tf.memoizedState,t]}return e=e===tN?"function"==typeof t?t():t:void 0!==n?n(t):t,tf.memoizedState=e,e=(e=tf.queue={last:null,dispatch:null}).dispatch=tM.bind(null,tc,e),[tf.memoizedState,e]}function tD(e,t){if(tc=tT(),tf=tw(),t=void 0===t?null:t,null!==tf){var n=tf.memoizedState;if(null!==n&&null!==t){var r=n[1];e:if(null===r)r=!1;else{for(var i=0;i<r.length&&i<t.length;i++)if(!tl(t[i],r[i])){r=!1;break e}r=!0}if(r)return n[0]}}return e=e(),tf.memoizedState=[e,t],e}function tM(e,t,n){if(25<=tE)throw Error(a(301));if(e===tc)if(tg=!0,e={action:n,next:null},null===t_&&(t_=new Map),void 0===(n=t_.get(t)))t_.set(t,e);else{for(t=n;null!==t.next;)t=t.next;t.next=e}}function tO(){throw Error(a(394))}function tR(){throw Error(a(479))}function tP(e,t,n){tT();var r=tb++,i=td;if("function"==typeof e.$$FORM_ACTION){var a=null,s=th;i=i.formState;var o=e.$$IS_SIGNATURE_EQUAL;if(null!==i&&"function"==typeof o){var l=i[1];o.call(e,i[2],i[3])&&l===(a=void 0!==n?"p"+n:"k"+w(JSON.stringify([s,null,r]),0))&&(tv=r,t=i[0])}var c=e.bind(null,t);return e=function(e){c(e)},"function"==typeof c.$$FORM_ACTION&&(e.$$FORM_ACTION=function(e){e=c.$$FORM_ACTION(e),void 0!==n&&(n+="",e.action=n);var t=e.data;return t&&(null===a&&(a=void 0!==n?"p"+n:"k"+w(JSON.stringify([s,null,r]),0)),t.append("$ACTION_KEY",a)),e}),[t,e,!1]}var u=e.bind(null,t);return[t,function(e){u(e)},!1]}function tL(e){var t=tk;tk+=1,null===tx&&(tx=[]);var n=tx,r=e,i=t;switch(void 0===(i=n[i])?n.push(r):i!==r&&(r.then(ti,ti),r=i),r.status){case"fulfilled":return r.value;case"rejected":throw r.reason;default:switch("string"==typeof r.status?r.then(ti,ti):((n=r).status="pending",n.then(function(e){if("pending"===r.status){var t=r;t.status="fulfilled",t.value=e}},function(e){if("pending"===r.status){var t=r;t.status="rejected",t.reason=e}})),r.status){case"fulfilled":return r.value;case"rejected":throw r.reason}throw ts=r,ta}}function tF(){throw Error(a(393))}var tj,tB,tH={readContext:function(e){return e._currentValue2},use:function(e){if(null!==e&&"object"==typeof e){if("function"==typeof e.then)return tL(e);if(e.$$typeof===h)return e._currentValue2}throw Error(a(438,String(e)))},useContext:function(e){return tT(),e._currentValue2},useMemo:tD,useReducer:tI,useRef:function(e){tc=tT();var t=(tf=tw()).memoizedState;return null===t?(e={current:e},tf.memoizedState=e):t},useState:function(e){return tI(tN,e)},useInsertionEffect:ti,useLayoutEffect:ti,useCallback:function(e,t){return tD(function(){return e},t)},useImperativeHandle:ti,useEffect:ti,useDebugValue:ti,useDeferredValue:function(e,t){return tT(),void 0!==t?t:e},useTransition:function(){return tT(),[!1,tO]},useId:function(){var e=tu.treeContext,t=e.overflow;e=((e=e.id)&~(1<<32-tt(e)-1)).toString(32)+t;var n=tU;if(null===n)throw Error(a(404));return t=ty++,e="_"+n.idPrefix+"R_"+e,0<t&&(e+="H"+t.toString(32)),e+"_"},useSyncExternalStore:function(e,t,n){if(void 0===n)throw Error(a(407));return n()},useOptimistic:function(e){return tT(),[e,tR]},useActionState:tP,useFormState:tP,useHostTransitionStatus:function(){return tT(),V},useMemoCache:function(e){for(var t=Array(e),n=0;n<e;n++)t[n]=x;return t},useCacheRefresh:function(){return tF}},tU=null,tz={getCacheForType:function(){throw Error(a(248))},cacheSignal:function(){throw Error(a(248))}};function tV(e){if(void 0===tj)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);tj=t&&t[1]||"",tB=-1<e.stack.indexOf("\n    at")?" (<anonymous>)":-1<e.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+tj+e+tB}var tG=!1;function tq(e,t){if(!e||tG)return"";tG=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(e){var r=e}Reflect.construct(e,[],n)}else{try{n.call()}catch(e){r=e}e.call(n.prototype)}}else{try{throw Error()}catch(e){r=e}(n=e())&&"function"==typeof n.catch&&n.catch(function(){})}}catch(e){if(e&&r&&"string"==typeof e.stack)return[e.stack,r.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var a=r.DetermineComponentFrameRoot(),s=a[0],o=a[1];if(s&&o){var l=s.split("\n"),c=o.split("\n");for(i=r=0;r<l.length&&!l[r].includes("DetermineComponentFrameRoot");)r++;for(;i<c.length&&!c[i].includes("DetermineComponentFrameRoot");)i++;if(r===l.length||i===c.length)for(r=l.length-1,i=c.length-1;1<=r&&0<=i&&l[r]!==c[i];)i--;for(;1<=r&&0<=i;r--,i--)if(l[r]!==c[i]){if(1!==r||1!==i)do if(r--,i--,0>i||l[r]!==c[i]){var u="\n"+l[r].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}while(1<=r&&0<=i)break}}}finally{tG=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?tV(n):""}function tZ(e,t){return 500<t.byteSize&&null===t.contentPreamble}function t$(e){if("object"==typeof e&&null!==e&&"string"==typeof e.environmentName){var t=e.environmentName;"string"==typeof(e=[e])[0]?e.splice(0,1,"[%s] "+e[0]," "+t+" "):e.splice(0,0,"[%s]"," "+t+" "),e.unshift(console),(t=e1.apply(console.error,e))()}else console.error(e);return null}function tW(e,t,n,r,i,a,s,o,l,c,u){var d=new Set;this.destination=null,this.flushScheduled=!1,this.resumableState=e,this.renderState=t,this.rootFormatContext=n,this.progressiveChunkSize=void 0===r?12800:r,this.status=10,this.fatalError=null,this.pendingRootTasks=this.allPendingTasks=this.nextSegmentId=0,this.completedPreambleSegments=this.completedRootSegment=null,this.byteSize=0,this.abortableTasks=d,this.pingedTasks=[],this.clientRenderedBoundaries=[],this.completedBoundaries=[],this.partialBoundaries=[],this.trackedPostpones=null,this.onError=void 0===i?t$:i,this.onPostpone=void 0===c?ti:c,this.onAllReady=void 0===a?ti:a,this.onShellReady=void 0===s?ti:s,this.onShellError=void 0===o?ti:o,this.onFatalError=void 0===l?ti:l,this.formState=void 0===u?null:u}var tY=null;function tK(e,t){e.pingedTasks.push(t),1===e.pingedTasks.length&&(e.flushScheduled=null!==e.destination,nv(e))}function tJ(e,t,n,r,i){return n={status:0,rootSegmentID:-1,parentFlushed:!1,pendingTasks:0,row:t,completedSegments:[],byteSize:0,fallbackAbortableTasks:n,errorDigest:null,contentState:eV(),fallbackState:eV(),contentPreamble:r,fallbackPreamble:i,trackedContentKeyPath:null,trackedFallbackNode:null},null!==t&&(t.pendingTasks++,null!==(r=t.boundaries)&&(e.allPendingTasks++,n.pendingTasks++,r.push(n)),null!==(e=t.inheritedHoistables)&&eQ(n.contentState,e)),n}function tQ(e,t,n,r,i,a,s,o,l,c,u,d,h,p,f){e.allPendingTasks++,null===i?e.pendingRootTasks++:i.pendingTasks++,null!==p&&p.pendingTasks++;var m={replay:null,node:n,childIndex:r,ping:function(){return tK(e,m)},blockedBoundary:i,blockedSegment:a,blockedPreamble:s,hoistableState:o,abortSet:l,keyPath:c,formatContext:u,context:d,treeContext:h,row:p,componentStack:f,thenableState:t};return l.add(m),m}function tX(e,t,n,r,i,a,s,o,l,c,u,d,h,p){e.allPendingTasks++,null===a?e.pendingRootTasks++:a.pendingTasks++,null!==h&&h.pendingTasks++,n.pendingTasks++;var f={replay:n,node:r,childIndex:i,ping:function(){return tK(e,f)},blockedBoundary:a,blockedSegment:null,blockedPreamble:null,hoistableState:s,abortSet:o,keyPath:l,formatContext:c,context:u,treeContext:d,row:h,componentStack:p,thenableState:t};return o.add(f),f}function t0(e,t,n,r,i,a){return{status:0,parentFlushed:!1,id:-1,index:t,chunks:[],children:[],preambleChildren:[],parentFormatContext:r,boundary:n,lastPushedText:i,textEmbedded:a}}function t1(e){var t=e.node;"object"==typeof t&&null!==t&&t.$$typeof===s&&(e.componentStack={parent:e.componentStack,type:t.type})}function t2(e){return null===e?null:{parent:e.parent,type:"Suspense Fallback"}}function t5(e){var t={};return e&&Object.defineProperty(t,"componentStack",{configurable:!0,enumerable:!0,get:function(){try{var n="",r=e;do n+=function e(t){if("string"==typeof t)return tV(t);if("function"==typeof t)return t.prototype&&t.prototype.isReactComponent?tq(t,!0):tq(t,!1);if("object"==typeof t&&null!==t){switch(t.$$typeof){case p:return tq(t.render,!1);case g:return tq(t.type,!1);case y:var n=t,r=n._payload;n=n._init;try{t=n(r)}catch(e){return tV("Lazy")}return e(t)}if("string"==typeof t.name){e:{r=t.name,n=t.env;var i=t.debugLocation;if(null!=i&&(t=Error.prepareStackTrace,Error.prepareStackTrace=void 0,i=i.stack,Error.prepareStackTrace=t,i.startsWith("Error: react-stack-top-frame\n")&&(i=i.slice(29)),-1!==(t=i.indexOf("\n"))&&(i=i.slice(t+1)),-1!==(t=i.indexOf("react_stack_bottom_frame"))&&(t=i.lastIndexOf("\n",t)),-1!==(t=-1===(i=(t=-1!==t?i=i.slice(0,t):"").lastIndexOf("\n"))?t:t.slice(i+1)).indexOf(r))){r="\n"+t;break e}r=tV(r+(n?" ["+n+"]":""))}return r}}switch(t){case m:return tV("SuspenseList");case f:return tV("Suspense")}return""}(r.type),r=r.parent;while(r)var i=n}catch(e){i="\nError generating stack: "+e.message+"\n"+e.stack}return Object.defineProperty(t,"componentStack",{value:i}),i}}),t}function t3(e,t,n){if(null==(t=(e=e.onError)(t,n))||"string"==typeof t)return t}function t4(e,t){var n=e.onShellError,r=e.onFatalError;n(t),r(t),null!==e.destination?(e.status=14,e.destination.destroy(t)):(e.status=13,e.fatalError=t)}function t6(e,t){t9(e,t.next,t.hoistables)}function t9(e,t,n){for(;null!==t;){null!==n&&(eQ(t.hoistables,n),t.inheritedHoistables=n);var r=t.boundaries;if(null!==r){t.boundaries=null;for(var i=0;i<r.length;i++){var a=r[i];null!==n&&eQ(a.contentState,n),nb(e,a,null,null)}}if(t.pendingTasks--,0<t.pendingTasks)break;n=t.hoistables,t=t.next}}function t8(e,t){var n=t.boundaries;if(null!==n&&t.pendingTasks===n.length){for(var r=!0,i=0;i<n.length;i++){var a=n[i];if(1!==a.pendingTasks||a.parentFlushed||tZ(e,a)){r=!1;break}}r&&t9(e,t,t.hoistables)}}function t7(e){var t={pendingTasks:1,boundaries:null,hoistables:eV(),inheritedHoistables:null,together:!1,next:null};return null!==e&&0<e.pendingTasks&&(t.pendingTasks++,t.boundaries=[],e.next=t),t}function ne(e,t,n,r,i){var a=t.keyPath,s=t.treeContext,o=t.row;t.keyPath=n,n=r.length;var l=null;if(null!==t.replay){var c=t.replay.slots;if(null!==c&&"object"==typeof c)for(var u=0;u<n;u++){var d="backwards"!==i&&"unstable_legacy-backwards"!==i?u:n-1-u,h=r[d];t.row=l=t7(l),t.treeContext=te(s,n,d);var p=c[d];"number"==typeof p?(ni(e,t,p,h,d),delete c[d]):nd(e,t,h,d),0==--l.pendingTasks&&t6(e,l)}else for(c=0;c<n;c++)d=r[u="backwards"!==i&&"unstable_legacy-backwards"!==i?c:n-1-c],t.row=l=t7(l),t.treeContext=te(s,n,u),nd(e,t,d,u),0==--l.pendingTasks&&t6(e,l)}else if("backwards"!==i&&"unstable_legacy-backwards"!==i)for(i=0;i<n;i++)c=r[i],t.row=l=t7(l),t.treeContext=te(s,n,i),nd(e,t,c,i),0==--l.pendingTasks&&t6(e,l);else{for(c=(i=t.blockedSegment).children.length,u=i.chunks.length,d=n-1;0<=d;d--){h=r[d],t.row=l=t7(l),t.treeContext=te(s,n,d),p=t0(e,u,null,t.formatContext,0!==d||i.lastPushedText,!0),i.children.splice(c,0,p),t.blockedSegment=p;try{nd(e,t,h,d),e0(p.chunks,e.renderState,p.lastPushedText,p.textEmbedded),p.status=1,0==--l.pendingTasks&&t6(e,l)}catch(t){throw p.status=12===e.status?3:4,t}}t.blockedSegment=i,i.lastPushedText=!1}null!==o&&null!==l&&0<l.pendingTasks&&(o.pendingTasks++,l.next=o),t.treeContext=s,t.row=o,t.keyPath=a}function nt(e,t,n,r,i,a){var s=t.thenableState;for(t.thenableState=null,tc={},tu=t,td=e,th=n,tb=ty=0,tv=-1,tk=0,tx=s,e=r(i,a);tg;)tg=!1,tb=ty=0,tv=-1,tk=0,tE+=1,tf=null,e=r(i,a);return tA(),e}function nn(e,t,n,r,i,a,s){var o=!1;if(0!==a&&null!==e.formState){var l=t.blockedSegment;if(null!==l){o=!0,l=l.chunks;for(var c=0;c<a;c++)c===s?l.push("<!--F!-->"):l.push("<!--F-->")}}a=t.keyPath,t.keyPath=n,i?(n=t.treeContext,t.treeContext=te(n,1,0),nd(e,t,r,-1),t.treeContext=n):o?nd(e,t,r,-1):na(e,t,r,-1),t.keyPath=a}function nr(e,t,n,i,s,o){if("function"==typeof i)if(i.prototype&&i.prototype.isReactComponent){var x=s;if("ref"in s)for(var E in x={},s)"ref"!==E&&(x[E]=s[E]);var w=i.defaultProps;if(w)for(var N in x===s&&(x=C({},x,s)),w)void 0===x[N]&&(x[N]=w[N]);s=x,x=e3,"object"==typeof(w=i.contextType)&&null!==w&&(x=w._currentValue2);var I=void 0!==(x=new i(s,x)).state?x.state:null;if(x.updater=e8,x.props=s,x.state=I,w={queue:[],replace:!1},x._reactInternals=w,o=i.contextType,x.context="object"==typeof o&&null!==o?o._currentValue2:e3,"function"==typeof(o=i.getDerivedStateFromProps)&&(I=null==(o=o(s,I))?I:C({},I,o),x.state=I),"function"!=typeof i.getDerivedStateFromProps&&"function"!=typeof x.getSnapshotBeforeUpdate&&("function"==typeof x.UNSAFE_componentWillMount||"function"==typeof x.componentWillMount))if(i=x.state,"function"==typeof x.componentWillMount&&x.componentWillMount(),"function"==typeof x.UNSAFE_componentWillMount&&x.UNSAFE_componentWillMount(),i!==x.state&&e8.enqueueReplaceState(x,x.state,null),null!==w.queue&&0<w.queue.length)if(i=w.queue,o=w.replace,w.queue=null,w.replace=!1,o&&1===i.length)x.state=i[0];else{for(w=o?i[0]:x.state,I=!0,o=+!!o;o<i.length;o++)null!=(N="function"==typeof(N=i[o])?N.call(x,w,s,void 0):N)&&(I?(I=!1,w=C({},w,N)):C(w,N));x.state=w}else w.queue=null;if(i=x.render(),12===e.status)throw null;s=t.keyPath,t.keyPath=n,na(e,t,i,-1),t.keyPath=s}else{if(i=nt(e,t,n,i,s,void 0),12===e.status)throw null;nn(e,t,n,i,0!==ty,tb,tv)}else if("string"==typeof i)if(null===(x=t.blockedSegment))x=s.children,w=t.formatContext,I=t.keyPath,t.formatContext=K(w,i,s),t.keyPath=n,nd(e,t,x,-1),t.formatContext=w,t.keyPath=I;else{if(I=function(e,t,n,i,s,o,l,c,u){switch(t){case"div":case"span":case"svg":case"path":case"g":case"p":case"li":case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":break;case"a":e.push(e_("a"));var d,h=null,p=null;for(d in n)if(A.call(n,d)){var f=n[d];if(null!=f)switch(d){case"children":h=f;break;case"dangerouslySetInnerHTML":p=f;break;case"href":""===f?er(e,"href",""):ec(e,d,f);break;default:ec(e,d,f)}}if(e.push(">"),eu(e,p,h),"string"==typeof h){e.push(L(h));var m=null}else m=h;return m;case"select":e.push(e_("select"));var g,y=null,b=null;for(g in n)if(A.call(n,g)){var v=n[g];if(null!=v)switch(g){case"children":y=v;break;case"dangerouslySetInnerHTML":b=v;break;case"defaultValue":case"value":break;default:ec(e,g,v)}}return e.push(">"),eu(e,b,y),y;case"option":var k=c.selectedValue;e.push(e_("option"));var x,_=null,E=null,T=null,w=null;for(x in n)if(A.call(n,x)){var N=n[x];if(null!=N)switch(x){case"children":_=N;break;case"selected":T=N;break;case"dangerouslySetInnerHTML":w=N;break;case"value":E=N;default:ec(e,x,N)}}if(null!=k){var I,D,O=null!==E?""+E:(I=_,D="",r.Children.forEach(I,function(e){null!=e&&(D+=e)}),D);if(S(k)){for(var R=0;R<k.length;R++)if(""+k[R]===O){e.push(' selected=""');break}}else""+k===O&&e.push(' selected=""')}else T&&e.push(' selected=""');return e.push(">"),eu(e,w,_),_;case"textarea":e.push(e_("textarea"));var P,F=null,j=null,B=null;for(P in n)if(A.call(n,P)){var U=n[P];if(null!=U)switch(P){case"children":B=U;break;case"value":F=U;break;case"defaultValue":j=U;break;case"dangerouslySetInnerHTML":throw Error(a(91));default:ec(e,P,U)}}if(null===F&&null!==j&&(F=j),e.push(">"),null!=B){if(null!=F)throw Error(a(92));if(S(B)){if(1<B.length)throw Error(a(93));F=""+B[0]}F=""+B}return"string"==typeof F&&"\n"===F[0]&&e.push("\n"),null!==F&&e.push(L(""+F)),null;case"input":e.push(e_("input"));var z,V=null,G=null,Z=null,$=null,W=null,Y=null,K=null,J=null,Q=null;for(z in n)if(A.call(n,z)){var X=n[z];if(null!=X)switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(a(399,"input"));case"name":V=X;break;case"formAction":G=X;break;case"formEncType":Z=X;break;case"formMethod":$=X;break;case"formTarget":W=X;break;case"defaultChecked":Q=X;break;case"defaultValue":K=X;break;case"checked":J=X;break;case"value":Y=X;break;default:ec(e,z,X)}}var ee=el(e,i,s,G,Z,$,W,V);return null!==J?en(e,"checked",J):null!==Q&&en(e,"checked",Q),null!==Y?ec(e,"value",Y):null!==K&&ec(e,"value",K),e.push("/>"),null!=ee&&ee.forEach(ea,e),null;case"button":e.push(e_("button"));var es,ek=null,ex=null,eE=null,eS=null,ew=null,eC=null,eA=null;for(es in n)if(A.call(n,es)){var eN=n[es];if(null!=eN)switch(es){case"children":ek=eN;break;case"dangerouslySetInnerHTML":ex=eN;break;case"name":eE=eN;break;case"formAction":eS=eN;break;case"formEncType":ew=eN;break;case"formMethod":eC=eN;break;case"formTarget":eA=eN;break;default:ec(e,es,eN)}}var eI=el(e,i,s,eS,ew,eC,eA,eE);if(e.push(">"),null!=eI&&eI.forEach(ea,e),eu(e,ex,ek),"string"==typeof ek){e.push(L(ek));var eD=null}else eD=ek;return eD;case"form":e.push(e_("form"));var eM,eO=null,eR=null,eP=null,eL=null,eF=null,ej=null;for(eM in n)if(A.call(n,eM)){var eB=n[eM];if(null!=eB)switch(eM){case"children":eO=eB;break;case"dangerouslySetInnerHTML":eR=eB;break;case"action":eP=eB;break;case"encType":eL=eB;break;case"method":eF=eB;break;case"target":ej=eB;break;default:ec(e,eM,eB)}}var eH=null,eU=null;if("function"==typeof eP){var ez=eo(i,eP);null!==ez?(eP=ez.action||"",eL=ez.encType,eF=ez.method,ej=ez.target,eH=ez.data,eU=ez.name):(e.push(" ","action",'="',ei,'"'),ej=eF=eL=eP=null,ed(i,s))}if(null!=eP&&ec(e,"action",eP),null!=eL&&ec(e,"encType",eL),null!=eF&&ec(e,"method",eF),null!=ej&&ec(e,"target",ej),e.push(">"),null!==eU&&(e.push('<input type="hidden"'),er(e,"name",eU),e.push("/>"),null!=eH&&eH.forEach(ea,e)),eu(e,eR,eO),"string"==typeof eO){e.push(L(eO));var eV=null}else eV=eO;return eV;case"menuitem":for(var eZ in e.push(e_("menuitem")),n)if(A.call(n,eZ)){var e$=n[eZ];if(null!=e$)switch(eZ){case"children":case"dangerouslySetInnerHTML":throw Error(a(400));default:ec(e,eZ,e$)}}return e.push(">"),null;case"object":e.push(e_("object"));var eW,eY=null,eK=null;for(eW in n)if(A.call(n,eW)){var eJ=n[eW];if(null!=eJ)switch(eW){case"children":eY=eJ;break;case"dangerouslySetInnerHTML":eK=eJ;break;case"data":var eQ=H(""+eJ);if(""===eQ)break;e.push(" ","data",'="',L(eQ),'"');break;default:ec(e,eW,eJ)}}if(e.push(">"),eu(e,eK,eY),"string"==typeof eY){e.push(L(eY));var eX=null}else eX=eY;return eX;case"title":var e0=1&c.tagScope,e1=4&c.tagScope;if(4===c.insertionMode||e0||null!=n.itemProp)var e2=eg(e,n);else e1?e2=null:(eg(s.hoistableChunks,n),e2=void 0);return e2;case"link":var e5=1&c.tagScope,e3=4&c.tagScope,e4=n.rel,e6=n.href,e9=n.precedence;if(4===c.insertionMode||e5||null!=n.itemProp||"string"!=typeof e4||"string"!=typeof e6||""===e6){eh(e,n);var e8=null}else if("stylesheet"===n.rel)if("string"!=typeof e9||null!=n.disabled||n.onLoad||n.onError)e8=eh(e,n);else{var e7=s.styles.get(e9),te=i.styleResources.hasOwnProperty(e6)?i.styleResources[e6]:void 0;if(null!==te){i.styleResources[e6]=null,e7||(e7={precedence:L(e9),rules:[],hrefs:[],sheets:new Map},s.styles.set(e9,e7));var tt={state:0,props:C({},n,{"data-precedence":n.precedence,precedence:null})};if(te){2===te.length&&eG(tt.props,te);var tn=s.preloads.stylesheets.get(e6);tn&&0<tn.length?tn.length=0:tt.state=1}e7.sheets.set(e6,tt),l&&l.stylesheets.add(tt)}else if(e7){var tr=e7.sheets.get(e6);tr&&l&&l.stylesheets.add(tr)}u&&e.push("<!-- -->"),e8=null}else n.onLoad||n.onError?e8=eh(e,n):(u&&e.push("<!-- -->"),e8=e3?null:eh(s.hoistableChunks,n));return e8;case"script":var ti=1&c.tagScope,ta=n.async;if("string"!=typeof n.src||!n.src||!ta||"function"==typeof ta||"symbol"==typeof ta||n.onLoad||n.onError||4===c.insertionMode||ti||null!=n.itemProp)var ts=ey(e,n);else{var to=n.src;if("module"===n.type)var tl=i.moduleScriptResources,tc=s.preloads.moduleScripts;else tl=i.scriptResources,tc=s.preloads.scripts;var tu=tl.hasOwnProperty(to)?tl[to]:void 0;if(null!==tu){tl[to]=null;var td=n;if(tu){2===tu.length&&eG(td=C({},n),tu);var th=tc.get(to);th&&(th.length=0)}var tp=[];s.scripts.add(tp),ey(tp,td)}u&&e.push("<!-- -->"),ts=null}return ts;case"style":var tf=1&c.tagScope,tm=n.precedence,tg=n.href,ty=n.nonce;if(4===c.insertionMode||tf||null!=n.itemProp||"string"!=typeof tm||"string"!=typeof tg||""===tg){e.push(e_("style"));var tb,tv=null,tk=null;for(tb in n)if(A.call(n,tb)){var tx=n[tb];if(null!=tx)switch(tb){case"children":tv=tx;break;case"dangerouslySetInnerHTML":tk=tx;break;default:ec(e,tb,tx)}}e.push(">");var t_=Array.isArray(tv)?2>tv.length?tv[0]:null:tv;"function"!=typeof t_&&"symbol"!=typeof t_&&null!=t_&&e.push((""+t_).replace(ep,ef)),eu(e,tk,tv),e.push(eT("style"));var tE=null}else{var tT=s.styles.get(tm);if(null!==(i.styleResources.hasOwnProperty(tg)?i.styleResources[tg]:void 0)){i.styleResources[tg]=null,tT||(tT={precedence:L(tm),rules:[],hrefs:[],sheets:new Map},s.styles.set(tm,tT));var tS=s.nonce.style;if(!tS||tS===ty){tT.hrefs.push(L(tg));var tw,tC=tT.rules,tA=null,tN=null;for(tw in n)if(A.call(n,tw)){var tI=n[tw];if(null!=tI)switch(tw){case"children":tA=tI;break;case"dangerouslySetInnerHTML":tN=tI}}var tD=Array.isArray(tA)?2>tA.length?tA[0]:null:tA;"function"!=typeof tD&&"symbol"!=typeof tD&&null!=tD&&tC.push((""+tD).replace(ep,ef)),eu(tC,tN,tA)}}tT&&l&&l.styles.add(tT),u&&e.push("<!-- -->"),tE=void 0}return tE;case"meta":var tM=1&c.tagScope,tO=4&c.tagScope;if(4===c.insertionMode||tM||null!=n.itemProp)var tR=em(e,n,"meta");else u&&e.push("<!-- -->"),tR=tO?null:"string"==typeof n.charSet?em(s.charsetChunks,n,"meta"):"viewport"===n.name?em(s.viewportChunks,n,"meta"):em(s.hoistableChunks,n,"meta");return tR;case"listing":case"pre":e.push(e_(t));var tP,tL=null,tF=null;for(tP in n)if(A.call(n,tP)){var tj=n[tP];if(null!=tj)switch(tP){case"children":tL=tj;break;case"dangerouslySetInnerHTML":tF=tj;break;default:ec(e,tP,tj)}}if(e.push(">"),null!=tF){if(null!=tL)throw Error(a(60));if("object"!=typeof tF||!("__html"in tF))throw Error(a(61));var tB=tF.__html;null!=tB&&("string"==typeof tB&&0<tB.length&&"\n"===tB[0]?e.push("\n",tB):e.push(""+tB))}return"string"==typeof tL&&"\n"===tL[0]&&e.push("\n"),tL;case"img":var tH=3&c.tagScope,tU=n.src,tz=n.srcSet;if(!("lazy"===n.loading||!tU&&!tz||"string"!=typeof tU&&null!=tU||"string"!=typeof tz&&null!=tz||"low"===n.fetchPriority||tH)&&("string"!=typeof tU||":"!==tU[4]||"d"!==tU[0]&&"D"!==tU[0]||"a"!==tU[1]&&"A"!==tU[1]||"t"!==tU[2]&&"T"!==tU[2]||"a"!==tU[3]&&"A"!==tU[3])&&("string"!=typeof tz||":"!==tz[4]||"d"!==tz[0]&&"D"!==tz[0]||"a"!==tz[1]&&"A"!==tz[1]||"t"!==tz[2]&&"T"!==tz[2]||"a"!==tz[3]&&"A"!==tz[3])){var tV="string"==typeof n.sizes?n.sizes:void 0,tG=tz?tz+"\n"+(tV||""):tU,tq=s.preloads.images,tZ=tq.get(tG);if(tZ)("high"===n.fetchPriority||10>s.highImagePreloads.size)&&(tq.delete(tG),s.highImagePreloads.add(tZ));else if(!i.imageResources.hasOwnProperty(tG)){i.imageResources[tG]=q;var t$,tW=n.crossOrigin,tY="string"==typeof tW?"use-credentials"===tW?tW:"":void 0,tK=s.headers;tK&&0<tK.remainingCapacity&&"string"!=typeof n.srcSet&&("high"===n.fetchPriority||500>tK.highImagePreloads.length)&&(t$=eq(tU,"image",{imageSrcSet:n.srcSet,imageSizes:n.sizes,crossOrigin:tY,integrity:n.integrity,nonce:n.nonce,type:n.type,fetchPriority:n.fetchPriority,referrerPolicy:n.refererPolicy}),0<=(tK.remainingCapacity-=t$.length+2))?(s.resets.image[tG]=q,tK.highImagePreloads&&(tK.highImagePreloads+=", "),tK.highImagePreloads+=t$):(eh(tZ=[],{rel:"preload",as:"image",href:tz?void 0:tU,imageSrcSet:tz,imageSizes:tV,crossOrigin:tY,integrity:n.integrity,type:n.type,fetchPriority:n.fetchPriority,referrerPolicy:n.referrerPolicy}),"high"===n.fetchPriority||10>s.highImagePreloads.size?s.highImagePreloads.add(tZ):(s.bulkPreloads.add(tZ),tq.set(tG,tZ)))}}return em(e,n,"img");case"base":case"area":case"br":case"col":case"embed":case"hr":case"keygen":case"param":case"source":case"track":case"wbr":return em(e,n,t);case"head":if(2>c.insertionMode){var tJ=o||s.preamble;if(tJ.headChunks)throw Error(a(545,"`<head>`"));null!==o&&e.push("<!--head-->"),tJ.headChunks=[];var tQ=eb(tJ.headChunks,n,"head")}else tQ=ev(e,n,"head");return tQ;case"body":if(2>c.insertionMode){var tX=o||s.preamble;if(tX.bodyChunks)throw Error(a(545,"`<body>`"));null!==o&&e.push("<!--body-->"),tX.bodyChunks=[];var t0=eb(tX.bodyChunks,n,"body")}else t0=ev(e,n,"body");return t0;case"html":if(0===c.insertionMode){var t1=o||s.preamble;if(t1.htmlChunks)throw Error(a(545,"`<html>`"));null!==o&&e.push("<!--html-->"),t1.htmlChunks=[""];var t2=eb(t1.htmlChunks,n,"html")}else t2=ev(e,n,"html");return t2;default:if(-1!==t.indexOf("-")){e.push(e_(t));var t5,t3=null,t4=null;for(t5 in n)if(A.call(n,t5)){var t6=n[t5];if(null!=t6){var t9=t5;switch(t5){case"children":t3=t6;break;case"dangerouslySetInnerHTML":t4=t6;break;case"style":et(e,t6);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"ref":break;case"className":t9="class";default:if(M(t5)&&"function"!=typeof t6&&"symbol"!=typeof t6&&!1!==t6){if(!0===t6)t6="";else if("object"==typeof t6)continue;e.push(" ",t9,'="',L(t6),'"')}}}}return e.push(">"),eu(e,t4,t3),t3}}return ev(e,n,t)}(x.chunks,i,s,e.resumableState,e.renderState,t.blockedPreamble,t.hoistableState,t.formatContext,x.lastPushedText),x.lastPushedText=!1,w=t.formatContext,o=t.keyPath,t.keyPath=n,3===(t.formatContext=K(w,i,s)).insertionMode){n=t0(e,0,null,t.formatContext,!1,!1),x.preambleChildren.push(n),t.blockedSegment=n;try{n.status=6,nd(e,t,I,-1),e0(n.chunks,e.renderState,n.lastPushedText,n.textEmbedded),n.status=1}finally{t.blockedSegment=x}}else nd(e,t,I,-1);t.formatContext=w,t.keyPath=o;e:{switch(t=x.chunks,e=e.resumableState,i){case"title":case"style":case"script":case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"input":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":break e;case"body":if(1>=w.insertionMode){e.hasBody=!0;break e}break;case"html":if(0===w.insertionMode){e.hasHtml=!0;break e}break;case"head":if(1>=w.insertionMode)break e}t.push(eT(i))}x.lastPushedText=!1}else{switch(i){case k:case c:case u:case l:i=t.keyPath,t.keyPath=n,na(e,t,s.children,-1),t.keyPath=i;return;case v:null===(i=t.blockedSegment)?"hidden"!==s.mode&&(i=t.keyPath,t.keyPath=n,nd(e,t,s.children,-1),t.keyPath=i):"hidden"!==s.mode&&(e.renderState.generateStaticMarkup||i.chunks.push("<!--&-->"),i.lastPushedText=!1,x=t.keyPath,t.keyPath=n,nd(e,t,s.children,-1),t.keyPath=x,e.renderState.generateStaticMarkup||i.chunks.push("<!--/&-->"),i.lastPushedText=!1);return;case m:e:{if(i=s.children,"forwards"===(s=s.revealOrder)||"backwards"===s||"unstable_legacy-backwards"===s){if(S(i)){ne(e,t,n,i,s);break e}if((x=T(i))&&(x=x.call(i))){if(!(w=x.next()).done){do w=x.next();while(!w.done)ne(e,t,n,i,s)}break e}}"together"===s?(s=t.keyPath,x=t.row,(w=t.row=t7(null)).boundaries=[],w.together=!0,t.keyPath=n,na(e,t,i,-1),0==--w.pendingTasks&&t6(e,w),t.keyPath=s,t.row=x,null!==x&&0<w.pendingTasks&&(x.pendingTasks++,w.next=x)):(s=t.keyPath,t.keyPath=n,na(e,t,i,-1),t.keyPath=s)}return;case _:case b:throw Error(a(343));case f:e:if(null!==t.replay){i=t.keyPath,x=t.formatContext,w=t.row,t.keyPath=n,t.formatContext=X(e.resumableState,x),t.row=null,n=s.children;try{nd(e,t,n,-1)}finally{t.keyPath=i,t.formatContext=x,t.row=w}}else{i=t.keyPath,o=t.formatContext;var D=t.row,O=t.blockedBoundary;N=t.blockedPreamble;var R=t.hoistableState;E=t.blockedSegment;var P=s.fallback;s=s.children;var F=new Set,j=tJ(e,t.row,F,null,null);null!==e.trackedPostpones&&(j.trackedContentKeyPath=n);var B=t0(e,E.chunks.length,j,t.formatContext,!1,!1);E.children.push(B),E.lastPushedText=!1;var U=t0(e,0,null,t.formatContext,!1,!1);if(U.parentFlushed=!0,null!==e.trackedPostpones){x=t.componentStack,I=[(w=[n[0],"Suspense Fallback",n[2]])[1],w[2],[],null],e.trackedPostpones.workingMap.set(w,I),j.trackedFallbackNode=I,t.blockedSegment=B,t.blockedPreamble=j.fallbackPreamble,t.keyPath=w,t.formatContext=Q(e.resumableState,o),t.componentStack=t2(x),B.status=6;try{nd(e,t,P,-1),e0(B.chunks,e.renderState,B.lastPushedText,B.textEmbedded),B.status=1}catch(t){throw B.status=12===e.status?3:4,t}finally{t.blockedSegment=E,t.blockedPreamble=N,t.keyPath=i,t.formatContext=o}t1(t=tQ(e,null,s,-1,j,U,j.contentPreamble,j.contentState,t.abortSet,n,X(e.resumableState,t.formatContext),t.context,t.treeContext,null,x)),e.pingedTasks.push(t)}else{t.blockedBoundary=j,t.blockedPreamble=j.contentPreamble,t.hoistableState=j.contentState,t.blockedSegment=U,t.keyPath=n,t.formatContext=X(e.resumableState,o),t.row=null,U.status=6;try{if(nd(e,t,s,-1),e0(U.chunks,e.renderState,U.lastPushedText,U.textEmbedded),U.status=1,ny(j,U),0===j.pendingTasks&&0===j.status){if(j.status=1,!tZ(e,j)){null!==D&&0==--D.pendingTasks&&t6(e,D),0===e.pendingRootTasks&&t.blockedPreamble&&n_(e);break e}}else null!==D&&D.together&&t8(e,D)}catch(n){j.status=4,12===e.status?(U.status=3,x=e.fatalError):(U.status=4,x=n),j.errorDigest=I=t3(e,x,w=t5(t.componentStack)),nl(e,j)}finally{t.blockedBoundary=O,t.blockedPreamble=N,t.hoistableState=R,t.blockedSegment=E,t.keyPath=i,t.formatContext=o,t.row=D}t1(t=tQ(e,null,P,-1,O,B,j.fallbackPreamble,j.fallbackState,F,[n[0],"Suspense Fallback",n[2]],Q(e.resumableState,t.formatContext),t.context,t.treeContext,t.row,t2(t.componentStack))),e.pingedTasks.push(t)}}return}if("object"==typeof i&&null!==i)switch(i.$$typeof){case p:if("ref"in s)for(P in x={},s)"ref"!==P&&(x[P]=s[P]);else x=s;i=nt(e,t,n,i.render,x,o),nn(e,t,n,i,0!==ty,tb,tv);return;case g:nr(e,t,n,i.type,s,o);return;case h:if(w=s.children,x=t.keyPath,s=s.value,I=i._currentValue2,i._currentValue2=s,e4=i={parent:o=e4,depth:null===o?0:o.depth+1,context:i,parentValue:I,value:s},t.context=i,t.keyPath=n,na(e,t,w,-1),null===(e=e4))throw Error(a(403));e.context._currentValue2=e.parentValue,e=e4=e.parent,t.context=e,t.keyPath=x;return;case d:i=(s=s.children)(i._context._currentValue2),s=t.keyPath,t.keyPath=n,na(e,t,i,-1),t.keyPath=s;return;case y:if(i=(x=i._init)(i._payload),12===e.status)throw null;nr(e,t,n,i,s,o);return}throw Error(a(130,null==i?i:typeof i,""))}}function ni(e,t,n,r,i){var a=t.replay,s=t.blockedBoundary,o=t0(e,0,null,t.formatContext,!1,!1);o.id=n,o.parentFlushed=!0;try{t.replay=null,t.blockedSegment=o,nd(e,t,r,i),o.status=1,null===s?e.completedRootSegment=o:(ny(s,o),s.parentFlushed&&e.partialBoundaries.push(s))}finally{t.replay=a,t.blockedSegment=null}}function na(e,t,n,r){null!==t.replay&&"number"==typeof t.replay.slots?ni(e,t,t.replay.slots,n,r):(t.node=n,t.childIndex=r,n=t.componentStack,t1(t),ns(e,t),t.componentStack=n)}function ns(e,t){var n=t.node,r=t.childIndex;if(null!==n){if("object"==typeof n){switch(n.$$typeof){case s:var i=n.type,l=n.key,c=n.props,u=void 0!==(n=c.ref)?n:null,d=e5(i),p=null==l?-1===r?0:r:l;if(l=[t.keyPath,d,p],null!==t.replay)e:{var m=t.replay;for(n=0,r=m.nodes;n<r.length;n++){var g=r[n];if(p===g[1]){if(4===g.length){if(null!==d&&d!==g[0])throw Error(a(490,g[0],d));var b=g[2];d=g[3],p=t.node,t.replay={nodes:b,slots:d,pendingTasks:1};try{if(nr(e,t,l,i,c,u),1===t.replay.pendingTasks&&0<t.replay.nodes.length)throw Error(a(488));t.replay.pendingTasks--}catch(a){if("object"==typeof a&&null!==a&&(a===ta||"function"==typeof a.then))throw t.node===p?t.replay=m:r.splice(n,1),a;t.replay.pendingTasks--,c=t5(t.componentStack),l=e,e=t.blockedBoundary,c=t3(l,i=a,c),np(l,e,b,d,i,c)}t.replay=m}else{if(i!==f)throw Error(a(490,"Suspense",e5(i)||"Unknown"));t:{m=void 0,i=g[5],u=g[2],d=g[3],p=null===g[4]?[]:g[4][2],g=null===g[4]?null:g[4][3];var v=t.keyPath,k=t.formatContext,x=t.row,_=t.replay,E=t.blockedBoundary,w=t.hoistableState,C=c.children,A=c.fallback,N=new Set;(c=tJ(e,t.row,N,null,null)).parentFlushed=!0,c.rootSegmentID=i,t.blockedBoundary=c,t.hoistableState=c.contentState,t.keyPath=l,t.formatContext=X(e.resumableState,k),t.row=null,t.replay={nodes:u,slots:d,pendingTasks:1};try{if(nd(e,t,C,-1),1===t.replay.pendingTasks&&0<t.replay.nodes.length)throw Error(a(488));if(t.replay.pendingTasks--,0===c.pendingTasks&&0===c.status){c.status=1,e.completedBoundaries.push(c);break t}}catch(n){c.status=4,m=t3(e,n,b=t5(t.componentStack)),c.errorDigest=m,t.replay.pendingTasks--,e.clientRenderedBoundaries.push(c)}finally{t.blockedBoundary=E,t.hoistableState=w,t.replay=_,t.keyPath=v,t.formatContext=k,t.row=x}t1(b=tX(e,null,{nodes:p,slots:g,pendingTasks:0},A,-1,E,c.fallbackState,N,[l[0],"Suspense Fallback",l[2]],Q(e.resumableState,t.formatContext),t.context,t.treeContext,t.row,t2(t.componentStack))),e.pingedTasks.push(b)}}r.splice(n,1);break e}}}else nr(e,t,l,i,c,u);return;case o:throw Error(a(257));case y:if(n=(b=n._init)(n._payload),12===e.status)throw null;na(e,t,n,r);return}if(S(n))return void no(e,t,n,r);if((b=T(n))&&(b=b.call(n))){if(!(n=b.next()).done){c=[];do c.push(n.value),n=b.next();while(!n.done)no(e,t,c,r)}return}if("function"==typeof n.then)return t.thenableState=null,na(e,t,tL(n),r);if(n.$$typeof===h)return na(e,t,n._currentValue2,r);throw Error(a(31,"[object Object]"===(r=Object.prototype.toString.call(n))?"object with keys {"+Object.keys(n).join(", ")+"}":r))}"string"==typeof n?null!==(r=t.blockedSegment)&&(r.lastPushedText=eX(r.chunks,n,e.renderState,r.lastPushedText)):("number"==typeof n||"bigint"==typeof n)&&null!==(r=t.blockedSegment)&&(r.lastPushedText=eX(r.chunks,""+n,e.renderState,r.lastPushedText))}}function no(e,t,n,r){var i=t.keyPath;if(-1!==r&&(t.keyPath=[t.keyPath,"Fragment",r],null!==t.replay)){for(var s=t.replay,o=s.nodes,l=0;l<o.length;l++){var c=o[l];if(c[1]===r){t.replay={nodes:r=c[2],slots:c=c[3],pendingTasks:1};try{if(no(e,t,n,-1),1===t.replay.pendingTasks&&0<t.replay.nodes.length)throw Error(a(488));t.replay.pendingTasks--}catch(i){if("object"==typeof i&&null!==i&&(i===ta||"function"==typeof i.then))throw i;t.replay.pendingTasks--,n=t5(t.componentStack);var u=t.blockedBoundary;n=t3(e,i,n),np(e,u,r,c,i,n)}t.replay=s,o.splice(l,1);break}}t.keyPath=i;return}if(s=t.treeContext,o=n.length,null!==t.replay&&null!==(l=t.replay.slots)&&"object"==typeof l){for(r=0;r<o;r++)c=n[r],t.treeContext=te(s,o,r),"number"==typeof(u=l[r])?(ni(e,t,u,c,r),delete l[r]):nd(e,t,c,r);t.treeContext=s,t.keyPath=i;return}for(l=0;l<o;l++)r=n[l],t.treeContext=te(s,o,l),nd(e,t,r,l);t.treeContext=s,t.keyPath=i}function nl(e,t){null!==(e=e.trackedPostpones)&&null!==(t=t.trackedContentKeyPath)&&void 0!==(t=e.workingMap.get(t))&&(t.length=4,t[2]=[],t[3]=null)}function nc(e,t,n){return tX(e,n,t.replay,t.node,t.childIndex,t.blockedBoundary,t.hoistableState,t.abortSet,t.keyPath,t.formatContext,t.context,t.treeContext,t.row,t.componentStack)}function nu(e,t,n){var r=t.blockedSegment,i=t0(e,r.chunks.length,null,t.formatContext,r.lastPushedText,!0);return r.children.push(i),r.lastPushedText=!1,tQ(e,n,t.node,t.childIndex,t.blockedBoundary,i,t.blockedPreamble,t.hoistableState,t.abortSet,t.keyPath,t.formatContext,t.context,t.treeContext,t.row,t.componentStack)}function nd(e,t,n,r){var i=t.formatContext,a=t.context,s=t.keyPath,o=t.treeContext,l=t.componentStack,c=t.blockedSegment;if(null===c){c=t.replay;try{return na(e,t,n,r)}catch(u){if(tA(),n=u===ta?to():u,12!==e.status&&"object"==typeof n&&null!==n){if("function"==typeof n.then){e=nc(e,t,r=u===ta?tC():null).ping,n.then(e,e),t.formatContext=i,t.context=a,t.keyPath=s,t.treeContext=o,t.componentStack=l,t.replay=c,e9(a);return}if("Maximum call stack size exceeded"===n.message){n=nc(e,t,n=u===ta?tC():null),e.pingedTasks.push(n),t.formatContext=i,t.context=a,t.keyPath=s,t.treeContext=o,t.componentStack=l,t.replay=c,e9(a);return}}}}else{var u=c.children.length,d=c.chunks.length;try{return na(e,t,n,r)}catch(r){if(tA(),c.children.length=u,c.chunks.length=d,n=r===ta?to():r,12!==e.status&&"object"==typeof n&&null!==n){if("function"==typeof n.then){c=n,e=nu(e,t,n=r===ta?tC():null).ping,c.then(e,e),t.formatContext=i,t.context=a,t.keyPath=s,t.treeContext=o,t.componentStack=l,e9(a);return}if("Maximum call stack size exceeded"===n.message){c=nu(e,t,c=r===ta?tC():null),e.pingedTasks.push(c),t.formatContext=i,t.context=a,t.keyPath=s,t.treeContext=o,t.componentStack=l,e9(a);return}}}}throw t.formatContext=i,t.context=a,t.keyPath=s,t.treeContext=o,e9(a),n}function nh(e){var t=e.blockedBoundary,n=e.blockedSegment;null!==n&&(n.status=3,nb(this,t,e.row,n))}function np(e,t,n,r,i,s){for(var o=0;o<n.length;o++){var l=n[o];if(4===l.length)np(e,t,l[2],l[3],i,s);else{l=l[5];var c=tJ(e,null,new Set,null,null);c.parentFlushed=!0,c.rootSegmentID=l,c.status=4,c.errorDigest=s,c.parentFlushed&&e.clientRenderedBoundaries.push(c)}}if(n.length=0,null!==r){if(null===t)throw Error(a(487));if(4!==t.status&&(t.status=4,t.errorDigest=s,t.parentFlushed&&e.clientRenderedBoundaries.push(t)),"object"==typeof r)for(var u in r)delete r[u]}}function nf(e,t){try{var n=e.renderState,r=n.onHeaders;if(r){var i=n.headers;if(i){n.headers=null;var a=i.preconnects;if(i.fontPreloads&&(a&&(a+=", "),a+=i.fontPreloads),i.highImagePreloads&&(a&&(a+=", "),a+=i.highImagePreloads),!t){var s=n.styles.values(),o=s.next();t:for(;0<i.remainingCapacity&&!o.done;o=s.next())for(var l=o.value.sheets.values(),c=l.next();0<i.remainingCapacity&&!c.done;c=l.next()){var u=c.value,d=u.props,h=d.href,p=u.props,f=eq(p.href,"style",{crossOrigin:p.crossOrigin,integrity:p.integrity,nonce:p.nonce,type:p.type,fetchPriority:p.fetchPriority,referrerPolicy:p.referrerPolicy,media:p.media});if(0<=(i.remainingCapacity-=f.length+2))n.resets.style[h]=q,a&&(a+=", "),a+=f,n.resets.style[h]="string"==typeof d.crossOrigin||"string"==typeof d.integrity?[d.crossOrigin,d.integrity]:q;else break t}}r(a?{Link:a}:{})}}}catch(t){t3(e,t,{})}}function nm(e){null===e.trackedPostpones&&nf(e,!0),null===e.trackedPostpones&&n_(e),e.onShellError=ti,(e=e.onShellReady)()}function ng(e){nf(e,null===e.trackedPostpones||null===e.completedRootSegment||5!==e.completedRootSegment.status),n_(e),(e=e.onAllReady)()}function ny(e,t){if(0===t.chunks.length&&1===t.children.length&&null===t.children[0].boundary&&-1===t.children[0].id){var n=t.children[0];n.id=t.id,n.parentFlushed=!0,1!==n.status&&3!==n.status&&4!==n.status||ny(e,n)}else e.completedSegments.push(t)}function nb(e,t,n,r){if(null!==n&&(0==--n.pendingTasks?t6(e,n):n.together&&t8(e,n)),e.allPendingTasks--,null===t){if(null!==r&&r.parentFlushed){if(null!==e.completedRootSegment)throw Error(a(389));e.completedRootSegment=r}e.pendingRootTasks--,0===e.pendingRootTasks&&nm(e)}else if(t.pendingTasks--,4!==t.status)if(0===t.pendingTasks){if(0===t.status&&(t.status=1),null!==r&&r.parentFlushed&&(1===r.status||3===r.status)&&ny(t,r),t.parentFlushed&&e.completedBoundaries.push(t),1===t.status)null!==(n=t.row)&&eQ(n.hoistables,t.contentState),tZ(e,t)||(t.fallbackAbortableTasks.forEach(nh,e),t.fallbackAbortableTasks.clear(),null!==n&&0==--n.pendingTasks&&t6(e,n)),0===e.pendingRootTasks&&null===e.trackedPostpones&&null!==t.contentPreamble&&n_(e);else if(5===t.status&&null!==(t=t.row)){if(null!==e.trackedPostpones){n=e.trackedPostpones;var i=t.next;if(null!==i&&null!==(r=i.boundaries))for(i.boundaries=null,i=0;i<r.length;i++){var s=r[i],o=e,l=n;if(s.status=5,s.rootSegmentID=o.nextSegmentId++,null===(o=s.trackedContentKeyPath))throw Error(a(486));var c=s.trackedFallbackNode,u=[],d=l.workingMap.get(o);void 0===d?(c=[o[1],o[2],u,null,c,s.rootSegmentID],l.workingMap.set(o,c),function e(t,n,r){if(null===n)r.rootNodes.push(t);else{var i=r.workingMap,a=i.get(n);void 0===a&&(a=[n[1],n[2],[],null],i.set(n,a),e(a,n[0],r)),a[2].push(t)}}(c,o[0],l)):(d[4]=c,d[5]=s.rootSegmentID),nb(e,s,null,null)}}0==--t.pendingTasks&&t6(e,t)}}else null===r||!r.parentFlushed||1!==r.status&&3!==r.status||(ny(t,r),1===t.completedSegments.length&&t.parentFlushed&&e.partialBoundaries.push(t)),null!==(t=t.row)&&t.together&&t8(e,t);0===e.allPendingTasks&&ng(e)}function nv(e){if(14!==e.status&&13!==e.status){var t=e4,n=U.H;U.H=tH;var r=U.A;U.A=tz;var i=tY;tY=e;var s=tU;tU=e.resumableState;try{var o,l=e.pingedTasks;for(o=0;o<l.length;o++){var c=l[o],u=e,d=c.blockedSegment;if(null===d){var h=u;if(0!==c.replay.pendingTasks){e9(c.context);try{if("number"==typeof c.replay.slots?ni(h,c,c.replay.slots,c.node,c.childIndex):ns(h,c),1===c.replay.pendingTasks&&0<c.replay.nodes.length)throw Error(a(488));c.replay.pendingTasks--,c.abortSet.delete(c),nb(h,c.blockedBoundary,c.row,null)}catch(e){tA();var p=e===ta?to():e;if("object"==typeof p&&null!==p&&"function"==typeof p.then){var f=c.ping;p.then(f,f),c.thenableState=e===ta?tC():null}else{c.replay.pendingTasks--,c.abortSet.delete(c);var m=t5(c.componentStack);u=void 0;var g=h,y=c.blockedBoundary,b=12===h.status?h.fatalError:p,v=c.replay.nodes,k=c.replay.slots;u=t3(g,b,m),np(g,y,v,k,b,u),h.pendingRootTasks--,0===h.pendingRootTasks&&nm(h),h.allPendingTasks--,0===h.allPendingTasks&&ng(h)}}finally{}}}else if(h=void 0,g=d,0===g.status){g.status=6,e9(c.context);var x=g.children.length,_=g.chunks.length;try{ns(u,c),e0(g.chunks,u.renderState,g.lastPushedText,g.textEmbedded),c.abortSet.delete(c),g.status=1,nb(u,c.blockedBoundary,c.row,g)}catch(e){tA(),g.children.length=x,g.chunks.length=_;var E=e===ta?to():12===u.status?u.fatalError:e;if("object"==typeof E&&null!==E&&"function"==typeof E.then){g.status=0,c.thenableState=e===ta?tC():null;var T=c.ping;E.then(T,T)}else{var S=t5(c.componentStack);c.abortSet.delete(c),g.status=4;var w=c.blockedBoundary,C=c.row;if(null!==C&&0==--C.pendingTasks&&t6(u,C),u.allPendingTasks--,h=t3(u,E,S),null===w)t4(u,E);else if(w.pendingTasks--,4!==w.status){w.status=4,w.errorDigest=h,nl(u,w);var A=w.row;null!==A&&0==--A.pendingTasks&&t6(u,A),w.parentFlushed&&u.clientRenderedBoundaries.push(w),0===u.pendingRootTasks&&null===u.trackedPostpones&&null!==w.contentPreamble&&n_(u)}0===u.allPendingTasks&&ng(u)}}finally{}}}l.splice(0,o),null!==e.destination&&nN(e,e.destination)}catch(t){t3(e,t,{}),t4(e,t)}finally{tU=s,U.H=n,U.A=r,n===tH&&e9(t),tY=i}}}function nk(e,t,n){t.preambleChildren.length&&n.push(t.preambleChildren);for(var r=!1,i=0;i<t.children.length;i++)r=nx(e,t.children[i],n)||r;return r}function nx(e,t,n){var r=t.boundary;if(null===r)return nk(e,t,n);var i=r.contentPreamble,s=r.fallbackPreamble;if(null===i||null===s)return!1;switch(r.status){case 1:if(eS(e.renderState,i),e.byteSize+=r.byteSize,!(t=r.completedSegments[0]))throw Error(a(391));return nk(e,t,n);case 5:if(null!==e.trackedPostpones)return!0;case 4:if(1===t.status)return eS(e.renderState,s),nk(e,t,n);default:return!0}}function n_(e){if(e.completedRootSegment&&null===e.completedPreambleSegments){var t=[],n=e.byteSize,r=nx(e,e.completedRootSegment,t),i=e.renderState.preamble;!1===r||i.headChunks&&i.bodyChunks?e.completedPreambleSegments=t:e.byteSize=n}}function nE(e,t,n,r){switch(n.parentFlushed=!0,n.status){case 0:n.id=e.nextSegmentId++;case 5:return r=n.id,n.lastPushedText=!1,n.textEmbedded=!1,e=e.renderState,t.push('<template id="'),t.push(e.placeholderPrefix),e=r.toString(16),t.push(e),t.push('"></template>');case 1:n.status=2;var i=!0,s=n.chunks,o=0;n=n.children;for(var l=0;l<n.length;l++){for(i=n[l];o<i.index;o++)t.push(s[o]);i=nS(e,t,i,r)}for(;o<s.length-1;o++)t.push(s[o]);return o<s.length&&(i=t.push(s[o])),i;case 3:return!0;default:throw Error(a(390))}}var nT=0;function nS(e,t,n,r){var i=n.boundary;if(null===i)return nE(e,t,n,r);if(i.parentFlushed=!0,4===i.status){var s=i.row;return null!==s&&0==--s.pendingTasks&&t6(e,s),e.renderState.generateStaticMarkup||(i=i.errorDigest,t.push("<!--$!-->"),t.push("<template"),i&&(t.push(' data-dgst="'),i=L(i),t.push(i),t.push('"')),t.push("></template>")),nE(e,t,n,r),e=!!e.renderState.generateStaticMarkup||t.push("<!--/$-->")}if(1!==i.status)return 0===i.status&&(i.rootSegmentID=e.nextSegmentId++),0<i.completedSegments.length&&e.partialBoundaries.push(i),eC(t,e.renderState,i.rootSegmentID),r&&eQ(r,i.fallbackState),nE(e,t,n,r),t.push("<!--/$-->");if(tZ(e,i)&&nT+i.byteSize>e.progressiveChunkSize)return i.rootSegmentID=e.nextSegmentId++,e.completedBoundaries.push(i),eC(t,e.renderState,i.rootSegmentID),nE(e,t,n,r),t.push("<!--/$-->");if(nT+=i.byteSize,r&&eQ(r,i.contentState),null!==(n=i.row)&&tZ(e,i)&&0==--n.pendingTasks&&t6(e,n),e.renderState.generateStaticMarkup||t.push("<!--$-->"),1!==(n=i.completedSegments).length)throw Error(a(391));return nS(e,t,n[0],r),e=!!e.renderState.generateStaticMarkup||t.push("<!--/$-->")}function nw(e,t,n,r){switch(!function(e,t,n,r){switch(n.insertionMode){case 0:case 1:case 3:case 2:return e.push('<div hidden id="'),e.push(t.segmentPrefix),t=r.toString(16),e.push(t),e.push('">');case 4:return e.push('<svg aria-hidden="true" style="display:none" id="'),e.push(t.segmentPrefix),t=r.toString(16),e.push(t),e.push('">');case 5:return e.push('<math aria-hidden="true" style="display:none" id="'),e.push(t.segmentPrefix),t=r.toString(16),e.push(t),e.push('">');case 6:return e.push('<table hidden id="'),e.push(t.segmentPrefix),t=r.toString(16),e.push(t),e.push('">');case 7:return e.push('<table hidden><tbody id="'),e.push(t.segmentPrefix),t=r.toString(16),e.push(t),e.push('">');case 8:return e.push('<table hidden><tr id="'),e.push(t.segmentPrefix),t=r.toString(16),e.push(t),e.push('">');case 9:return e.push('<table hidden><colgroup id="'),e.push(t.segmentPrefix),t=r.toString(16),e.push(t),e.push('">');default:throw Error(a(397))}}(t,e.renderState,n.parentFormatContext,n.id),nS(e,t,n,r),n.parentFormatContext.insertionMode){case 0:case 1:case 3:case 2:return t.push("</div>");case 4:return t.push("</svg>");case 5:return t.push("</math>");case 6:return t.push("</table>");case 7:return t.push("</tbody></table>");case 8:return t.push("</tr></table>");case 9:return t.push("</colgroup></table>");default:throw Error(a(397))}}function nC(e,t,n){nT=n.byteSize;for(var r,i,s=n.completedSegments,o=0;o<s.length;o++)nA(e,t,n,s[o]);s.length=0,null!==(s=n.row)&&tZ(e,n)&&0==--s.pendingTasks&&t6(e,s),eP(t,n.contentState,e.renderState),s=e.resumableState,e=e.renderState,o=n.rootSegmentID,n=n.contentState;var l=e.stylesToHoist;return e.stylesToHoist=!1,t.push(e.startInlineScript),t.push(">"),l?(0==(4&s.instructions)&&(s.instructions|=4,t.push('$RX=function(b,c,d,e,f){var a=document.getElementById(b);a&&(b=a.previousSibling,b.data="$!",a=a.dataset,c&&(a.dgst=c),d&&(a.msg=d),e&&(a.stck=e),f&&(a.cstck=f),b._reactRetry&&b._reactRetry())};')),0==(2&s.instructions)&&(s.instructions|=2,t.push('$RB=[];$RV=function(a){$RT=performance.now();for(var b=0;b<a.length;b+=2){var c=a[b],e=a[b+1];null!==e.parentNode&&e.parentNode.removeChild(e);var f=c.parentNode;if(f){var g=c.previousSibling,h=0;do{if(c&&8===c.nodeType){var d=c.data;if("/$"===d||"/&"===d)if(0===h)break;else h--;else"$"!==d&&"$?"!==d&&"$~"!==d&&"$!"!==d&&"&"!==d||h++}d=c.nextSibling;f.removeChild(c);c=d}while(c);for(;e.firstChild;)f.insertBefore(e.firstChild,c);g.data="$";g._reactRetry&&requestAnimationFrame(g._reactRetry)}}a.length=0};\n$RC=function(a,b){if(b=document.getElementById(b))(a=document.getElementById(a))?(a.previousSibling.data="$~",$RB.push(a,b),2===$RB.length&&("number"!==typeof $RT?requestAnimationFrame($RV.bind(null,$RB)):(a=performance.now(),setTimeout($RV.bind(null,$RB),2300>a&&2E3<a?2300-a:$RT+300-a)))):b.parentNode.removeChild(b)};')),0==(8&s.instructions)?(s.instructions|=8,t.push('$RM=new Map;$RR=function(n,w,p){function u(q){this._p=null;q()}for(var r=new Map,t=document,h,b,e=t.querySelectorAll("link[data-precedence],style[data-precedence]"),v=[],k=0;b=e[k++];)"not all"===b.getAttribute("media")?v.push(b):("LINK"===b.tagName&&$RM.set(b.getAttribute("href"),b),r.set(b.dataset.precedence,h=b));e=0;b=[];var l,a;for(k=!0;;){if(k){var f=p[e++];if(!f){k=!1;e=0;continue}var c=!1,m=0;var d=f[m++];if(a=$RM.get(d)){var g=a._p;c=!0}else{a=t.createElement("link");a.href=d;a.rel=\n"stylesheet";for(a.dataset.precedence=l=f[m++];g=f[m++];)a.setAttribute(g,f[m++]);g=a._p=new Promise(function(q,x){a.onload=u.bind(a,q);a.onerror=u.bind(a,x)});$RM.set(d,a)}d=a.getAttribute("media");!g||d&&!matchMedia(d).matches||b.push(g);if(c)continue}else{a=v[e++];if(!a)break;l=a.getAttribute("data-precedence");a.removeAttribute("media")}c=r.get(l)||h;c===h&&(h=a);r.set(l,a);c?c.parentNode.insertBefore(a,c.nextSibling):(c=t.head,c.insertBefore(a,c.firstChild))}if(p=document.getElementById(n))p.previousSibling.data=\n"$~";Promise.all(b).then($RC.bind(null,n,w),$RX.bind(null,n,"CSS failed to load"))};$RR("')):t.push('$RR("')):(0==(2&s.instructions)&&(s.instructions|=2,t.push('$RB=[];$RV=function(a){$RT=performance.now();for(var b=0;b<a.length;b+=2){var c=a[b],e=a[b+1];null!==e.parentNode&&e.parentNode.removeChild(e);var f=c.parentNode;if(f){var g=c.previousSibling,h=0;do{if(c&&8===c.nodeType){var d=c.data;if("/$"===d||"/&"===d)if(0===h)break;else h--;else"$"!==d&&"$?"!==d&&"$~"!==d&&"$!"!==d&&"&"!==d||h++}d=c.nextSibling;f.removeChild(c);c=d}while(c);for(;e.firstChild;)f.insertBefore(e.firstChild,c);g.data="$";g._reactRetry&&requestAnimationFrame(g._reactRetry)}}a.length=0};\n$RC=function(a,b){if(b=document.getElementById(b))(a=document.getElementById(a))?(a.previousSibling.data="$~",$RB.push(a,b),2===$RB.length&&("number"!==typeof $RT?requestAnimationFrame($RV.bind(null,$RB)):(a=performance.now(),setTimeout($RV.bind(null,$RB),2300>a&&2E3<a?2300-a:$RT+300-a)))):b.parentNode.removeChild(b)};')),t.push('$RC("')),s=o.toString(16),t.push(e.boundaryPrefix),t.push(s),t.push('","'),t.push(e.segmentPrefix),t.push(s),l?(t.push('",'),r=n,t.push("["),i="[",r.stylesheets.forEach(function(e){if(2!==e.state)if(3===e.state)t.push(i),e=eI(""+e.props.href),t.push(e),t.push("]"),i=",[";else{t.push(i);var n=e.props["data-precedence"],r=e.props,s=H(""+e.props.href);for(var o in s=eI(s),t.push(s),n=""+n,t.push(","),n=eI(n),t.push(n),r)if(A.call(r,o)&&null!=(n=r[o]))switch(o){case"href":case"rel":case"precedence":case"data-precedence":break;case"children":case"dangerouslySetInnerHTML":throw Error(a(399,"link"));default:!function(e,t,n){var r=t.toLowerCase();switch(typeof n){case"function":case"symbol":return}switch(t){case"innerHTML":case"dangerouslySetInnerHTML":case"suppressContentEditableWarning":case"suppressHydrationWarning":case"style":case"ref":return;case"className":r="class",t=""+n;break;case"hidden":if(!1===n)return;t="";break;case"src":case"href":t=""+(n=H(n));break;default:if(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])||!M(t))return;t=""+n}e.push(","),r=eI(r),e.push(r),e.push(","),r=eI(t),e.push(r)}(t,o,n)}t.push("]"),i=",[",e.state=3}}),t.push("]")):t.push('"'),n=t.push(")</script>"),ew(t,e)&&n}function nA(e,t,n,r){if(2===r.status)return!0;var i=n.contentState,s=r.id;if(-1===s){if(-1===(r.id=n.rootSegmentID))throw Error(a(392));return nw(e,t,r,i)}return s===n.rootSegmentID?nw(e,t,r,i):(nw(e,t,r,i),n=e.resumableState,e=e.renderState,t.push(e.startInlineScript),t.push(">"),0==(1&n.instructions)?(n.instructions|=1,t.push('$RS=function(a,b){a=document.getElementById(a);b=document.getElementById(b);for(a.parentNode.removeChild(a);a.firstChild;)b.parentNode.insertBefore(a.firstChild,b);b.parentNode.removeChild(b)};$RS("')):t.push('$RS("'),t.push(e.segmentPrefix),s=s.toString(16),t.push(s),t.push('","'),t.push(e.placeholderPrefix),t.push(s),t=t.push('")</script>'))}function nN(e,t){try{if(!(0<e.pendingRootTasks)){var n,r=e.completedRootSegment;if(null!==r){if(5===r.status)return;var i=e.completedPreambleSegments;if(null===i)return;nT=e.byteSize;var a,s=e.resumableState,o=e.renderState,l=o.preamble,c=l.htmlChunks,u=l.headChunks;if(c){for(a=0;a<c.length;a++)t.push(c[a]);if(u)for(a=0;a<u.length;a++)t.push(u[a]);else{var d=e_("head");t.push(d),t.push(">")}}else if(u)for(a=0;a<u.length;a++)t.push(u[a]);var h=o.charsetChunks;for(a=0;a<h.length;a++)t.push(h[a]);h.length=0,o.preconnects.forEach(eL,t),o.preconnects.clear();var p=o.viewportChunks;for(a=0;a<p.length;a++)t.push(p[a]);p.length=0,o.fontPreloads.forEach(eL,t),o.fontPreloads.clear(),o.highImagePreloads.forEach(eL,t),o.highImagePreloads.clear(),Z=o,o.styles.forEach(eB,t),Z=null;var f=o.importMapChunks;for(a=0;a<f.length;a++)t.push(f[a]);f.length=0,o.bootstrapScripts.forEach(eL,t),o.scripts.forEach(eL,t),o.scripts.clear(),o.bulkPreloads.forEach(eL,t),o.bulkPreloads.clear(),s.instructions|=32;var m=o.hoistableChunks;for(a=0;a<m.length;a++)t.push(m[a]);for(s=m.length=0;s<i.length;s++){var g=i[s];for(o=0;o<g.length;o++)nS(e,t,g[o],null)}var y=e.renderState.preamble,b=y.headChunks;if(y.htmlChunks||b){var v=eT("head");t.push(v)}var k=y.bodyChunks;if(k)for(i=0;i<k.length;i++)t.push(k[i]);nS(e,t,r,null),e.completedRootSegment=null;var x=e.renderState;if(0!==e.allPendingTasks||0!==e.clientRenderedBoundaries.length||0!==e.completedBoundaries.length||null!==e.trackedPostpones&&(0!==e.trackedPostpones.rootNodes.length||null!==e.trackedPostpones.rootSlots)){var _=e.resumableState;if(0==(64&_.instructions)){if(_.instructions|=64,t.push(x.startInlineScript),0==(32&_.instructions)){_.instructions|=32;var E="_"+_.idPrefix+"R_";t.push(' id="');var T=L(E);t.push(T),t.push('"')}t.push(">"),t.push("requestAnimationFrame(function(){$RT=performance.now()});"),t.push("</script>")}}ew(t,x)}var S=e.renderState;r=0;var w=S.viewportChunks;for(r=0;r<w.length;r++)t.push(w[r]);w.length=0,S.preconnects.forEach(eL,t),S.preconnects.clear(),S.fontPreloads.forEach(eL,t),S.fontPreloads.clear(),S.highImagePreloads.forEach(eL,t),S.highImagePreloads.clear(),S.styles.forEach(eU,t),S.scripts.forEach(eL,t),S.scripts.clear(),S.bulkPreloads.forEach(eL,t),S.bulkPreloads.clear();var C=S.hoistableChunks;for(r=0;r<C.length;r++)t.push(C[r]);C.length=0;var A=e.clientRenderedBoundaries;for(n=0;n<A.length;n++){var N=A[n];S=t;var I=e.resumableState,D=e.renderState,M=N.rootSegmentID,O=N.errorDigest;S.push(D.startInlineScript),S.push(">"),0==(4&I.instructions)?(I.instructions|=4,S.push('$RX=function(b,c,d,e,f){var a=document.getElementById(b);a&&(b=a.previousSibling,b.data="$!",a=a.dataset,c&&(a.dgst=c),d&&(a.msg=d),e&&(a.stck=e),f&&(a.cstck=f),b._reactRetry&&b._reactRetry())};;$RX("')):S.push('$RX("'),S.push(D.boundaryPrefix);var R=M.toString(16);if(S.push(R),S.push('"'),O){S.push(",");var P,F=(P=O||"",JSON.stringify(P).replace(eA,function(e){switch(e){case"<":return"\\u003c";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw Error("escapeJSStringsForInstructionScripts encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}}));S.push(F)}var j=S.push(")</script>");if(!j){e.destination=null,n++,A.splice(0,n);return}}A.splice(0,n);var B=e.completedBoundaries;for(n=0;n<B.length;n++)if(!nC(e,t,B[n])){e.destination=null,n++,B.splice(0,n);return}B.splice(0,n);var H=e.partialBoundaries;for(n=0;n<H.length;n++){var U=H[n];e:{A=e,N=t,nT=U.byteSize;var z=U.completedSegments;for(j=0;j<z.length;j++)if(!nA(A,N,U,z[j])){j++,z.splice(0,j);var V=!1;break e}z.splice(0,j);var G=U.row;null!==G&&G.together&&1===U.pendingTasks&&(1===G.pendingTasks?t9(A,G,G.hoistables):G.pendingTasks--),V=eP(N,U.contentState,A.renderState)}if(!V){e.destination=null,n++,H.splice(0,n);return}}H.splice(0,n);var q=e.completedBoundaries;for(n=0;n<q.length;n++)if(!nC(e,t,q[n])){e.destination=null,n++,q.splice(0,n);return}q.splice(0,n)}}finally{0===e.allPendingTasks&&0===e.clientRenderedBoundaries.length&&0===e.completedBoundaries.length&&(e.flushScheduled=!1,(n=e.resumableState).hasBody&&(H=eT("body"),t.push(H)),n.hasHtml&&(n=eT("html"),t.push(n)),e.status=14,t.push(null),e.destination=null)}}function nI(e){if(!1===e.flushScheduled&&0===e.pingedTasks.length&&null!==e.destination){e.flushScheduled=!0;var t=e.destination;t?nN(e,t):e.flushScheduled=!1}}function nD(){}function nM(e,t,n,r){var i,s,o,l,c,u=!1,d=null,h="",p=!1;t={idPrefix:void 0===(i=t?t.identifierPrefix:void 0)?"":i,nextFormID:0,streamingFormat:0,bootstrapScriptContent:void 0,bootstrapScripts:void 0,bootstrapModules:void 0,instructions:0,hasBody:!1,hasHtml:!1,unknownResources:{},dnsResources:{},connectResources:{default:{},anonymous:{},credentials:{}},imageResources:{},styleResources:{},scriptResources:{},moduleUnknownResources:{},moduleScriptResources:{}},s=e,o=t,l=function(e,t){var n=e.idPrefix,r=[],i=e.bootstrapScriptContent,a=e.bootstrapScripts,s=e.bootstrapModules;void 0!==i&&(r.push("<script"),ez(r,e),r.push(">",(""+i).replace($,W),"</script>")),i=n+"P:";var o=n+"S:";n+="B:";var l=new Set,c=new Set,u=new Set,d=new Map,h=new Set,p=new Set,f=new Set,m={images:new Map,stylesheets:new Map,scripts:new Map,moduleScripts:new Map};if(void 0!==a)for(var g=0;g<a.length;g++){var y,b=a[g],v=void 0,k=void 0,x={rel:"preload",as:"script",fetchPriority:"low",nonce:void 0};"string"==typeof b?x.href=y=b:(x.href=y=b.src,x.integrity=k="string"==typeof b.integrity?b.integrity:void 0,x.crossOrigin=v="string"==typeof b||null==b.crossOrigin?void 0:"use-credentials"===b.crossOrigin?"use-credentials":"");var _=y;(b=e).scriptResources[_]=null,b.moduleScriptResources[_]=null,eh(b=[],x),h.add(b),r.push('<script src="',L(y),'"'),"string"==typeof k&&r.push(' integrity="',L(k),'"'),"string"==typeof v&&r.push(' crossorigin="',L(v),'"'),ez(r,e),r.push(' async=""></script>')}if(void 0!==s)for(a=0;a<s.length;a++)x=s[a],v=y=void 0,k={rel:"modulepreload",fetchPriority:"low",nonce:void 0},"string"==typeof x?k.href=g=x:(k.href=g=x.src,k.integrity=v="string"==typeof x.integrity?x.integrity:void 0,k.crossOrigin=y="string"==typeof x||null==x.crossOrigin?void 0:"use-credentials"===x.crossOrigin?"use-credentials":""),x=e,b=g,x.scriptResources[b]=null,x.moduleScriptResources[b]=null,eh(x=[],k),h.add(x),r.push('<script type="module" src="',L(g),'"'),"string"==typeof v&&r.push(' integrity="',L(v),'"'),"string"==typeof y&&r.push(' crossorigin="',L(y),'"'),ez(r,e),r.push(' async=""></script>');return{placeholderPrefix:i,segmentPrefix:o,boundaryPrefix:n,startInlineScript:"<script",startInlineStyle:"<style",preamble:{htmlChunks:null,headChunks:null,bodyChunks:null},externalRuntimeScript:null,bootstrapChunks:r,importMapChunks:[],onHeaders:void 0,headers:null,resets:{font:{},dns:{},connect:{default:{},anonymous:{},credentials:{}},image:{},style:{}},charsetChunks:[],viewportChunks:[],hoistableChunks:[],preconnects:l,fontPreloads:c,highImagePreloads:u,styles:d,bootstrapScripts:h,scripts:p,bulkPreloads:f,preloads:m,nonce:{script:void 0,style:void 0},stylesToHoist:!1,generateStaticMarkup:t}}(t,n),(l=t0(o=new tW(o,l,c=Y(0,null,0,null),1/0,nD,void 0,function(){p=!0},void 0,void 0,void 0,void 0),0,null,c,!1,!1)).parentFlushed=!0,t1(s=tQ(o,null,s,-1,null,l,null,null,o.abortableTasks,null,c,null,e7,null,null)),o.pingedTasks.push(s),(e=o).flushScheduled=null!==e.destination,nv(e),10===e.status&&(e.status=11),null===e.trackedPostpones&&nf(e,0===e.pendingRootTasks);var f=e;(11===f.status||10===f.status)&&(f.status=12);try{var m=f.abortableTasks;if(0<m.size){var g=void 0===r?Error(a(432)):"object"==typeof r&&null!==r&&"function"==typeof r.then?Error(a(530)):r;f.fatalError=g,m.forEach(function(e){return function e(t,n,r){var i=t.blockedBoundary,a=t.blockedSegment;if(null!==a){if(6===a.status)return;a.status=3}if(a=t5(t.componentStack),null===i){if(13!==n.status&&14!==n.status){if(null===(i=t.replay)){t3(n,r,a),t4(n,r);return}i.pendingTasks--,0===i.pendingTasks&&0<i.nodes.length&&(a=t3(n,r,a),np(n,null,i.nodes,i.slots,r,a)),n.pendingRootTasks--,0===n.pendingRootTasks&&nm(n)}}else 4!==i.status&&(i.status=4,a=t3(n,r,a),i.status=4,i.errorDigest=a,nl(n,i),i.parentFlushed&&n.clientRenderedBoundaries.push(i)),i.pendingTasks--,null!==(a=i.row)&&0==--a.pendingTasks&&t6(n,a),i.fallbackAbortableTasks.forEach(function(t){return e(t,n,r)}),i.fallbackAbortableTasks.clear();null!==(t=t.row)&&0==--t.pendingTasks&&t6(n,t),n.allPendingTasks--,0===n.allPendingTasks&&ng(n)}(e,f,g)}),m.clear()}null!==f.destination&&nN(f,f.destination)}catch(e){t3(f,e,{}),t4(f,e)}var y=e,b={push:function(e){return null!==e&&(h+=e),!0},destroy:function(e){u=!0,d=e}};if(13===y.status)y.status=14,b.destroy(y.fatalError);else if(14!==y.status&&null===y.destination){y.destination=b;try{nN(y,b)}catch(e){t3(y,e,{}),t4(y,e)}}if(u&&d!==r)throw d;if(!p)throw Error(a(426));return h}n.renderToStaticMarkup=function(e,t){return nM(e,t,!0,'The server used "renderToStaticMarkup" which does not support Suspense. If you intended to have the server wait for the suspended component please switch to "renderToReadableStream" which supports Suspense on the server')},n.renderToString=function(e,t){return nM(e,t,!1,'The server used "renderToString" which does not support Suspense. If you intended for this Suspense boundary to render the fallback content on the server consider throwing an Error somewhere within the Suspense boundary. If you intended to have the server wait for the suspended component please switch to "renderToReadableStream" which supports Suspense on the server')},n.version="19.2.0-canary-0bdb9206-20250818"},149340,(e,t,n)=>{"use strict";var r=e.r(271645),i=e.r(174080);function a(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=Symbol.for("react.transitional.element"),o=Symbol.for("react.portal"),l=Symbol.for("react.fragment"),c=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),d=Symbol.for("react.consumer"),h=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),m=Symbol.for("react.suspense_list"),g=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),b=Symbol.for("react.scope"),v=Symbol.for("react.activity"),k=Symbol.for("react.legacy_hidden"),x=Symbol.for("react.memo_cache_sentinel"),_=Symbol.for("react.view_transition"),E=Symbol.iterator;function T(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=E&&e[E]||e["@@iterator"])?e:null}var S=Array.isArray;function w(e,t){var n=3&e.length,r=e.length-n,i=t;for(t=0;t<r;){var a=255&e.charCodeAt(t)|(255&e.charCodeAt(++t))<<8|(255&e.charCodeAt(++t))<<16|(255&e.charCodeAt(++t))<<24;++t,i^=a=0x1b873593*(65535&(a=(a=0xcc9e2d51*(65535&a)+((0xcc9e2d51*(a>>>16)&65535)<<16)|0)<<15|a>>>17))+((0x1b873593*(a>>>16)&65535)<<16)|0,i=(65535&(i=5*(65535&(i=i<<13|i>>>19))+((5*(i>>>16)&65535)<<16)|0))+27492+(((i>>>16)+58964&65535)<<16)}switch(a=0,n){case 3:a^=(255&e.charCodeAt(t+2))<<16;case 2:a^=(255&e.charCodeAt(t+1))<<8;case 1:a^=255&e.charCodeAt(t),i^=0x1b873593*(65535&(a=(a=0xcc9e2d51*(65535&a)+((0xcc9e2d51*(a>>>16)&65535)<<16)|0)<<15|a>>>17))+((0x1b873593*(a>>>16)&65535)<<16)}return i^=e.length,i^=i>>>16,i=0x85ebca6b*(65535&i)+((0x85ebca6b*(i>>>16)&65535)<<16)|0,i^=i>>>13,((i=0xc2b2ae35*(65535&i)+((0xc2b2ae35*(i>>>16)&65535)<<16)|0)^i>>>16)>>>0}var C=new MessageChannel,A=[];function N(e){A.push(e),C.port2.postMessage(null)}function I(e){setTimeout(function(){throw e})}C.port1.onmessage=function(){var e=A.shift();e&&e()};var D=Promise,M="function"==typeof queueMicrotask?queueMicrotask:function(e){D.resolve(null).then(e).catch(I)},O=null,R=0;function P(e,t){if(0!==t.byteLength)if(2048<t.byteLength)0<R&&(e.enqueue(new Uint8Array(O.buffer,0,R)),O=new Uint8Array(2048),R=0),e.enqueue(t);else{var n=O.length-R;n<t.byteLength&&(0===n?e.enqueue(O):(O.set(t.subarray(0,n),R),e.enqueue(O),t=t.subarray(n)),O=new Uint8Array(2048),R=0),O.set(t,R),R+=t.byteLength}}function L(e,t){return P(e,t),!0}function F(e){O&&0<R&&(e.enqueue(new Uint8Array(O.buffer,0,R)),O=null,R=0)}var j=new TextEncoder;function B(e){return j.encode(e)}function H(e){return j.encode(e)}function U(e){return e.byteLength}function z(e,t){"function"==typeof e.error?e.error(t):e.close()}var V=Object.assign,G=Object.prototype.hasOwnProperty,q=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Z={},$={};function W(e){return!!G.call($,e)||!G.call(Z,e)&&(q.test(e)?$[e]=!0:(Z[e]=!0,!1))}var Y=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" ")),K=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),J=/["'&<>]/;function Q(e){if("boolean"==typeof e||"number"==typeof e||"bigint"==typeof e)return""+e;e=""+e;var t=J.exec(e);if(t){var n,r="",i=0;for(n=t.index;n<e.length;n++){switch(e.charCodeAt(n)){case 34:t="&quot;";break;case 38:t="&amp;";break;case 39:t="&#x27;";break;case 60:t="&lt;";break;case 62:t="&gt;";break;default:continue}i!==n&&(r+=e.slice(i,n)),i=n+1,r+=t}e=i!==n?r+e.slice(i,n):r}return e}var X=/([A-Z])/g,ee=/^ms-/,et=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function en(e){return et.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var er=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ei=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ea={pending:!1,data:null,method:null,action:null},es=ei.d;ei.d={f:es.f,r:es.r,D:function(e){var t=rB||null;if(t){var n,r,i=t.resumableState,a=t.renderState;"string"==typeof e&&e&&(i.dnsResources.hasOwnProperty(e)||(i.dnsResources[e]=null,(r=(i=a.headers)&&0<i.remainingCapacity)&&(n="<"+(""+e).replace(nF,nj)+">; rel=dns-prefetch",r=0<=(i.remainingCapacity-=n.length+2)),r?(a.resets.dns[e]=null,i.preconnects&&(i.preconnects+=", "),i.preconnects+=n):(e4(n=[],{href:e,rel:"dns-prefetch"}),a.preconnects.add(n))),iT(t))}else es.D(e)},C:function(e,t){var n=rB||null;if(n){var r=n.resumableState,i=n.renderState;if("string"==typeof e&&e){var a,s,o="use-credentials"===t?"credentials":"string"==typeof t?"anonymous":"default";r.connectResources[o].hasOwnProperty(e)||(r.connectResources[o][e]=null,(s=(r=i.headers)&&0<r.remainingCapacity)&&(s="<"+(""+e).replace(nF,nj)+">; rel=preconnect","string"==typeof t&&(s+='; crossorigin="'+(""+t).replace(nB,nH)+'"'),a=s,s=0<=(r.remainingCapacity-=a.length+2)),s?(i.resets.connect[o][e]=null,r.preconnects&&(r.preconnects+=", "),r.preconnects+=a):(e4(o=[],{rel:"preconnect",href:e,crossOrigin:t}),i.preconnects.add(o))),iT(n)}}else es.C(e,t)},L:function(e,t,n){var r=rB||null;if(r){var i=r.resumableState,a=r.renderState;if(t&&e){switch(t){case"image":if(n)var s,o=n.imageSrcSet,l=n.imageSizes,c=n.fetchPriority;var u=o?o+"\n"+(l||""):e;if(i.imageResources.hasOwnProperty(u))return;i.imageResources[u]=eo,(i=a.headers)&&0<i.remainingCapacity&&"string"!=typeof o&&"high"===c&&(s=nL(e,t,n),0<=(i.remainingCapacity-=s.length+2))?(a.resets.image[u]=eo,i.highImagePreloads&&(i.highImagePreloads+=", "),i.highImagePreloads+=s):(e4(i=[],V({rel:"preload",href:o?void 0:e,as:t},n)),"high"===c?a.highImagePreloads.add(i):(a.bulkPreloads.add(i),a.preloads.images.set(u,i)));break;case"style":if(i.styleResources.hasOwnProperty(e))return;e4(o=[],V({rel:"preload",href:e,as:t},n)),i.styleResources[e]=n&&("string"==typeof n.crossOrigin||"string"==typeof n.integrity)?[n.crossOrigin,n.integrity]:eo,a.preloads.stylesheets.set(e,o),a.bulkPreloads.add(o);break;case"script":if(i.scriptResources.hasOwnProperty(e))return;o=[],a.preloads.scripts.set(e,o),a.bulkPreloads.add(o),e4(o,V({rel:"preload",href:e,as:t},n)),i.scriptResources[e]=n&&("string"==typeof n.crossOrigin||"string"==typeof n.integrity)?[n.crossOrigin,n.integrity]:eo;break;default:if(i.unknownResources.hasOwnProperty(t)){if((o=i.unknownResources[t]).hasOwnProperty(e))return}else o={},i.unknownResources[t]=o;o[e]=eo,(i=a.headers)&&0<i.remainingCapacity&&"font"===t&&(u=nL(e,t,n),0<=(i.remainingCapacity-=u.length+2))?(a.resets.font[e]=eo,i.fontPreloads&&(i.fontPreloads+=", "),i.fontPreloads+=u):(e4(i=[],e=V({rel:"preload",href:e,as:t},n)),"font"===t)?a.fontPreloads.add(i):a.bulkPreloads.add(i)}iT(r)}}else es.L(e,t,n)},m:function(e,t){var n=rB||null;if(n){var r=n.resumableState,i=n.renderState;if(e){var a=t&&"string"==typeof t.as?t.as:"script";if("script"===a){if(r.moduleScriptResources.hasOwnProperty(e))return;a=[],r.moduleScriptResources[e]=t&&("string"==typeof t.crossOrigin||"string"==typeof t.integrity)?[t.crossOrigin,t.integrity]:eo,i.preloads.moduleScripts.set(e,a)}else{if(r.moduleUnknownResources.hasOwnProperty(a)){var s=r.unknownResources[a];if(s.hasOwnProperty(e))return}else s={},r.moduleUnknownResources[a]=s;a=[],s[e]=eo}e4(a,V({rel:"modulepreload",href:e},t)),i.bulkPreloads.add(a),iT(n)}}else es.m(e,t)},X:function(e,t){var n=rB||null;if(n){var r=n.resumableState,i=n.renderState;if(e){var a=r.scriptResources.hasOwnProperty(e)?r.scriptResources[e]:void 0;null!==a&&(r.scriptResources[e]=null,t=V({src:e,async:!0},t),a&&(2===a.length&&nP(t,a),e=i.preloads.scripts.get(e))&&(e.length=0),e=[],i.scripts.add(e),tr(e,t),iT(n))}}else es.X(e,t)},S:function(e,t,n){var r=rB||null;if(r){var i=r.resumableState,a=r.renderState;if(e){t=t||"default";var s=a.styles.get(t),o=i.styleResources.hasOwnProperty(e)?i.styleResources[e]:void 0;null!==o&&(i.styleResources[e]=null,s||(s={precedence:B(Q(t)),rules:[],hrefs:[],sheets:new Map},a.styles.set(t,s)),t={state:0,props:V({rel:"stylesheet",href:e,"data-precedence":t},n)},o&&(2===o.length&&nP(t.props,o),(a=a.preloads.stylesheets.get(e))&&0<a.length?a.length=0:t.state=1),s.sheets.set(e,t),iT(r))}}else es.S(e,t,n)},M:function(e,t){var n=rB||null;if(n){var r=n.resumableState,i=n.renderState;if(e){var a=r.moduleScriptResources.hasOwnProperty(e)?r.moduleScriptResources[e]:void 0;null!==a&&(r.moduleScriptResources[e]=null,t=V({src:e,type:"module",async:!0},t),a&&(2===a.length&&nP(t,a),e=i.preloads.moduleScripts.get(e))&&(e.length=0),e=[],i.scripts.add(e),tr(e,t),iT(n))}}else es.M(e,t)}};var eo=[],el=null;H('"></template>');var ec=H("<script"),eu=H("</script>"),ed=H('<script src="'),eh=H('<script type="module" src="'),ep=H(' nonce="'),ef=H(' integrity="'),em=H(' crossorigin="'),eg=H(' async=""></script>'),ey=H("<style"),eb=/(<\/|<)(s)(cript)/gi;function ev(e,t,n,r){return""+t+("s"===n?"\\u0073":"\\u0053")+r}var ek=H('<script type="importmap">'),ex=H("</script>");function e_(e,t,n,r,i,a){var s=void 0===(n="string"==typeof t?t:t&&t.script)?ec:H('<script nonce="'+Q(n)+'"'),o="string"==typeof t?void 0:t&&t.style,l=void 0===o?ey:H('<style nonce="'+Q(o)+'"'),c=e.idPrefix,u=[],d=e.bootstrapScriptContent,h=e.bootstrapScripts,p=e.bootstrapModules;if(void 0!==d&&(u.push(s),nN(u,e),u.push(eJ,B((""+d).replace(eb,ev)),eu)),d=[],void 0!==r&&(d.push(ek),d.push(B((""+JSON.stringify(r)).replace(eb,ev))),d.push(ex)),r=i?{preconnects:"",fontPreloads:"",highImagePreloads:"",remainingCapacity:2+("number"==typeof a?a:2e3)}:null,i={placeholderPrefix:H(c+"P:"),segmentPrefix:H(c+"S:"),boundaryPrefix:H(c+"B:"),startInlineScript:s,startInlineStyle:l,preamble:eT(),externalRuntimeScript:null,bootstrapChunks:u,importMapChunks:d,onHeaders:i,headers:r,resets:{font:{},dns:{},connect:{default:{},anonymous:{},credentials:{}},image:{},style:{}},charsetChunks:[],viewportChunks:[],hoistableChunks:[],preconnects:new Set,fontPreloads:new Set,highImagePreloads:new Set,styles:new Map,bootstrapScripts:new Set,scripts:new Set,bulkPreloads:new Set,preloads:{images:new Map,stylesheets:new Map,scripts:new Map,moduleScripts:new Map},nonce:{script:n,style:o},hoistableState:null,stylesToHoist:!1},void 0!==h)for(r=0;r<h.length;r++)c=h[r],o=s=void 0,l={rel:"preload",as:"script",fetchPriority:"low",nonce:t},"string"==typeof c?l.href=a=c:(l.href=a=c.src,l.integrity=o="string"==typeof c.integrity?c.integrity:void 0,l.crossOrigin=s="string"==typeof c||null==c.crossOrigin?void 0:"use-credentials"===c.crossOrigin?"use-credentials":""),c=e,d=a,c.scriptResources[d]=null,c.moduleScriptResources[d]=null,e4(c=[],l),i.bootstrapScripts.add(c),u.push(ed,B(Q(a)),eH),n&&u.push(ep,B(Q(n)),eH),"string"==typeof o&&u.push(ef,B(Q(o)),eH),"string"==typeof s&&u.push(em,B(Q(s)),eH),nN(u,e),u.push(eg);if(void 0!==p)for(t=0;t<p.length;t++)o=p[t],a=r=void 0,s={rel:"modulepreload",fetchPriority:"low",nonce:n},"string"==typeof o?s.href=h=o:(s.href=h=o.src,s.integrity=a="string"==typeof o.integrity?o.integrity:void 0,s.crossOrigin=r="string"==typeof o||null==o.crossOrigin?void 0:"use-credentials"===o.crossOrigin?"use-credentials":""),o=e,l=h,o.scriptResources[l]=null,o.moduleScriptResources[l]=null,e4(o=[],s),i.bootstrapScripts.add(o),u.push(eh,B(Q(h)),eH),n&&u.push(ep,B(Q(n)),eH),"string"==typeof a&&u.push(ef,B(Q(a)),eH),"string"==typeof r&&u.push(em,B(Q(r)),eH),nN(u,e),u.push(eg);return i}function eE(e,t,n,r,i){return{idPrefix:void 0===e?"":e,nextFormID:0,streamingFormat:0,bootstrapScriptContent:n,bootstrapScripts:r,bootstrapModules:i,instructions:0,hasBody:!1,hasHtml:!1,unknownResources:{},dnsResources:{},connectResources:{default:{},anonymous:{},credentials:{}},imageResources:{},styleResources:{},scriptResources:{},moduleUnknownResources:{},moduleScriptResources:{}}}function eT(){return{htmlChunks:null,headChunks:null,bodyChunks:null}}function eS(e,t,n,r){return{insertionMode:e,selectedValue:t,tagScope:n,viewTransition:r}}function ew(e){return eS("http://www.w3.org/2000/svg"===e?4:5*("http://www.w3.org/1998/Math/MathML"===e),null,0,null)}function eC(e,t,n){var r=-25&e.tagScope;switch(t){case"noscript":return eS(2,null,1|r,null);case"select":return eS(2,null!=n.value?n.value:n.defaultValue,r,null);case"svg":return eS(4,null,r,null);case"picture":return eS(2,null,2|r,null);case"math":return eS(5,null,r,null);case"foreignObject":return eS(2,null,r,null);case"table":return eS(6,null,r,null);case"thead":case"tbody":case"tfoot":return eS(7,null,r,null);case"colgroup":return eS(9,null,r,null);case"tr":return eS(8,null,r,null);case"head":if(2>e.insertionMode)return eS(3,null,r,null);break;case"html":if(0===e.insertionMode)return eS(1,null,r,null)}return 6<=e.insertionMode||2>e.insertionMode?eS(2,null,r,null):e.tagScope!==r?eS(e.insertionMode,e.selectedValue,r,null):e}function eA(e){return null===e?null:{update:e.update,enter:"none",exit:"none",share:e.update,name:e.autoName,autoName:e.autoName,nameIdx:0}}function eN(e,t){return 32&t.tagScope&&(e.instructions|=128),eS(t.insertionMode,t.selectedValue,12|t.tagScope,eA(t.viewTransition))}function eI(e,t){return eS(t.insertionMode,t.selectedValue,16|t.tagScope,eA(t.viewTransition))}var eD=H("<!-- -->");function eM(e,t,n,r){return""===t?r:(r&&e.push(eD),e.push(B(Q(t))),!0)}var eO=new Map,eR=H(' style="'),eP=H(":"),eL=H(";");function eF(e,t){if("object"!=typeof t)throw Error(a(62));var n,r=!0;for(n in t)if(G.call(t,n)){var i=t[n];if(null!=i&&"boolean"!=typeof i&&""!==i){if(0===n.indexOf("--")){var s=B(Q(n));i=B(Q((""+i).trim()))}else void 0===(s=eO.get(n))&&(s=H(Q(n.replace(X,"-$1").toLowerCase().replace(ee,"-ms-"))),eO.set(n,s)),i="number"==typeof i?0===i||Y.has(n)?B(""+i):B(i+"px"):B(Q((""+i).trim()));r?(r=!1,e.push(eR,s,eP,i)):e.push(eL,s,eP,i)}}r||e.push(eH)}var ej=H(" "),eB=H('="'),eH=H('"'),eU=H('=""');function ez(e,t,n){n&&"function"!=typeof n&&"symbol"!=typeof n&&e.push(ej,B(t),eU)}function eV(e,t,n){"function"!=typeof n&&"symbol"!=typeof n&&"boolean"!=typeof n&&e.push(ej,B(t),eB,B(Q(n)),eH)}var eG=H(Q("javascript:throw new Error('React form unexpectedly submitted.')")),eq=H('<input type="hidden"');function eZ(e,t){this.push(eq),e$(e),eV(this,"name",t),eV(this,"value",e),this.push(eQ)}function e$(e){if("string"!=typeof e)throw Error(a(480))}function eW(e,t){if("function"==typeof t.$$FORM_ACTION){var n=e.nextFormID++;e=e.idPrefix+n;try{var r=t.$$FORM_ACTION(e);if(r){var i=r.data;null!=i&&i.forEach(e$)}return r}catch(e){if("object"==typeof e&&null!==e&&"function"==typeof e.then)throw e}}return null}function eY(e,t,n,r,i,a,s,o){var l=null;if("function"==typeof r){var c=eW(t,r);null!==c?(o=c.name,r=c.action||"",i=c.encType,a=c.method,s=c.target,l=c.data):(e.push(ej,B("formAction"),eB,eG,eH),s=a=i=r=o=null,e2(t,n))}return null!=o&&eK(e,"name",o),null!=r&&eK(e,"formAction",r),null!=i&&eK(e,"formEncType",i),null!=a&&eK(e,"formMethod",a),null!=s&&eK(e,"formTarget",s),l}function eK(e,t,n){switch(t){case"className":eV(e,"class",n);break;case"tabIndex":eV(e,"tabindex",n);break;case"dir":case"role":case"viewBox":case"width":case"height":eV(e,t,n);break;case"style":eF(e,n);break;case"src":case"href":if(""===n)break;case"action":case"formAction":if(null==n||"function"==typeof n||"symbol"==typeof n||"boolean"==typeof n)break;n=en(""+n),e.push(ej,B(t),eB,B(Q(n)),eH);break;case"defaultValue":case"defaultChecked":case"innerHTML":case"suppressContentEditableWarning":case"suppressHydrationWarning":case"ref":break;case"autoFocus":case"multiple":case"muted":ez(e,t.toLowerCase(),n);break;case"xlinkHref":if("function"==typeof n||"symbol"==typeof n||"boolean"==typeof n)break;n=en(""+n),e.push(ej,B("xlink:href"),eB,B(Q(n)),eH);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":"function"!=typeof n&&"symbol"!=typeof n&&e.push(ej,B(t),eB,B(Q(n)),eH);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":n&&"function"!=typeof n&&"symbol"!=typeof n&&e.push(ej,B(t),eU);break;case"capture":case"download":!0===n?e.push(ej,B(t),eU):!1!==n&&"function"!=typeof n&&"symbol"!=typeof n&&e.push(ej,B(t),eB,B(Q(n)),eH);break;case"cols":case"rows":case"size":case"span":"function"!=typeof n&&"symbol"!=typeof n&&!isNaN(n)&&1<=n&&e.push(ej,B(t),eB,B(Q(n)),eH);break;case"rowSpan":case"start":"function"==typeof n||"symbol"==typeof n||isNaN(n)||e.push(ej,B(t),eB,B(Q(n)),eH);break;case"xlinkActuate":eV(e,"xlink:actuate",n);break;case"xlinkArcrole":eV(e,"xlink:arcrole",n);break;case"xlinkRole":eV(e,"xlink:role",n);break;case"xlinkShow":eV(e,"xlink:show",n);break;case"xlinkTitle":eV(e,"xlink:title",n);break;case"xlinkType":eV(e,"xlink:type",n);break;case"xmlBase":eV(e,"xml:base",n);break;case"xmlLang":eV(e,"xml:lang",n);break;case"xmlSpace":eV(e,"xml:space",n);break;default:if((!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&W(t=K.get(t)||t)){switch(typeof n){case"function":case"symbol":return;case"boolean":var r=t.toLowerCase().slice(0,5);if("data-"!==r&&"aria-"!==r)return}e.push(ej,B(t),eB,B(Q(n)),eH)}}}var eJ=H(">"),eQ=H("/>");function eX(e,t,n){if(null!=t){if(null!=n)throw Error(a(60));if("object"!=typeof t||!("__html"in t))throw Error(a(61));null!=(t=t.__html)&&e.push(B(""+t))}}var e0=H(' selected=""'),e1=H('addEventListener("submit",function(a){if(!a.defaultPrevented){var c=a.target,d=a.submitter,e=c.action,b=d;if(d){var f=d.getAttribute("formAction");null!=f&&(e=f,b=null)}"javascript:throw new Error(\'React form unexpectedly submitted.\')"===e&&(a.preventDefault(),b?(a=document.createElement("input"),a.name=b.name,a.value=b.value,b.parentNode.insertBefore(a,b),b=new FormData(c),a.parentNode.removeChild(a)):b=new FormData(c),a=c.ownerDocument||c,(a.$$reactFormReplay=a.$$reactFormReplay||[]).push(c,d,b))}});');function e2(e,t){if(0==(16&e.instructions)){e.instructions|=16;var n=t.preamble,r=t.bootstrapChunks;(n.htmlChunks||n.headChunks)&&0===r.length?(r.push(t.startInlineScript),nN(r,e),r.push(eJ,e1,eu)):r.unshift(t.startInlineScript,eJ,e1,eu)}}var e5=H("<!--F!-->"),e3=H("<!--F-->");function e4(e,t){for(var n in e.push(tc("link")),t)if(G.call(t,n)){var r=t[n];if(null!=r)switch(n){case"children":case"dangerouslySetInnerHTML":throw Error(a(399,"link"));default:eK(e,n,r)}}return e.push(eQ),null}var e6=/(<\/|<)(s)(tyle)/gi;function e9(e,t,n,r){return""+t+("s"===n?"\\73 ":"\\53 ")+r}function e8(e,t,n){for(var r in e.push(tc(n)),t)if(G.call(t,r)){var i=t[r];if(null!=i)switch(r){case"children":case"dangerouslySetInnerHTML":throw Error(a(399,n));default:eK(e,r,i)}}return e.push(eQ),null}function e7(e,t){e.push(tc("title"));var n,r=null,i=null;for(n in t)if(G.call(t,n)){var a=t[n];if(null!=a)switch(n){case"children":r=a;break;case"dangerouslySetInnerHTML":i=a;break;default:eK(e,n,a)}}return e.push(eJ),"function"!=typeof(t=Array.isArray(r)?2>r.length?r[0]:null:r)&&"symbol"!=typeof t&&null!=t&&e.push(B(Q(""+t))),eX(e,i,r),e.push(th("title")),null}var te=H("<!--head-->"),tt=H("<!--body-->"),tn=H("<!--html-->");function tr(e,t){e.push(tc("script"));var n,r=null,i=null;for(n in t)if(G.call(t,n)){var a=t[n];if(null!=a)switch(n){case"children":r=a;break;case"dangerouslySetInnerHTML":i=a;break;default:eK(e,n,a)}}return e.push(eJ),eX(e,i,r),"string"==typeof r&&e.push(B((""+r).replace(eb,ev))),e.push(th("script")),null}function ti(e,t,n){e.push(tc(n));var r,i=n=null;for(r in t)if(G.call(t,r)){var a=t[r];if(null!=a)switch(r){case"children":n=a;break;case"dangerouslySetInnerHTML":i=a;break;default:eK(e,r,a)}}return e.push(eJ),eX(e,i,n),n}function ta(e,t,n){e.push(tc(n));var r,i=n=null;for(r in t)if(G.call(t,r)){var a=t[r];if(null!=a)switch(r){case"children":n=a;break;case"dangerouslySetInnerHTML":i=a;break;default:eK(e,r,a)}}return e.push(eJ),eX(e,i,n),"string"==typeof n?(e.push(B(Q(n))),null):n}var ts=H("\n"),to=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,tl=new Map;function tc(e){var t=tl.get(e);if(void 0===t){if(!to.test(e))throw Error(a(65,e));t=H("<"+e),tl.set(e,t)}return t}var tu=H("<!DOCTYPE html>"),td=new Map;function th(e){var t=td.get(e);return void 0===t&&(t=H("</"+e+">"),td.set(e,t)),t}function tp(e,t){null===(e=e.preamble).htmlChunks&&t.htmlChunks&&(e.htmlChunks=t.htmlChunks),null===e.headChunks&&t.headChunks&&(e.headChunks=t.headChunks),null===e.bodyChunks&&t.bodyChunks&&(e.bodyChunks=t.bodyChunks)}function tf(e,t){t=t.bootstrapChunks;for(var n=0;n<t.length-1;n++)P(e,t[n]);return!(n<t.length)||(n=t[n],t.length=0,L(e,n))}var tm=H("requestAnimationFrame(function(){$RT=performance.now()});"),tg=H('<template id="'),ty=H('"></template>'),tb=H("<!--&-->"),tv=H("<!--/&-->"),tk=H("<!--$-->"),tx=H('<!--$?--><template id="'),t_=H('"></template>'),tE=H("<!--$!-->"),tT=H("<!--/$-->"),tS=H("<template"),tw=H('"'),tC=H(' data-dgst="');H(' data-msg="'),H(' data-stck="'),H(' data-cstck="');var tA=H("></template>");function tN(e,t,n){if(P(e,tx),null===n)throw Error(a(395));return P(e,t.boundaryPrefix),P(e,B(n.toString(16))),L(e,t_)}var tI=H('<div hidden id="'),tD=H('">'),tM=H("</div>"),tO=H('<svg aria-hidden="true" style="display:none" id="'),tR=H('">'),tP=H("</svg>"),tL=H('<math aria-hidden="true" style="display:none" id="'),tF=H('">'),tj=H("</math>"),tB=H('<table hidden id="'),tH=H('">'),tU=H("</table>"),tz=H('<table hidden><tbody id="'),tV=H('">'),tG=H("</tbody></table>"),tq=H('<table hidden><tr id="'),tZ=H('">'),t$=H("</tr></table>"),tW=H('<table hidden><colgroup id="'),tY=H('">'),tK=H("</colgroup></table>"),tJ=H('$RS=function(a,b){a=document.getElementById(a);b=document.getElementById(b);for(a.parentNode.removeChild(a);a.firstChild;)b.parentNode.insertBefore(a.firstChild,b);b.parentNode.removeChild(b)};$RS("'),tQ=H('$RS("'),tX=H('","'),t0=H('")</script>');H('<template data-rsi="" data-sid="'),H('" data-pid="');var t1=H('$RB=[];$RV=function(a){$RT=performance.now();for(var b=0;b<a.length;b+=2){var c=a[b],e=a[b+1];null!==e.parentNode&&e.parentNode.removeChild(e);var f=c.parentNode;if(f){var g=c.previousSibling,h=0;do{if(c&&8===c.nodeType){var d=c.data;if("/$"===d||"/&"===d)if(0===h)break;else h--;else"$"!==d&&"$?"!==d&&"$~"!==d&&"$!"!==d&&"&"!==d||h++}d=c.nextSibling;f.removeChild(c);c=d}while(c);for(;e.firstChild;)f.insertBefore(e.firstChild,c);g.data="$";g._reactRetry&&requestAnimationFrame(g._reactRetry)}}a.length=0};\n$RC=function(a,b){if(b=document.getElementById(b))(a=document.getElementById(a))?(a.previousSibling.data="$~",$RB.push(a,b),2===$RB.length&&("number"!==typeof $RT?requestAnimationFrame($RV.bind(null,$RB)):(a=performance.now(),setTimeout($RV.bind(null,$RB),2300>a&&2E3<a?2300-a:$RT+300-a)))):b.parentNode.removeChild(b)};');B('$RV=function(A,g){function k(a,b){var e=a.getAttribute(b);e&&(b=a.style,l.push(a,b.viewTransitionName,b.viewTransitionClass),"auto"!==e&&(b.viewTransitionClass=e),(a=a.getAttribute("vt-name"))||(a="_T_"+K++ +"_"),b.viewTransitionName=a,B=!0)}var B=!1,K=0,l=[];try{var f=document.__reactViewTransition;if(f){f.finished.finally($RV.bind(null,g));return}var m=new Map;for(f=1;f<g.length;f+=2)for(var h=g[f].querySelectorAll("[vt-share]"),d=0;d<h.length;d++){var c=h[d];m.set(c.getAttribute("vt-name"),c)}var u=[];for(h=0;h<g.length;h+=2){var C=g[h],x=C.parentNode;if(x){var v=x.getBoundingClientRect();if(v.left||v.top||v.width||v.height){c=C;for(f=0;c;){if(8===c.nodeType){var r=c.data;if("/$"===r)if(0===f)break;else f--;else"$"!==r&&"$?"!==r&&"$~"!==r&&"$!"!==r||f++}else if(1===c.nodeType){d=c;var D=d.getAttribute("vt-name"),y=m.get(D);k(d,y?"vt-share":"vt-exit");y&&(k(y,"vt-share"),m.set(D,null));var E=d.querySelectorAll("[vt-share]");for(d=0;d<E.length;d++){var F=E[d],G=F.getAttribute("vt-name"),\nH=m.get(G);H&&(k(F,"vt-share"),k(H,"vt-share"),m.set(G,null))}}c=c.nextSibling}for(var I=g[h+1],t=I.firstElementChild;t;)null!==m.get(t.getAttribute("vt-name"))&&k(t,"vt-enter"),t=t.nextElementSibling;c=x;do for(var n=c.firstElementChild;n;){var J=n.getAttribute("vt-update");J&&"none"!==J&&!l.includes(n)&&k(n,"vt-update");n=n.nextElementSibling}while((c=c.parentNode)&&1===c.nodeType&&"none"!==c.getAttribute("vt-update"));u.push.apply(u,I.querySelectorAll(\'img[src]:not([loading="lazy"])\'))}}}if(B){var z=\ndocument.__reactViewTransition=document.startViewTransition({update:function(){A(g);for(var a=[document.documentElement.clientHeight,document.fonts.ready],b={},e=0;e<u.length;b={g:b.g},e++)if(b.g=u[e],!b.g.complete){var p=b.g.getBoundingClientRect();0<p.bottom&&0<p.right&&p.top<window.innerHeight&&p.left<window.innerWidth&&(p=new Promise(function(w){return function(q){w.g.addEventListener("load",q);w.g.addEventListener("error",q)}}(b)),a.push(p))}return Promise.race([Promise.all(a),new Promise(function(w){var q=\nperformance.now();setTimeout(w,2300>q&&2E3<q?2300-q:500)})])},types:[]});z.ready.finally(function(){for(var a=l.length-3;0<=a;a-=3){var b=l[a],e=b.style;e.viewTransitionName=l[a+1];e.viewTransitionClass=l[a+1];""===b.getAttribute("style")&&b.removeAttribute("style")}});z.finished.finally(function(){document.__reactViewTransition===z&&(document.__reactViewTransition=null)});$RB=[];return}}catch(a){}A(g)}.bind(null,$RV);');var t2=H('$RC("'),t5=H('$RM=new Map;$RR=function(n,w,p){function u(q){this._p=null;q()}for(var r=new Map,t=document,h,b,e=t.querySelectorAll("link[data-precedence],style[data-precedence]"),v=[],k=0;b=e[k++];)"not all"===b.getAttribute("media")?v.push(b):("LINK"===b.tagName&&$RM.set(b.getAttribute("href"),b),r.set(b.dataset.precedence,h=b));e=0;b=[];var l,a;for(k=!0;;){if(k){var f=p[e++];if(!f){k=!1;e=0;continue}var c=!1,m=0;var d=f[m++];if(a=$RM.get(d)){var g=a._p;c=!0}else{a=t.createElement("link");a.href=d;a.rel=\n"stylesheet";for(a.dataset.precedence=l=f[m++];g=f[m++];)a.setAttribute(g,f[m++]);g=a._p=new Promise(function(q,x){a.onload=u.bind(a,q);a.onerror=u.bind(a,x)});$RM.set(d,a)}d=a.getAttribute("media");!g||d&&!matchMedia(d).matches||b.push(g);if(c)continue}else{a=v[e++];if(!a)break;l=a.getAttribute("data-precedence");a.removeAttribute("media")}c=r.get(l)||h;c===h&&(h=a);r.set(l,a);c?c.parentNode.insertBefore(a,c.nextSibling):(c=t.head,c.insertBefore(a,c.firstChild))}if(p=document.getElementById(n))p.previousSibling.data=\n"$~";Promise.all(b).then($RC.bind(null,n,w),$RX.bind(null,n,"CSS failed to load"))};$RR("'),t3=H('$RR("'),t4=H('","'),t6=H('",'),t9=H('"'),t8=H(")</script>");H('<template data-rci="" data-bid="'),H('<template data-rri="" data-bid="'),H('" data-sid="'),H('" data-sty="');var t7=H('$RX=function(b,c,d,e,f){var a=document.getElementById(b);a&&(b=a.previousSibling,b.data="$!",a=a.dataset,c&&(a.dgst=c),d&&(a.msg=d),e&&(a.stck=e),f&&(a.cstck=f),b._reactRetry&&b._reactRetry())};'),ne=H('$RX=function(b,c,d,e,f){var a=document.getElementById(b);a&&(b=a.previousSibling,b.data="$!",a=a.dataset,c&&(a.dgst=c),d&&(a.msg=d),e&&(a.stck=e),f&&(a.cstck=f),b._reactRetry&&b._reactRetry())};;$RX("'),nt=H('$RX("'),nn=H('"'),nr=H(","),ni=H(")</script>");H('<template data-rxi="" data-bid="'),H('" data-dgst="'),H('" data-msg="'),H('" data-stck="'),H('" data-cstck="');var na=/[<\u2028\u2029]/g,ns=/[&><\u2028\u2029]/g;function no(e){return JSON.stringify(e).replace(ns,function(e){switch(e){case"&":return"\\u0026";case">":return"\\u003e";case"<":return"\\u003c";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw Error("escapeJSObjectForInstructionScripts encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}})}var nl=H(' media="not all" data-precedence="'),nc=H('" data-href="'),nu=H('">'),nd=H("</style>"),nh=!1,np=!0;function nf(e){var t=e.rules,n=e.hrefs,r=0;if(n.length){for(P(this,el.startInlineStyle),P(this,nl),P(this,e.precedence),P(this,nc);r<n.length-1;r++)P(this,n[r]),P(this,n_);for(P(this,n[r]),P(this,nu),r=0;r<t.length;r++)P(this,t[r]);np=L(this,nd),nh=!0,t.length=0,n.length=0}}function nm(e){return 2!==e.state&&(nh=!0)}function ng(e,t,n){return nh=!1,np=!0,el=n,t.styles.forEach(nf,e),el=null,t.stylesheets.forEach(nm),nh&&(n.stylesToHoist=!0),np}function ny(e){for(var t=0;t<e.length;t++)P(this,e[t]);e.length=0}var nb=[];function nv(e){e4(nb,e.props);for(var t=0;t<nb.length;t++)P(this,nb[t]);nb.length=0,e.state=2}var nk=H(' data-precedence="'),nx=H('" data-href="'),n_=H(" "),nE=H('">'),nT=H("</style>");function nS(e){var t=0<e.sheets.size;e.sheets.forEach(nv,this),e.sheets.clear();var n=e.rules,r=e.hrefs;if(!t||r.length){if(P(this,el.startInlineStyle),P(this,nk),P(this,e.precedence),e=0,r.length){for(P(this,nx);e<r.length-1;e++)P(this,r[e]),P(this,n_);P(this,r[e])}for(P(this,nE),e=0;e<n.length;e++)P(this,n[e]);P(this,nT),n.length=0,r.length=0}}function nw(e){if(0===e.state){e.state=1;var t=e.props;for(e4(nb,{rel:"preload",as:"style",href:e.props.href,crossOrigin:t.crossOrigin,fetchPriority:t.fetchPriority,integrity:t.integrity,media:t.media,hrefLang:t.hrefLang,referrerPolicy:t.referrerPolicy}),e=0;e<nb.length;e++)P(this,nb[e]);nb.length=0}}function nC(e){e.sheets.forEach(nw,this),e.sheets.clear()}H('<link rel="expect" href="#'),H('" blocking="render"/>');var nA=H(' id="');function nN(e,t){0==(32&t.instructions)&&(t.instructions|=32,e.push(nA,B(Q("_"+t.idPrefix+"R_")),eH))}var nI=H("["),nD=H(",["),nM=H(","),nO=H("]");function nR(){return{styles:new Set,stylesheets:new Set}}function nP(e,t){null==e.crossOrigin&&(e.crossOrigin=t[0]),null==e.integrity&&(e.integrity=t[1])}function nL(e,t,n){for(var r in t="<"+(e=(""+e).replace(nF,nj))+'>; rel=preload; as="'+(t=(""+t).replace(nB,nH))+'"',n)G.call(n,r)&&"string"==typeof(e=n[r])&&(t+="; "+r.toLowerCase()+'="'+(""+e).replace(nB,nH)+'"');return t}var nF=/[<>\r\n]/g;function nj(e){switch(e){case"<":return"%3C";case">":return"%3E";case"\n":return"%0A";case"\r":return"%0D";default:throw Error("escapeLinkHrefForHeaderContextReplacer encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}}var nB=/["';,\r\n]/g;function nH(e){switch(e){case'"':return"%22";case"'":return"%27";case";":return"%3B";case",":return"%2C";case"\n":return"%0A";case"\r":return"%0D";default:throw Error("escapeStringForLinkHeaderQuotedParamValueContextReplacer encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}}function nU(e){this.styles.add(e)}function nz(e){this.stylesheets.add(e)}function nV(e,t){t.styles.forEach(nU,e),t.stylesheets.forEach(nz,e)}var nG=Function.prototype.bind,nq=Symbol.for("react.client.reference");function nZ(e){if(null==e)return null;if("function"==typeof e)return e.$$typeof===nq?null:e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case l:return"Fragment";case u:return"Profiler";case c:return"StrictMode";case f:return"Suspense";case m:return"SuspenseList";case v:return"Activity"}if("object"==typeof e)switch(e.$$typeof){case o:return"Portal";case h:return e.displayName||"Context";case d:return(e._context.displayName||"Context")+".Consumer";case p:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case g:return null!==(t=e.displayName||null)?t:nZ(e.type)||"Memo";case y:t=e._payload,e=e._init;try{return nZ(e(t))}catch(e){}}return null}var n$={},nW=null;function nY(e,t){if(e!==t){e.context._currentValue=e.parentValue,e=e.parent;var n=t.parent;if(null===e){if(null!==n)throw Error(a(401))}else{if(null===n)throw Error(a(401));nY(e,n)}t.context._currentValue=t.value}}function nK(e){var t=nW;t!==e&&(null===t?function e(t){var n=t.parent;null!==n&&e(n),t.context._currentValue=t.value}(e):null===e?function e(t){t.context._currentValue=t.parentValue,null!==(t=t.parent)&&e(t)}(t):t.depth===e.depth?nY(t,e):t.depth>e.depth?function e(t,n){if(t.context._currentValue=t.parentValue,null===(t=t.parent))throw Error(a(402));t.depth===n.depth?nY(t,n):e(t,n)}(t,e):function e(t,n){var r=n.parent;if(null===r)throw Error(a(402));t.depth===r.depth?nY(t,r):e(t,r),n.context._currentValue=n.value}(t,e),nW=e)}var nJ={enqueueSetState:function(e,t){null!==(e=e._reactInternals).queue&&e.queue.push(t)},enqueueReplaceState:function(e,t){(e=e._reactInternals).replace=!0,e.queue=[t]},enqueueForceUpdate:function(){}},nQ={id:1,overflow:""};function nX(e,t,n){var r=e.id;e=e.overflow;var i=32-n0(r)-1;r&=~(1<<i),n+=1;var a=32-n0(t)+i;if(30<a){var s=i-i%5;return a=(r&(1<<s)-1).toString(32),r>>=s,i-=s,{id:1<<32-n0(t)+i|n<<i|r,overflow:a+e}}return{id:1<<a|n<<i|r,overflow:e}}var n0=Math.clz32?Math.clz32:function(e){return 0==(e>>>=0)?32:31-(n1(e)/n2|0)|0},n1=Math.log,n2=Math.LN2;function n5(){}var n3=Error(a(460)),n4=null;function n6(){if(null===n4)throw Error(a(459));var e=n4;return n4=null,e}var n9="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},n8=null,n7=null,re=null,rt=null,rn=null,rr=null,ri=!1,ra=!1,rs=0,ro=0,rl=-1,rc=0,ru=null,rd=null,rh=0;function rp(){if(null===n8)throw Error(a(321));return n8}function rf(){if(0<rh)throw Error(a(312));return{memoizedState:null,queue:null,next:null}}function rm(){return null===rr?null===rn?(ri=!1,rn=rr=rf()):(ri=!0,rr=rn):null===rr.next?(ri=!1,rr=rr.next=rf()):(ri=!0,rr=rr.next),rr}function rg(){var e=ru;return ru=null,e}function ry(){rt=re=n7=n8=null,ra=!1,rn=null,rh=0,rr=rd=null}function rb(e,t){return"function"==typeof t?t(e):t}function rv(e,t,n){if(n8=rp(),rr=rm(),ri){var r=rr.queue;if(t=r.dispatch,null!==rd&&void 0!==(n=rd.get(r))){rd.delete(r),r=rr.memoizedState;do r=e(r,n.action),n=n.next;while(null!==n)return rr.memoizedState=r,[r,t]}return[rr.memoizedState,t]}return e=e===rb?"function"==typeof t?t():t:void 0!==n?n(t):t,rr.memoizedState=e,e=(e=rr.queue={last:null,dispatch:null}).dispatch=rx.bind(null,n8,e),[rr.memoizedState,e]}function rk(e,t){if(n8=rp(),rr=rm(),t=void 0===t?null:t,null!==rr){var n=rr.memoizedState;if(null!==n&&null!==t){var r=n[1];e:if(null===r)r=!1;else{for(var i=0;i<r.length&&i<t.length;i++)if(!n9(t[i],r[i])){r=!1;break e}r=!0}if(r)return n[0]}}return e=e(),rr.memoizedState=[e,t],e}function rx(e,t,n){if(25<=rh)throw Error(a(301));if(e===n8)if(ra=!0,e={action:n,next:null},null===rd&&(rd=new Map),void 0===(n=rd.get(t)))rd.set(t,e);else{for(t=n;null!==t.next;)t=t.next;t.next=e}}function r_(){throw Error(a(394))}function rE(){throw Error(a(479))}function rT(e,t,n){rp();var r=ro++,i=re;if("function"==typeof e.$$FORM_ACTION){var a=null,s=rt;i=i.formState;var o=e.$$IS_SIGNATURE_EQUAL;if(null!==i&&"function"==typeof o){var l=i[1];o.call(e,i[2],i[3])&&l===(a=void 0!==n?"p"+n:"k"+w(JSON.stringify([s,null,r]),0))&&(rl=r,t=i[0])}var c=e.bind(null,t);return e=function(e){c(e)},"function"==typeof c.$$FORM_ACTION&&(e.$$FORM_ACTION=function(e){e=c.$$FORM_ACTION(e),void 0!==n&&(n+="",e.action=n);var t=e.data;return t&&(null===a&&(a=void 0!==n?"p"+n:"k"+w(JSON.stringify([s,null,r]),0)),t.append("$ACTION_KEY",a)),e}),[t,e,!1]}var u=e.bind(null,t);return[t,function(e){u(e)},!1]}function rS(e){var t=rc;rc+=1,null===ru&&(ru=[]);var n=ru,r=e,i=t;switch(void 0===(i=n[i])?n.push(r):i!==r&&(r.then(n5,n5),r=i),r.status){case"fulfilled":return r.value;case"rejected":throw r.reason;default:switch("string"==typeof r.status?r.then(n5,n5):((n=r).status="pending",n.then(function(e){if("pending"===r.status){var t=r;t.status="fulfilled",t.value=e}},function(e){if("pending"===r.status){var t=r;t.status="rejected",t.reason=e}})),r.status){case"fulfilled":return r.value;case"rejected":throw r.reason}throw n4=r,n3}}function rw(){throw Error(a(393))}var rC,rA,rN={readContext:function(e){return e._currentValue},use:function(e){if(null!==e&&"object"==typeof e){if("function"==typeof e.then)return rS(e);if(e.$$typeof===h)return e._currentValue}throw Error(a(438,String(e)))},useContext:function(e){return rp(),e._currentValue},useMemo:rk,useReducer:rv,useRef:function(e){n8=rp();var t=(rr=rm()).memoizedState;return null===t?(e={current:e},rr.memoizedState=e):t},useState:function(e){return rv(rb,e)},useInsertionEffect:n5,useLayoutEffect:n5,useCallback:function(e,t){return rk(function(){return e},t)},useImperativeHandle:n5,useEffect:n5,useDebugValue:n5,useDeferredValue:function(e,t){return rp(),void 0!==t?t:e},useTransition:function(){return rp(),[!1,r_]},useId:function(){var e=n7.treeContext,t=e.overflow;e=((e=e.id)&~(1<<32-n0(e)-1)).toString(32)+t;var n=rI;if(null===n)throw Error(a(404));return t=rs++,e="_"+n.idPrefix+"R_"+e,0<t&&(e+="H"+t.toString(32)),e+"_"},useSyncExternalStore:function(e,t,n){if(void 0===n)throw Error(a(407));return n()},useOptimistic:function(e){return rp(),[e,rE]},useActionState:rT,useFormState:rT,useHostTransitionStatus:function(){return rp(),ea},useMemoCache:function(e){for(var t=Array(e),n=0;n<e;n++)t[n]=x;return t},useCacheRefresh:function(){return rw}},rI=null,rD={getCacheForType:function(){throw Error(a(248))},cacheSignal:function(){throw Error(a(248))}};function rM(e){if(void 0===rC)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);rC=t&&t[1]||"",rA=-1<e.stack.indexOf("\n    at")?" (<anonymous>)":-1<e.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+rC+e+rA}var rO=!1;function rR(e,t){if(!e||rO)return"";rO=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(e){var r=e}Reflect.construct(e,[],n)}else{try{n.call()}catch(e){r=e}e.call(n.prototype)}}else{try{throw Error()}catch(e){r=e}(n=e())&&"function"==typeof n.catch&&n.catch(function(){})}}catch(e){if(e&&r&&"string"==typeof e.stack)return[e.stack,r.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var a=r.DetermineComponentFrameRoot(),s=a[0],o=a[1];if(s&&o){var l=s.split("\n"),c=o.split("\n");for(i=r=0;r<l.length&&!l[r].includes("DetermineComponentFrameRoot");)r++;for(;i<c.length&&!c[i].includes("DetermineComponentFrameRoot");)i++;if(r===l.length||i===c.length)for(r=l.length-1,i=c.length-1;1<=r&&0<=i&&l[r]!==c[i];)i--;for(;1<=r&&0<=i;r--,i--)if(l[r]!==c[i]){if(1!==r||1!==i)do if(r--,i--,0>i||l[r]!==c[i]){var u="\n"+l[r].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}while(1<=r&&0<=i)break}}}finally{rO=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?rM(n):""}function rP(e,t){return 500<t.byteSize&&null===t.contentPreamble}function rL(e){if("object"==typeof e&&null!==e&&"string"==typeof e.environmentName){var t=e.environmentName;"string"==typeof(e=[e])[0]?e.splice(0,1,"%c%s%c "+e[0],"background: #e6e6e6;background: light-dark(rgba(0,0,0,0.1), rgba(255,255,255,0.25));color: #000000;color: light-dark(#000000, #ffffff);border-radius: 2px"," "+t+" ",""):e.splice(0,0,"%c%s%c","background: #e6e6e6;background: light-dark(rgba(0,0,0,0.1), rgba(255,255,255,0.25));color: #000000;color: light-dark(#000000, #ffffff);border-radius: 2px"," "+t+" ",""),e.unshift(console),(t=nG.apply(console.error,e))()}else console.error(e);return null}function rF(e,t,n,r,i,a,s,o,l,c,u){var d=new Set;this.destination=null,this.flushScheduled=!1,this.resumableState=e,this.renderState=t,this.rootFormatContext=n,this.progressiveChunkSize=void 0===r?12800:r,this.status=10,this.fatalError=null,this.pendingRootTasks=this.allPendingTasks=this.nextSegmentId=0,this.completedPreambleSegments=this.completedRootSegment=null,this.byteSize=0,this.abortableTasks=d,this.pingedTasks=[],this.clientRenderedBoundaries=[],this.completedBoundaries=[],this.partialBoundaries=[],this.trackedPostpones=null,this.onError=void 0===i?rL:i,this.onPostpone=void 0===c?n5:c,this.onAllReady=void 0===a?n5:a,this.onShellReady=void 0===s?n5:s,this.onShellError=void 0===o?n5:o,this.onFatalError=void 0===l?n5:l,this.formState=void 0===u?null:u}function rj(e,t,n,r,i,a,s,o,l,c,u,d){return(n=rG(t=new rF(t,n,r,i,a,s,o,l,c,u,d),0,null,r,!1,!1)).parentFlushed=!0,rq(e=rz(t,null,e,-1,null,n,null,null,t.abortableTasks,null,r,null,nQ,null,null)),t.pingedTasks.push(e),t}var rB=null;function rH(e,t){e.pingedTasks.push(t),1===e.pingedTasks.length&&(e.flushScheduled=null!==e.destination,null!==e.trackedPostpones||10===e.status?M(function(){return id(e)}):N(function(){return id(e)}))}function rU(e,t,n,r,i){return n={status:0,rootSegmentID:-1,parentFlushed:!1,pendingTasks:0,row:t,completedSegments:[],byteSize:0,fallbackAbortableTasks:n,errorDigest:null,contentState:nR(),fallbackState:nR(),contentPreamble:r,fallbackPreamble:i,trackedContentKeyPath:null,trackedFallbackNode:null},null!==t&&(t.pendingTasks++,null!==(r=t.boundaries)&&(e.allPendingTasks++,n.pendingTasks++,r.push(n)),null!==(e=t.inheritedHoistables)&&nV(n.contentState,e)),n}function rz(e,t,n,r,i,a,s,o,l,c,u,d,h,p,f){e.allPendingTasks++,null===i?e.pendingRootTasks++:i.pendingTasks++,null!==p&&p.pendingTasks++;var m={replay:null,node:n,childIndex:r,ping:function(){return rH(e,m)},blockedBoundary:i,blockedSegment:a,blockedPreamble:s,hoistableState:o,abortSet:l,keyPath:c,formatContext:u,context:d,treeContext:h,row:p,componentStack:f,thenableState:t};return l.add(m),m}function rV(e,t,n,r,i,a,s,o,l,c,u,d,h,p){e.allPendingTasks++,null===a?e.pendingRootTasks++:a.pendingTasks++,null!==h&&h.pendingTasks++,n.pendingTasks++;var f={replay:n,node:r,childIndex:i,ping:function(){return rH(e,f)},blockedBoundary:a,blockedSegment:null,blockedPreamble:null,hoistableState:s,abortSet:o,keyPath:l,formatContext:c,context:u,treeContext:d,row:h,componentStack:p,thenableState:t};return o.add(f),f}function rG(e,t,n,r,i,a){return{status:0,parentFlushed:!1,id:-1,index:t,chunks:[],children:[],preambleChildren:[],parentFormatContext:r,boundary:n,lastPushedText:i,textEmbedded:a}}function rq(e){var t=e.node;"object"==typeof t&&null!==t&&t.$$typeof===s&&(e.componentStack={parent:e.componentStack,type:t.type})}function rZ(e){return null===e?null:{parent:e.parent,type:"Suspense Fallback"}}function r$(e){var t={};return e&&Object.defineProperty(t,"componentStack",{configurable:!0,enumerable:!0,get:function(){try{var n="",r=e;do n+=function e(t){if("string"==typeof t)return rM(t);if("function"==typeof t)return t.prototype&&t.prototype.isReactComponent?rR(t,!0):rR(t,!1);if("object"==typeof t&&null!==t){switch(t.$$typeof){case p:return rR(t.render,!1);case g:return rR(t.type,!1);case y:var n=t,r=n._payload;n=n._init;try{t=n(r)}catch(e){return rM("Lazy")}return e(t)}if("string"==typeof t.name){e:{r=t.name,n=t.env;var i=t.debugLocation;if(null!=i&&(t=Error.prepareStackTrace,Error.prepareStackTrace=void 0,i=i.stack,Error.prepareStackTrace=t,i.startsWith("Error: react-stack-top-frame\n")&&(i=i.slice(29)),-1!==(t=i.indexOf("\n"))&&(i=i.slice(t+1)),-1!==(t=i.indexOf("react_stack_bottom_frame"))&&(t=i.lastIndexOf("\n",t)),-1!==(t=-1===(i=(t=-1!==t?i=i.slice(0,t):"").lastIndexOf("\n"))?t:t.slice(i+1)).indexOf(r))){r="\n"+t;break e}r=rM(r+(n?" ["+n+"]":""))}return r}}switch(t){case m:return rM("SuspenseList");case f:return rM("Suspense")}return""}(r.type),r=r.parent;while(r)var i=n}catch(e){i="\nError generating stack: "+e.message+"\n"+e.stack}return Object.defineProperty(t,"componentStack",{value:i}),i}}),t}function rW(e,t,n){if(null==(t=(e=e.onError)(t,n))||"string"==typeof t)return t}function rY(e,t){var n=e.onShellError,r=e.onFatalError;n(t),r(t),null!==e.destination?(e.status=14,z(e.destination,t)):(e.status=13,e.fatalError=t)}function rK(e,t){rJ(e,t.next,t.hoistables)}function rJ(e,t,n){for(;null!==t;){null!==n&&(nV(t.hoistables,n),t.inheritedHoistables=n);var r=t.boundaries;if(null!==r){t.boundaries=null;for(var i=0;i<r.length;i++){var a=r[i];null!==n&&nV(a.contentState,n),iu(e,a,null,null)}}if(t.pendingTasks--,0<t.pendingTasks)break;n=t.hoistables,t=t.next}}function rQ(e,t){var n=t.boundaries;if(null!==n&&t.pendingTasks===n.length){for(var r=!0,i=0;i<n.length;i++){var a=n[i];if(1!==a.pendingTasks||a.parentFlushed||rP(e,a)){r=!1;break}}r&&rJ(e,t,t.hoistables)}}function rX(e){var t={pendingTasks:1,boundaries:null,hoistables:nR(),inheritedHoistables:null,together:!1,next:null};return null!==e&&0<e.pendingTasks&&(t.pendingTasks++,t.boundaries=[],e.next=t),t}function r0(e,t,n,r,i){var a=t.keyPath,s=t.treeContext,o=t.row;t.keyPath=n,n=r.length;var l=null;if(null!==t.replay){var c=t.replay.slots;if(null!==c&&"object"==typeof c)for(var u=0;u<n;u++){var d="backwards"!==i&&"unstable_legacy-backwards"!==i?u:n-1-u,h=r[d];t.row=l=rX(l),t.treeContext=nX(s,n,d);var p=c[d];"number"==typeof p?(r3(e,t,p,h,d),delete c[d]):it(e,t,h,d),0==--l.pendingTasks&&rK(e,l)}else for(c=0;c<n;c++)d=r[u="backwards"!==i&&"unstable_legacy-backwards"!==i?c:n-1-c],t.row=l=rX(l),t.treeContext=nX(s,n,u),it(e,t,d,u),0==--l.pendingTasks&&rK(e,l)}else if("backwards"!==i&&"unstable_legacy-backwards"!==i)for(i=0;i<n;i++)c=r[i],t.row=l=rX(l),t.treeContext=nX(s,n,i),it(e,t,c,i),0==--l.pendingTasks&&rK(e,l);else{for(c=(i=t.blockedSegment).children.length,u=i.chunks.length,d=n-1;0<=d;d--){h=r[d],t.row=l=rX(l),t.treeContext=nX(s,n,d),p=rG(e,u,null,t.formatContext,0!==d||i.lastPushedText,!0),i.children.splice(c,0,p),t.blockedSegment=p;try{it(e,t,h,d),p.lastPushedText&&p.textEmbedded&&p.chunks.push(eD),p.status=1,ic(e,t.blockedBoundary,p),0==--l.pendingTasks&&rK(e,l)}catch(t){throw p.status=12===e.status?3:4,t}}t.blockedSegment=i,i.lastPushedText=!1}null!==o&&null!==l&&0<l.pendingTasks&&(o.pendingTasks++,l.next=o),t.treeContext=s,t.row=o,t.keyPath=a}function r1(e,t,n,r,i,a){var s=t.thenableState;for(t.thenableState=null,n8={},n7=t,re=e,rt=n,ro=rs=0,rl=-1,rc=0,ru=s,e=r(i,a);ra;)ra=!1,ro=rs=0,rl=-1,rc=0,rh+=1,rr=null,e=r(i,a);return ry(),e}function r2(e,t,n,r,i,a,s){var o=!1;if(0!==a&&null!==e.formState){var l=t.blockedSegment;if(null!==l){o=!0,l=l.chunks;for(var c=0;c<a;c++)c===s?l.push(e5):l.push(e3)}}a=t.keyPath,t.keyPath=n,i?(n=t.treeContext,t.treeContext=nX(n,1,0),it(e,t,r,-1),t.treeContext=n):o?it(e,t,r,-1):r4(e,t,r,-1),t.keyPath=a}function r5(e,t,n,i,s,o){if("function"==typeof i)if(i.prototype&&i.prototype.isReactComponent){var x=s;if("ref"in s)for(var E in x={},s)"ref"!==E&&(x[E]=s[E]);var w=i.defaultProps;if(w)for(var C in x===s&&(x=V({},x,s)),w)void 0===x[C]&&(x[C]=w[C]);s=x,x=n$,"object"==typeof(w=i.contextType)&&null!==w&&(x=w._currentValue);var A=void 0!==(x=new i(s,x)).state?x.state:null;if(x.updater=nJ,x.props=s,x.state=A,w={queue:[],replace:!1},x._reactInternals=w,o=i.contextType,x.context="object"==typeof o&&null!==o?o._currentValue:n$,"function"==typeof(o=i.getDerivedStateFromProps)&&(A=null==(o=o(s,A))?A:V({},A,o),x.state=A),"function"!=typeof i.getDerivedStateFromProps&&"function"!=typeof x.getSnapshotBeforeUpdate&&("function"==typeof x.UNSAFE_componentWillMount||"function"==typeof x.componentWillMount))if(i=x.state,"function"==typeof x.componentWillMount&&x.componentWillMount(),"function"==typeof x.UNSAFE_componentWillMount&&x.UNSAFE_componentWillMount(),i!==x.state&&nJ.enqueueReplaceState(x,x.state,null),null!==w.queue&&0<w.queue.length)if(i=w.queue,o=w.replace,w.queue=null,w.replace=!1,o&&1===i.length)x.state=i[0];else{for(w=o?i[0]:x.state,A=!0,o=+!!o;o<i.length;o++)null!=(C="function"==typeof(C=i[o])?C.call(x,w,s,void 0):C)&&(A?(A=!1,w=V({},w,C)):V(w,C));x.state=w}else w.queue=null;if(i=x.render(),12===e.status)throw null;s=t.keyPath,t.keyPath=n,r4(e,t,i,-1),t.keyPath=s}else{if(i=r1(e,t,n,i,s,void 0),12===e.status)throw null;r2(e,t,n,i,0!==rs,ro,rl)}else if("string"==typeof i)if(null===(x=t.blockedSegment))x=s.children,w=t.formatContext,A=t.keyPath,t.formatContext=eC(w,i,s),t.keyPath=n,it(e,t,x,-1),t.formatContext=w,t.keyPath=A;else{if(A=function(e,t,n,i,s,o,l,c,u){switch(t){case"div":case"span":case"svg":case"path":case"g":case"p":case"li":case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":break;case"a":e.push(tc("a"));var d,h=null,p=null;for(d in n)if(G.call(n,d)){var f=n[d];if(null!=f)switch(d){case"children":h=f;break;case"dangerouslySetInnerHTML":p=f;break;case"href":""===f?eV(e,"href",""):eK(e,d,f);break;default:eK(e,d,f)}}if(e.push(eJ),eX(e,p,h),"string"==typeof h){e.push(B(Q(h)));var m=null}else m=h;return m;case"select":e.push(tc("select"));var g,y=null,b=null;for(g in n)if(G.call(n,g)){var v=n[g];if(null!=v)switch(g){case"children":y=v;break;case"dangerouslySetInnerHTML":b=v;break;case"defaultValue":case"value":break;default:eK(e,g,v)}}return e.push(eJ),eX(e,b,y),y;case"option":var k=c.selectedValue;e.push(tc("option"));var x,_=null,E=null,T=null,w=null;for(x in n)if(G.call(n,x)){var C=n[x];if(null!=C)switch(x){case"children":_=C;break;case"selected":T=C;break;case"dangerouslySetInnerHTML":w=C;break;case"value":E=C;default:eK(e,x,C)}}if(null!=k){var A,N,I=null!==E?""+E:(A=_,N="",r.Children.forEach(A,function(e){null!=e&&(N+=e)}),N);if(S(k)){for(var D=0;D<k.length;D++)if(""+k[D]===I){e.push(e0);break}}else""+k===I&&e.push(e0)}else T&&e.push(e0);return e.push(eJ),eX(e,w,_),_;case"textarea":e.push(tc("textarea"));var M,O=null,R=null,P=null;for(M in n)if(G.call(n,M)){var L=n[M];if(null!=L)switch(M){case"children":P=L;break;case"value":O=L;break;case"defaultValue":R=L;break;case"dangerouslySetInnerHTML":throw Error(a(91));default:eK(e,M,L)}}if(null===O&&null!==R&&(O=R),e.push(eJ),null!=P){if(null!=O)throw Error(a(92));if(S(P)){if(1<P.length)throw Error(a(93));O=""+P[0]}O=""+P}return"string"==typeof O&&"\n"===O[0]&&e.push(ts),null!==O&&e.push(B(Q(""+O))),null;case"input":e.push(tc("input"));var F,j=null,H=null,U=null,z=null,q=null,Z=null,$=null,Y=null,K=null;for(F in n)if(G.call(n,F)){var J=n[F];if(null!=J)switch(F){case"children":case"dangerouslySetInnerHTML":throw Error(a(399,"input"));case"name":j=J;break;case"formAction":H=J;break;case"formEncType":U=J;break;case"formMethod":z=J;break;case"formTarget":q=J;break;case"defaultChecked":K=J;break;case"defaultValue":$=J;break;case"checked":Y=J;break;case"value":Z=J;break;default:eK(e,F,J)}}var X=eY(e,i,s,H,U,z,q,j);return null!==Y?ez(e,"checked",Y):null!==K&&ez(e,"checked",K),null!==Z?eK(e,"value",Z):null!==$&&eK(e,"value",$),e.push(eQ),null!=X&&X.forEach(eZ,e),null;case"button":e.push(tc("button"));var ee,et=null,er=null,ei=null,ea=null,es=null,el=null,ec=null;for(ee in n)if(G.call(n,ee)){var eu=n[ee];if(null!=eu)switch(ee){case"children":et=eu;break;case"dangerouslySetInnerHTML":er=eu;break;case"name":ei=eu;break;case"formAction":ea=eu;break;case"formEncType":es=eu;break;case"formMethod":el=eu;break;case"formTarget":ec=eu;break;default:eK(e,ee,eu)}}var ed=eY(e,i,s,ea,es,el,ec,ei);if(e.push(eJ),null!=ed&&ed.forEach(eZ,e),eX(e,er,et),"string"==typeof et){e.push(B(Q(et)));var eh=null}else eh=et;return eh;case"form":e.push(tc("form"));var ep,ef=null,em=null,eg=null,ey=null,eb=null,ev=null;for(ep in n)if(G.call(n,ep)){var ek=n[ep];if(null!=ek)switch(ep){case"children":ef=ek;break;case"dangerouslySetInnerHTML":em=ek;break;case"action":eg=ek;break;case"encType":ey=ek;break;case"method":eb=ek;break;case"target":ev=ek;break;default:eK(e,ep,ek)}}var ex=null,e_=null;if("function"==typeof eg){var eE=eW(i,eg);null!==eE?(eg=eE.action||"",ey=eE.encType,eb=eE.method,ev=eE.target,ex=eE.data,e_=eE.name):(e.push(ej,B("action"),eB,eG,eH),ev=eb=ey=eg=null,e2(i,s))}if(null!=eg&&eK(e,"action",eg),null!=ey&&eK(e,"encType",ey),null!=eb&&eK(e,"method",eb),null!=ev&&eK(e,"target",ev),e.push(eJ),null!==e_&&(e.push(eq),eV(e,"name",e_),e.push(eQ),null!=ex&&ex.forEach(eZ,e)),eX(e,em,ef),"string"==typeof ef){e.push(B(Q(ef)));var eT=null}else eT=ef;return eT;case"menuitem":for(var eS in e.push(tc("menuitem")),n)if(G.call(n,eS)){var ew=n[eS];if(null!=ew)switch(eS){case"children":case"dangerouslySetInnerHTML":throw Error(a(400));default:eK(e,eS,ew)}}return e.push(eJ),null;case"object":e.push(tc("object"));var eC,eA=null,eN=null;for(eC in n)if(G.call(n,eC)){var eI=n[eC];if(null!=eI)switch(eC){case"children":eA=eI;break;case"dangerouslySetInnerHTML":eN=eI;break;case"data":var eM=en(""+eI);if(""===eM)break;e.push(ej,B("data"),eB,B(Q(eM)),eH);break;default:eK(e,eC,eI)}}if(e.push(eJ),eX(e,eN,eA),"string"==typeof eA){e.push(B(Q(eA)));var eO=null}else eO=eA;return eO;case"title":var eR=1&c.tagScope,eP=4&c.tagScope;if(4===c.insertionMode||eR||null!=n.itemProp)var eL=e7(e,n);else eP?eL=null:(e7(s.hoistableChunks,n),eL=void 0);return eL;case"link":var eU=1&c.tagScope,e$=4&c.tagScope,e1=n.rel,e5=n.href,e3=n.precedence;if(4===c.insertionMode||eU||null!=n.itemProp||"string"!=typeof e1||"string"!=typeof e5||""===e5){e4(e,n);var to=null}else if("stylesheet"===n.rel)if("string"!=typeof e3||null!=n.disabled||n.onLoad||n.onError)to=e4(e,n);else{var tl=s.styles.get(e3),td=i.styleResources.hasOwnProperty(e5)?i.styleResources[e5]:void 0;if(null!==td){i.styleResources[e5]=null,tl||(tl={precedence:B(Q(e3)),rules:[],hrefs:[],sheets:new Map},s.styles.set(e3,tl));var tp={state:0,props:V({},n,{"data-precedence":n.precedence,precedence:null})};if(td){2===td.length&&nP(tp.props,td);var tf=s.preloads.stylesheets.get(e5);tf&&0<tf.length?tf.length=0:tp.state=1}tl.sheets.set(e5,tp),l&&l.stylesheets.add(tp)}else if(tl){var tm=tl.sheets.get(e5);tm&&l&&l.stylesheets.add(tm)}u&&e.push(eD),to=null}else n.onLoad||n.onError?to=e4(e,n):(u&&e.push(eD),to=e$?null:e4(s.hoistableChunks,n));return to;case"script":var tg=1&c.tagScope,ty=n.async;if("string"!=typeof n.src||!n.src||!ty||"function"==typeof ty||"symbol"==typeof ty||n.onLoad||n.onError||4===c.insertionMode||tg||null!=n.itemProp)var tb=tr(e,n);else{var tv=n.src;if("module"===n.type)var tk=i.moduleScriptResources,tx=s.preloads.moduleScripts;else tk=i.scriptResources,tx=s.preloads.scripts;var t_=tk.hasOwnProperty(tv)?tk[tv]:void 0;if(null!==t_){tk[tv]=null;var tE=n;if(t_){2===t_.length&&nP(tE=V({},n),t_);var tT=tx.get(tv);tT&&(tT.length=0)}var tS=[];s.scripts.add(tS),tr(tS,tE)}u&&e.push(eD),tb=null}return tb;case"style":var tw=1&c.tagScope,tC=n.precedence,tA=n.href,tN=n.nonce;if(4===c.insertionMode||tw||null!=n.itemProp||"string"!=typeof tC||"string"!=typeof tA||""===tA){e.push(tc("style"));var tI,tD=null,tM=null;for(tI in n)if(G.call(n,tI)){var tO=n[tI];if(null!=tO)switch(tI){case"children":tD=tO;break;case"dangerouslySetInnerHTML":tM=tO;break;default:eK(e,tI,tO)}}e.push(eJ);var tR=Array.isArray(tD)?2>tD.length?tD[0]:null:tD;"function"!=typeof tR&&"symbol"!=typeof tR&&null!=tR&&e.push(B((""+tR).replace(e6,e9))),eX(e,tM,tD),e.push(th("style"));var tP=null}else{var tL=s.styles.get(tC);if(null!==(i.styleResources.hasOwnProperty(tA)?i.styleResources[tA]:void 0)){i.styleResources[tA]=null,tL||(tL={precedence:B(Q(tC)),rules:[],hrefs:[],sheets:new Map},s.styles.set(tC,tL));var tF=s.nonce.style;if(!tF||tF===tN){tL.hrefs.push(B(Q(tA)));var tj,tB=tL.rules,tH=null,tU=null;for(tj in n)if(G.call(n,tj)){var tz=n[tj];if(null!=tz)switch(tj){case"children":tH=tz;break;case"dangerouslySetInnerHTML":tU=tz}}var tV=Array.isArray(tH)?2>tH.length?tH[0]:null:tH;"function"!=typeof tV&&"symbol"!=typeof tV&&null!=tV&&tB.push(B((""+tV).replace(e6,e9))),eX(tB,tU,tH)}}tL&&l&&l.styles.add(tL),u&&e.push(eD),tP=void 0}return tP;case"meta":var tG=1&c.tagScope,tq=4&c.tagScope;if(4===c.insertionMode||tG||null!=n.itemProp)var tZ=e8(e,n,"meta");else u&&e.push(eD),tZ=tq?null:"string"==typeof n.charSet?e8(s.charsetChunks,n,"meta"):"viewport"===n.name?e8(s.viewportChunks,n,"meta"):e8(s.hoistableChunks,n,"meta");return tZ;case"listing":case"pre":e.push(tc(t));var t$,tW=null,tY=null;for(t$ in n)if(G.call(n,t$)){var tK=n[t$];if(null!=tK)switch(t$){case"children":tW=tK;break;case"dangerouslySetInnerHTML":tY=tK;break;default:eK(e,t$,tK)}}if(e.push(eJ),null!=tY){if(null!=tW)throw Error(a(60));if("object"!=typeof tY||!("__html"in tY))throw Error(a(61));var tJ=tY.__html;null!=tJ&&("string"==typeof tJ&&0<tJ.length&&"\n"===tJ[0]?e.push(ts,B(tJ)):e.push(B(""+tJ)))}return"string"==typeof tW&&"\n"===tW[0]&&e.push(ts),tW;case"img":var tQ=3&c.tagScope,tX=n.src,t0=n.srcSet;if(!("lazy"===n.loading||!tX&&!t0||"string"!=typeof tX&&null!=tX||"string"!=typeof t0&&null!=t0||"low"===n.fetchPriority||tQ)&&("string"!=typeof tX||":"!==tX[4]||"d"!==tX[0]&&"D"!==tX[0]||"a"!==tX[1]&&"A"!==tX[1]||"t"!==tX[2]&&"T"!==tX[2]||"a"!==tX[3]&&"A"!==tX[3])&&("string"!=typeof t0||":"!==t0[4]||"d"!==t0[0]&&"D"!==t0[0]||"a"!==t0[1]&&"A"!==t0[1]||"t"!==t0[2]&&"T"!==t0[2]||"a"!==t0[3]&&"A"!==t0[3])){var t1="string"==typeof n.sizes?n.sizes:void 0,t2=t0?t0+"\n"+(t1||""):tX,t5=s.preloads.images,t3=t5.get(t2);if(t3)("high"===n.fetchPriority||10>s.highImagePreloads.size)&&(t5.delete(t2),s.highImagePreloads.add(t3));else if(!i.imageResources.hasOwnProperty(t2)){i.imageResources[t2]=eo;var t4,t6=n.crossOrigin,t9="string"==typeof t6?"use-credentials"===t6?t6:"":void 0,t8=s.headers;t8&&0<t8.remainingCapacity&&"string"!=typeof n.srcSet&&("high"===n.fetchPriority||500>t8.highImagePreloads.length)&&(t4=nL(tX,"image",{imageSrcSet:n.srcSet,imageSizes:n.sizes,crossOrigin:t9,integrity:n.integrity,nonce:n.nonce,type:n.type,fetchPriority:n.fetchPriority,referrerPolicy:n.refererPolicy}),0<=(t8.remainingCapacity-=t4.length+2))?(s.resets.image[t2]=eo,t8.highImagePreloads&&(t8.highImagePreloads+=", "),t8.highImagePreloads+=t4):(e4(t3=[],{rel:"preload",as:"image",href:t0?void 0:tX,imageSrcSet:t0,imageSizes:t1,crossOrigin:t9,integrity:n.integrity,type:n.type,fetchPriority:n.fetchPriority,referrerPolicy:n.referrerPolicy}),"high"===n.fetchPriority||10>s.highImagePreloads.size?s.highImagePreloads.add(t3):(s.bulkPreloads.add(t3),t5.set(t2,t3)))}}return e8(e,n,"img");case"base":case"area":case"br":case"col":case"embed":case"hr":case"keygen":case"param":case"source":case"track":case"wbr":return e8(e,n,t);case"head":if(2>c.insertionMode){var t7=o||s.preamble;if(t7.headChunks)throw Error(a(545,"`<head>`"));null!==o&&e.push(te),t7.headChunks=[];var ne=ti(t7.headChunks,n,"head")}else ne=ta(e,n,"head");return ne;case"body":if(2>c.insertionMode){var nt=o||s.preamble;if(nt.bodyChunks)throw Error(a(545,"`<body>`"));null!==o&&e.push(tt),nt.bodyChunks=[];var nn=ti(nt.bodyChunks,n,"body")}else nn=ta(e,n,"body");return nn;case"html":if(0===c.insertionMode){var nr=o||s.preamble;if(nr.htmlChunks)throw Error(a(545,"`<html>`"));null!==o&&e.push(tn),nr.htmlChunks=[tu];var ni=ti(nr.htmlChunks,n,"html")}else ni=ta(e,n,"html");return ni;default:if(-1!==t.indexOf("-")){e.push(tc(t));var na,ns=null,no=null;for(na in n)if(G.call(n,na)){var nl=n[na];if(null!=nl){var nc=na;switch(na){case"children":ns=nl;break;case"dangerouslySetInnerHTML":no=nl;break;case"style":eF(e,nl);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"ref":break;case"className":nc="class";default:if(W(na)&&"function"!=typeof nl&&"symbol"!=typeof nl&&!1!==nl){if(!0===nl)nl="";else if("object"==typeof nl)continue;e.push(ej,B(nc),eB,B(Q(nl)),eH)}}}}return e.push(eJ),eX(e,no,ns),ns}}return ta(e,n,t)}(x.chunks,i,s,e.resumableState,e.renderState,t.blockedPreamble,t.hoistableState,t.formatContext,x.lastPushedText),x.lastPushedText=!1,w=t.formatContext,o=t.keyPath,t.keyPath=n,3===(t.formatContext=eC(w,i,s)).insertionMode){n=rG(e,0,null,t.formatContext,!1,!1),x.preambleChildren.push(n),t.blockedSegment=n;try{n.status=6,it(e,t,A,-1),n.lastPushedText&&n.textEmbedded&&n.chunks.push(eD),n.status=1,ic(e,t.blockedBoundary,n)}finally{t.blockedSegment=x}}else it(e,t,A,-1);t.formatContext=w,t.keyPath=o;e:{switch(t=x.chunks,e=e.resumableState,i){case"title":case"style":case"script":case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"input":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":break e;case"body":if(1>=w.insertionMode){e.hasBody=!0;break e}break;case"html":if(0===w.insertionMode){e.hasHtml=!0;break e}break;case"head":if(1>=w.insertionMode)break e}t.push(th(i))}x.lastPushedText=!1}else{switch(i){case k:case c:case u:case l:i=t.keyPath,t.keyPath=n,r4(e,t,s.children,-1),t.keyPath=i;return;case v:null===(i=t.blockedSegment)?"hidden"!==s.mode&&(i=t.keyPath,t.keyPath=n,it(e,t,s.children,-1),t.keyPath=i):"hidden"!==s.mode&&(i.chunks.push(tb),i.lastPushedText=!1,x=t.keyPath,t.keyPath=n,it(e,t,s.children,-1),t.keyPath=x,i.chunks.push(tv),i.lastPushedText=!1);return;case m:e:{if(i=s.children,"forwards"===(s=s.revealOrder)||"backwards"===s||"unstable_legacy-backwards"===s){if(S(i)){r0(e,t,n,i,s);break e}if((x=T(i))&&(x=x.call(i))){if(!(w=x.next()).done){do w=x.next();while(!w.done)r0(e,t,n,i,s)}break e}}"together"===s?(s=t.keyPath,x=t.row,(w=t.row=rX(null)).boundaries=[],w.together=!0,t.keyPath=n,r4(e,t,i,-1),0==--w.pendingTasks&&rK(e,w),t.keyPath=s,t.row=x,null!==x&&0<w.pendingTasks&&(x.pendingTasks++,w.next=x)):(s=t.keyPath,t.keyPath=n,r4(e,t,i,-1),t.keyPath=s)}return;case _:case b:throw Error(a(343));case f:e:if(null!==t.replay){i=t.keyPath,x=t.formatContext,w=t.row,t.keyPath=n,t.formatContext=eI(e.resumableState,x),t.row=null,n=s.children;try{it(e,t,n,-1)}finally{t.keyPath=i,t.formatContext=x,t.row=w}}else{i=t.keyPath,o=t.formatContext;var N=t.row;C=t.blockedBoundary,E=t.blockedPreamble;var I=t.hoistableState,D=t.blockedSegment,M=s.fallback;s=s.children;var O=new Set,R=2>t.formatContext.insertionMode?rU(e,t.row,O,eT(),eT()):rU(e,t.row,O,null,null);null!==e.trackedPostpones&&(R.trackedContentKeyPath=n);var P=rG(e,D.chunks.length,R,t.formatContext,!1,!1);D.children.push(P),D.lastPushedText=!1;var L=rG(e,0,null,t.formatContext,!1,!1);if(L.parentFlushed=!0,null!==e.trackedPostpones){x=t.componentStack,A=[(w=[n[0],"Suspense Fallback",n[2]])[1],w[2],[],null],e.trackedPostpones.workingMap.set(w,A),R.trackedFallbackNode=A,t.blockedSegment=P,t.blockedPreamble=R.fallbackPreamble,t.keyPath=w,t.formatContext=eN(e.resumableState,o),t.componentStack=rZ(x),P.status=6;try{it(e,t,M,-1),P.lastPushedText&&P.textEmbedded&&P.chunks.push(eD),P.status=1,ic(e,C,P)}catch(t){throw P.status=12===e.status?3:4,t}finally{t.blockedSegment=D,t.blockedPreamble=E,t.keyPath=i,t.formatContext=o}rq(t=rz(e,null,s,-1,R,L,R.contentPreamble,R.contentState,t.abortSet,n,eI(e.resumableState,t.formatContext),t.context,t.treeContext,null,x)),e.pingedTasks.push(t)}else{t.blockedBoundary=R,t.blockedPreamble=R.contentPreamble,t.hoistableState=R.contentState,t.blockedSegment=L,t.keyPath=n,t.formatContext=eI(e.resumableState,o),t.row=null,L.status=6;try{if(it(e,t,s,-1),L.lastPushedText&&L.textEmbedded&&L.chunks.push(eD),L.status=1,ic(e,R,L),il(R,L),0===R.pendingTasks&&0===R.status){if(R.status=1,!rP(e,R)){null!==N&&0==--N.pendingTasks&&rK(e,N),0===e.pendingRootTasks&&t.blockedPreamble&&im(e);break e}}else null!==N&&N.together&&rQ(e,N)}catch(n){R.status=4,12===e.status?(L.status=3,x=e.fatalError):(L.status=4,x=n),R.errorDigest=A=rW(e,x,w=r$(t.componentStack)),r8(e,R)}finally{t.blockedBoundary=C,t.blockedPreamble=E,t.hoistableState=I,t.blockedSegment=D,t.keyPath=i,t.formatContext=o,t.row=N}rq(t=rz(e,null,M,-1,C,P,R.fallbackPreamble,R.fallbackState,O,[n[0],"Suspense Fallback",n[2]],eN(e.resumableState,t.formatContext),t.context,t.treeContext,t.row,rZ(t.componentStack))),e.pingedTasks.push(t)}}return}if("object"==typeof i&&null!==i)switch(i.$$typeof){case p:if("ref"in s)for(D in x={},s)"ref"!==D&&(x[D]=s[D]);else x=s;i=r1(e,t,n,i.render,x,o),r2(e,t,n,i,0!==rs,ro,rl);return;case g:r5(e,t,n,i.type,s,o);return;case h:if(w=s.children,x=t.keyPath,s=s.value,A=i._currentValue,i._currentValue=s,nW=i={parent:o=nW,depth:null===o?0:o.depth+1,context:i,parentValue:A,value:s},t.context=i,t.keyPath=n,r4(e,t,w,-1),null===(e=nW))throw Error(a(403));e.context._currentValue=e.parentValue,e=nW=e.parent,t.context=e,t.keyPath=x;return;case d:i=(s=s.children)(i._context._currentValue),s=t.keyPath,t.keyPath=n,r4(e,t,i,-1),t.keyPath=s;return;case y:if(i=(x=i._init)(i._payload),12===e.status)throw null;r5(e,t,n,i,s,o);return}throw Error(a(130,null==i?i:typeof i,""))}}function r3(e,t,n,r,i){var a=t.replay,s=t.blockedBoundary,o=rG(e,0,null,t.formatContext,!1,!1);o.id=n,o.parentFlushed=!0;try{t.replay=null,t.blockedSegment=o,it(e,t,r,i),o.status=1,ic(e,s,o),null===s?e.completedRootSegment=o:(il(s,o),s.parentFlushed&&e.partialBoundaries.push(s))}finally{t.replay=a,t.blockedSegment=null}}function r4(e,t,n,r){null!==t.replay&&"number"==typeof t.replay.slots?r3(e,t,t.replay.slots,n,r):(t.node=n,t.childIndex=r,n=t.componentStack,rq(t),r6(e,t),t.componentStack=n)}function r6(e,t){var n=t.node,r=t.childIndex;if(null!==n){if("object"==typeof n){switch(n.$$typeof){case s:var i=n.type,l=n.key,c=n.props,u=void 0!==(n=c.ref)?n:null,d=nZ(i),p=null==l?-1===r?0:r:l;if(l=[t.keyPath,d,p],null!==t.replay)e:{var m=t.replay;for(n=0,r=m.nodes;n<r.length;n++){var g=r[n];if(p===g[1]){if(4===g.length){if(null!==d&&d!==g[0])throw Error(a(490,g[0],d));var b=g[2];d=g[3],p=t.node,t.replay={nodes:b,slots:d,pendingTasks:1};try{if(r5(e,t,l,i,c,u),1===t.replay.pendingTasks&&0<t.replay.nodes.length)throw Error(a(488));t.replay.pendingTasks--}catch(a){if("object"==typeof a&&null!==a&&(a===n3||"function"==typeof a.then))throw t.node===p?t.replay=m:r.splice(n,1),a;t.replay.pendingTasks--,c=r$(t.componentStack),l=e,e=t.blockedBoundary,c=rW(l,i=a,c),ii(l,e,b,d,i,c)}t.replay=m}else{if(i!==f)throw Error(a(490,"Suspense",nZ(i)||"Unknown"));t:{m=void 0,i=g[5],u=g[2],d=g[3],p=null===g[4]?[]:g[4][2],g=null===g[4]?null:g[4][3];var v=t.keyPath,k=t.formatContext,x=t.row,_=t.replay,E=t.blockedBoundary,w=t.hoistableState,C=c.children,A=c.fallback,N=new Set;(c=2>t.formatContext.insertionMode?rU(e,t.row,N,eT(),eT()):rU(e,t.row,N,null,null)).parentFlushed=!0,c.rootSegmentID=i,t.blockedBoundary=c,t.hoistableState=c.contentState,t.keyPath=l,t.formatContext=eI(e.resumableState,k),t.row=null,t.replay={nodes:u,slots:d,pendingTasks:1};try{if(it(e,t,C,-1),1===t.replay.pendingTasks&&0<t.replay.nodes.length)throw Error(a(488));if(t.replay.pendingTasks--,0===c.pendingTasks&&0===c.status){c.status=1,e.completedBoundaries.push(c);break t}}catch(n){c.status=4,m=rW(e,n,b=r$(t.componentStack)),c.errorDigest=m,t.replay.pendingTasks--,e.clientRenderedBoundaries.push(c)}finally{t.blockedBoundary=E,t.hoistableState=w,t.replay=_,t.keyPath=v,t.formatContext=k,t.row=x}rq(b=rV(e,null,{nodes:p,slots:g,pendingTasks:0},A,-1,E,c.fallbackState,N,[l[0],"Suspense Fallback",l[2]],eN(e.resumableState,t.formatContext),t.context,t.treeContext,t.row,rZ(t.componentStack))),e.pingedTasks.push(b)}}r.splice(n,1);break e}}}else r5(e,t,l,i,c,u);return;case o:throw Error(a(257));case y:if(n=(b=n._init)(n._payload),12===e.status)throw null;r4(e,t,n,r);return}if(S(n))return void r9(e,t,n,r);if((b=T(n))&&(b=b.call(n))){if(!(n=b.next()).done){c=[];do c.push(n.value),n=b.next();while(!n.done)r9(e,t,c,r)}return}if("function"==typeof n.then)return t.thenableState=null,r4(e,t,rS(n),r);if(n.$$typeof===h)return r4(e,t,n._currentValue,r);throw Error(a(31,"[object Object]"===(r=Object.prototype.toString.call(n))?"object with keys {"+Object.keys(n).join(", ")+"}":r))}"string"==typeof n?null!==(r=t.blockedSegment)&&(r.lastPushedText=eM(r.chunks,n,e.renderState,r.lastPushedText)):("number"==typeof n||"bigint"==typeof n)&&null!==(r=t.blockedSegment)&&(r.lastPushedText=eM(r.chunks,""+n,e.renderState,r.lastPushedText))}}function r9(e,t,n,r){var i=t.keyPath;if(-1!==r&&(t.keyPath=[t.keyPath,"Fragment",r],null!==t.replay)){for(var s=t.replay,o=s.nodes,l=0;l<o.length;l++){var c=o[l];if(c[1]===r){t.replay={nodes:r=c[2],slots:c=c[3],pendingTasks:1};try{if(r9(e,t,n,-1),1===t.replay.pendingTasks&&0<t.replay.nodes.length)throw Error(a(488));t.replay.pendingTasks--}catch(i){if("object"==typeof i&&null!==i&&(i===n3||"function"==typeof i.then))throw i;t.replay.pendingTasks--,n=r$(t.componentStack);var u=t.blockedBoundary;n=rW(e,i,n),ii(e,u,r,c,i,n)}t.replay=s,o.splice(l,1);break}}t.keyPath=i;return}if(s=t.treeContext,o=n.length,null!==t.replay&&null!==(l=t.replay.slots)&&"object"==typeof l){for(r=0;r<o;r++)c=n[r],t.treeContext=nX(s,o,r),"number"==typeof(u=l[r])?(r3(e,t,u,c,r),delete l[r]):it(e,t,c,r);t.treeContext=s,t.keyPath=i;return}for(l=0;l<o;l++)r=n[l],t.treeContext=nX(s,o,l),it(e,t,r,l);t.treeContext=s,t.keyPath=i}function r8(e,t){null!==(e=e.trackedPostpones)&&null!==(t=t.trackedContentKeyPath)&&void 0!==(t=e.workingMap.get(t))&&(t.length=4,t[2]=[],t[3]=null)}function r7(e,t,n){return rV(e,n,t.replay,t.node,t.childIndex,t.blockedBoundary,t.hoistableState,t.abortSet,t.keyPath,t.formatContext,t.context,t.treeContext,t.row,t.componentStack)}function ie(e,t,n){var r=t.blockedSegment,i=rG(e,r.chunks.length,null,t.formatContext,r.lastPushedText,!0);return r.children.push(i),r.lastPushedText=!1,rz(e,n,t.node,t.childIndex,t.blockedBoundary,i,t.blockedPreamble,t.hoistableState,t.abortSet,t.keyPath,t.formatContext,t.context,t.treeContext,t.row,t.componentStack)}function it(e,t,n,r){var i=t.formatContext,a=t.context,s=t.keyPath,o=t.treeContext,l=t.componentStack,c=t.blockedSegment;if(null===c){c=t.replay;try{return r4(e,t,n,r)}catch(u){if(ry(),n=u===n3?n6():u,12!==e.status&&"object"==typeof n&&null!==n){if("function"==typeof n.then){e=r7(e,t,r=u===n3?rg():null).ping,n.then(e,e),t.formatContext=i,t.context=a,t.keyPath=s,t.treeContext=o,t.componentStack=l,t.replay=c,nK(a);return}if("Maximum call stack size exceeded"===n.message){n=r7(e,t,n=u===n3?rg():null),e.pingedTasks.push(n),t.formatContext=i,t.context=a,t.keyPath=s,t.treeContext=o,t.componentStack=l,t.replay=c,nK(a);return}}}}else{var u=c.children.length,d=c.chunks.length;try{return r4(e,t,n,r)}catch(r){if(ry(),c.children.length=u,c.chunks.length=d,n=r===n3?n6():r,12!==e.status&&"object"==typeof n&&null!==n){if("function"==typeof n.then){c=n,e=ie(e,t,n=r===n3?rg():null).ping,c.then(e,e),t.formatContext=i,t.context=a,t.keyPath=s,t.treeContext=o,t.componentStack=l,nK(a);return}if("Maximum call stack size exceeded"===n.message){c=ie(e,t,c=r===n3?rg():null),e.pingedTasks.push(c),t.formatContext=i,t.context=a,t.keyPath=s,t.treeContext=o,t.componentStack=l,nK(a);return}}}}throw t.formatContext=i,t.context=a,t.keyPath=s,t.treeContext=o,nK(a),n}function ir(e){var t=e.blockedBoundary,n=e.blockedSegment;null!==n&&(n.status=3,iu(this,t,e.row,n))}function ii(e,t,n,r,i,s){for(var o=0;o<n.length;o++){var l=n[o];if(4===l.length)ii(e,t,l[2],l[3],i,s);else{l=l[5];var c=rU(e,null,new Set,null,null);c.parentFlushed=!0,c.rootSegmentID=l,c.status=4,c.errorDigest=s,c.parentFlushed&&e.clientRenderedBoundaries.push(c)}}if(n.length=0,null!==r){if(null===t)throw Error(a(487));if(4!==t.status&&(t.status=4,t.errorDigest=s,t.parentFlushed&&e.clientRenderedBoundaries.push(t)),"object"==typeof r)for(var u in r)delete r[u]}}function ia(e,t){try{var n=e.renderState,r=n.onHeaders;if(r){var i=n.headers;if(i){n.headers=null;var a=i.preconnects;if(i.fontPreloads&&(a&&(a+=", "),a+=i.fontPreloads),i.highImagePreloads&&(a&&(a+=", "),a+=i.highImagePreloads),!t){var s=n.styles.values(),o=s.next();t:for(;0<i.remainingCapacity&&!o.done;o=s.next())for(var l=o.value.sheets.values(),c=l.next();0<i.remainingCapacity&&!c.done;c=l.next()){var u=c.value,d=u.props,h=d.href,p=u.props,f=nL(p.href,"style",{crossOrigin:p.crossOrigin,integrity:p.integrity,nonce:p.nonce,type:p.type,fetchPriority:p.fetchPriority,referrerPolicy:p.referrerPolicy,media:p.media});if(0<=(i.remainingCapacity-=f.length+2))n.resets.style[h]=eo,a&&(a+=", "),a+=f,n.resets.style[h]="string"==typeof d.crossOrigin||"string"==typeof d.integrity?[d.crossOrigin,d.integrity]:eo;else break t}}r(a?{Link:a}:{})}}}catch(t){rW(e,t,{})}}function is(e){null===e.trackedPostpones&&ia(e,!0),null===e.trackedPostpones&&im(e),e.onShellError=n5,(e=e.onShellReady)()}function io(e){ia(e,null===e.trackedPostpones||null===e.completedRootSegment||5!==e.completedRootSegment.status),im(e),(e=e.onAllReady)()}function il(e,t){if(0===t.chunks.length&&1===t.children.length&&null===t.children[0].boundary&&-1===t.children[0].id){var n=t.children[0];n.id=t.id,n.parentFlushed=!0,1!==n.status&&3!==n.status&&4!==n.status||il(e,n)}else e.completedSegments.push(t)}function ic(e,t,n){if(null!==U){n=n.chunks;for(var r=0,i=0;i<n.length;i++)r+=n[i].byteLength;null===t?e.byteSize+=r:t.byteSize+=r}}function iu(e,t,n,r){if(null!==n&&(0==--n.pendingTasks?rK(e,n):n.together&&rQ(e,n)),e.allPendingTasks--,null===t){if(null!==r&&r.parentFlushed){if(null!==e.completedRootSegment)throw Error(a(389));e.completedRootSegment=r}e.pendingRootTasks--,0===e.pendingRootTasks&&is(e)}else if(t.pendingTasks--,4!==t.status)if(0===t.pendingTasks){if(0===t.status&&(t.status=1),null!==r&&r.parentFlushed&&(1===r.status||3===r.status)&&il(t,r),t.parentFlushed&&e.completedBoundaries.push(t),1===t.status)null!==(n=t.row)&&nV(n.hoistables,t.contentState),rP(e,t)||(t.fallbackAbortableTasks.forEach(ir,e),t.fallbackAbortableTasks.clear(),null!==n&&0==--n.pendingTasks&&rK(e,n)),0===e.pendingRootTasks&&null===e.trackedPostpones&&null!==t.contentPreamble&&im(e);else if(5===t.status&&null!==(t=t.row)){if(null!==e.trackedPostpones){n=e.trackedPostpones;var i=t.next;if(null!==i&&null!==(r=i.boundaries))for(i.boundaries=null,i=0;i<r.length;i++){var s=r[i],o=e,l=n;if(s.status=5,s.rootSegmentID=o.nextSegmentId++,null===(o=s.trackedContentKeyPath))throw Error(a(486));var c=s.trackedFallbackNode,u=[],d=l.workingMap.get(o);void 0===d?(c=[o[1],o[2],u,null,c,s.rootSegmentID],l.workingMap.set(o,c),function e(t,n,r){if(null===n)r.rootNodes.push(t);else{var i=r.workingMap,a=i.get(n);void 0===a&&(a=[n[1],n[2],[],null],i.set(n,a),e(a,n[0],r)),a[2].push(t)}}(c,o[0],l)):(d[4]=c,d[5]=s.rootSegmentID),iu(e,s,null,null)}}0==--t.pendingTasks&&rK(e,t)}}else null===r||!r.parentFlushed||1!==r.status&&3!==r.status||(il(t,r),1===t.completedSegments.length&&t.parentFlushed&&e.partialBoundaries.push(t)),null!==(t=t.row)&&t.together&&rQ(e,t);0===e.allPendingTasks&&io(e)}function id(e){if(14!==e.status&&13!==e.status){var t=nW,n=er.H;er.H=rN;var r=er.A;er.A=rD;var i=rB;rB=e;var s=rI;rI=e.resumableState;try{var o,l=e.pingedTasks;for(o=0;o<l.length;o++){var c=l[o],u=e,d=c.blockedSegment;if(null===d){var h=u;if(0!==c.replay.pendingTasks){nK(c.context);try{if("number"==typeof c.replay.slots?r3(h,c,c.replay.slots,c.node,c.childIndex):r6(h,c),1===c.replay.pendingTasks&&0<c.replay.nodes.length)throw Error(a(488));c.replay.pendingTasks--,c.abortSet.delete(c),iu(h,c.blockedBoundary,c.row,null)}catch(e){ry();var p=e===n3?n6():e;if("object"==typeof p&&null!==p&&"function"==typeof p.then){var f=c.ping;p.then(f,f),c.thenableState=e===n3?rg():null}else{c.replay.pendingTasks--,c.abortSet.delete(c);var m=r$(c.componentStack);u=void 0;var g=h,y=c.blockedBoundary,b=12===h.status?h.fatalError:p,v=c.replay.nodes,k=c.replay.slots;u=rW(g,b,m),ii(g,y,v,k,b,u),h.pendingRootTasks--,0===h.pendingRootTasks&&is(h),h.allPendingTasks--,0===h.allPendingTasks&&io(h)}}finally{}}}else if(h=void 0,g=d,0===g.status){g.status=6,nK(c.context);var x=g.children.length,_=g.chunks.length;try{r6(u,c),g.lastPushedText&&g.textEmbedded&&g.chunks.push(eD),c.abortSet.delete(c),g.status=1,ic(u,c.blockedBoundary,g),iu(u,c.blockedBoundary,c.row,g)}catch(e){ry(),g.children.length=x,g.chunks.length=_;var E=e===n3?n6():12===u.status?u.fatalError:e;if("object"==typeof E&&null!==E&&"function"==typeof E.then){g.status=0,c.thenableState=e===n3?rg():null;var T=c.ping;E.then(T,T)}else{var S=r$(c.componentStack);c.abortSet.delete(c),g.status=4;var w=c.blockedBoundary,C=c.row;if(null!==C&&0==--C.pendingTasks&&rK(u,C),u.allPendingTasks--,h=rW(u,E,S),null===w)rY(u,E);else if(w.pendingTasks--,4!==w.status){w.status=4,w.errorDigest=h,r8(u,w);var A=w.row;null!==A&&0==--A.pendingTasks&&rK(u,A),w.parentFlushed&&u.clientRenderedBoundaries.push(w),0===u.pendingRootTasks&&null===u.trackedPostpones&&null!==w.contentPreamble&&im(u)}0===u.allPendingTasks&&io(u)}}finally{}}}l.splice(0,o),null!==e.destination&&i_(e,e.destination)}catch(t){rW(e,t,{}),rY(e,t)}finally{rI=s,er.H=n,er.A=r,n===rN&&nK(t),rB=i}}}function ih(e,t,n){t.preambleChildren.length&&n.push(t.preambleChildren);for(var r=!1,i=0;i<t.children.length;i++)r=ip(e,t.children[i],n)||r;return r}function ip(e,t,n){var r=t.boundary;if(null===r)return ih(e,t,n);var i=r.contentPreamble,s=r.fallbackPreamble;if(null===i||null===s)return!1;switch(r.status){case 1:if(tp(e.renderState,i),e.byteSize+=r.byteSize,!(t=r.completedSegments[0]))throw Error(a(391));return ih(e,t,n);case 5:if(null!==e.trackedPostpones)return!0;case 4:if(1===t.status)return tp(e.renderState,s),ih(e,t,n);default:return!0}}function im(e){if(e.completedRootSegment&&null===e.completedPreambleSegments){var t=[],n=e.byteSize,r=ip(e,e.completedRootSegment,t),i=e.renderState.preamble;!1===r||i.headChunks&&i.bodyChunks?e.completedPreambleSegments=t:e.byteSize=n}}function ig(e,t,n,r){switch(n.parentFlushed=!0,n.status){case 0:n.id=e.nextSegmentId++;case 5:return r=n.id,n.lastPushedText=!1,n.textEmbedded=!1,e=e.renderState,P(t,tg),P(t,e.placeholderPrefix),P(t,e=B(r.toString(16))),L(t,ty);case 1:n.status=2;var i=!0,s=n.chunks,o=0;n=n.children;for(var l=0;l<n.length;l++){for(i=n[l];o<i.index;o++)P(t,s[o]);i=ib(e,t,i,r)}for(;o<s.length-1;o++)P(t,s[o]);return o<s.length&&(i=L(t,s[o])),i;case 3:return!0;default:throw Error(a(390))}}var iy=0;function ib(e,t,n,r){var i=n.boundary;if(null===i)return ig(e,t,n,r);if(i.parentFlushed=!0,4===i.status){var s=i.row;null!==s&&0==--s.pendingTasks&&rK(e,s),i=i.errorDigest,L(t,tE),P(t,tS),i&&(P(t,tC),P(t,B(Q(i))),P(t,tw)),L(t,tA),ig(e,t,n,r)}else if(1!==i.status)0===i.status&&(i.rootSegmentID=e.nextSegmentId++),0<i.completedSegments.length&&e.partialBoundaries.push(i),tN(t,e.renderState,i.rootSegmentID),r&&nV(r,i.fallbackState),ig(e,t,n,r);else if(rP(e,i)&&iy+i.byteSize>e.progressiveChunkSize)i.rootSegmentID=e.nextSegmentId++,e.completedBoundaries.push(i),tN(t,e.renderState,i.rootSegmentID),ig(e,t,n,r);else{if(iy+=i.byteSize,r&&nV(r,i.contentState),null!==(n=i.row)&&rP(e,i)&&0==--n.pendingTasks&&rK(e,n),L(t,tk),1!==(n=i.completedSegments).length)throw Error(a(391));ib(e,t,n[0],r)}return L(t,tT)}function iv(e,t,n,r){switch(!function(e,t,n,r){switch(n.insertionMode){case 0:case 1:case 3:case 2:return P(e,tI),P(e,t.segmentPrefix),P(e,B(r.toString(16))),L(e,tD);case 4:return P(e,tO),P(e,t.segmentPrefix),P(e,B(r.toString(16))),L(e,tR);case 5:return P(e,tL),P(e,t.segmentPrefix),P(e,B(r.toString(16))),L(e,tF);case 6:return P(e,tB),P(e,t.segmentPrefix),P(e,B(r.toString(16))),L(e,tH);case 7:return P(e,tz),P(e,t.segmentPrefix),P(e,B(r.toString(16))),L(e,tV);case 8:return P(e,tq),P(e,t.segmentPrefix),P(e,B(r.toString(16))),L(e,tZ);case 9:return P(e,tW),P(e,t.segmentPrefix),P(e,B(r.toString(16))),L(e,tY);default:throw Error(a(397))}}(t,e.renderState,n.parentFormatContext,n.id),ib(e,t,n,r),n.parentFormatContext.insertionMode){case 0:case 1:case 3:case 2:return L(t,tM);case 4:return L(t,tP);case 5:return L(t,tj);case 6:return L(t,tU);case 7:return L(t,tG);case 8:return L(t,t$);case 9:return L(t,tK);default:throw Error(a(397))}}function ik(e,t,n){iy=n.byteSize;for(var r,i,s=n.completedSegments,o=0;o<s.length;o++)ix(e,t,n,s[o]);s.length=0,null!==(s=n.row)&&rP(e,n)&&0==--s.pendingTasks&&rK(e,s),ng(t,n.contentState,e.renderState),s=e.resumableState,e=e.renderState,o=n.rootSegmentID,n=n.contentState;var l=e.stylesToHoist;return e.stylesToHoist=!1,P(t,e.startInlineScript),P(t,eJ),l?(0==(4&s.instructions)&&(s.instructions|=4,P(t,t7)),0==(2&s.instructions)&&(s.instructions|=2,P(t,t1)),0==(8&s.instructions)?(s.instructions|=8,P(t,t5)):P(t,t3)):(0==(2&s.instructions)&&(s.instructions|=2,P(t,t1)),P(t,t2)),s=B(o.toString(16)),P(t,e.boundaryPrefix),P(t,s),P(t,t4),P(t,e.segmentPrefix),P(t,s),l?(P(t,t6),r=n,P(t,nI),i=nI,r.stylesheets.forEach(function(e){if(2!==e.state)if(3===e.state)P(t,i),P(t,B(no(""+e.props.href))),P(t,nO),i=nD;else{P(t,i);var n=e.props["data-precedence"],r=e.props;for(var s in P(t,B(no(en(""+e.props.href)))),n=""+n,P(t,nM),P(t,B(no(n))),r)if(G.call(r,s)&&null!=(n=r[s]))switch(s){case"href":case"rel":case"precedence":case"data-precedence":break;case"children":case"dangerouslySetInnerHTML":throw Error(a(399,"link"));default:!function(e,t,n){var r=t.toLowerCase();switch(typeof n){case"function":case"symbol":return}switch(t){case"innerHTML":case"dangerouslySetInnerHTML":case"suppressContentEditableWarning":case"suppressHydrationWarning":case"style":case"ref":return;case"className":r="class",t=""+n;break;case"hidden":if(!1===n)return;t="";break;case"src":case"href":t=""+(n=en(n));break;default:if(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])||!W(t))return;t=""+n}P(e,nM),P(e,B(no(r))),P(e,nM),P(e,B(no(t)))}(t,s,n)}P(t,nO),i=nD,e.state=3}}),P(t,nO)):P(t,t9),n=L(t,t8),tf(t,e)&&n}function ix(e,t,n,r){if(2===r.status)return!0;var i=n.contentState,s=r.id;if(-1===s){if(-1===(r.id=n.rootSegmentID))throw Error(a(392));return iv(e,t,r,i)}return s===n.rootSegmentID?iv(e,t,r,i):(iv(e,t,r,i),n=e.resumableState,P(t,(e=e.renderState).startInlineScript),P(t,eJ),0==(1&n.instructions)?(n.instructions|=1,P(t,tJ)):P(t,tQ),P(t,e.segmentPrefix),P(t,s=B(s.toString(16))),P(t,tX),P(t,e.placeholderPrefix),P(t,s),t=L(t,t0))}function i_(e,t){O=new Uint8Array(2048),R=0;try{if(!(0<e.pendingRootTasks)){var n,r=e.completedRootSegment;if(null!==r){if(5===r.status)return;var i=e.completedPreambleSegments;if(null===i)return;iy=e.byteSize;var a,s=e.resumableState,o=e.renderState,l=o.preamble,c=l.htmlChunks,u=l.headChunks;if(c){for(a=0;a<c.length;a++)P(t,c[a]);if(u)for(a=0;a<u.length;a++)P(t,u[a]);else P(t,tc("head")),P(t,eJ)}else if(u)for(a=0;a<u.length;a++)P(t,u[a]);var d=o.charsetChunks;for(a=0;a<d.length;a++)P(t,d[a]);d.length=0,o.preconnects.forEach(ny,t),o.preconnects.clear();var h=o.viewportChunks;for(a=0;a<h.length;a++)P(t,h[a]);h.length=0,o.fontPreloads.forEach(ny,t),o.fontPreloads.clear(),o.highImagePreloads.forEach(ny,t),o.highImagePreloads.clear(),el=o,o.styles.forEach(nS,t),el=null;var p=o.importMapChunks;for(a=0;a<p.length;a++)P(t,p[a]);p.length=0,o.bootstrapScripts.forEach(ny,t),o.scripts.forEach(ny,t),o.scripts.clear(),o.bulkPreloads.forEach(ny,t),o.bulkPreloads.clear(),c||u||(s.instructions|=32);var f=o.hoistableChunks;for(a=0;a<f.length;a++)P(t,f[a]);for(s=f.length=0;s<i.length;s++){var m=i[s];for(o=0;o<m.length;o++)ib(e,t,m[o],null)}var g=e.renderState.preamble,y=g.headChunks;(g.htmlChunks||y)&&P(t,th("head"));var b=g.bodyChunks;if(b)for(i=0;i<b.length;i++)P(t,b[i]);ib(e,t,r,null),e.completedRootSegment=null;var v=e.renderState;if(0!==e.allPendingTasks||0!==e.clientRenderedBoundaries.length||0!==e.completedBoundaries.length||null!==e.trackedPostpones&&(0!==e.trackedPostpones.rootNodes.length||null!==e.trackedPostpones.rootSlots)){var k=e.resumableState;if(0==(64&k.instructions)){if(k.instructions|=64,P(t,v.startInlineScript),0==(32&k.instructions)){k.instructions|=32;var x="_"+k.idPrefix+"R_";P(t,nA),P(t,B(Q(x))),P(t,eH)}P(t,eJ),P(t,tm),L(t,eu)}}tf(t,v)}var _=e.renderState;r=0;var E=_.viewportChunks;for(r=0;r<E.length;r++)P(t,E[r]);E.length=0,_.preconnects.forEach(ny,t),_.preconnects.clear(),_.fontPreloads.forEach(ny,t),_.fontPreloads.clear(),_.highImagePreloads.forEach(ny,t),_.highImagePreloads.clear(),_.styles.forEach(nC,t),_.scripts.forEach(ny,t),_.scripts.clear(),_.bulkPreloads.forEach(ny,t),_.bulkPreloads.clear();var T=_.hoistableChunks;for(r=0;r<T.length;r++)P(t,T[r]);T.length=0;var S=e.clientRenderedBoundaries;for(n=0;n<S.length;n++){var w,C=S[n];_=t;var A=e.resumableState,N=e.renderState,I=C.rootSegmentID,D=C.errorDigest;P(_,N.startInlineScript),P(_,eJ),0==(4&A.instructions)?(A.instructions|=4,P(_,ne)):P(_,nt),P(_,N.boundaryPrefix),P(_,B(I.toString(16))),P(_,nn),D&&(P(_,nr),P(_,B((w=D||"",JSON.stringify(w).replace(na,function(e){switch(e){case"<":return"\\u003c";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw Error("escapeJSStringsForInstructionScripts encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}})))));var M=L(_,ni);if(!M){e.destination=null,n++,S.splice(0,n);return}}S.splice(0,n);var j=e.completedBoundaries;for(n=0;n<j.length;n++)if(!ik(e,t,j[n])){e.destination=null,n++,j.splice(0,n);return}j.splice(0,n),F(t),O=new Uint8Array(2048),R=0;var H=e.partialBoundaries;for(n=0;n<H.length;n++){var U=H[n];e:{S=e,C=t,iy=U.byteSize;var z=U.completedSegments;for(M=0;M<z.length;M++)if(!ix(S,C,U,z[M])){M++,z.splice(0,M);var V=!1;break e}z.splice(0,M);var G=U.row;null!==G&&G.together&&1===U.pendingTasks&&(1===G.pendingTasks?rJ(S,G,G.hoistables):G.pendingTasks--),V=ng(C,U.contentState,S.renderState)}if(!V){e.destination=null,n++,H.splice(0,n);return}}H.splice(0,n);var q=e.completedBoundaries;for(n=0;n<q.length;n++)if(!ik(e,t,q[n])){e.destination=null,n++,q.splice(0,n);return}q.splice(0,n)}}finally{0===e.allPendingTasks&&0===e.clientRenderedBoundaries.length&&0===e.completedBoundaries.length?(e.flushScheduled=!1,(n=e.resumableState).hasBody&&P(t,th("body")),n.hasHtml&&P(t,th("html")),F(t),e.status=14,t.close(),e.destination=null):F(t)}}function iE(e){e.flushScheduled=null!==e.destination,M(function(){return id(e)}),N(function(){10===e.status&&(e.status=11),null===e.trackedPostpones&&ia(e,0===e.pendingRootTasks)})}function iT(e){!1===e.flushScheduled&&0===e.pingedTasks.length&&null!==e.destination&&(e.flushScheduled=!0,N(function(){var t=e.destination;t?i_(e,t):e.flushScheduled=!1}))}function iS(e,t){if(13===e.status)e.status=14,z(t,e.fatalError);else if(14!==e.status&&null===e.destination){e.destination=t;try{i_(e,t)}catch(t){rW(e,t,{}),rY(e,t)}}}function iw(e,t){(11===e.status||10===e.status)&&(e.status=12);try{var n=e.abortableTasks;if(0<n.size){var r=void 0===t?Error(a(432)):"object"==typeof t&&null!==t&&"function"==typeof t.then?Error(a(530)):t;e.fatalError=r,n.forEach(function(t){return function e(t,n,r){var i=t.blockedBoundary,a=t.blockedSegment;if(null!==a){if(6===a.status)return;a.status=3}if(a=r$(t.componentStack),null===i){if(13!==n.status&&14!==n.status){if(null===(i=t.replay)){rW(n,r,a),rY(n,r);return}i.pendingTasks--,0===i.pendingTasks&&0<i.nodes.length&&(a=rW(n,r,a),ii(n,null,i.nodes,i.slots,r,a)),n.pendingRootTasks--,0===n.pendingRootTasks&&is(n)}}else 4!==i.status&&(i.status=4,a=rW(n,r,a),i.status=4,i.errorDigest=a,r8(n,i),i.parentFlushed&&n.clientRenderedBoundaries.push(i)),i.pendingTasks--,null!==(a=i.row)&&0==--a.pendingTasks&&rK(n,a),i.fallbackAbortableTasks.forEach(function(t){return e(t,n,r)}),i.fallbackAbortableTasks.clear();null!==(t=t.row)&&0==--t.pendingTasks&&rK(n,t),n.allPendingTasks--,0===n.allPendingTasks&&io(n)}(t,e,r)}),n.clear()}null!==e.destination&&i_(e,e.destination)}catch(t){rW(e,t,{}),rY(e,t)}}function iC(){var e=r.version;if("19.2.0-canary-0bdb9206-20250818"!==e)throw Error(a(527,e,"19.2.0-canary-0bdb9206-20250818"))}iC(),iC(),n.prerender=function(e,t){return new Promise(function(n,r){var i,a,s,o,l,c=t?t.onHeaders:void 0;c&&(l=function(e){c(new Headers(e))});var u=eE(t?t.identifierPrefix:void 0,t?t.unstable_externalRuntimeSrc:void 0,t?t.bootstrapScriptContent:void 0,t?t.bootstrapScripts:void 0,t?t.bootstrapModules:void 0),d=(i=e,a=e_(u,void 0,t?t.unstable_externalRuntimeSrc:void 0,t?t.importMap:void 0,l,t?t.maxHeadersLength:void 0),s=ew(t?t.namespaceURI:void 0),o=t?t.progressiveChunkSize:void 0,(i=rj(i,u,a,s,o,t?t.onError:void 0,function(){n({prelude:new ReadableStream({type:"bytes",pull:function(e){iS(d,e)},cancel:function(e){d.destination=null,iw(d,e)}},{highWaterMark:0})})},void 0,void 0,r,t?t.onPostpone:void 0,void 0)).trackedPostpones={workingMap:new Map,rootNodes:[],rootSlots:null},i);if(t&&t.signal){var h=t.signal;if(h.aborted)iw(d,h.reason);else{var p=function(){iw(d,h.reason),h.removeEventListener("abort",p)};h.addEventListener("abort",p)}}iE(d)})},n.renderToReadableStream=function(e,t){return new Promise(function(n,r){var i,a,s,o=new Promise(function(e,t){a=e,i=t}),l=t?t.onHeaders:void 0;l&&(s=function(e){l(new Headers(e))});var c=eE(t?t.identifierPrefix:void 0,t?t.unstable_externalRuntimeSrc:void 0,t?t.bootstrapScriptContent:void 0,t?t.bootstrapScripts:void 0,t?t.bootstrapModules:void 0),u=rj(e,c,e_(c,t?t.nonce:void 0,t?t.unstable_externalRuntimeSrc:void 0,t?t.importMap:void 0,s,t?t.maxHeadersLength:void 0),ew(t?t.namespaceURI:void 0),t?t.progressiveChunkSize:void 0,t?t.onError:void 0,a,function(){var e=new ReadableStream({type:"bytes",pull:function(e){iS(u,e)},cancel:function(e){u.destination=null,iw(u,e)}},{highWaterMark:0});e.allReady=o,n(e)},function(e){o.catch(function(){}),r(e)},i,t?t.onPostpone:void 0,t?t.formState:void 0);if(t&&t.signal){var d=t.signal;if(d.aborted)iw(u,d.reason);else{var h=function(){iw(u,d.reason),d.removeEventListener("abort",h)};d.addEventListener("abort",h)}}iE(u)})},n.version="19.2.0-canary-0bdb9206-20250818"},68428,(e,t,n)=>{"use strict";var r,i;r=e.r(469957),i=e.r(149340),n.version=r.version,n.renderToString=r.renderToString,n.renderToStaticMarkup=r.renderToStaticMarkup,n.renderToReadableStream=i.renderToReadableStream,i.resume&&(n.resume=i.resume)},126568,(e,t,n)=>{"use strict";var r=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,i=/\n/g,a=/^\s*/,s=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,o=/^:\s*/,l=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,c=/^[;\s]*/,u=/^\s+|\s+$/g;function d(e){return e?e.replace(u,""):""}t.exports=function(e,t){if("string"!=typeof e)throw TypeError("First argument must be a string");if(!e)return[];t=t||{};var n=1,u=1;function h(e){var t=e.match(i);t&&(n+=t.length);var r=e.lastIndexOf("\n");u=~r?e.length-r:u+e.length}function p(){var e={line:n,column:u};return function(t){return t.position=new f(e),g(a),t}}function f(e){this.start=e,this.end={line:n,column:u},this.source=t.source}function m(r){var i=Error(t.source+":"+n+":"+u+": "+r);if(i.reason=r,i.filename=t.source,i.line=n,i.column=u,i.source=e,t.silent);else throw i}function g(t){var n=t.exec(e);if(n){var r=n[0];return h(r),e=e.slice(r.length),n}}function y(e){var t;for(e=e||[];t=b();)!1!==t&&e.push(t);return e}function b(){var t=p();if("/"==e.charAt(0)&&"*"==e.charAt(1)){for(var n=2;""!=e.charAt(n)&&("*"!=e.charAt(n)||"/"!=e.charAt(n+1));)++n;if(n+=2,""===e.charAt(n-1))return m("End of comment missing");var r=e.slice(2,n-2);return u+=2,h(r),e=e.slice(n),u+=2,t({type:"comment",comment:r})}}f.prototype.content=e,g(a);var v,k=[];for(y(k);v=function(){var e=p(),t=g(s);if(t){if(b(),!g(o))return m("property missing ':'");var n=g(l),i=e({type:"declaration",property:d(t[0].replace(r,"")),value:n?d(n[0].replace(r,"")):""});return g(c),i}}();)!1!==v&&(k.push(v),y(k));return k}},270454,(e,t,n)=>{"use strict";var r=e.e&&e.e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,t){let n=null;if(!e||"string"!=typeof e)return n;let r=(0,i.default)(e),a="function"==typeof t;return r.forEach(e=>{if("declaration"!==e.type)return;let{property:r,value:i}=e;a?t(r,i,e):i&&((n=n||{})[r]=i)}),n};let i=r(e.r(126568))},965185,(e,t,n)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.camelCase=void 0;var r=/^--[a-zA-Z0-9_-]+$/,i=/-([a-z])/g,a=/^[^-]+$/,s=/^-(webkit|moz|ms|o|khtml)-/,o=/^-(ms)-/,l=function(e,t){return t.toUpperCase()},c=function(e,t){return"".concat(t,"-")};n.camelCase=function(e,t){var n;return(void 0===t&&(t={}),!(n=e)||a.test(n)||r.test(n))?e:(e=e.toLowerCase(),(e=t.reactCompat?e.replace(o,c):e.replace(s,c)).replace(i,l))}},515511,(e,t,n)=>{"use strict";var r=(e.e&&e.e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}})(e.r(270454)),i=e.r(965185);function a(e,t){var n={};return e&&"string"==typeof e&&(0,r.default)(e,function(e,r){e&&r&&(n[(0,i.camelCase)(e,t)]=r)}),n}a.default=a,t.exports=a},104100,(e,t,n)=>{"use strict";var r=Object.prototype.hasOwnProperty,i=Object.prototype.toString,a=Object.defineProperty,s=Object.getOwnPropertyDescriptor,o=function(e){return"function"==typeof Array.isArray?Array.isArray(e):"[object Array]"===i.call(e)},l=function(e){if(!e||"[object Object]"!==i.call(e))return!1;var t,n=r.call(e,"constructor"),a=e.constructor&&e.constructor.prototype&&r.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!n&&!a)return!1;for(t in e);return void 0===t||r.call(e,t)},c=function(e,t){a&&"__proto__"===t.name?a(e,t.name,{enumerable:!0,configurable:!0,value:t.newValue,writable:!0}):e[t.name]=t.newValue},u=function(e,t){if("__proto__"===t){if(!r.call(e,t))return;else if(s)return s(e,t).value}return e[t]};t.exports=function e(){var t,n,r,i,a,s,d=arguments[0],h=1,p=arguments.length,f=!1;for("boolean"==typeof d&&(f=d,d=arguments[1]||{},h=2),(null==d||"object"!=typeof d&&"function"!=typeof d)&&(d={});h<p;++h)if(t=arguments[h],null!=t)for(n in t)r=u(d,n),d!==(i=u(t,n))&&(f&&i&&(l(i)||(a=o(i)))?(a?(a=!1,s=r&&o(r)?r:[]):s=r&&l(r)?r:{},c(d,{name:n,newValue:e(f,s,i)})):void 0!==i&&c(d,{name:n,newValue:i}));return d}},863509,(e,t,n)=>{var r=function(){this.Diff_Timeout=1,this.Diff_EditCost=4,this.Match_Threshold=.5,this.Match_Distance=1e3,this.Patch_DeleteThreshold=.5,this.Patch_Margin=4,this.Match_MaxBits=32};r.Diff=function(e,t){return[e,t]},r.prototype.diff_main=function(e,t,n,i){void 0===i&&(i=this.Diff_Timeout<=0?Number.MAX_VALUE:(new Date).getTime()+1e3*this.Diff_Timeout);var a=i;if(null==e||null==t)throw Error("Null input. (diff_main)");if(e==t)return e?[new r.Diff(0,e)]:[];void 0===n&&(n=!0);var s=n,o=this.diff_commonPrefix(e,t),l=e.substring(0,o);e=e.substring(o),t=t.substring(o),o=this.diff_commonSuffix(e,t);var c=e.substring(e.length-o);e=e.substring(0,e.length-o),t=t.substring(0,t.length-o);var u=this.diff_compute_(e,t,s,a);return l&&u.unshift(new r.Diff(0,l)),c&&u.push(new r.Diff(0,c)),this.diff_cleanupMerge(u),u},r.prototype.diff_compute_=function(e,t,n,i){if(!e)return[new r.Diff(1,t)];if(!t)return[new r.Diff(-1,e)];var a,s=e.length>t.length?e:t,o=e.length>t.length?t:e,l=s.indexOf(o);if(-1!=l)return a=[new r.Diff(1,s.substring(0,l)),new r.Diff(0,o),new r.Diff(1,s.substring(l+o.length))],e.length>t.length&&(a[0][0]=a[2][0]=-1),a;if(1==o.length)return[new r.Diff(-1,e),new r.Diff(1,t)];var c=this.diff_halfMatch_(e,t);if(c){var u=c[0],d=c[1],h=c[2],p=c[3],f=c[4],m=this.diff_main(u,h,n,i),g=this.diff_main(d,p,n,i);return m.concat([new r.Diff(0,f)],g)}return n&&e.length>100&&t.length>100?this.diff_lineMode_(e,t,i):this.diff_bisect_(e,t,i)},r.prototype.diff_lineMode_=function(e,t,n){var i=this.diff_linesToChars_(e,t);e=i.chars1,t=i.chars2;var a=i.lineArray,s=this.diff_main(e,t,!1,n);this.diff_charsToLines_(s,a),this.diff_cleanupSemantic(s),s.push(new r.Diff(0,""));for(var o=0,l=0,c=0,u="",d="";o<s.length;){switch(s[o][0]){case 1:c++,d+=s[o][1];break;case -1:l++,u+=s[o][1];break;case 0:if(l>=1&&c>=1){s.splice(o-l-c,l+c),o=o-l-c;for(var h=this.diff_main(u,d,!1,n),p=h.length-1;p>=0;p--)s.splice(o,0,h[p]);o+=h.length}c=0,l=0,u="",d=""}o++}return s.pop(),s},r.prototype.diff_bisect_=function(e,t,n){for(var i=e.length,a=t.length,s=Math.ceil((i+a)/2),o=2*s,l=Array(o),c=Array(o),u=0;u<o;u++)l[u]=-1,c[u]=-1;l[s+1]=0,c[s+1]=0;for(var d=i-a,h=d%2!=0,p=0,f=0,m=0,g=0,y=0;y<s&&!(new Date().getTime()>n);y++){for(var b=-y+p;b<=y-f;b+=2){for(var v,k=s+b,x=(v=b==-y||b!=y&&l[k-1]<l[k+1]?l[k+1]:l[k-1]+1)-b;v<i&&x<a&&e.charAt(v)==t.charAt(x);)v++,x++;if(l[k]=v,v>i)f+=2;else if(x>a)p+=2;else if(h){var _=s+d-b;if(_>=0&&_<o&&-1!=c[_]){var E=i-c[_];if(v>=E)return this.diff_bisectSplit_(e,t,v,x,n)}}}for(var T=-y+m;T<=y-g;T+=2){for(var E,_=s+T,S=(E=T==-y||T!=y&&c[_-1]<c[_+1]?c[_+1]:c[_-1]+1)-T;E<i&&S<a&&e.charAt(i-E-1)==t.charAt(a-S-1);)E++,S++;if(c[_]=E,E>i)g+=2;else if(S>a)m+=2;else if(!h){var k=s+d-T;if(k>=0&&k<o&&-1!=l[k]){var v=l[k],x=s+v-k;if(v>=(E=i-E))return this.diff_bisectSplit_(e,t,v,x,n)}}}}return[new r.Diff(-1,e),new r.Diff(1,t)]},r.prototype.diff_bisectSplit_=function(e,t,n,r,i){var a=e.substring(0,n),s=t.substring(0,r),o=e.substring(n),l=t.substring(r),c=this.diff_main(a,s,!1,i),u=this.diff_main(o,l,!1,i);return c.concat(u)},r.prototype.diff_linesToChars_=function(e,t){var n=[],r={};function i(e){for(var t="",i=0,s=-1,o=n.length;s<e.length-1;){-1==(s=e.indexOf("\n",i))&&(s=e.length-1);var l=e.substring(i,s+1);(r.hasOwnProperty?r.hasOwnProperty(l):void 0!==r[l])?t+=String.fromCharCode(r[l]):(o==a&&(l=e.substring(i),s=e.length),t+=String.fromCharCode(o),r[l]=o,n[o++]=l),i=s+1}return t}n[0]="";var a=4e4,s=i(e);return a=65535,{chars1:s,chars2:i(t),lineArray:n}},r.prototype.diff_charsToLines_=function(e,t){for(var n=0;n<e.length;n++){for(var r=e[n][1],i=[],a=0;a<r.length;a++)i[a]=t[r.charCodeAt(a)];e[n][1]=i.join("")}},r.prototype.diff_commonPrefix=function(e,t){if(!e||!t||e.charAt(0)!=t.charAt(0))return 0;for(var n=0,r=Math.min(e.length,t.length),i=r,a=0;n<i;)e.substring(a,i)==t.substring(a,i)?a=n=i:r=i,i=Math.floor((r-n)/2+n);return i},r.prototype.diff_commonSuffix=function(e,t){if(!e||!t||e.charAt(e.length-1)!=t.charAt(t.length-1))return 0;for(var n=0,r=Math.min(e.length,t.length),i=r,a=0;n<i;)e.substring(e.length-i,e.length-a)==t.substring(t.length-i,t.length-a)?a=n=i:r=i,i=Math.floor((r-n)/2+n);return i},r.prototype.diff_commonOverlap_=function(e,t){var n=e.length,r=t.length;if(0==n||0==r)return 0;n>r?e=e.substring(n-r):n<r&&(t=t.substring(0,n));var i=Math.min(n,r);if(e==t)return i;for(var a=0,s=1;;){var o=e.substring(i-s),l=t.indexOf(o);if(-1==l)return a;s+=l,(0==l||e.substring(i-s)==t.substring(0,s))&&(a=s,s++)}},r.prototype.diff_halfMatch_=function(e,t){if(this.Diff_Timeout<=0)return null;var n,r,i,a,s,o=e.length>t.length?e:t,l=e.length>t.length?t:e;if(o.length<4||2*l.length<o.length)return null;var c=this;function u(e,t,n){for(var r,i,a,s,o=e.substring(n,n+Math.floor(e.length/4)),l=-1,u="";-1!=(l=t.indexOf(o,l+1));){var d=c.diff_commonPrefix(e.substring(n),t.substring(l)),h=c.diff_commonSuffix(e.substring(0,n),t.substring(0,l));u.length<h+d&&(u=t.substring(l-h,l)+t.substring(l,l+d),r=e.substring(0,n-h),i=e.substring(n+d),a=t.substring(0,l-h),s=t.substring(l+d))}return 2*u.length>=e.length?[r,i,a,s,u]:null}var d=u(o,l,Math.ceil(o.length/4)),h=u(o,l,Math.ceil(o.length/2));return d||h?(n=h?d&&d[4].length>h[4].length?d:h:d,e.length>t.length?(r=n[0],i=n[1],a=n[2],s=n[3]):(a=n[0],s=n[1],r=n[2],i=n[3]),[r,i,a,s,n[4]]):null},r.prototype.diff_cleanupSemantic=function(e){for(var t=!1,n=[],i=0,a=null,s=0,o=0,l=0,c=0,u=0;s<e.length;)0==e[s][0]?(n[i++]=s,o=c,l=u,c=0,u=0,a=e[s][1]):(1==e[s][0]?c+=e[s][1].length:u+=e[s][1].length,a&&a.length<=Math.max(o,l)&&a.length<=Math.max(c,u)&&(e.splice(n[i-1],0,new r.Diff(-1,a)),e[n[i-1]+1][0]=1,i--,s=--i>0?n[i-1]:-1,o=0,l=0,c=0,u=0,a=null,t=!0)),s++;for(t&&this.diff_cleanupMerge(e),this.diff_cleanupSemanticLossless(e),s=1;s<e.length;){if(-1==e[s-1][0]&&1==e[s][0]){var d=e[s-1][1],h=e[s][1],p=this.diff_commonOverlap_(d,h),f=this.diff_commonOverlap_(h,d);p>=f?(p>=d.length/2||p>=h.length/2)&&(e.splice(s,0,new r.Diff(0,h.substring(0,p))),e[s-1][1]=d.substring(0,d.length-p),e[s+1][1]=h.substring(p),s++):(f>=d.length/2||f>=h.length/2)&&(e.splice(s,0,new r.Diff(0,d.substring(0,f))),e[s-1][0]=1,e[s-1][1]=h.substring(0,h.length-f),e[s+1][0]=-1,e[s+1][1]=d.substring(f),s++),s++}s++}},r.prototype.diff_cleanupSemanticLossless=function(e){function t(e,t){if(!e||!t)return 6;var n=e.charAt(e.length-1),i=t.charAt(0),a=n.match(r.nonAlphaNumericRegex_),s=i.match(r.nonAlphaNumericRegex_),o=a&&n.match(r.whitespaceRegex_),l=s&&i.match(r.whitespaceRegex_),c=o&&n.match(r.linebreakRegex_),u=l&&i.match(r.linebreakRegex_),d=c&&e.match(r.blanklineEndRegex_),h=u&&t.match(r.blanklineStartRegex_);if(d||h)return 5;if(c||u)return 4;if(a&&!o&&l)return 3;if(o||l)return 2;if(a||s)return 1;return 0}for(var n=1;n<e.length-1;){if(0==e[n-1][0]&&0==e[n+1][0]){var i=e[n-1][1],a=e[n][1],s=e[n+1][1],o=this.diff_commonSuffix(i,a);if(o){var l=a.substring(a.length-o);i=i.substring(0,i.length-o),a=l+a.substring(0,a.length-o),s=l+s}for(var c=i,u=a,d=s,h=t(i,a)+t(a,s);a.charAt(0)===s.charAt(0);){i+=a.charAt(0),a=a.substring(1)+s.charAt(0),s=s.substring(1);var p=t(i,a)+t(a,s);p>=h&&(h=p,c=i,u=a,d=s)}e[n-1][1]!=c&&(c?e[n-1][1]=c:(e.splice(n-1,1),n--),e[n][1]=u,d?e[n+1][1]=d:(e.splice(n+1,1),n--))}n++}},r.nonAlphaNumericRegex_=/[^a-zA-Z0-9]/,r.whitespaceRegex_=/\s/,r.linebreakRegex_=/[\r\n]/,r.blanklineEndRegex_=/\n\r?\n$/,r.blanklineStartRegex_=/^\r?\n\r?\n/,r.prototype.diff_cleanupEfficiency=function(e){for(var t=!1,n=[],i=0,a=null,s=0,o=!1,l=!1,c=!1,u=!1;s<e.length;)0==e[s][0]?(e[s][1].length<this.Diff_EditCost&&(c||u)?(n[i++]=s,o=c,l=u,a=e[s][1]):(i=0,a=null),c=u=!1):(-1==e[s][0]?u=!0:c=!0,a&&(o&&l&&c&&u||a.length<this.Diff_EditCost/2&&o+l+c+u==3)&&(e.splice(n[i-1],0,new r.Diff(-1,a)),e[n[i-1]+1][0]=1,i--,a=null,o&&l?(c=u=!0,i=0):(s=--i>0?n[i-1]:-1,c=u=!1),t=!0)),s++;t&&this.diff_cleanupMerge(e)},r.prototype.diff_cleanupMerge=function(e){e.push(new r.Diff(0,""));for(var t,n=0,i=0,a=0,s="",o="";n<e.length;)switch(e[n][0]){case 1:a++,o+=e[n][1],n++;break;case -1:i++,s+=e[n][1],n++;break;case 0:i+a>1?(0!==i&&0!==a&&(0!==(t=this.diff_commonPrefix(o,s))&&(n-i-a>0&&0==e[n-i-a-1][0]?e[n-i-a-1][1]+=o.substring(0,t):(e.splice(0,0,new r.Diff(0,o.substring(0,t))),n++),o=o.substring(t),s=s.substring(t)),0!==(t=this.diff_commonSuffix(o,s))&&(e[n][1]=o.substring(o.length-t)+e[n][1],o=o.substring(0,o.length-t),s=s.substring(0,s.length-t))),n-=i+a,e.splice(n,i+a),s.length&&(e.splice(n,0,new r.Diff(-1,s)),n++),o.length&&(e.splice(n,0,new r.Diff(1,o)),n++),n++):0!==n&&0==e[n-1][0]?(e[n-1][1]+=e[n][1],e.splice(n,1)):n++,a=0,i=0,s="",o=""}""===e[e.length-1][1]&&e.pop();var l=!1;for(n=1;n<e.length-1;)0==e[n-1][0]&&0==e[n+1][0]&&(e[n][1].substring(e[n][1].length-e[n-1][1].length)==e[n-1][1]?(e[n][1]=e[n-1][1]+e[n][1].substring(0,e[n][1].length-e[n-1][1].length),e[n+1][1]=e[n-1][1]+e[n+1][1],e.splice(n-1,1),l=!0):e[n][1].substring(0,e[n+1][1].length)==e[n+1][1]&&(e[n-1][1]+=e[n+1][1],e[n][1]=e[n][1].substring(e[n+1][1].length)+e[n+1][1],e.splice(n+1,1),l=!0)),n++;l&&this.diff_cleanupMerge(e)},r.prototype.diff_xIndex=function(e,t){var n,r=0,i=0,a=0,s=0;for(n=0;n<e.length&&(1!==e[n][0]&&(r+=e[n][1].length),-1!==e[n][0]&&(i+=e[n][1].length),!(r>t));n++)a=r,s=i;return e.length!=n&&-1===e[n][0]?s:s+(t-a)},r.prototype.diff_prettyHtml=function(e){for(var t=[],n=/&/g,r=/</g,i=/>/g,a=/\n/g,s=0;s<e.length;s++){var o=e[s][0],l=e[s][1].replace(n,"&amp;").replace(r,"&lt;").replace(i,"&gt;").replace(a,"&para;<br>");switch(o){case 1:t[s]='<ins style="background:#e6ffe6;">'+l+"</ins>";break;case -1:t[s]='<del style="background:#ffe6e6;">'+l+"</del>";break;case 0:t[s]="<span>"+l+"</span>"}}return t.join("")},r.prototype.diff_text1=function(e){for(var t=[],n=0;n<e.length;n++)1!==e[n][0]&&(t[n]=e[n][1]);return t.join("")},r.prototype.diff_text2=function(e){for(var t=[],n=0;n<e.length;n++)-1!==e[n][0]&&(t[n]=e[n][1]);return t.join("")},r.prototype.diff_levenshtein=function(e){for(var t=0,n=0,r=0,i=0;i<e.length;i++){var a=e[i][0],s=e[i][1];switch(a){case 1:n+=s.length;break;case -1:r+=s.length;break;case 0:t+=Math.max(n,r),n=0,r=0}}return t+Math.max(n,r)},r.prototype.diff_toDelta=function(e){for(var t=[],n=0;n<e.length;n++)switch(e[n][0]){case 1:t[n]="+"+encodeURI(e[n][1]);break;case -1:t[n]="-"+e[n][1].length;break;case 0:t[n]="="+e[n][1].length}return t.join("	").replace(/%20/g," ")},r.prototype.diff_fromDelta=function(e,t){for(var n=[],i=0,a=0,s=t.split(/\t/g),o=0;o<s.length;o++){var l=s[o].substring(1);switch(s[o].charAt(0)){case"+":try{n[i++]=new r.Diff(1,decodeURI(l))}catch(e){throw Error("Illegal escape in diff_fromDelta: "+l)}break;case"-":case"=":var c=parseInt(l,10);if(isNaN(c)||c<0)throw Error("Invalid number in diff_fromDelta: "+l);var u=e.substring(a,a+=c);"="==s[o].charAt(0)?n[i++]=new r.Diff(0,u):n[i++]=new r.Diff(-1,u);break;default:if(s[o])throw Error("Invalid diff operation in diff_fromDelta: "+s[o])}}if(a!=e.length)throw Error("Delta length ("+a+") does not equal source text length ("+e.length+").");return n},r.prototype.match_main=function(e,t,n){if(null==e||null==t||null==n)throw Error("Null input. (match_main)");return(n=Math.max(0,Math.min(n,e.length)),e==t)?0:e.length?e.substring(n,n+t.length)==t?n:this.match_bitap_(e,t,n):-1},r.prototype.match_bitap_=function(e,t,n){if(t.length>this.Match_MaxBits)throw Error("Pattern too long for this browser.");var r,i,a,s=this.match_alphabet_(t),o=this;function l(e,r){var i=e/t.length,a=Math.abs(n-r);return o.Match_Distance?i+a/o.Match_Distance:a?1:i}var c=this.Match_Threshold,u=e.indexOf(t,n);-1!=u&&(c=Math.min(l(0,u),c),-1!=(u=e.lastIndexOf(t,n+t.length))&&(c=Math.min(l(0,u),c)));var d=1<<t.length-1;u=-1;for(var h=t.length+e.length,p=0;p<t.length;p++){for(r=0,i=h;r<i;)l(p,n+i)<=c?r=i:h=i,i=Math.floor((h-r)/2+r);h=i;var f=Math.max(1,n-i+1),m=Math.min(n+i,e.length)+t.length,g=Array(m+2);g[m+1]=(1<<p)-1;for(var y=m;y>=f;y--){var b=s[e.charAt(y-1)];if(0===p?g[y]=(g[y+1]<<1|1)&b:g[y]=(g[y+1]<<1|1)&b|((a[y+1]|a[y])<<1|1)|a[y+1],g[y]&d){var v=l(p,y-1);if(v<=c)if(c=v,(u=y-1)>n)f=Math.max(1,2*n-u);else break}}if(l(p+1,n)>c)break;a=g}return u},r.prototype.match_alphabet_=function(e){for(var t={},n=0;n<e.length;n++)t[e.charAt(n)]=0;for(var n=0;n<e.length;n++)t[e.charAt(n)]|=1<<e.length-n-1;return t},r.prototype.patch_addContext_=function(e,t){if(0!=t.length){if(null===e.start2)throw Error("patch not initialized");for(var n=t.substring(e.start2,e.start2+e.length1),i=0;t.indexOf(n)!=t.lastIndexOf(n)&&n.length<this.Match_MaxBits-this.Patch_Margin-this.Patch_Margin;)i+=this.Patch_Margin,n=t.substring(e.start2-i,e.start2+e.length1+i);i+=this.Patch_Margin;var a=t.substring(e.start2-i,e.start2);a&&e.diffs.unshift(new r.Diff(0,a));var s=t.substring(e.start2+e.length1,e.start2+e.length1+i);s&&e.diffs.push(new r.Diff(0,s)),e.start1-=a.length,e.start2-=a.length,e.length1+=a.length+s.length,e.length2+=a.length+s.length}},r.prototype.patch_make=function(e,t,n){if("string"==typeof e&&"string"==typeof t&&void 0===n)i=e,(a=this.diff_main(i,t,!0)).length>2&&(this.diff_cleanupSemantic(a),this.diff_cleanupEfficiency(a));else if(e&&"object"==typeof e&&void 0===t&&void 0===n)a=e,i=this.diff_text1(a);else if("string"==typeof e&&t&&"object"==typeof t&&void 0===n)i=e,a=t;else if("string"==typeof e&&"string"==typeof t&&n&&"object"==typeof n)i=e,a=n;else throw Error("Unknown call format to patch_make.");if(0===a.length)return[];for(var i,a,s=[],o=new r.patch_obj,l=0,c=0,u=0,d=i,h=i,p=0;p<a.length;p++){var f=a[p][0],m=a[p][1];switch(!l&&0!==f&&(o.start1=c,o.start2=u),f){case 1:o.diffs[l++]=a[p],o.length2+=m.length,h=h.substring(0,u)+m+h.substring(u);break;case -1:o.length1+=m.length,o.diffs[l++]=a[p],h=h.substring(0,u)+h.substring(u+m.length);break;case 0:m.length<=2*this.Patch_Margin&&l&&a.length!=p+1?(o.diffs[l++]=a[p],o.length1+=m.length,o.length2+=m.length):m.length>=2*this.Patch_Margin&&l&&(this.patch_addContext_(o,d),s.push(o),o=new r.patch_obj,l=0,d=h,c=u)}1!==f&&(c+=m.length),-1!==f&&(u+=m.length)}return l&&(this.patch_addContext_(o,d),s.push(o)),s},r.prototype.patch_deepCopy=function(e){for(var t=[],n=0;n<e.length;n++){var i=e[n],a=new r.patch_obj;a.diffs=[];for(var s=0;s<i.diffs.length;s++)a.diffs[s]=new r.Diff(i.diffs[s][0],i.diffs[s][1]);a.start1=i.start1,a.start2=i.start2,a.length1=i.length1,a.length2=i.length2,t[n]=a}return t},r.prototype.patch_apply=function(e,t){if(0==e.length)return[t,[]];e=this.patch_deepCopy(e);var n=this.patch_addPadding(e);t=n+t+n,this.patch_splitMax(e);for(var r=0,i=[],a=0;a<e.length;a++){var s=e[a].start2+r,o=this.diff_text1(e[a].diffs),l=-1;if(o.length>this.Match_MaxBits?-1!=(u=this.match_main(t,o.substring(0,this.Match_MaxBits),s))&&(-1==(l=this.match_main(t,o.substring(o.length-this.Match_MaxBits),s+o.length-this.Match_MaxBits))||u>=l)&&(u=-1):u=this.match_main(t,o,s),-1==u)i[a]=!1,r-=e[a].length2-e[a].length1;else if(i[a]=!0,r=u-s,d=-1==l?t.substring(u,u+o.length):t.substring(u,l+this.Match_MaxBits),o==d)t=t.substring(0,u)+this.diff_text2(e[a].diffs)+t.substring(u+o.length);else{var c=this.diff_main(o,d,!1);if(o.length>this.Match_MaxBits&&this.diff_levenshtein(c)/o.length>this.Patch_DeleteThreshold)i[a]=!1;else{this.diff_cleanupSemanticLossless(c);for(var u,d,h,p=0,f=0;f<e[a].diffs.length;f++){var m=e[a].diffs[f];0!==m[0]&&(h=this.diff_xIndex(c,p)),1===m[0]?t=t.substring(0,u+h)+m[1]+t.substring(u+h):-1===m[0]&&(t=t.substring(0,u+h)+t.substring(u+this.diff_xIndex(c,p+m[1].length))),-1!==m[0]&&(p+=m[1].length)}}}}return[t=t.substring(n.length,t.length-n.length),i]},r.prototype.patch_addPadding=function(e){for(var t=this.Patch_Margin,n="",i=1;i<=t;i++)n+=String.fromCharCode(i);for(var i=0;i<e.length;i++)e[i].start1+=t,e[i].start2+=t;var a=e[0],s=a.diffs;if(0==s.length||0!=s[0][0])s.unshift(new r.Diff(0,n)),a.start1-=t,a.start2-=t,a.length1+=t,a.length2+=t;else if(t>s[0][1].length){var o=t-s[0][1].length;s[0][1]=n.substring(s[0][1].length)+s[0][1],a.start1-=o,a.start2-=o,a.length1+=o,a.length2+=o}if(0==(s=(a=e[e.length-1]).diffs).length||0!=s[s.length-1][0])s.push(new r.Diff(0,n)),a.length1+=t,a.length2+=t;else if(t>s[s.length-1][1].length){var o=t-s[s.length-1][1].length;s[s.length-1][1]+=n.substring(0,o),a.length1+=o,a.length2+=o}return n},r.prototype.patch_splitMax=function(e){for(var t=this.Match_MaxBits,n=0;n<e.length;n++)if(!(e[n].length1<=t)){var i=e[n];e.splice(n--,1);for(var a=i.start1,s=i.start2,o="";0!==i.diffs.length;){var l=new r.patch_obj,c=!0;for(l.start1=a-o.length,l.start2=s-o.length,""!==o&&(l.length1=l.length2=o.length,l.diffs.push(new r.Diff(0,o)));0!==i.diffs.length&&l.length1<t-this.Patch_Margin;){var u=i.diffs[0][0],d=i.diffs[0][1];1===u?(l.length2+=d.length,s+=d.length,l.diffs.push(i.diffs.shift()),c=!1):-1===u&&1==l.diffs.length&&0==l.diffs[0][0]&&d.length>2*t?(l.length1+=d.length,a+=d.length,c=!1,l.diffs.push(new r.Diff(u,d)),i.diffs.shift()):(d=d.substring(0,t-l.length1-this.Patch_Margin),l.length1+=d.length,a+=d.length,0===u?(l.length2+=d.length,s+=d.length):c=!1,l.diffs.push(new r.Diff(u,d)),d==i.diffs[0][1]?i.diffs.shift():i.diffs[0][1]=i.diffs[0][1].substring(d.length))}o=(o=this.diff_text2(l.diffs)).substring(o.length-this.Patch_Margin);var h=this.diff_text1(i.diffs).substring(0,this.Patch_Margin);""!==h&&(l.length1+=h.length,l.length2+=h.length,0!==l.diffs.length&&0===l.diffs[l.diffs.length-1][0]?l.diffs[l.diffs.length-1][1]+=h:l.diffs.push(new r.Diff(0,h))),c||e.splice(++n,0,l)}}},r.prototype.patch_toText=function(e){for(var t=[],n=0;n<e.length;n++)t[n]=e[n];return t.join("")},r.prototype.patch_fromText=function(e){var t=[];if(!e)return t;for(var n=e.split("\n"),i=0,a=/^@@ -(\d+),?(\d*) \+(\d+),?(\d*) @@$/;i<n.length;){var s=n[i].match(a);if(!s)throw Error("Invalid patch string: "+n[i]);var o=new r.patch_obj;for(t.push(o),o.start1=parseInt(s[1],10),""===s[2]?(o.start1--,o.length1=1):"0"==s[2]?o.length1=0:(o.start1--,o.length1=parseInt(s[2],10)),o.start2=parseInt(s[3],10),""===s[4]?(o.start2--,o.length2=1):"0"==s[4]?o.length2=0:(o.start2--,o.length2=parseInt(s[4],10)),i++;i<n.length;){var l=n[i].charAt(0);try{var c=decodeURI(n[i].substring(1))}catch(e){throw Error("Illegal escape in patch_fromText: "+c)}if("-"==l)o.diffs.push(new r.Diff(-1,c));else if("+"==l)o.diffs.push(new r.Diff(1,c));else if(" "==l)o.diffs.push(new r.Diff(0,c));else if("@"==l)break;else if(""===l);else throw Error('Invalid patch mode "'+l+'" in: '+c);i++}}return t},r.patch_obj=function(){this.diffs=[],this.start1=null,this.start2=null,this.length1=0,this.length2=0},r.patch_obj.prototype.toString=function(){e=0===this.length1?this.start1+",0":1==this.length1?this.start1+1:this.start1+1+","+this.length1;for(var e,t,n=0===this.length2?this.start2+",0":1==this.length2?this.start2+1:this.start2+1+","+this.length2,r=["@@ -"+e+" +"+n+" @@\n"],i=0;i<this.diffs.length;i++){switch(this.diffs[i][0]){case 1:t="+";break;case -1:t="-";break;case 0:t=" "}r[i+1]=t+encodeURI(this.diffs[i][1])+"\n"}return r.join("").replace(/%20/g," ")},t.exports=r,t.exports.diff_match_patch=r,t.exports.DIFF_DELETE=-1,t.exports.DIFF_INSERT=1,t.exports.DIFF_EQUAL=0},343794,(e,t,n)=>{!function(){"use strict";var n={}.hasOwnProperty;function r(){for(var e="",t=0;t<arguments.length;t++){var a=arguments[t];a&&(e=i(e,function(e){if("string"==typeof e||"number"==typeof e)return e;if("object"!=typeof e)return"";if(Array.isArray(e))return r.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var a in e)n.call(e,a)&&e[a]&&(t=i(t,a));return t}(a)))}return e}function i(e,t){return t?e?e+" "+t:e+t:e}if(t.exports)r.default=r,t.exports=r;else if("function"==typeof define&&"object"==typeof define.amd&&define.amd)void 0!==r&&e.v(r);else window.classNames=r}()},283599,20353,92180,646192,271235,571712,959150,546676,337256,515358,97832,144210,585890,e=>{"use strict";e.s(["default",()=>eu],283599);var t=e.i(271645),n=e.i(802239);e.s(["UNDEFINED",()=>u],92180),e.s(["B",()=>m,"I",()=>C,"O",()=>d,"S",()=>$,"U",()=>u,"a",()=>p,"b",()=>l,"c",()=>V,"d",()=>q,"e",()=>h,"f",()=>Z,"g",()=>W,"i",()=>v,"m",()=>f,"n",()=>H,"o",()=>B,"r",()=>A,"s",()=>F,"t",()=>N,"u",()=>I,"z",()=>_],20353),e.s(["ERROR_REVALIDATE_EVENT",()=>s,"FOCUS_EVENT",()=>r,"MUTATE_EVENT",()=>a,"RECONNECT_EVENT",()=>i],211671);let r=0,i=1,a=2,s=3;var o=Object.prototype.hasOwnProperty;let l=new WeakMap,c=()=>{},u=c(),d=Object,h=e=>e===u,p=e=>"function"==typeof e,f=(e,t)=>({...e,...t}),m=e=>p(e.then),g={},y={},b="undefined",v=typeof window!=b,k=typeof document!=b,x=v&&"Deno"in window,_=(e,t)=>{let n=l.get(e);return[()=>!h(t)&&e.get(t)||g,r=>{if(!h(t)){let i=e.get(t);t in y||(y[t]=i),n[5](t,f(i,r),i||g)}},n[6],()=>!h(t)&&t in y?y[t]:!h(t)&&e.get(t)||g]},E=!0,[T,S]=v&&window.addEventListener?[window.addEventListener.bind(window),window.removeEventListener.bind(window)]:[c,c],w={initFocus:e=>(k&&document.addEventListener("visibilitychange",e),T("focus",e),()=>{k&&document.removeEventListener("visibilitychange",e),S("focus",e)}),initReconnect:e=>{let t=()=>{E=!0,e()},n=()=>{E=!1};return T("online",t),T("offline",n),()=>{S("online",t),S("offline",n)}}},C=!t.default.useId,A=!v||x,N=e=>v&&typeof window.requestAnimationFrame!=b?window.requestAnimationFrame(e):setTimeout(e,1),I=A?t.useEffect:t.useLayoutEffect,D="undefined"!=typeof navigator&&navigator.connection,M=!A&&D&&(["slow-2g","2g"].includes(D.effectiveType)||D.saveData),O=new WeakMap,R=(e,t)=>e==="[object ".concat(t,"]"),P=0,L=e=>{let t,n,r=typeof e,i=d.prototype.toString.call(e),a=R(i,"Date"),s=R(i,"RegExp"),o=R(i,"Object");if(d(e)!==e||a||s)t=a?e.toJSON():"symbol"==r?e.toString():"string"==r?JSON.stringify(e):""+e;else{if(t=O.get(e))return t;if(t=++P+"~",O.set(e,t),Array.isArray(e)){for(n=0,t="@";n<e.length;n++)t+=L(e[n])+",";O.set(e,t)}if(o){t="#";let r=d.keys(e).sort();for(;!h(n=r.pop());)h(e[n])||(t+=n+":"+L(e[n])+",");O.set(e,t)}}return t},F=e=>{if(p(e))try{e=e()}catch(t){e=""}let t=e;return[e="string"==typeof e?e:(Array.isArray(e)?e.length:e)?L(e):"",t]},j=0,B=()=>++j;async function H(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];let[r,i,s,o]=t,c=f({populateCache:!0,throwOnError:!0},"boolean"==typeof o?{revalidate:o}:o||{}),d=c.populateCache,g=c.rollbackOnError,y=c.optimisticData,b=c.throwOnError;if(p(i)){let e=[];for(let t of r.keys())!/^\$(inf|sub)\$/.test(t)&&i(r.get(t)._k)&&e.push(t);return Promise.all(e.map(v))}return v(i);async function v(e){let n,[i]=F(e);if(!i)return;let[o,f]=_(r,i),[v,k,x,E]=l.get(r),T=()=>{let t=v[i];return(p(c.revalidate)?c.revalidate(o().data,e):!1!==c.revalidate)&&(delete x[i],delete E[i],t&&t[0])?t[0](a).then(()=>o().data):o().data};if(t.length<3)return T();let S=s,w=!1,C=B();k[i]=[C,0];let A=!h(y),N=o(),I=N.data,D=N._c,M=h(D)?I:D;if(A&&f({data:y=p(y)?y(M,I):y,_c:M}),p(S))try{S=S(M)}catch(e){n=e,w=!0}if(S&&m(S)){let e;if(S=await S.catch(e=>{n=e,w=!0}),C!==k[i][0]){if(w)throw n;return S}w&&A&&(e=n,"function"==typeof g?g(e):!1!==g)&&(d=!0,f({data:M,_c:u}))}if(d&&!w&&(p(d)?f({data:d(S,M),error:u,_c:u}):f({data:S,error:u,_c:u})),k[i][1]=B(),Promise.resolve(T()).then(()=>{f({_c:u})}),w){if(b)throw n;return}return S}}let U=(e,t)=>{for(let n in e)e[n][0]&&e[n][0](t)},z=(e,t)=>{if(!l.has(e)){let n=f(w,t),a=Object.create(null),s=H.bind(u,e),o=c,d=Object.create(null),h=(e,t)=>{let n=d[e]||[];return d[e]=n,n.push(t),()=>n.splice(n.indexOf(t),1)},p=(t,n,r)=>{e.set(t,n);let i=d[t];if(i)for(let e of i)e(n,r)},m=()=>{if(!l.has(e)&&(l.set(e,[a,Object.create(null),Object.create(null),Object.create(null),s,p,h]),!A)){let t=n.initFocus(setTimeout.bind(u,U.bind(u,a,r))),s=n.initReconnect(setTimeout.bind(u,U.bind(u,a,i)));o=()=>{t&&t(),s&&s(),l.delete(e)}}};return m(),[e,s,m,o]}return[e,l.get(e)[4]]},[V,G]=z(new Map),q=f({onLoadingSlow:c,onSuccess:c,onError:c,onErrorRetry:(e,t,n,r,i)=>{let a=n.errorRetryCount,s=i.retryCount,o=~~((Math.random()+.5)*(1<<(s<8?s:8)))*n.errorRetryInterval;(h(a)||!(s>a))&&setTimeout(r,o,i)},onDiscarded:c,revalidateOnFocus:!0,revalidateOnReconnect:!0,revalidateIfStale:!0,shouldRetryOnError:!0,errorRetryInterval:M?1e4:5e3,focusThrottleInterval:5e3,dedupingInterval:2e3,loadingTimeout:M?5e3:3e3,compare:function e(t,n){var r,i;if(t===n)return!0;if(t&&n&&(r=t.constructor)===n.constructor){if(r===Date)return t.getTime()===n.getTime();if(r===RegExp)return t.toString()===n.toString();if(r===Array){if((i=t.length)===n.length)for(;i--&&e(t[i],n[i]););return -1===i}if(!r||"object"==typeof t){for(r in i=0,t)if(o.call(t,r)&&++i&&!o.call(n,r)||!(r in n)||!e(t[r],n[r]))return!1;return Object.keys(n).length===i}}return t!=t&&n!=n},isPaused:()=>!1,cache:V,mutate:G,fallback:{}},{isOnline:()=>E,isVisible:()=>{let e=k&&document.visibilityState;return h(e)||"hidden"!==e}}),Z=(e,t)=>{let n=f(e,t);if(t){let{use:r,fallback:i}=e,{use:a,fallback:s}=t;r&&a&&(n.use=r.concat(a)),i&&s&&(n.fallback=f(i,s))}return n},$=(0,t.createContext)({}),W=e=>{let{value:n}=e,r=(0,t.useContext)($),i=p(n),a=(0,t.useMemo)(()=>i?n(r):n,[i,r,n]),s=(0,t.useMemo)(()=>i?a:Z(r,a),[i,r,a]),o=a&&a.provider,l=(0,t.useRef)(u);o&&!l.current&&(l.current=z(o(s.cache||V),a));let c=l.current;return c&&(s.cache=c[0],s.mutate=c[1]),I(()=>{if(c)return c[2]&&c[2](),c[3]},[]),(0,t.createElement)($.Provider,f(e,{value:s}))};e.s(["subscribeCallback",()=>er,"useSWRConfig",()=>ee,"withArgs",()=>en,"withMiddleware",()=>ei],271235);var Y=e.i(211671);e.s(["INFINITE_PREFIX",()=>K],646192);let K="$inf$",J=v&&window.__SWR_DEVTOOLS_USE__,Q=J?window.__SWR_DEVTOOLS_USE__:[],X=e=>p(e[1])?[e[0],e[1],e[2]||{}]:[e[0],null,(null===e[1]?e[2]:e[1])||{}],ee=()=>{let e=(0,t.useContext)($);return(0,t.useMemo)(()=>f(q,e),[e])},et=Q.concat(e=>(t,n,r)=>{let i=n&&function(){for(var e=arguments.length,r=Array(e),i=0;i<e;i++)r[i]=arguments[i];let[a]=F(t),[,,,s]=l.get(V);if(a.startsWith(K))return n(...r);let o=s[a];return h(o)?n(...r):(delete s[a],o)};return e(t,i,r)}),en=e=>function(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];let i=ee(),[a,s,o]=X(n),l=Z(i,o),c=e,{use:u}=l,d=(u||[]).concat(et);for(let e=d.length;e--;)c=d[e](c);return c(a,s||l.fetcher||null,l)},er=(e,t,n)=>{let r=t[e]||(t[e]=[]);return r.push(n),()=>{let e=r.indexOf(n);e>=0&&(r[e]=r[r.length-1],r.pop())}},ei=(e,t)=>function(){for(var n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];let[a,s,o]=X(r),l=(o.use||[]).concat(t);return e(a,s,{...o,use:l})};J&&(window.__SWR_DEVTOOLS_REACT__=t.default),e.s(["SWRGlobalState",()=>l],571712),e.s(["serialize",()=>F],959150),e.s(["createCacheHelper",()=>_],546676),e.s(["isUndefined",()=>h],337256),e.s(["isFunction",()=>p],515358);e.s(["useIsomorphicLayoutEffect",()=>I],97832);let ea=()=>{},es=ea();new WeakMap;let eo=t.default.use||(e=>{switch(e.status){case"pending":throw e;case"fulfilled":return e.value;case"rejected":throw e.reason;default:throw e.status="pending",e.then(t=>{e.status="fulfilled",e.value=t},t=>{e.status="rejected",e.reason=t}),e}}),el={dedupe:!0},ec=Promise.resolve(u);d.defineProperty(W,"defaultValue",{value:q});let eu=en((e,r,i)=>{let{cache:a,compare:s,suspense:o,fallbackData:c,revalidateOnMount:d,revalidateIfStale:g,refreshInterval:y,refreshWhenHidden:b,refreshWhenOffline:v,keepPreviousData:k}=i,[x,E,T,S]=l.get(a),[w,D]=F(e),M=(0,t.useRef)(!1),O=(0,t.useRef)(!1),R=(0,t.useRef)(w),P=(0,t.useRef)(r),L=(0,t.useRef)(i),j=()=>L.current.isVisible()&&L.current.isOnline(),[U,z,V,G]=_(a,w),q=(0,t.useRef)({}).current,Z=h(c)?h(i.fallback)?u:i.fallback[w]:c,$=(e,t)=>{for(let n in q)if("data"===n){if(!s(e[n],t[n])&&(!h(e[n])||!s(ei,t[n])))return!1}else if(t[n]!==e[n])return!1;return!0},W=(0,t.useMemo)(()=>{let e=!!w&&!!r&&(h(d)?!L.current.isPaused()&&!o&&!1!==g:d),t=t=>{let n=f(t);return(delete n._k,e)?{isValidating:!0,isLoading:!0,...n}:n},n=U(),i=G(),a=t(n),s=n===i?a:t(i),l=a;return[()=>{let e=t(U());return $(e,l)?(l.data=e.data,l.isLoading=e.isLoading,l.isValidating=e.isValidating,l.error=e.error,l):(l=e,e)},()=>s]},[a,w]),K=(0,n.useSyncExternalStore)((0,t.useCallback)(e=>V(w,(t,n)=>{$(n,t)||e()}),[a,w]),W[0],W[1]),J=!M.current,Q=x[w]&&x[w].length>0,X=K.data,ee=h(X)?Z&&m(Z)?eo(Z):Z:X,et=K.error,en=(0,t.useRef)(ee),ei=k?h(X)?h(en.current)?ee:en.current:X:ee,ea=(!Q||!!h(et))&&(J&&!h(d)?d:!L.current.isPaused()&&(o?!h(ee)&&g:h(ee)||g)),es=!!(w&&r&&J&&ea),eu=h(K.isValidating)?es:K.isValidating,ed=h(K.isLoading)?es:K.isLoading,eh=(0,t.useCallback)(async e=>{let t,n,r=P.current;if(!w||!r||O.current||L.current.isPaused())return!1;let a=!0,o=e||{},l=!T[w]||!o.dedupe,c=()=>C?!O.current&&w===R.current&&M.current:w===R.current,d={isValidating:!1,isLoading:!1},f=()=>{z(d)},m=()=>{let e=T[w];e&&e[1]===n&&delete T[w]},g={isValidating:!0};h(U().data)&&(g.isLoading=!0);try{if(l&&(z(g),i.loadingTimeout&&h(U().data)&&setTimeout(()=>{a&&c()&&L.current.onLoadingSlow(w,i)},i.loadingTimeout),T[w]=[r(D),B()]),[t,n]=T[w],t=await t,l&&setTimeout(m,i.dedupingInterval),!T[w]||T[w][1]!==n)return l&&c()&&L.current.onDiscarded(w),!1;d.error=u;let e=E[w];if(!h(e)&&(n<=e[0]||n<=e[1]||0===e[1]))return f(),l&&c()&&L.current.onDiscarded(w),!1;let o=U().data;d.data=s(o,t)?o:t,l&&c()&&L.current.onSuccess(t,w,i)}catch(n){m();let e=L.current,{shouldRetryOnError:t}=e;!e.isPaused()&&(d.error=n,l&&c()&&(e.onError(n,w,e),(!0===t||p(t)&&t(n))&&(!L.current.revalidateOnFocus||!L.current.revalidateOnReconnect||j())&&e.onErrorRetry(n,w,e,e=>{let t=x[w];t&&t[0]&&t[0](Y.ERROR_REVALIDATE_EVENT,e)},{retryCount:(o.retryCount||0)+1,dedupe:!0})))}return a=!1,f(),!0},[w,a]),ep=(0,t.useCallback)(function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return H(a,R.current,...t)},[]);if(I(()=>{P.current=r,L.current=i,h(X)||(en.current=X)}),I(()=>{if(!w)return;let e=eh.bind(u,el),t=0;L.current.revalidateOnFocus&&(t=Date.now()+L.current.focusThrottleInterval);let n=er(w,x,function(n){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(n==Y.FOCUS_EVENT){let n=Date.now();L.current.revalidateOnFocus&&n>t&&j()&&(t=n+L.current.focusThrottleInterval,e())}else if(n==Y.RECONNECT_EVENT)L.current.revalidateOnReconnect&&j()&&e();else if(n==Y.MUTATE_EVENT)return eh();else if(n==Y.ERROR_REVALIDATE_EVENT)return eh(r)});return O.current=!1,R.current=w,M.current=!0,z({_k:D}),ea&&!T[w]&&(h(ee)||A?e():N(e)),()=>{O.current=!0,n()}},[w]),I(()=>{let e;function t(){let t=p(y)?y(U().data):y;t&&-1!==e&&(e=setTimeout(n,t))}function n(){!U().error&&(b||L.current.isVisible())&&(v||L.current.isOnline())?eh(el).then(t):t()}return t(),()=>{e&&(clearTimeout(e),e=-1)}},[y,b,v,w]),(0,t.useDebugValue)(ei),o){let e=w&&h(ee);if(!C&&A&&e)throw Error("Fallback data is required when using Suspense in SSR.");e&&(P.current=r,L.current=i,O.current=!1);let t=S[w];if(eo(!h(t)&&e?ep(t):ec),!h(et)&&e)throw et;let n=e?eh(el):ec;!h(ei)&&e&&(n.status="fulfilled",n.value=!0),eo(n)}return{mutate:ep,get data(){return q.data=!0,ei},get error(){return q.error=!0,et},get isValidating(){return q.isValidating=!0,eu},get isLoading(){return q.isLoading=!0,ed}}});e.s(["ArrowUpIcon",()=>eg,"ChevronDownIcon",()=>eD,"ClockRewind",()=>eO,"CopyIcon",()=>eA,"CpuIcon",()=>eT,"CrossIcon",()=>ek,"CrossSmallIcon",()=>ex,"FileIcon",()=>eh,"FullscreenIcon",()=>eP,"ImageIcon",()=>eR,"LoaderIcon",()=>ep,"MessageIcon",()=>ev,"MoreHorizontalIcon",()=>eb,"PenIcon",()=>eS,"PencilEditIcon",()=>ef,"PlusIcon",()=>eC,"RedoIcon",()=>eE,"SparklesIcon",()=>eM,"StopIcon",()=>ey,"SummarizeIcon",()=>ew,"ThumbDownIcon",()=>eI,"ThumbUpIcon",()=>eN,"TrashIcon",()=>em,"UndoIcon",()=>e_],144210);var ed=e.i(843476);let eh=e=>{let{size:t=16}=e;return(0,ed.jsx)("svg",{height:t,strokeLinejoin:"round",style:{color:"currentcolor"},viewBox:"0 0 16 16",width:t,children:(0,ed.jsx)("path",{clipRule:"evenodd",d:"M14.5 13.5V6.5V5.41421C14.5 5.149 14.3946 4.89464 14.2071 4.70711L9.79289 0.292893C9.60536 0.105357 9.351 0 9.08579 0H8H3H1.5V1.5V13.5C1.5 14.8807 2.61929 16 4 16H12C13.3807 16 14.5 14.8807 14.5 13.5ZM13 13.5V6.5H9.5H8V5V1.5H3V13.5C3 14.0523 3.44772 14.5 4 14.5H12C12.5523 14.5 13 14.0523 13 13.5ZM9.5 5V2.12132L12.3787 5H9.5ZM5.13 5.00062H4.505V6.25062H5.13H6H6.625V5.00062H6H5.13ZM4.505 8H5.13H11H11.625V9.25H11H5.13H4.505V8ZM5.13 11H4.505V12.25H5.13H11H11.625V11H11H5.13Z",fill:"currentColor",fillRule:"evenodd"})})},ep=e=>{let{size:t=16}=e;return(0,ed.jsxs)("svg",{height:t,strokeLinejoin:"round",style:{color:"currentcolor"},viewBox:"0 0 16 16",width:t,children:[(0,ed.jsxs)("g",{clipPath:"url(#clip0_2393_1490)",children:[(0,ed.jsx)("path",{d:"M8 0V4",stroke:"currentColor",strokeWidth:"1.5"}),(0,ed.jsx)("path",{d:"M8 16V12",opacity:"0.5",stroke:"currentColor",strokeWidth:"1.5"}),(0,ed.jsx)("path",{d:"M3.29773 1.52783L5.64887 4.7639",opacity:"0.9",stroke:"currentColor",strokeWidth:"1.5"}),(0,ed.jsx)("path",{d:"M12.7023 1.52783L10.3511 4.7639",opacity:"0.1",stroke:"currentColor",strokeWidth:"1.5"}),(0,ed.jsx)("path",{d:"M12.7023 14.472L10.3511 11.236",opacity:"0.4",stroke:"currentColor",strokeWidth:"1.5"}),(0,ed.jsx)("path",{d:"M3.29773 14.472L5.64887 11.236",opacity:"0.6",stroke:"currentColor",strokeWidth:"1.5"}),(0,ed.jsx)("path",{d:"M15.6085 5.52783L11.8043 6.7639",opacity:"0.2",stroke:"currentColor",strokeWidth:"1.5"}),(0,ed.jsx)("path",{d:"M0.391602 10.472L4.19583 9.23598",opacity:"0.7",stroke:"currentColor",strokeWidth:"1.5"}),(0,ed.jsx)("path",{d:"M15.6085 10.4722L11.8043 9.2361",opacity:"0.3",stroke:"currentColor",strokeWidth:"1.5"}),(0,ed.jsx)("path",{d:"M0.391602 5.52783L4.19583 6.7639",opacity:"0.8",stroke:"currentColor",strokeWidth:"1.5"})]}),(0,ed.jsx)("defs",{children:(0,ed.jsx)("clipPath",{id:"clip0_2393_1490",children:(0,ed.jsx)("rect",{fill:"white",height:"16",width:"16"})})})]})},ef=e=>{let{size:t=16}=e;return(0,ed.jsx)("svg",{height:t,strokeLinejoin:"round",style:{color:"currentcolor"},viewBox:"0 0 16 16",width:t,children:(0,ed.jsx)("path",{clipRule:"evenodd",d:"M11.75 0.189331L12.2803 0.719661L15.2803 3.71966L15.8107 4.24999L15.2803 4.78032L5.15901 14.9016C4.45575 15.6049 3.50192 16 2.50736 16H0.75H0V15.25V13.4926C0 12.4981 0.395088 11.5442 1.09835 10.841L11.2197 0.719661L11.75 0.189331ZM11.75 2.31065L9.81066 4.24999L11.75 6.18933L13.6893 4.24999L11.75 2.31065ZM2.15901 11.9016L8.75 5.31065L10.6893 7.24999L4.09835 13.841C3.67639 14.2629 3.1041 14.5 2.50736 14.5H1.5V13.4926C1.5 12.8959 1.73705 12.3236 2.15901 11.9016ZM9 16H16V14.5H9V16Z",fill:"currentColor",fillRule:"evenodd"})})},em=e=>{let{size:t=16}=e;return(0,ed.jsx)("svg",{height:t,strokeLinejoin:"round",style:{color:"currentcolor"},viewBox:"0 0 16 16",width:t,children:(0,ed.jsx)("path",{clipRule:"evenodd",d:"M6.75 2.75C6.75 2.05964 7.30964 1.5 8 1.5C8.69036 1.5 9.25 2.05964 9.25 2.75V3H6.75V2.75ZM5.25 3V2.75C5.25 1.23122 6.48122 0 8 0C9.51878 0 10.75 1.23122 10.75 2.75V3H12.9201H14.25H15V4.5H14.25H13.8846L13.1776 13.6917C13.0774 14.9942 11.9913 16 10.6849 16H5.31508C4.00874 16 2.92263 14.9942 2.82244 13.6917L2.11538 4.5H1.75H1V3H1.75H3.07988H5.25ZM4.31802 13.5767L3.61982 4.5H12.3802L11.682 13.5767C11.6419 14.0977 11.2075 14.5 10.6849 14.5H5.31508C4.79254 14.5 4.3581 14.0977 4.31802 13.5767Z",fill:"currentColor",fillRule:"evenodd"})})},eg=e=>{let{size:t=16,...n}=e;return(0,ed.jsx)("svg",{height:t,strokeLinejoin:"round",style:{color:"currentcolor",...n.style},viewBox:"0 0 16 16",width:t,...n,children:(0,ed.jsx)("path",{clipRule:"evenodd",d:"M8.70711 1.39644C8.31659 1.00592 7.68342 1.00592 7.2929 1.39644L2.21968 6.46966L1.68935 6.99999L2.75001 8.06065L3.28034 7.53032L7.25001 3.56065V14.25V15H8.75001V14.25V3.56065L12.7197 7.53032L13.25 8.06065L14.3107 6.99999L13.7803 6.46966L8.70711 1.39644Z",fill:"currentColor",fillRule:"evenodd"})})},ey=e=>{let{size:t=16,...n}=e;return(0,ed.jsx)("svg",{height:t,style:{color:"currentcolor",...n.style},viewBox:"0 0 16 16",width:t,...n,children:(0,ed.jsx)("path",{clipRule:"evenodd",d:"M3 3H13V13H3V3Z",fill:"currentColor",fillRule:"evenodd"})})},eb=e=>{let{size:t=16}=e;return(0,ed.jsx)("svg",{height:t,strokeLinejoin:"round",style:{color:"currentcolor"},viewBox:"0 0 16 16",width:t,children:(0,ed.jsx)("path",{clipRule:"evenodd",d:"M4 8C4 8.82843 3.32843 9.5 2.5 9.5C1.67157 9.5 1 8.82843 1 8C1 7.17157 1.67157 6.5 2.5 6.5C3.32843 6.5 4 7.17157 4 8ZM9.5 8C9.5 8.82843 8.82843 9.5 8 9.5C7.17157 9.5 6.5 8.82843 6.5 8C6.5 7.17157 7.17157 6.5 8 6.5C8.82843 6.5 9.5 7.17157 9.5 8ZM13.5 9.5C14.3284 9.5 15 8.82843 15 8C15 7.17157 14.3284 6.5 13.5 6.5C12.6716 6.5 12 7.17157 12 8C12 8.82843 12.6716 9.5 13.5 9.5Z",fill:"currentColor",fillRule:"evenodd"})})},ev=e=>{let{size:t=16}=e;return(0,ed.jsx)("svg",{height:t,strokeLinejoin:"round",style:{color:"currentcolor"},viewBox:"0 0 16 16",width:t,children:(0,ed.jsx)("path",{clipRule:"evenodd",d:"M2.8914 10.4028L2.98327 10.6318C3.22909 11.2445 3.5 12.1045 3.5 13C3.5 13.3588 3.4564 13.7131 3.38773 14.0495C3.69637 13.9446 4.01409 13.8159 4.32918 13.6584C4.87888 13.3835 5.33961 13.0611 5.70994 12.7521L6.22471 12.3226L6.88809 12.4196C7.24851 12.4724 7.61994 12.5 8 12.5C11.7843 12.5 14.5 9.85569 14.5 7C14.5 4.14431 11.7843 1.5 8 1.5C4.21574 1.5 1.5 4.14431 1.5 7C1.5 8.18175 1.94229 9.29322 2.73103 10.2153L2.8914 10.4028ZM2.8135 15.7653C1.76096 16 1 16 1 16C1 16 1.43322 15.3097 1.72937 14.4367C1.88317 13.9834 2 13.4808 2 13C2 12.3826 1.80733 11.7292 1.59114 11.1903C0.591845 10.0221 0 8.57152 0 7C0 3.13401 3.58172 0 8 0C12.4183 0 16 3.13401 16 7C16 10.866 12.4183 14 8 14C7.54721 14 7.10321 13.9671 6.67094 13.9038C6.22579 14.2753 5.66881 14.6656 5 15C4.23366 15.3832 3.46733 15.6195 2.8135 15.7653Z",fill:"currentColor",fillRule:"evenodd"})})},ek=e=>{let{size:t=16}=e;return(0,ed.jsx)("svg",{height:t,strokeLinejoin:"round",style:{color:"currentcolor"},viewBox:"0 0 16 16",width:t,children:(0,ed.jsx)("path",{clipRule:"evenodd",d:"M12.4697 13.5303L13 14.0607L14.0607 13L13.5303 12.4697L9.06065 7.99999L13.5303 3.53032L14.0607 2.99999L13 1.93933L12.4697 2.46966L7.99999 6.93933L3.53032 2.46966L2.99999 1.93933L1.93933 2.99999L2.46966 3.53032L6.93933 7.99999L2.46966 12.4697L1.93933 13L2.99999 14.0607L3.53032 13.5303L7.99999 9.06065L12.4697 13.5303Z",fill:"currentColor",fillRule:"evenodd"})})},ex=e=>{let{size:t=16}=e;return(0,ed.jsx)("svg",{height:t,strokeLinejoin:"round",style:{color:"currentcolor"},viewBox:"0 0 16 16",width:t,children:(0,ed.jsx)("path",{clipRule:"evenodd",d:"M9.96966 11.0303L10.5 11.5607L11.5607 10.5L11.0303 9.96966L9.06065 7.99999L11.0303 6.03032L11.5607 5.49999L10.5 4.43933L9.96966 4.96966L7.99999 6.93933L6.03032 4.96966L5.49999 4.43933L4.43933 5.49999L4.96966 6.03032L6.93933 7.99999L4.96966 9.96966L4.43933 10.5L5.49999 11.5607L6.03032 11.0303L7.99999 9.06065L9.96966 11.0303Z",fill:"currentColor",fillRule:"evenodd"})})},e_=e=>{let{size:t=16}=e;return(0,ed.jsx)("svg",{height:t,strokeLinejoin:"round",style:{color:"currentcolor"},viewBox:"0 0 16 16",width:t,children:(0,ed.jsx)("path",{clipRule:"evenodd",d:"M13.5 8C13.5 4.96643 11.0257 2.5 7.96452 2.5C5.42843 2.5 3.29365 4.19393 2.63724 6.5H5.25H6V8H5.25H0.75C0.335787 8 0 7.66421 0 7.25V2.75V2H1.5V2.75V5.23347C2.57851 2.74164 5.06835 1 7.96452 1C11.8461 1 15 4.13001 15 8C15 11.87 11.8461 15 7.96452 15C5.62368 15 3.54872 13.8617 2.27046 12.1122L1.828 11.5066L3.03915 10.6217L3.48161 11.2273C4.48831 12.6051 6.12055 13.5 7.96452 13.5C11.0257 13.5 13.5 11.0336 13.5 8Z",fill:"currentColor",fillRule:"evenodd"})})},eE=e=>{let{size:t=16}=e;return(0,ed.jsx)("svg",{height:t,strokeLinejoin:"round",style:{color:"currentcolor"},viewBox:"0 0 16 16",width:t,children:(0,ed.jsx)("path",{clipRule:"evenodd",d:"M2.5 8C2.5 4.96643 4.97431 2.5 8.03548 2.5C10.5716 2.5 12.7064 4.19393 13.3628 6.5H10.75H10V8H10.75H15.25C15.6642 8 16 7.66421 16 7.25V2.75V2H14.5V2.75V5.23347C13.4215 2.74164 10.9316 1 8.03548 1C4.1539 1 1 4.13001 1 8C1 11.87 4.1539 15 8.03548 15C10.3763 15 12.4513 13.8617 13.7295 12.1122L14.172 11.5066L12.9609 10.6217L12.5184 11.2273C11.5117 12.6051 9.87945 13.5 8.03548 13.5C4.97431 13.5 2.5 11.0336 2.5 8Z",fill:"currentColor",fillRule:"evenodd"})})},eT=e=>{let{size:t=16}=e;return(0,ed.jsxs)("svg",{fill:"none",height:t,stroke:"currentColor",strokeWidth:"2",style:{color:"currentcolor"},viewBox:"0 0 24 24",width:t,children:[(0,ed.jsx)("path",{d:"M4 12C4 8.22876 4 6.34315 5.17157 5.17157C6.34315 4 8.22876 4 12 4C15.7712 4 17.6569 4 18.8284 5.17157C20 6.34315 20 8.22876 20 12C20 15.7712 20 17.6569 18.8284 18.8284C17.6569 20 15.7712 20 12 20C8.22876 20 6.34315 20 5.17157 18.8284C4 17.6569 4 15.7712 4 12Z",strokeLinejoin:"round"}),(0,ed.jsx)("path",{d:"M9.5 2V4",strokeLinecap:"round",strokeLinejoin:"round"}),(0,ed.jsx)("path",{d:"M14.5 2V4",strokeLinecap:"round",strokeLinejoin:"round"}),(0,ed.jsx)("path",{d:"M9.5 20V22",strokeLinecap:"round",strokeLinejoin:"round"}),(0,ed.jsx)("path",{d:"M14.5 20V22",strokeLinecap:"round",strokeLinejoin:"round"}),(0,ed.jsx)("path",{d:"M13 9L9 13",strokeLinecap:"round",strokeLinejoin:"round"}),(0,ed.jsx)("path",{d:"M15 13L13 15",strokeLinecap:"round",strokeLinejoin:"round"}),(0,ed.jsx)("path",{d:"M22 14.5L20 14.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,ed.jsx)("path",{d:"M4 9.5L2 9.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,ed.jsx)("path",{d:"M4 14.5L2 14.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,ed.jsx)("path",{d:"M22 9.5L20 9.5",strokeLinecap:"round",strokeLinejoin:"round"})]})},eS=e=>{let{size:t=16}=e;return(0,ed.jsx)("svg",{height:t,strokeLinejoin:"round",style:{color:"currentcolor"},viewBox:"0 0 16 16",width:t,children:(0,ed.jsx)("path",{clipRule:"evenodd",d:"M8.75 0.189331L9.28033 0.719661L15.2803 6.71966L15.8107 7.24999L15.2803 7.78032L13.7374 9.32322C13.1911 9.8696 12.3733 9.97916 11.718 9.65188L9.54863 13.5568C8.71088 15.0648 7.12143 16 5.39639 16H0.75H0V15.25V10.6036C0 8.87856 0.935237 7.28911 2.4432 6.45136L6.34811 4.28196C6.02084 3.62674 6.13039 2.80894 6.67678 2.26255L8.21967 0.719661L8.75 0.189331ZM7.3697 5.43035L10.5696 8.63029L8.2374 12.8283C7.6642 13.8601 6.57668 14.5 5.39639 14.5H2.56066L5.53033 11.5303L4.46967 10.4697L1.5 13.4393V10.6036C1.5 9.42331 2.1399 8.33579 3.17166 7.76259L7.3697 5.43035ZM12.6768 8.26256C12.5791 8.36019 12.4209 8.36019 12.3232 8.26255L12.0303 7.96966L8.03033 3.96966L7.73744 3.67677C7.63981 3.57914 7.63981 3.42085 7.73744 3.32321L8.75 2.31065L13.6893 7.24999L12.6768 8.26256Z",fill:"currentColor",fillRule:"evenodd"})})},ew=e=>{let{size:t=16}=e;return(0,ed.jsx)("svg",{height:t,strokeLinejoin:"round",style:{color:"currentcolor"},viewBox:"0 0 16 16",width:t,children:(0,ed.jsx)("path",{clipRule:"evenodd",d:"M1.75 12H1V10.5H1.75H5.25H6V12H5.25H1.75ZM1.75 7.75H1V6.25H1.75H4.25H5V7.75H4.25H1.75ZM1.75 3.5H1V2H1.75H7.25H8V3.5H7.25H1.75ZM12.5303 14.7803C12.2374 15.0732 11.7626 15.0732 11.4697 14.7803L9.21967 12.5303L8.68934 12L9.75 10.9393L10.2803 11.4697L11.25 12.4393V2.75V2H12.75V2.75V12.4393L13.7197 11.4697L14.25 10.9393L15.3107 12L14.7803 12.5303L12.5303 14.7803Z",fill:"currentColor",fillRule:"evenodd"})})},eC=e=>{let{size:t=16}=e;return(0,ed.jsx)("svg",{height:t,strokeLinejoin:"round",style:{color:"currentcolor"},viewBox:"0 0 16 16",width:t,children:(0,ed.jsx)("path",{clipRule:"evenodd",d:"M 8.75,1 H7.25 V7.25 H1.5 V8.75 H7.25 V15 H8.75 V8.75 H14.5 V7.25 H8.75 V1.75 Z",fill:"currentColor",fillRule:"evenodd"})})},eA=e=>{let{size:t=16}=e;return(0,ed.jsx)("svg",{height:t,strokeLinejoin:"round",style:{color:"currentcolor"},viewBox:"0 0 16 16",width:t,children:(0,ed.jsx)("path",{clipRule:"evenodd",d:"M2.75 0.5C1.7835 0.5 1 1.2835 1 2.25V9.75C1 10.7165 1.7835 11.5 2.75 11.5H3.75H4.5V10H3.75H2.75C2.61193 10 2.5 9.88807 2.5 9.75V2.25C2.5 2.11193 2.61193 2 2.75 2H8.25C8.38807 2 8.5 2.11193 8.5 2.25V3H10V2.25C10 1.2835 9.2165 0.5 8.25 0.5H2.75ZM7.75 4.5C6.7835 4.5 6 5.2835 6 6.25V13.75C6 14.7165 6.7835 15.5 7.75 15.5H13.25C14.2165 15.5 15 14.7165 15 13.75V6.25C15 5.2835 14.2165 4.5 13.25 4.5H7.75ZM7.5 6.25C7.5 6.11193 7.61193 6 7.75 6H13.25C13.3881 6 13.5 6.11193 13.5 6.25V13.75C13.5 13.8881 13.3881 14 13.25 14H7.75C7.61193 14 7.5 13.8881 7.5 13.75V6.25Z",fill:"currentColor",fillRule:"evenodd"})})},eN=e=>{let{size:t=16}=e;return(0,ed.jsx)("svg",{height:t,strokeLinejoin:"round",style:{color:"currentcolor"},viewBox:"0 0 16 16",width:t,children:(0,ed.jsx)("path",{clipRule:"evenodd",d:"M6.89531 2.23972C6.72984 2.12153 6.5 2.23981 6.5 2.44315V5.25001C6.5 6.21651 5.7165 7.00001 4.75 7.00001H2.5V13.5H12.1884C12.762 13.5 13.262 13.1096 13.4011 12.5532L14.4011 8.55318C14.5984 7.76425 14.0017 7.00001 13.1884 7.00001H9.25H8.5V6.25001V3.51458C8.5 3.43384 8.46101 3.35807 8.39531 3.31114L6.89531 2.23972ZM5 2.44315C5 1.01975 6.6089 0.191779 7.76717 1.01912L9.26717 2.09054C9.72706 2.41904 10 2.94941 10 3.51458V5.50001H13.1884C14.9775 5.50001 16.2903 7.18133 15.8563 8.91698L14.8563 12.917C14.5503 14.1412 13.4503 15 12.1884 15H1.75H1V14.25V6.25001V5.50001H1.75H4.75C4.88807 5.50001 5 5.38808 5 5.25001V2.44315Z",fill:"currentColor",fillRule:"evenodd"})})},eI=e=>{let{size:t=16}=e;return(0,ed.jsx)("svg",{height:t,strokeLinejoin:"round",style:{color:"currentcolor"},viewBox:"0 0 16 16",width:t,children:(0,ed.jsx)("path",{clipRule:"evenodd",d:"M6.89531 13.7603C6.72984 13.8785 6.5 13.7602 6.5 13.5569V10.75C6.5 9.7835 5.7165 9 4.75 9H2.5V2.5H12.1884C12.762 2.5 13.262 2.89037 13.4011 3.44683L14.4011 7.44683C14.5984 8.23576 14.0017 9 13.1884 9H9.25H8.5V9.75V12.4854C8.5 12.5662 8.46101 12.6419 8.39531 12.6889L6.89531 13.7603ZM5 13.5569C5 14.9803 6.6089 15.8082 7.76717 14.9809L9.26717 13.9095C9.72706 13.581 10 13.0506 10 12.4854V10.5H13.1884C14.9775 10.5 16.2903 8.81868 15.8563 7.08303L14.8563 3.08303C14.5503 1.85882 13.4503 1 12.1884 1H1.75H1V1.75V9.75V10.5H1.75H4.75C4.88807 10.5 5 10.6119 5 10.75V13.5569Z",fill:"currentColor",fillRule:"evenodd"})})},eD=e=>{let{size:t=16}=e;return(0,ed.jsx)("svg",{height:t,strokeLinejoin:"round",style:{color:"currentcolor"},viewBox:"0 0 16 16",width:t,children:(0,ed.jsx)("path",{clipRule:"evenodd",d:"M12.0607 6.74999L11.5303 7.28032L8.7071 10.1035C8.31657 10.4941 7.68341 10.4941 7.29288 10.1035L4.46966 7.28032L3.93933 6.74999L4.99999 5.68933L5.53032 6.21966L7.99999 8.68933L10.4697 6.21966L11 5.68933L12.0607 6.74999Z",fill:"currentColor",fillRule:"evenodd"})})},eM=e=>{let{size:t=16}=e;return(0,ed.jsxs)("svg",{height:t,strokeLinejoin:"round",style:{color:"currentcolor"},viewBox:"0 0 16 16",width:t,children:[(0,ed.jsx)("path",{d:"M2.5 0.5V0H3.5V0.5C3.5 1.60457 4.39543 2.5 5.5 2.5H6V3V3.5H5.5C4.39543 3.5 3.5 4.39543 3.5 5.5V6H3H2.5V5.5C2.5 4.39543 1.60457 3.5 0.5 3.5H0V3V2.5H0.5C1.60457 2.5 2.5 1.60457 2.5 0.5Z",fill:"currentColor"}),(0,ed.jsx)("path",{d:"M14.5 4.5V5H13.5V4.5C13.5 3.94772 13.0523 3.5 12.5 3.5H12V3V2.5H12.5C13.0523 2.5 13.5 2.05228 13.5 1.5V1H14H14.5V1.5C14.5 2.05228 14.9477 2.5 15.5 2.5H16V3V3.5H15.5C14.9477 3.5 14.5 3.94772 14.5 4.5Z",fill:"currentColor"}),(0,ed.jsx)("path",{d:"M8.40706 4.92939L8.5 4H9.5L9.59294 4.92939C9.82973 7.29734 11.7027 9.17027 14.0706 9.40706L15 9.5V10.5L14.0706 10.5929C11.7027 10.8297 9.82973 12.7027 9.59294 15.0706L9.5 16H8.5L8.40706 15.0706C8.17027 12.7027 6.29734 10.8297 3.92939 10.5929L3 10.5V9.5L3.92939 9.40706C6.29734 9.17027 8.17027 7.29734 8.40706 4.92939Z",fill:"currentColor"})]})},eO=e=>{let{size:t=16}=e;return(0,ed.jsx)("svg",{height:t,strokeLinejoin:"round",style:{color:"currentcolor"},viewBox:"0 0 16 16",width:t,children:(0,ed.jsx)("path",{clipRule:"evenodd",d:"M7.96452 2.5C11.0257 2.5 13.5 4.96643 13.5 8C13.5 11.0336 11.0257 13.5 7.96452 13.5C6.12055 13.5 4.48831 12.6051 3.48161 11.2273L3.03915 10.6217L1.828 11.5066L2.27046 12.1122C3.54872 13.8617 5.62368 15 7.96452 15C11.8461 15 15 11.87 15 8C15 4.13001 11.8461 1 7.96452 1C5.06835 1 2.57851 2.74164 1.5 5.23347V3.75V3H0V3.75V7.25C0 7.66421 0.335786 8 0.75 8H3.75H4.5V6.5H3.75H2.63724C3.29365 4.19393 5.42843 2.5 7.96452 2.5ZM8.75 5.25V4.5H7.25V5.25V7.8662C7.25 8.20056 7.4171 8.51279 7.6953 8.69825L9.08397 9.62404L9.70801 10.0401L10.5401 8.79199L9.91603 8.37596L8.75 7.59861V5.25Z",fill:"currentColor",fillRule:"evenodd"})})},eR=e=>{let{size:t=16}=e;return(0,ed.jsx)("svg",{height:t,strokeLinejoin:"round",style:{color:"currentcolor"},viewBox:"0 0 16 16",width:t,children:(0,ed.jsx)("path",{clipRule:"evenodd",d:"M14.5 2.5H1.5V9.18933L2.96966 7.71967L3.18933 7.5H3.49999H6.63001H6.93933L6.96966 7.46967L10.4697 3.96967L11.5303 3.96967L14.5 6.93934V2.5ZM8.00066 8.55999L9.53034 10.0897L10.0607 10.62L9.00001 11.6807L8.46968 11.1503L6.31935 9H3.81065L1.53032 11.2803L1.5 11.3106V12.5C1.5 13.0523 1.94772 13.5 2.5 13.5H13.5C14.0523 13.5 14.5 13.0523 14.5 12.5V9.06066L11 5.56066L8.03032 8.53033L8.00066 8.55999ZM4.05312e-06 10.8107V12.5C4.05312e-06 13.8807 1.11929 15 2.5 15H13.5C14.8807 15 16 13.8807 16 12.5V9.56066L16.5607 9L16.0303 8.46967L16 8.43934V2.5V1H14.5H1.5H4.05312e-06V2.5V10.6893L-0.0606689 10.75L4.05312e-06 10.8107Z",fill:"currentColor",fillRule:"evenodd"})})},eP=e=>{let{size:t=16}=e;return(0,ed.jsx)("svg",{height:t,strokeLinejoin:"round",style:{color:"currentcolor"},viewBox:"0 0 16 16",width:t,children:(0,ed.jsx)("path",{clipRule:"evenodd",d:"M1 5.25V6H2.5V5.25V2.5H5.25H6V1H5.25H2C1.44772 1 1 1.44772 1 2V5.25ZM5.25 14.9994H6V13.4994H5.25H2.5V10.7494V9.99939H1V10.7494V13.9994C1 14.5517 1.44772 14.9994 2 14.9994H5.25ZM15 10V10.75V14C15 14.5523 14.5523 15 14 15H10.75H10V13.5H10.75H13.5V10.75V10H15ZM10.75 1H10V2.5H10.75H13.5V5.25V6H15V5.25V2C15 1.44772 14.5523 1 14 1H10.75Z",fill:"currentColor",fillRule:"evenodd"})})};e.s(["startOfDay",()=>eF],585890);var eL=e.i(281092);function eF(e,t){let n=(0,eL.toDate)(e,null==t?void 0:t.in);return n.setHours(0,0,0,0),n}},802896,958453,86989,64445,146924,57989,201105,99448,246936,e=>{"use strict";let t,n;e.s(["initialArtifactData",()=>F,"useArtifact",()=>B,"useArtifactSelector",()=>j],802896);var r,i,a,s,o,l,c,u,d,h,p,f,m,g,y,b,v,k,x,_,E,T,S,w,C,A,N,I,D,M,O,R,P=e.i(271645),L=e.i(283599);let F={documentId:"init",content:"",kind:"text",title:"",status:"idle",isVisible:!1,boundingBox:{top:0,left:0,width:0,height:0}};function j(e){let{data:t}=(0,L.default)("artifact",null,{fallbackData:F});return(0,P.useMemo)(()=>t?e(t):e(F),[t,e])}function B(){let{data:e,mutate:t}=(0,L.default)("artifact",null,{fallbackData:F}),n=(0,P.useMemo)(()=>e||F,[e]),r=(0,P.useCallback)(e=>{t(t=>{let n=t||F;return"function"==typeof e?e(n):e})},[t]),{data:i,mutate:a}=(0,L.default)(()=>n.documentId?"artifact-metadata-".concat(n.documentId):null,null,{fallbackData:null});return(0,P.useMemo)(()=>({artifact:n,setArtifact:r,metadata:i,setMetadata:a}),[n,r,i,a])}e.s(["ChatSDKError",()=>z],958453);var H=e.i(299749);let U={database:"log",chat:"response",auth:"response",stream:"response",api:"response",history:"response",vote:"response",document:"response",suggestions:"response",activate_gateway:"response"};class z extends Error{toResponse(){let e="".concat(this.type,":").concat(this.surface),t=U[this.surface],{message:n,cause:r,statusCode:i}=this;return"log"===t?(console.error({code:e,message:n,cause:r}),Response.json({code:"",message:"Something went wrong. Please try again later."},{status:i})):Response.json({code:e,message:n,cause:r},{status:i})}constructor(e,t){super(),(0,H._)(this,"type",void 0),(0,H._)(this,"surface",void 0),(0,H._)(this,"statusCode",void 0);let[n,r]=e.split(":");this.type=n,this.cause=t,this.surface=r,this.message=function(e){if(e.includes("database"))return"An error occurred while executing a database query.";switch(e){case"bad_request:api":return"The request couldn't be processed. Please check your input and try again.";case"bad_request:activate_gateway":return"AI Gateway requires a valid credit card on file to service requests. Please visit https://vercel.com/d?to=%2F%5Bteam%5D%2F%7E%2Fai%3Fmodal%3Dadd-credit-card to add a card and unlock your free credits.";case"unauthorized:auth":return"You need to sign in before continuing.";case"forbidden:auth":return"Your account does not have access to this feature.";case"rate_limit:chat":return"You have exceeded your maximum number of messages for the day. Please try again later.";case"not_found:chat":return"The requested chat was not found. Please check the chat ID and try again.";case"forbidden:chat":return"This chat belongs to another user. Please check the chat ID and try again.";case"unauthorized:chat":return"You need to sign in to view this chat. Please sign in and try again.";case"offline:chat":return"We're having trouble sending your message. Please check your internet connection and try again.";case"not_found:document":return"The requested document was not found. Please check the document ID and try again.";case"forbidden:document":return"This document belongs to another user. Please check the document ID and try again.";case"unauthorized:document":return"You need to sign in to view this document. Please sign in and try again.";case"bad_request:document":return"The request to create or update the document was invalid. Please check your input and try again.";default:return"Something went wrong. Please try again later."}}(e),this.statusCode=function(e){switch(e){case"bad_request":return 400;case"unauthorized":return 401;case"forbidden":return 403;case"not_found":return 404;case"rate_limit":return 429;case"offline":return 503;default:return 500}}(this.type)}}e.s([],64445),e.s(["cn",()=>$,"fetchWithErrorHandlers",()=>Y,"fetcher",()=>W,"generateUUID",()=>K,"getDocumentTimestampByIndex",()=>J,"getTextFromMessage",()=>X,"sanitizeText",()=>Q],86989);var V=e.i(207670);function G(e,t){let n=Math.abs(e).toString().padStart(t,"0");return(e<0?"-":"")+n}var q=e.i(281092),Z=e.i(919056);function $(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,Z.twMerge)((0,V.clsx)(t))}let W=async e=>{let t=await fetch(e);if(!t.ok){let{code:e,cause:n}=await t.json();throw new z(e,n)}return t.json()};async function Y(e,t){try{let n=await fetch(e,t);if(!n.ok){let{code:e,cause:t}=await n.json();throw new z(e,t)}return n}catch(e){if("undefined"!=typeof navigator&&!navigator.onLine)throw new z("offline:chat");throw e}}function K(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{let t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})}function J(e,t){return!e||t>e.length?new Date:e[t].created_at}function Q(e){return e.replace("<has_function_call>","")}function X(e){return e.parts.filter(e=>"text"===e.type).map(e=>e.text).join("")}e.s([],246936),e.s(["Artifact",()=>w$,"artifactDefinitions",()=>wZ],99448);var ee=e.i(843476),et=e.i(263784),en=e.i(629801),er=e.i(88653),ei=e.i(846932),ea=e.i(271235),es=e.i(78333),eo="undefined"!=typeof window?P.useLayoutEffect:P.useEffect;function el(e,t,n,r){let i=(0,P.useRef)(t);eo(()=>{i.current=t},[t]),(0,P.useEffect)(()=>{var t;let a=null!=(t=null==n?void 0:n.current)?t:window;if(!(a&&a.addEventListener))return;let s=e=>{i.current(e)};return a.addEventListener(e,s,r),()=>{a.removeEventListener(e,s,r)}},[e,n,r])}function ec(e){let t=(0,P.useRef)(()=>{throw Error("Cannot call an event handler while rendering.")});return eo(()=>{t.current=e},[e]),(0,P.useCallback)(function(){for(var e,n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];return null==(e=t.current)?void 0:e.call(t,...r)},[t])}var eu="undefined"==typeof window;function ed(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500,n=arguments.length>2?arguments[2]:void 0,r=(0,P.useRef)();var i=()=>{r.current&&r.current.cancel()};let a=(0,P.useRef)(i);a.current=i,(0,P.useEffect)(()=>()=>{a.current()},[]);let s=(0,P.useMemo)(()=>{let i=(0,es.default)(e,t,n),a=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return i(...t)};return a.cancel=()=>{i.cancel()},a.isPending=()=>!!r.current,a.flush=()=>i.flush(),a},[e,t,n]);return(0,P.useEffect)(()=>{r.current=(0,es.default)(e,t,n)},[e,t,n]),s}var eh="undefined"==typeof window;function ep(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{initializeWithValue:t=!0}=e;eh&&(t=!1);let[n,r]=(0,P.useState)(()=>t?{width:window.innerWidth,height:window.innerHeight}:{width:void 0,height:void 0}),i=ed(r,e.debounceDelay);function a(){(e.debounceDelay?i:r)({width:window.innerWidth,height:window.innerHeight})}return el("resize",a),eo(()=>{a()},[]),n}var ef=e.i(846696);function em(e){this.content=e}em.prototype={constructor:em,find:function(e){for(var t=0;t<this.content.length;t+=2)if(this.content[t]===e)return t;return -1},get:function(e){var t=this.find(e);return -1==t?void 0:this.content[t+1]},update:function(e,t,n){var r=n&&n!=e?this.remove(n):this,i=r.find(e),a=r.content.slice();return -1==i?a.push(n||e,t):(a[i+1]=t,n&&(a[i]=n)),new em(a)},remove:function(e){var t=this.find(e);if(-1==t)return this;var n=this.content.slice();return n.splice(t,2),new em(n)},addToStart:function(e,t){return new em([e,t].concat(this.remove(e).content))},addToEnd:function(e,t){var n=this.remove(e).content.slice();return n.push(e,t),new em(n)},addBefore:function(e,t,n){var r=this.remove(t),i=r.content.slice(),a=r.find(e);return i.splice(-1==a?i.length:a,0,t,n),new em(i)},forEach:function(e){for(var t=0;t<this.content.length;t+=2)e(this.content[t],this.content[t+1])},prepend:function(e){return(e=em.from(e)).size?new em(e.content.concat(this.subtract(e).content)):this},append:function(e){return(e=em.from(e)).size?new em(this.subtract(e).content.concat(e.content)):this},subtract:function(e){var t=this;e=em.from(e);for(var n=0;n<e.content.length;n+=2)t=t.remove(e.content[n]);return t},toObject:function(){var e={};return this.forEach(function(t,n){e[t]=n}),e},get size(){return this.content.length>>1}},em.from=function(e){if(e instanceof em)return e;var t=[];if(e)for(var n in e)t.push(n,e[n]);return new em(t)};class eg{nodesBetween(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4?arguments[4]:void 0;for(let a=0,s=0;s<t;a++){let o=this.content[a],l=s+o.nodeSize;if(l>e&&!1!==n(o,r+s,i||null,a)&&o.content.size){let i=s+1;o.nodesBetween(Math.max(0,e-i),Math.min(o.content.size,t-i),n,r+i)}s=l}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,t,n,r){let i="",a=!0;return this.nodesBetween(e,t,(s,o)=>{let l=s.isText?s.text.slice(Math.max(e,o)-o,t-o):s.isLeaf?r?"function"==typeof r?r(s):r:s.type.spec.leafText?s.type.spec.leafText(s):"":"";s.isBlock&&(s.isLeaf&&l||s.isTextblock)&&n&&(a?a=!1:i+=n),i+=l},0),i}append(e){if(!e.size)return this;if(!this.size)return e;let t=this.lastChild,n=e.firstChild,r=this.content.slice(),i=0;for(t.isText&&t.sameMarkup(n)&&(r[r.length-1]=t.withText(t.text+n.text),i=1);i<e.content.length;i++)r.push(e.content[i]);return new eg(r,this.size+e.size)}cut(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.size;if(0==e&&t==this.size)return this;let n=[],r=0;if(t>e)for(let i=0,a=0;a<t;i++){let s=this.content[i],o=a+s.nodeSize;o>e&&((a<e||o>t)&&(s=s.isText?s.cut(Math.max(0,e-a),Math.min(s.text.length,t-a)):s.cut(Math.max(0,e-a-1),Math.min(s.content.size,t-a-1))),n.push(s),r+=s.nodeSize),a=o}return new eg(n,r)}cutByIndex(e,t){return e==t?eg.empty:0==e&&t==this.content.length?this:new eg(this.content.slice(e,t))}replaceChild(e,t){let n=this.content[e];if(n==t)return this;let r=this.content.slice(),i=this.size+t.nodeSize-n.nodeSize;return r[e]=t,new eg(r,i)}addToStart(e){return new eg([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new eg(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let t=0;t<this.content.length;t++)if(!this.content[t].eq(e.content[t]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let t=this.content[e];if(!t)throw RangeError("Index "+e+" out of range for "+this);return t}maybeChild(e){return this.content[e]||null}forEach(e){for(let t=0,n=0;t<this.content.length;t++){let r=this.content[t];e(r,n,t),n+=r.nodeSize}}findDiffStart(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function e(t,n,r){for(let i=0;;i++){if(i==t.childCount||i==n.childCount)return t.childCount==n.childCount?null:r;let a=t.child(i),s=n.child(i);if(a==s){r+=a.nodeSize;continue}if(!a.sameMarkup(s))return r;if(a.isText&&a.text!=s.text){for(let e=0;a.text[e]==s.text[e];e++)r++;return r}if(a.content.size||s.content.size){let t=e(a.content,s.content,r+1);if(null!=t)return t}r+=a.nodeSize}}(this,e,t)}findDiffEnd(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.size,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.size;return function e(t,n,r,i){for(let a=t.childCount,s=n.childCount;;){if(0==a||0==s)return a==s?null:{a:r,b:i};let o=t.child(--a),l=n.child(--s),c=o.nodeSize;if(o==l){r-=c,i-=c;continue}if(!o.sameMarkup(l))return{a:r,b:i};if(o.isText&&o.text!=l.text){let e=0,t=Math.min(o.text.length,l.text.length);for(;e<t&&o.text[o.text.length-e-1]==l.text[l.text.length-e-1];)e++,r--,i--;return{a:r,b:i}}if(o.content.size||l.content.size){let t=e(o.content,l.content,r-1,i-1);if(t)return t}r-=c,i-=c}}(this,e,t,n)}findIndex(e){if(0==e)return eb(0,e);if(e==this.size)return eb(this.content.length,e);if(e>this.size||e<0)throw RangeError("Position ".concat(e," outside of fragment (").concat(this,")"));for(let t=0,n=0;;t++){let r=n+this.child(t).nodeSize;if(r>=e){if(r==e)return eb(t+1,r);return eb(t,n)}n=r}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,t){if(!t)return eg.empty;if(!Array.isArray(t))throw RangeError("Invalid input for Fragment.fromJSON");return new eg(t.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return eg.empty;let t,n=0;for(let r=0;r<e.length;r++){let i=e[r];n+=i.nodeSize,r&&i.isText&&e[r-1].sameMarkup(i)?(t||(t=e.slice(0,r)),t[t.length-1]=i.withText(t[t.length-1].text+i.text)):t&&t.push(i)}return new eg(t||e,n)}static from(e){if(!e)return eg.empty;if(e instanceof eg)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new eg([e],e.nodeSize);throw RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}constructor(e,t){if(this.content=e,this.size=t||0,null==t)for(let t=0;t<e.length;t++)this.size+=e[t].nodeSize}}eg.empty=new eg([],0);let ey={index:0,offset:0};function eb(e,t){return ey.index=e,ey.offset=t,ey}function ev(e,t){if(e===t)return!0;if(!(e&&"object"==typeof e)||!(t&&"object"==typeof t))return!1;let n=Array.isArray(e);if(Array.isArray(t)!=n)return!1;if(n){if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++)if(!ev(e[n],t[n]))return!1}else{for(let n in e)if(!(n in t)||!ev(e[n],t[n]))return!1;for(let n in t)if(!(n in e))return!1}return!0}class ek{addToSet(e){let t,n=!1;for(let r=0;r<e.length;r++){let i=e[r];if(this.eq(i))return e;if(this.type.excludes(i.type))t||(t=e.slice(0,r));else{if(i.type.excludes(this.type))return e;!n&&i.type.rank>this.type.rank&&(t||(t=e.slice(0,r)),t.push(this),n=!0),t&&t.push(i)}}return t||(t=e.slice()),n||t.push(this),t}removeFromSet(e){for(let t=0;t<e.length;t++)if(this.eq(e[t]))return e.slice(0,t).concat(e.slice(t+1));return e}isInSet(e){for(let t=0;t<e.length;t++)if(this.eq(e[t]))return!0;return!1}eq(e){return this==e||this.type==e.type&&ev(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let t in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,t){if(!t)throw RangeError("Invalid input for Mark.fromJSON");let n=e.marks[t.type];if(!n)throw RangeError("There is no mark type ".concat(t.type," in this schema"));let r=n.create(t.attrs);return n.checkAttrs(r.attrs),r}static sameSet(e,t){if(e==t)return!0;if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++)if(!e[n].eq(t[n]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&0==e.length)return ek.none;if(e instanceof ek)return[e];let t=e.slice();return t.sort((e,t)=>e.type.rank-t.type.rank),t}constructor(e,t){this.type=e,this.attrs=t}}ek.none=[];class ex extends Error{}class e_{get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,t){let n=function e(t,n,r,i){let{index:a,offset:s}=t.findIndex(n),o=t.maybeChild(a);if(s==n||o.isText)return i&&!i.canReplace(a,a,r)?null:t.cut(0,n).append(r).append(t.cut(n));let l=e(o.content,n-s-1,r,o);return l&&t.replaceChild(a,o.copy(l))}(this.content,e+this.openStart,t);return n&&new e_(n,this.openStart,this.openEnd)}removeBetween(e,t){return new e_(function e(t,n,r){let{index:i,offset:a}=t.findIndex(n),s=t.maybeChild(i),{index:o,offset:l}=t.findIndex(r);if(a==n||s.isText){if(l!=r&&!t.child(o).isText)throw RangeError("Removing non-flat range");return t.cut(0,n).append(t.cut(r))}if(i!=o)throw RangeError("Removing non-flat range");return t.replaceChild(i,s.copy(e(s.content,n-a-1,r-a-1)))}(this.content,e+this.openStart,t+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,t){if(!t)return e_.empty;let n=t.openStart||0,r=t.openEnd||0;if("number"!=typeof n||"number"!=typeof r)throw RangeError("Invalid input for Slice.fromJSON");return new e_(eg.fromJSON(e,t.content),n,r)}static maxOpen(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1],n=0,r=0;for(let r=e.firstChild;r&&!r.isLeaf&&(t||!r.type.spec.isolating);r=r.firstChild)n++;for(let n=e.lastChild;n&&!n.isLeaf&&(t||!n.type.spec.isolating);n=n.lastChild)r++;return new e_(e,n,r)}constructor(e,t,n){this.content=e,this.openStart=t,this.openEnd=n}}function eE(e,t){if(!t.type.compatibleContent(e.type))throw new ex("Cannot join "+t.type.name+" onto "+e.type.name)}function eT(e,t,n){let r=e.node(n);return eE(r,t.node(n)),r}function eS(e,t){let n=t.length-1;n>=0&&e.isText&&e.sameMarkup(t[n])?t[n]=e.withText(t[n].text+e.text):t.push(e)}function ew(e,t,n,r){let i=(t||e).node(n),a=0,s=t?t.index(n):i.childCount;e&&(a=e.index(n),e.depth>n?a++:e.textOffset&&(eS(e.nodeAfter,r),a++));for(let e=a;e<s;e++)eS(i.child(e),r);t&&t.depth==n&&t.textOffset&&eS(t.nodeBefore,r)}function eC(e,t){return e.type.checkContent(t),e.copy(t)}function eA(e,t,n){let r=[];return ew(null,e,n,r),e.depth>n&&eS(eC(eT(e,t,n+1),eA(e,t,n+1)),r),ew(t,null,n,r),new eg(r)}e_.empty=new e_(eg.empty,0,0);class eN{resolveDepth(e){return null==e?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[3*this.resolveDepth(e)]}index(e){return this.path[3*this.resolveDepth(e)+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e!=this.depth||this.textOffset?1:0)}start(e){return 0==(e=this.resolveDepth(e))?0:this.path[3*e-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(!(e=this.resolveDepth(e)))throw RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[3*e-1]}after(e){if(!(e=this.resolveDepth(e)))throw RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[3*e-1]+this.path[3*e].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,t=this.index(this.depth);if(t==e.childCount)return null;let n=this.pos-this.path[this.path.length-1],r=e.child(t);return n?e.child(t).cut(n):r}get nodeBefore(){let e=this.index(this.depth),t=this.pos-this.path[this.path.length-1];return t?this.parent.child(e).cut(0,t):0==e?null:this.parent.child(e-1)}posAtIndex(e,t){t=this.resolveDepth(t);let n=this.path[3*t],r=0==t?0:this.path[3*t-1]+1;for(let t=0;t<e;t++)r+=n.child(t).nodeSize;return r}marks(){let e=this.parent,t=this.index();if(0==e.content.size)return ek.none;if(this.textOffset)return e.child(t).marks;let n=e.maybeChild(t-1),r=e.maybeChild(t);if(!n){let e=n;n=r,r=e}let i=n.marks;for(var a=0;a<i.length;a++)!1!==i[a].type.spec.inclusive||r&&i[a].isInSet(r.marks)||(i=i[a--].removeFromSet(i));return i}marksAcross(e){let t=this.parent.maybeChild(this.index());if(!t||!t.isInline)return null;let n=t.marks,r=e.parent.maybeChild(e.index());for(var i=0;i<n.length;i++)!1!==n[i].type.spec.inclusive||r&&n[i].isInSet(r.marks)||(n=n[i--].removeFromSet(n));return n}sharedDepth(e){for(let t=this.depth;t>0;t--)if(this.start(t)<=e&&this.end(t)>=e)return t;return 0}blockRange(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this,t=arguments.length>1?arguments[1]:void 0;if(e.pos<this.pos)return e.blockRange(this);for(let n=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);n>=0;n--)if(e.pos<=this.end(n)&&(!t||t(this.node(n))))return new eO(this,e,n);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let t=1;t<=this.depth;t++)e+=(e?"/":"")+this.node(t).type.name+"_"+this.index(t-1);return e+":"+this.parentOffset}static resolve(e,t){if(!(t>=0&&t<=e.content.size))throw RangeError("Position "+t+" out of range");let n=[],r=0,i=t;for(let t=e;;){let{index:e,offset:a}=t.content.findIndex(i),s=i-a;if(n.push(t,e,r+a),!s||(t=t.child(e)).isText)break;i=s-1,r+=a+1}return new eN(t,n,i)}static resolveCached(e,t){let n=eM.get(e);if(n)for(let e=0;e<n.elts.length;e++){let r=n.elts[e];if(r.pos==t)return r}else eM.set(e,n=new eI);let r=n.elts[n.i]=eN.resolve(e,t);return n.i=(n.i+1)%eD,r}constructor(e,t,n){this.pos=e,this.path=t,this.parentOffset=n,this.depth=t.length/3-1}}class eI{constructor(){this.elts=[],this.i=0}}let eD=12,eM=new WeakMap;class eO{get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}constructor(e,t,n){this.$from=e,this.$to=t,this.depth=n}}let eR=Object.create(null);class eP{get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;this.content.nodesBetween(e,t,n,r,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,t,n,r){return this.content.textBetween(e,t,n,r)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,t,n){return this.type==e&&ev(this.attrs,t||e.defaultAttrs||eR)&&ek.sameSet(this.marks,n||ek.none)}copy(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return e==this.content?this:new eP(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new eP(this.type,this.attrs,this.content,e)}cut(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.content.size;return 0==e&&t==this.content.size?this:this.copy(this.content.cut(e,t))}slice(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.content.size,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(e==t)return e_.empty;let r=this.resolve(e),i=this.resolve(t),a=n?0:r.sharedDepth(t),s=r.start(a);return new e_(r.node(a).content.cut(r.pos-s,i.pos-s),r.depth-a,i.depth-a)}replace(e,t,n){var r=this.resolve(e),i=this.resolve(t);if(n.openStart>r.depth)throw new ex("Inserted content deeper than insertion position");if(r.depth-n.openStart!=i.depth-n.openEnd)throw new ex("Inconsistent open depths");return function e(t,n,r,i){let a=t.index(i),s=t.node(i);if(a==n.index(i)&&i<t.depth-r.openStart){let o=e(t,n,r,i+1);return s.copy(s.content.replaceChild(a,o))}if(!r.content.size)return eC(s,eA(t,n,i));if(r.openStart||r.openEnd||t.depth!=i||n.depth!=i){let{start:e,end:a}=function(e,t){let n=t.depth-e.openStart,r=t.node(n).copy(e.content);for(let e=n-1;e>=0;e--)r=t.node(e).copy(eg.from(r));return{start:r.resolveNoCache(e.openStart+n),end:r.resolveNoCache(r.content.size-e.openEnd-n)}}(r,t);return eC(s,function e(t,n,r,i,a){let s=t.depth>a&&eT(t,n,a+1),o=i.depth>a&&eT(r,i,a+1),l=[];return ew(null,t,a,l),s&&o&&n.index(a)==r.index(a)?(eE(s,o),eS(eC(s,e(t,n,r,i,a+1)),l)):(s&&eS(eC(s,eA(t,n,a+1)),l),ew(n,r,a,l),o&&eS(eC(o,eA(r,i,a+1)),l)),ew(i,null,a,l),new eg(l)}(t,e,a,n,i))}{let e=t.parent,i=e.content;return eC(e,i.cut(0,t.parentOffset).append(r.content).append(i.cut(n.parentOffset)))}}(r,i,n,0)}nodeAt(e){for(let t=this;;){let{index:n,offset:r}=t.content.findIndex(e);if(!(t=t.maybeChild(n)))return null;if(r==e||t.isText)return t;e-=r+1}}childAfter(e){let{index:t,offset:n}=this.content.findIndex(e);return{node:this.content.maybeChild(t),index:t,offset:n}}childBefore(e){if(0==e)return{node:null,index:0,offset:0};let{index:t,offset:n}=this.content.findIndex(e);if(n<e)return{node:this.content.child(t),index:t,offset:n};let r=this.content.child(t-1);return{node:r,index:t-1,offset:n-r.nodeSize}}resolve(e){return eN.resolveCached(this,e)}resolveNoCache(e){return eN.resolve(this,e)}rangeHasMark(e,t,n){let r=!1;return t>e&&this.nodesBetween(e,t,e=>(n.isInSet(e.marks)&&(r=!0),!r)),r}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),eF(this.marks,e)}contentMatchAt(e){let t=this.type.contentMatch.matchFragment(this.content,0,e);if(!t)throw Error("Called contentMatchAt on a node with invalid content");return t}canReplace(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:eg.empty,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:n.childCount,a=this.contentMatchAt(e).matchFragment(n,r,i),s=a&&a.matchFragment(this.content,t);if(!s||!s.validEnd)return!1;for(let e=r;e<i;e++)if(!this.type.allowsMarks(n.child(e).marks))return!1;return!0}canReplaceWith(e,t,n,r){if(r&&!this.type.allowsMarks(r))return!1;let i=this.contentMatchAt(e).matchType(n),a=i&&i.matchFragment(this.content,t);return!!a&&a.validEnd}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let e=ek.none;for(let t=0;t<this.marks.length;t++){let n=this.marks[t];n.type.checkAttrs(n.attrs),e=n.addToSet(e)}if(!ek.sameSet(e,this.marks))throw RangeError("Invalid collection of marks for node ".concat(this.type.name,": ").concat(this.marks.map(e=>e.type.name)));this.content.forEach(e=>e.check())}toJSON(){let e={type:this.type.name};for(let t in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(e=>e.toJSON())),e}static fromJSON(e,t){let n;if(!t)throw RangeError("Invalid input for Node.fromJSON");if(t.marks){if(!Array.isArray(t.marks))throw RangeError("Invalid mark data for Node.fromJSON");n=t.marks.map(e.markFromJSON)}if("text"==t.type){if("string"!=typeof t.text)throw RangeError("Invalid text node in JSON");return e.text(t.text,n)}let r=eg.fromJSON(e,t.content),i=e.nodeType(t.type).create(t.attrs,r,n);return i.type.checkAttrs(i.attrs),i}constructor(e,t,n,r=ek.none){this.type=e,this.attrs=t,this.marks=r,this.content=n||eg.empty}}eP.prototype.text=void 0;class eL extends eP{toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):eF(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,t){return this.text.slice(e,t)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new eL(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new eL(this.type,this.attrs,e,this.marks)}cut(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.text.length;return 0==e&&t==this.text.length?this:this.withText(this.text.slice(e,t))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}constructor(e,t,n,r){if(super(e,t,null,r),!n)throw RangeError("Empty text nodes are not allowed");this.text=n}}function eF(e,t){for(let n=e.length-1;n>=0;n--)t=e[n].type.name+"("+t+")";return t}class ej{static parse(e,t){var n;let r,i=new eB(e,t);if(null==i.next)return ej.empty;let a=function e(t){let n=[];do n.push(function(t){let n=[];do n.push(function(t){let n=function(t){if(t.eat("(")){let n=e(t);return t.eat(")")||t.err("Missing closing paren"),n}if(/\W/.test(t.next))t.err("Unexpected token '"+t.next+"'");else{let e=(function(e,t){let n=e.nodeTypes,r=n[t];if(r)return[r];let i=[];for(let e in n){let r=n[e];r.isInGroup(t)&&i.push(r)}return 0==i.length&&e.err("No node type or group '"+t+"' found"),i})(t,t.next).map(e=>(null==t.inline?t.inline=e.isInline:t.inline!=e.isInline&&t.err("Mixing inline and block content"),{type:"name",value:e}));return t.pos++,1==e.length?e[0]:{type:"choice",exprs:e}}}(t);for(;;)if(t.eat("+"))n={type:"plus",expr:n};else if(t.eat("*"))n={type:"star",expr:n};else if(t.eat("?"))n={type:"opt",expr:n};else if(t.eat("{"))n=function(e,t){let n=eH(e),r=n;return e.eat(",")&&(r="}"!=e.next?eH(e):-1),e.eat("}")||e.err("Unclosed braced range"),{type:"range",min:n,max:r,expr:t}}(t,n);else break;return n}(t));while(t.next&&")"!=t.next&&"|"!=t.next)return 1==n.length?n[0]:{type:"seq",exprs:n}}(t));while(t.eat("|"))return 1==n.length?n[0]:{type:"choice",exprs:n}}(i);i.next&&i.err("Unexpected trailing text");let s=(n=function(e){let t=[[]];return i(function e(t,a){if("choice"==t.type)return t.exprs.reduce((t,n)=>t.concat(e(n,a)),[]);if("seq"==t.type)for(let r=0;;r++){let s=e(t.exprs[r],a);if(r==t.exprs.length-1)return s;i(s,a=n())}else if("star"==t.type){let s=n();return r(a,s),i(e(t.expr,s),s),[r(s)]}else if("plus"==t.type){let s=n();return i(e(t.expr,a),s),i(e(t.expr,s),s),[r(s)]}else if("opt"==t.type)return[r(a)].concat(e(t.expr,a));else if("range"==t.type){let s=a;for(let r=0;r<t.min;r++){let r=n();i(e(t.expr,s),r),s=r}if(-1==t.max)i(e(t.expr,s),s);else for(let a=t.min;a<t.max;a++){let a=n();r(s,a),i(e(t.expr,s),a),s=a}return[r(s)]}else if("name"==t.type)return[r(a,void 0,t.value)];else throw Error("Unknown expr type")}(e,0),n()),t;function n(){return t.push([])-1}function r(e,n,r){let i={term:r,to:n};return t[e].push(i),i}function i(e,t){e.forEach(e=>e.to=t)}}(a),r=Object.create(null),function e(t){let i=[];t.forEach(e=>{n[e].forEach(e=>{let t,{term:r,to:a}=e;if(r){for(let e=0;e<i.length;e++)i[e][0]==r&&(t=i[e][1]);ez(n,a).forEach(e=>{t||i.push([r,t=[]]),-1==t.indexOf(e)&&t.push(e)})}})});let a=r[t.join(",")]=new ej(t.indexOf(n.length-1)>-1);for(let t=0;t<i.length;t++){let n=i[t][1].sort(eU);a.next.push({type:i[t][0],next:r[n.join(",")]||e(n)})}return a}(ez(n,0)));return function(e,t){for(let n=0,r=[e];n<r.length;n++){let e=r[n],i=!e.validEnd,a=[];for(let t=0;t<e.next.length;t++){let{type:n,next:s}=e.next[t];a.push(n.name),i&&!(n.isText||n.hasRequiredAttrs())&&(i=!1),-1==r.indexOf(s)&&r.push(s)}i&&t.err("Only non-generatable nodes ("+a.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}(s,i),s}matchType(e){for(let t=0;t<this.next.length;t++)if(this.next[t].type==e)return this.next[t].next;return null}matchFragment(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.childCount,r=this;for(let i=t;r&&i<n;i++)r=r.matchType(e.child(i).type);return r}get inlineContent(){return 0!=this.next.length&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:t}=this.next[e];if(!(t.isText||t.hasRequiredAttrs()))return t}return null}compatible(e){for(let t=0;t<this.next.length;t++)for(let n=0;n<e.next.length;n++)if(this.next[t].type==e.next[n].type)return!0;return!1}fillBefore(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=[this];return function i(a,s){let o=a.matchFragment(e,n);if(o&&(!t||o.validEnd))return eg.from(s.map(e=>e.createAndFill()));for(let e=0;e<a.next.length;e++){let{type:t,next:n}=a.next[e];if(!(t.isText||t.hasRequiredAttrs())&&-1==r.indexOf(n)){r.push(n);let e=i(n,s.concat(t));if(e)return e}}return null}(this,[])}findWrapping(e){for(let t=0;t<this.wrapCache.length;t+=2)if(this.wrapCache[t]==e)return this.wrapCache[t+1];let t=this.computeWrapping(e);return this.wrapCache.push(e,t),t}computeWrapping(e){let t=Object.create(null),n=[{match:this,type:null,via:null}];for(;n.length;){let r=n.shift(),i=r.match;if(i.matchType(e)){let e=[];for(let t=r;t.type;t=t.via)e.push(t.type);return e.reverse()}for(let e=0;e<i.next.length;e++){let{type:a,next:s}=i.next[e];a.isLeaf||a.hasRequiredAttrs()||a.name in t||r.type&&!s.validEnd||(n.push({match:a.contentMatch,type:a,via:r}),t[a.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw RangeError("There's no ".concat(e,"th edge in this content match"));return this.next[e]}toString(){let e=[];return!function t(n){e.push(n);for(let r=0;r<n.next.length;r++)-1==e.indexOf(n.next[r].next)&&t(n.next[r].next)}(this),e.map((t,n)=>{let r=n+(t.validEnd?"*":" ")+" ";for(let n=0;n<t.next.length;n++)r+=(n?", ":"")+t.next[n].type.name+"->"+e.indexOf(t.next[n].next);return r}).join("\n")}constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}}ej.empty=new ej(!0);class eB{get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw SyntaxError(e+" (in content expression '"+this.string+"')")}constructor(e,t){this.string=e,this.nodeTypes=t,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),""==this.tokens[this.tokens.length-1]&&this.tokens.pop(),""==this.tokens[0]&&this.tokens.shift()}}function eH(e){/\D/.test(e.next)&&e.err("Expected number, got '"+e.next+"'");let t=Number(e.next);return e.pos++,t}function eU(e,t){return t-e}function ez(e,t){let n=[];return function t(r){let i=e[r];if(1==i.length&&!i[0].term)return t(i[0].to);n.push(r);for(let e=0;e<i.length;e++){let{term:r,to:a}=i[e];r||-1!=n.indexOf(a)||t(a)}}(t),n.sort(eU)}function eV(e){let t=Object.create(null);for(let n in e){let r=e[n];if(!r.hasDefault)return null;t[n]=r.default}return t}function eG(e,t){let n=Object.create(null);for(let r in e){let i=t&&t[r];if(void 0===i){let t=e[r];if(t.hasDefault)i=t.default;else throw RangeError("No value supplied for attribute "+r)}n[r]=i}return n}function eq(e,t,n,r){for(let r in t)if(!(r in e))throw RangeError("Unsupported attribute ".concat(r," for ").concat(n," of type ").concat(r));for(let n in e){let r=e[n];r.validate&&r.validate(t[n])}}function eZ(e,t){let n=Object.create(null);if(t)for(let r in t)n[r]=new eW(e,r,t[r]);return n}class e${get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==ej.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(e){return this.groups.indexOf(e)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:eG(this.attrs,e)}create(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;if(this.isText)throw Error("NodeType.create can't construct text nodes");return new eP(this,this.computeAttrs(e),eg.from(t),ek.setFrom(n))}createChecked(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;return t=eg.from(t),this.checkContent(t),new eP(this,this.computeAttrs(e),t,ek.setFrom(n))}createAndFill(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;if(e=this.computeAttrs(e),(t=eg.from(t)).size){let e=this.contentMatch.fillBefore(t);if(!e)return null;t=e.append(t)}let r=this.contentMatch.matchFragment(t),i=r&&r.fillBefore(eg.empty,!0);return i?new eP(this,e,t.append(i),ek.setFrom(n)):null}validContent(e){let t=this.contentMatch.matchFragment(e);if(!t||!t.validEnd)return!1;for(let t=0;t<e.childCount;t++)if(!this.allowsMarks(e.child(t).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw RangeError("Invalid content for node ".concat(this.name,": ").concat(e.toString().slice(0,50)))}checkAttrs(e){eq(this.attrs,e,"node",this.name)}allowsMarkType(e){return null==this.markSet||this.markSet.indexOf(e)>-1}allowsMarks(e){if(null==this.markSet)return!0;for(let t=0;t<e.length;t++)if(!this.allowsMarkType(e[t].type))return!1;return!0}allowedMarks(e){let t;if(null==this.markSet)return e;for(let n=0;n<e.length;n++)this.allowsMarkType(e[n].type)?t&&t.push(e[n]):t||(t=e.slice(0,n));return t?t.length?t:ek.none:e}static compile(e,t){let n=Object.create(null);e.forEach((e,r)=>n[e]=new e$(e,t,r));let r=t.spec.topNode||"doc";if(!n[r])throw RangeError("Schema is missing its top node type ('"+r+"')");if(!n.text)throw RangeError("Every schema needs a 'text' type");for(let e in n.text.attrs)throw RangeError("The text node type should not have attributes");return n}constructor(e,t,n){this.name=e,this.schema=t,this.spec=n,this.markSet=null,this.groups=n.group?n.group.split(" "):[],this.attrs=eZ(e,n.attrs),this.defaultAttrs=eV(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(n.inline||"text"==e),this.isText="text"==e}}class eW{get isRequired(){return!this.hasDefault}constructor(e,t,n){this.hasDefault=Object.prototype.hasOwnProperty.call(n,"default"),this.default=n.default,this.validate="string"==typeof n.validate?function(e,t,n){let r=n.split("|");return n=>{let i=null===n?"null":typeof n;if(0>r.indexOf(i))throw RangeError("Expected value of type ".concat(r," for attribute ").concat(t," on type ").concat(e,", got ").concat(i))}}(e,t,n.validate):n.validate}}class eY{create(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return!e&&this.instance?this.instance:new ek(this,eG(this.attrs,e))}static compile(e,t){let n=Object.create(null),r=0;return e.forEach((e,i)=>n[e]=new eY(e,r++,t,i)),n}removeFromSet(e){for(var t=0;t<e.length;t++)e[t].type==this&&(e=e.slice(0,t).concat(e.slice(t+1)),t--);return e}isInSet(e){for(let t=0;t<e.length;t++)if(e[t].type==this)return e[t]}checkAttrs(e){eq(this.attrs,e,"mark",this.name)}excludes(e){return this.excluded.indexOf(e)>-1}constructor(e,t,n,r){this.name=e,this.rank=t,this.schema=n,this.spec=r,this.attrs=eZ(e,r.attrs),this.excluded=null;let i=eV(this.attrs);this.instance=i?new ek(this,i):null}}class eK{node(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;if("string"==typeof e)e=this.nodeType(e);else if(e instanceof e$){if(e.schema!=this)throw RangeError("Node type from different schema used ("+e.name+")")}else throw RangeError("Invalid node type: "+e);return e.createChecked(t,n,r)}text(e,t){let n=this.nodes.text;return new eL(n,n.defaultAttrs,e,ek.setFrom(t))}mark(e,t){return"string"==typeof e&&(e=this.marks[e]),e.create(t)}nodeType(e){let t=this.nodes[e];if(!t)throw RangeError("Unknown node type: "+e);return t}constructor(e){this.linebreakReplacement=null,this.cached=Object.create(null);let t=this.spec={};for(let n in e)t[n]=e[n];t.nodes=em.from(e.nodes),t.marks=em.from(e.marks||{}),this.nodes=e$.compile(this.spec.nodes,this),this.marks=eY.compile(this.spec.marks,this);let n=Object.create(null);for(let e in this.nodes){if(e in this.marks)throw RangeError(e+" can not be both a node and a mark");let t=this.nodes[e],r=t.spec.content||"",i=t.spec.marks;if(t.contentMatch=n[r]||(n[r]=ej.parse(r,this.nodes)),t.inlineContent=t.contentMatch.inlineContent,t.spec.linebreakReplacement){if(this.linebreakReplacement)throw RangeError("Multiple linebreak nodes defined");if(!t.isInline||!t.isLeaf)throw RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=t}t.markSet="_"==i?null:i?eJ(this,i.split(" ")):""!=i&&t.inlineContent?null:[]}for(let e in this.marks){let t=this.marks[e],n=t.spec.excludes;t.excluded=null==n?[t]:""==n?[]:eJ(this,n.split(" "))}this.nodeFromJSON=e=>eP.fromJSON(this,e),this.markFromJSON=e=>ek.fromJSON(this,e),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}}function eJ(e,t){let n=[];for(let r=0;r<t.length;r++){let i=t[r],a=e.marks[i],s=a;if(a)n.push(a);else for(let t in e.marks){let r=e.marks[t];("_"==i||r.spec.group&&r.spec.group.split(" ").indexOf(i)>-1)&&n.push(s=r)}if(!s)throw SyntaxError("Unknown mark type: '"+t[r]+"'")}return n}class eQ{parse(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=new e3(this,t,!1);return n.addAll(e,ek.none,t.from,t.to),n.finish()}parseSlice(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=new e3(this,t,!0);return n.addAll(e,ek.none,t.from,t.to),e_.maxOpen(n.finish())}matchTag(e,t,n){for(let a=n?this.tags.indexOf(n)+1:0;a<this.tags.length;a++){var r,i;let n=this.tags[a];if(r=e,i=n.tag,(r.matches||r.msMatchesSelector||r.webkitMatchesSelector||r.mozMatchesSelector).call(r,i)&&(void 0===n.namespace||e.namespaceURI==n.namespace)&&(!n.context||t.matchesContext(n.context))){if(n.getAttrs){let t=n.getAttrs(e);if(!1===t)continue;n.attrs=t||void 0}return n}}}matchStyle(e,t,n,r){for(let i=r?this.styles.indexOf(r)+1:0;i<this.styles.length;i++){let r=this.styles[i],a=r.style;if(0==a.indexOf(e)&&(!r.context||n.matchesContext(r.context))&&(!(a.length>e.length)||61==a.charCodeAt(e.length)&&a.slice(e.length+1)==t)){if(r.getAttrs){let e=r.getAttrs(t);if(!1===e)continue;r.attrs=e||void 0}return r}}}static schemaRules(e){let t=[];function n(e){let n=null==e.priority?50:e.priority,r=0;for(;r<t.length;r++){let e=t[r];if((null==e.priority?50:e.priority)<n)break}t.splice(r,0,e)}for(let t in e.marks){let r=e.marks[t].spec.parseDOM;r&&r.forEach(e=>{n(e=e4(e)),e.mark||e.ignore||e.clearMark||(e.mark=t)})}for(let t in e.nodes){let r=e.nodes[t].spec.parseDOM;r&&r.forEach(e=>{n(e=e4(e)),e.node||e.ignore||e.mark||(e.node=t)})}return t}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new eQ(e,eQ.schemaRules(e)))}constructor(e,t){this.schema=e,this.rules=t,this.tags=[],this.styles=[];let n=this.matchedStyles=[];t.forEach(e=>{if(null!=e.tag)this.tags.push(e);else if(null!=e.style){let t=/[^=]*/.exec(e.style)[0];0>n.indexOf(t)&&n.push(t),this.styles.push(e)}}),this.normalizeLists=!this.tags.some(t=>{if(!/^(ul|ol)\b/.test(t.tag)||!t.node)return!1;let n=e.nodes[t.node];return n.contentMatch.matchType(n)})}}let eX={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},e0={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},e1={ol:!0,ul:!0};function e2(e,t,n){return null!=t?!!t|2*("full"===t):e&&"pre"==e.whitespace?3:-5&n}class e5{findWrapping(e){if(!this.match){if(!this.type)return[];let t=this.type.contentMatch.fillBefore(eg.from(e));if(t)this.match=this.type.contentMatch.matchFragment(t);else{let t=this.type.contentMatch,n;return(n=t.findWrapping(e.type))?(this.match=t,n):null}}return this.match.findWrapping(e.type)}finish(e){if(!(1&this.options)){let e=this.content[this.content.length-1],t;e&&e.isText&&(t=/[ \t\r\n\u000c]+$/.exec(e.text))&&(e.text.length==t[0].length?this.content.pop():this.content[this.content.length-1]=e.withText(e.text.slice(0,e.text.length-t[0].length)))}let t=eg.from(this.content);return!e&&this.match&&(t=t.append(this.match.fillBefore(eg.empty,!0))),this.type?this.type.create(this.attrs,t,this.marks):t}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!eX.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}constructor(e,t,n,r,i,a){this.type=e,this.attrs=t,this.marks=n,this.solid=r,this.options=a,this.content=[],this.activeMarks=ek.none,this.match=i||(4&a?null:e.contentMatch)}}class e3{get top(){return this.nodes[this.open]}addDOM(e,t){3==e.nodeType?this.addTextNode(e,t):1==e.nodeType&&this.addElement(e,t)}addTextNode(e,t){let n=e.nodeValue,r=this.top,i=2&r.options?"full":this.localPreserveWS||(1&r.options)>0,{schema:a}=this.parser;if("full"===i||r.inlineContext(e)||/[^ \t\r\n\u000c]/.test(n)){if(i)if("full"===i)n=n.replace(/\r\n?/g,"\n");else if(a.linebreakReplacement&&/[\r\n]/.test(n)&&this.top.findWrapping(a.linebreakReplacement.create())){let e=n.split(/\r?\n|\r/);for(let n=0;n<e.length;n++)n&&this.insertNode(a.linebreakReplacement.create(),t,!0),e[n]&&this.insertNode(a.text(e[n]),t,!/\S/.test(e[n]));n=""}else n=n.replace(/\r?\n|\r/g," ");else if(n=n.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(n)&&this.open==this.nodes.length-1){let t=r.content[r.content.length-1],i=e.previousSibling;(!t||i&&"BR"==i.nodeName||t.isText&&/[ \t\r\n\u000c]$/.test(t.text))&&(n=n.slice(1))}n&&this.insertNode(a.text(n),t,!/\S/.test(n)),this.findInText(e)}else this.findInside(e)}addElement(e,t,n){let r=this.localPreserveWS,i=this.top;("PRE"==e.tagName||/pre/.test(e.style&&e.style.whiteSpace))&&(this.localPreserveWS=!0);let a=e.nodeName.toLowerCase(),s;e1.hasOwnProperty(a)&&this.parser.normalizeLists&&function(e){for(let t=e.firstChild,n=null;t;t=t.nextSibling){let e=1==t.nodeType?t.nodeName.toLowerCase():null;e&&e1.hasOwnProperty(e)&&n?(n.appendChild(t),t=n):"li"==e?n=t:e&&(n=null)}}(e);let o=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(s=this.parser.matchTag(e,this,n));n:if(o?o.ignore:e0.hasOwnProperty(a))this.findInside(e),this.ignoreFallback(e,t);else if(!o||o.skip||o.closeParent){o&&o.closeParent?this.open=Math.max(0,this.open-1):o&&o.skip.nodeType&&(e=o.skip);let n,r=this.needsBlock;if(eX.hasOwnProperty(a))i.content.length&&i.content[0].isInline&&this.open&&(this.open--,i=this.top),n=!0,i.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e,t);break n}let s=o&&o.skip?t:this.readStyles(e,t);s&&this.addAll(e,s),n&&this.sync(i),this.needsBlock=r}else{let n=this.readStyles(e,t);n&&this.addElementByRule(e,o,n,!1===o.consuming?s:void 0)}this.localPreserveWS=r}leafFallback(e,t){"BR"==e.nodeName&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode("\n"),t)}ignoreFallback(e,t){"BR"!=e.nodeName||this.top.type&&this.top.type.inlineContent||this.findPlace(this.parser.schema.text("-"),t,!0)}readStyles(e,t){let n=e.style;if(n&&n.length)for(let e=0;e<this.parser.matchedStyles.length;e++){let r=this.parser.matchedStyles[e],i=n.getPropertyValue(r);if(i)for(let e;;){let n=this.parser.matchStyle(r,i,this,e);if(!n)break;if(n.ignore)return null;if(t=n.clearMark?t.filter(e=>!n.clearMark(e)):t.concat(this.parser.schema.marks[n.mark].create(n.attrs)),!1===n.consuming)e=n;else break}}return t}addElementByRule(e,t,n,r){let i,a;if(t.node)if((a=this.parser.schema.nodes[t.node]).isLeaf)this.insertNode(a.create(t.attrs),n,"BR"==e.nodeName)||this.leafFallback(e,n);else{let e=this.enter(a,t.attrs||null,n,t.preserveWhitespace);e&&(i=!0,n=e)}else{let e=this.parser.schema.marks[t.mark];n=n.concat(e.create(t.attrs))}let s=this.top;if(a&&a.isLeaf)this.findInside(e);else if(r)this.addElement(e,n,r);else if(t.getContent)this.findInside(e),t.getContent(e,this.parser.schema).forEach(e=>this.insertNode(e,n,!1));else{let r=e;"string"==typeof t.contentElement?r=e.querySelector(t.contentElement):"function"==typeof t.contentElement?r=t.contentElement(e):t.contentElement&&(r=t.contentElement),this.findAround(e,r,!0),this.addAll(r,n),this.findAround(e,r,!1)}i&&this.sync(s)&&this.open--}addAll(e,t,n,r){let i=n||0;for(let a=n?e.childNodes[n]:e.firstChild,s=null==r?null:e.childNodes[r];a!=s;a=a.nextSibling,++i)this.findAtPoint(e,i),this.addDOM(a,t);this.findAtPoint(e,i)}findPlace(e,t,n){let r,i;for(let t=this.open,a=0;t>=0;t--){let s=this.nodes[t],o=s.findWrapping(e);if(o&&(!r||r.length>o.length+a)&&(r=o,i=s,!o.length))break;if(s.solid){if(n)break;a+=2}}if(!r)return null;this.sync(i);for(let e=0;e<r.length;e++)t=this.enterInner(r[e],null,t,!1);return t}insertNode(e,t,n){if(e.isInline&&this.needsBlock&&!this.top.type){let e=this.textblockFromContext();e&&(t=this.enterInner(e,null,t))}let r=this.findPlace(e,t,n);if(r){this.closeExtra();let t=this.top;t.match&&(t.match=t.match.matchType(e.type));let n=ek.none;for(let i of r.concat(e.marks))(t.type?t.type.allowsMarkType(i.type):e6(i.type,e.type))&&(n=i.addToSet(n));return t.content.push(e.mark(n)),!0}return!1}enter(e,t,n,r){let i=this.findPlace(e.create(t),n,!1);return i&&(i=this.enterInner(e,t,n,!0,r)),i}enterInner(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4?arguments[4]:void 0;this.closeExtra();let a=this.top;a.match=a.match&&a.match.matchType(e);let s=e2(e,i,a.options);4&a.options&&0==a.content.length&&(s|=4);let o=ek.none;return n=n.filter(t=>(a.type?!a.type.allowsMarkType(t.type):!e6(t.type,e))||(o=t.addToSet(o),!1)),this.nodes.push(new e5(e,t,o,r,null,s)),this.open++,n}closeExtra(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.nodes.length-1;if(t>this.open){for(;t>this.open;t--)this.nodes[t-1].content.push(this.nodes[t].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(e){for(let t=this.open;t>=0;t--)if(this.nodes[t]==e)return this.open=t,!0;else this.localPreserveWS&&(this.nodes[t].options|=1);return!1}get currentPos(){this.closeExtra();let e=0;for(let t=this.open;t>=0;t--){let n=this.nodes[t].content;for(let t=n.length-1;t>=0;t--)e+=n[t].nodeSize;t&&e++}return e}findAtPoint(e,t){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==e&&this.find[n].offset==t&&(this.find[n].pos=this.currentPos)}findInside(e){if(this.find)for(let t=0;t<this.find.length;t++)null==this.find[t].pos&&1==e.nodeType&&e.contains(this.find[t].node)&&(this.find[t].pos=this.currentPos)}findAround(e,t,n){if(e!=t&&this.find)for(let r=0;r<this.find.length;r++)null==this.find[r].pos&&1==e.nodeType&&e.contains(this.find[r].node)&&t.compareDocumentPosition(this.find[r].node)&(n?2:4)&&(this.find[r].pos=this.currentPos)}findInText(e){if(this.find)for(let t=0;t<this.find.length;t++)this.find[t].node==e&&(this.find[t].pos=this.currentPos-(e.nodeValue.length-this.find[t].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let t=e.split("/"),n=this.options.context,r=!this.isOpen&&(!n||n.parent.type==this.nodes[0].type),i=-(n?n.depth+1:0)+ +!r,a=(e,s)=>{for(;e>=0;e--){let o=t[e];if(""==o){if(e==t.length-1||0==e)continue;for(;s>=i;s--)if(a(e-1,s))return!0;return!1}{let e=s>0||0==s&&r?this.nodes[s].type:n&&s>=i?n.node(s-i).type:null;if(!e||e.name!=o&&!e.isInGroup(o))return!1;s--}}return!0};return a(t.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let t=e.depth;t>=0;t--){let n=e.node(t).contentMatchAt(e.indexAfter(t)).defaultType;if(n&&n.isTextblock&&n.defaultAttrs)return n}for(let e in this.parser.schema.nodes){let t=this.parser.schema.nodes[e];if(t.isTextblock&&t.defaultAttrs)return t}}constructor(e,t,n){this.parser=e,this.options=t,this.isOpen=n,this.open=0,this.localPreserveWS=!1;let r=t.topNode,i,a=e2(null,t.preserveWhitespace,0)|4*!!n;i=r?new e5(r.type,r.attrs,ek.none,!0,t.topMatch||r.type.contentMatch,a):n?new e5(null,null,ek.none,!0,null,a):new e5(e.schema.topNodeType,null,ek.none,!0,null,a),this.nodes=[i],this.find=t.findPositions,this.needsBlock=!1}}function e4(e){let t={};for(let n in e)t[n]=e[n];return t}function e6(e,t){let n=t.schema.nodes;for(let r in n){let i=n[r];if(!i.allowsMarkType(e))continue;let a=[],s=e=>{a.push(e);for(let n=0;n<e.edgeCount;n++){let{type:r,next:i}=e.edge(n);if(r==t||0>a.indexOf(i)&&s(i))return!0}};if(s(i.contentMatch))return!0}}class e9{serializeFragment(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;n||(n=e7(t).createDocumentFragment());let r=n,i=[];return e.forEach(e=>{if(i.length||e.marks.length){let n=0,a=0;for(;n<i.length&&a<e.marks.length;){let t=e.marks[a];if(!this.marks[t.type.name]){a++;continue}if(!t.eq(i[n][0])||!1===t.type.spec.spanning)break;n++,a++}for(;n<i.length;)r=i.pop()[1];for(;a<e.marks.length;){let n=e.marks[a++],s=this.serializeMark(n,e.isInline,t);s&&(i.push([n,r]),r.appendChild(s.dom),r=s.contentDOM||s.dom)}}r.appendChild(this.serializeNodeInner(e,t))}),n}serializeNodeInner(e,t){let{dom:n,contentDOM:r}=tt(e7(t),this.nodes[e.type.name](e),null,e.attrs);if(r){if(e.isLeaf)throw RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,t,r)}return n}serializeNode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.serializeNodeInner(e,t);for(let r=e.marks.length-1;r>=0;r--){let i=this.serializeMark(e.marks[r],e.isInline,t);i&&((i.contentDOM||i.dom).appendChild(n),n=i.dom)}return n}serializeMark(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=this.marks[e.type.name];return r&&tt(e7(n),r(e,t),null,e.attrs)}static renderSpec(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0;return tt(e,t,n,r)}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new e9(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let t=e8(e.nodes);return t.text||(t.text=e=>e.text),t}static marksFromSchema(e){return e8(e.marks)}constructor(e,t){this.nodes=e,this.marks=t}}function e8(e){let t={};for(let n in e){let r=e[n].spec.toDOM;r&&(t[n]=r)}return t}function e7(e){return e.document||window.document}let te=new WeakMap;function tt(e,t,n,r){let i,a,s;if("string"==typeof t)return{dom:e.createTextNode(t)};if(null!=t.nodeType)return{dom:t};if(t.dom&&null!=t.dom.nodeType)return t;let o=t[0],l;if("string"!=typeof o)throw RangeError("Invalid array passed to renderSpec");if(r&&(void 0===(a=te.get(r))&&te.set(r,(s=null,!function e(t){if(t&&"object"==typeof t)if(Array.isArray(t))if("string"==typeof t[0])s||(s=[]),s.push(t);else for(let n=0;n<t.length;n++)e(t[n]);else for(let n in t)e(t[n])}(r),a=s)),l=a)&&l.indexOf(t)>-1)throw RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let c=o.indexOf(" ");c>0&&(n=o.slice(0,c),o=o.slice(c+1));let u=n?e.createElementNS(n,o):e.createElement(o),d=t[1],h=1;if(d&&"object"==typeof d&&null==d.nodeType&&!Array.isArray(d)){for(let e in h=2,d)if(null!=d[e]){let t=e.indexOf(" ");t>0?u.setAttributeNS(e.slice(0,t),e.slice(t+1),d[e]):"style"==e&&u.style?u.style.cssText=d[e]:u.setAttribute(e,d[e])}}for(let a=h;a<t.length;a++){let s=t[a];if(0===s){if(a<t.length-1||a>h)throw RangeError("Content hole must be the only child of its parent node");return{dom:u,contentDOM:u}}{let{dom:t,contentDOM:a}=tt(e,s,n,r);if(u.appendChild(t),a){if(i)throw RangeError("Multiple content holes");i=a}}}return{dom:u,contentDOM:i}}let tn=["p",0],tr=["blockquote",0],ti=["hr"],ta=["pre",["code",0]],ts=["br"],to=["em",0],tl=["strong",0],tc=["code",0],tu=new eK({nodes:{doc:{content:"block+"},paragraph:{content:"inline*",group:"block",parseDOM:[{tag:"p"}],toDOM:()=>tn},blockquote:{content:"block+",group:"block",defining:!0,parseDOM:[{tag:"blockquote"}],toDOM:()=>tr},horizontal_rule:{group:"block",parseDOM:[{tag:"hr"}],toDOM:()=>ti},heading:{attrs:{level:{default:1,validate:"number"}},content:"inline*",group:"block",defining:!0,parseDOM:[{tag:"h1",attrs:{level:1}},{tag:"h2",attrs:{level:2}},{tag:"h3",attrs:{level:3}},{tag:"h4",attrs:{level:4}},{tag:"h5",attrs:{level:5}},{tag:"h6",attrs:{level:6}}],toDOM:e=>["h"+e.attrs.level,0]},code_block:{content:"text*",marks:"",group:"block",code:!0,defining:!0,parseDOM:[{tag:"pre",preserveWhitespace:"full"}],toDOM:()=>ta},text:{group:"inline"},image:{inline:!0,attrs:{src:{validate:"string"},alt:{default:null,validate:"string|null"},title:{default:null,validate:"string|null"}},group:"inline",draggable:!0,parseDOM:[{tag:"img[src]",getAttrs:e=>({src:e.getAttribute("src"),title:e.getAttribute("title"),alt:e.getAttribute("alt")})}],toDOM(e){let{src:t,alt:n,title:r}=e.attrs;return["img",{src:t,alt:n,title:r}]}},hard_break:{inline:!0,group:"inline",selectable:!1,parseDOM:[{tag:"br"}],toDOM:()=>ts}},marks:{link:{attrs:{href:{validate:"string"},title:{default:null,validate:"string|null"}},inclusive:!1,parseDOM:[{tag:"a[href]",getAttrs:e=>({href:e.getAttribute("href"),title:e.getAttribute("title")})}],toDOM(e){let{href:t,title:n}=e.attrs;return["a",{href:t,title:n},0]}},em:{parseDOM:[{tag:"i"},{tag:"em"},{style:"font-style=italic"},{style:"font-style=normal",clearMark:e=>"em"==e.type.name}],toDOM:()=>to},strong:{parseDOM:[{tag:"strong"},{tag:"b",getAttrs:e=>"normal"!=e.style.fontWeight&&null},{style:"font-weight=400",clearMark:e=>"strong"==e.type.name},{style:"font-weight",getAttrs:e=>/^(bold(er)?|[5-9]\d{2,})$/.test(e)&&null}],toDOM:()=>tl},code:{code:!0,parseDOM:[{tag:"code"}],toDOM:()=>tc}}});class td{get deleted(){return(8&this.delInfo)>0}get deletedBefore(){return(5&this.delInfo)>0}get deletedAfter(){return(6&this.delInfo)>0}get deletedAcross(){return(4&this.delInfo)>0}constructor(e,t,n){this.pos=e,this.delInfo=t,this.recover=n}}class th{recover(e){let t=0,n=65535&e;if(!this.inverted)for(let e=0;e<n;e++)t+=this.ranges[3*e+2]-this.ranges[3*e+1];return this.ranges[3*n]+t+(e-(65535&e))/65536}mapResult(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return this._map(e,t,!1)}map(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return this._map(e,t,!0)}_map(e,t,n){let r=0,i=this.inverted?2:1,a=this.inverted?1:2;for(let s=0;s<this.ranges.length;s+=3){let o=this.ranges[s]-(this.inverted?r:0);if(o>e)break;let l=this.ranges[s+i],c=this.ranges[s+a],u=o+l;if(e<=u){let i=l?e==o?-1:e==u?1:t:t,a=o+r+(i<0?0:c);if(n)return a;let d=e==(t<0?o:u)?null:s/3+(e-o)*65536,h=e==o?2:e==u?1:4;return(t<0?e!=o:e!=u)&&(h|=8),new td(a,h,d)}r+=c-l}return n?e+r:new td(e+r,0,null)}touches(e,t){let n=0,r=65535&t,i=this.inverted?2:1,a=this.inverted?1:2;for(let t=0;t<this.ranges.length;t+=3){let s=this.ranges[t]-(this.inverted?n:0);if(s>e)break;let o=this.ranges[t+i];if(e<=s+o&&t==3*r)return!0;n+=this.ranges[t+a]-o}return!1}forEach(e){let t=this.inverted?2:1,n=this.inverted?1:2;for(let r=0,i=0;r<this.ranges.length;r+=3){let a=this.ranges[r],s=a-(this.inverted?i:0),o=a+(this.inverted?0:i),l=this.ranges[r+t],c=this.ranges[r+n];e(s,s+l,o,o+c),i+=c-l}}invert(){return new th(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return 0==e?th.empty:new th(e<0?[0,-e,0]:[0,0,e])}constructor(e,t=!1){if(this.ranges=e,this.inverted=t,!e.length&&th.empty)return th.empty}}th.empty=new th([]);class tp{get maps(){return this._maps}slice(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.maps.length;return new tp(this._maps,this.mirror,e,t)}appendMap(e,t){this.ownData||(this._maps=this._maps.slice(),this.mirror=this.mirror&&this.mirror.slice(),this.ownData=!0),this.to=this._maps.push(e),null!=t&&this.setMirror(this._maps.length-1,t)}appendMapping(e){for(let t=0,n=this._maps.length;t<e._maps.length;t++){let r=e.getMirror(t);this.appendMap(e._maps[t],null!=r&&r<t?n+r:void 0)}}getMirror(e){if(this.mirror){for(let t=0;t<this.mirror.length;t++)if(this.mirror[t]==e)return this.mirror[t+(t%2?-1:1)]}}setMirror(e,t){this.mirror||(this.mirror=[]),this.mirror.push(e,t)}appendMappingInverted(e){for(let t=e.maps.length-1,n=this._maps.length+e._maps.length;t>=0;t--){let r=e.getMirror(t);this.appendMap(e._maps[t].invert(),null!=r&&r>t?n-r-1:void 0)}}invert(){let e=new tp;return e.appendMappingInverted(this),e}map(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(this.mirror)return this._map(e,t,!0);for(let n=this.from;n<this.to;n++)e=this._maps[n].map(e,t);return e}mapResult(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return this._map(e,t,!1)}_map(e,t,n){let r=0;for(let n=this.from;n<this.to;n++){let i=this._maps[n].mapResult(e,t);if(null!=i.recover){let t=this.getMirror(n);if(null!=t&&t>n&&t<this.to){n=t,e=this._maps[t].recover(i.recover);continue}}r|=i.delInfo,e=i.pos}return n?e:new td(e,r,null)}constructor(e,t,n=0,r=e?e.length:0){this.mirror=t,this.from=n,this.to=r,this._maps=e||[],this.ownData=!(e||t)}}let tf=Object.create(null);class tm{getMap(){return th.empty}merge(e){return null}static fromJSON(e,t){if(!t||!t.stepType)throw RangeError("Invalid input for Step.fromJSON");let n=tf[t.stepType];if(!n)throw RangeError("No step type ".concat(t.stepType," defined"));return n.fromJSON(e,t)}static jsonID(e,t){if(e in tf)throw RangeError("Duplicate use of step JSON ID "+e);return tf[e]=t,t.prototype.jsonID=e,t}}class tg{static ok(e){return new tg(e,null)}static fail(e){return new tg(null,e)}static fromReplace(e,t,n,r){try{return tg.ok(e.replace(t,n,r))}catch(e){if(e instanceof ex)return tg.fail(e.message);throw e}}constructor(e,t){this.doc=e,this.failed=t}}function ty(e,t,n){let r=[];for(let i=0;i<e.childCount;i++){let a=e.child(i);a.content.size&&(a=a.copy(ty(a.content,t,a))),a.isInline&&(a=t(a,n,i)),r.push(a)}return eg.fromArray(r)}class tb extends tm{apply(e){let t=e.slice(this.from,this.to),n=e.resolve(this.from),r=n.node(n.sharedDepth(this.to)),i=new e_(ty(t.content,(e,t)=>e.isAtom&&t.type.allowsMarkType(this.mark.type)?e.mark(this.mark.addToSet(e.marks)):e,r),t.openStart,t.openEnd);return tg.fromReplace(e,this.from,this.to,i)}invert(){return new tv(this.from,this.to,this.mark)}map(e){let t=e.mapResult(this.from,1),n=e.mapResult(this.to,-1);return t.deleted&&n.deleted||t.pos>=n.pos?null:new tb(t.pos,n.pos,this.mark)}merge(e){return e instanceof tb&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new tb(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,t){if("number"!=typeof t.from||"number"!=typeof t.to)throw RangeError("Invalid input for AddMarkStep.fromJSON");return new tb(t.from,t.to,e.markFromJSON(t.mark))}constructor(e,t,n){super(),this.from=e,this.to=t,this.mark=n}}tm.jsonID("addMark",tb);class tv extends tm{apply(e){let t=e.slice(this.from,this.to),n=new e_(ty(t.content,e=>e.mark(this.mark.removeFromSet(e.marks)),e),t.openStart,t.openEnd);return tg.fromReplace(e,this.from,this.to,n)}invert(){return new tb(this.from,this.to,this.mark)}map(e){let t=e.mapResult(this.from,1),n=e.mapResult(this.to,-1);return t.deleted&&n.deleted||t.pos>=n.pos?null:new tv(t.pos,n.pos,this.mark)}merge(e){return e instanceof tv&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new tv(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,t){if("number"!=typeof t.from||"number"!=typeof t.to)throw RangeError("Invalid input for RemoveMarkStep.fromJSON");return new tv(t.from,t.to,e.markFromJSON(t.mark))}constructor(e,t,n){super(),this.from=e,this.to=t,this.mark=n}}tm.jsonID("removeMark",tv);class tk extends tm{apply(e){let t=e.nodeAt(this.pos);if(!t)return tg.fail("No node at mark step's position");let n=t.type.create(t.attrs,null,this.mark.addToSet(t.marks));return tg.fromReplace(e,this.pos,this.pos+1,new e_(eg.from(n),0,+!t.isLeaf))}invert(e){let t=e.nodeAt(this.pos);if(t){let e=this.mark.addToSet(t.marks);if(e.length==t.marks.length){for(let n=0;n<t.marks.length;n++)if(!t.marks[n].isInSet(e))return new tk(this.pos,t.marks[n]);return new tk(this.pos,this.mark)}}return new tx(this.pos,this.mark)}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new tk(t.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,t){if("number"!=typeof t.pos)throw RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new tk(t.pos,e.markFromJSON(t.mark))}constructor(e,t){super(),this.pos=e,this.mark=t}}tm.jsonID("addNodeMark",tk);class tx extends tm{apply(e){let t=e.nodeAt(this.pos);if(!t)return tg.fail("No node at mark step's position");let n=t.type.create(t.attrs,null,this.mark.removeFromSet(t.marks));return tg.fromReplace(e,this.pos,this.pos+1,new e_(eg.from(n),0,+!t.isLeaf))}invert(e){let t=e.nodeAt(this.pos);return t&&this.mark.isInSet(t.marks)?new tk(this.pos,this.mark):this}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new tx(t.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,t){if("number"!=typeof t.pos)throw RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new tx(t.pos,e.markFromJSON(t.mark))}constructor(e,t){super(),this.pos=e,this.mark=t}}tm.jsonID("removeNodeMark",tx);class t_ extends tm{apply(e){return this.structure&&tT(e,this.from,this.to)?tg.fail("Structure replace would overwrite content"):tg.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new th([this.from,this.to-this.from,this.slice.size])}invert(e){return new t_(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let t=e.mapResult(this.from,1),n=e.mapResult(this.to,-1);return t.deletedAcross&&n.deletedAcross?null:new t_(t.pos,Math.max(t.pos,n.pos),this.slice,this.structure)}merge(e){if(!(e instanceof t_)||e.structure||this.structure)return null;if(this.from+this.slice.size!=e.from||this.slice.openEnd||e.slice.openStart)if(e.to!=this.from||this.slice.openStart||e.slice.openEnd)return null;else{let t=this.slice.size+e.slice.size==0?e_.empty:new e_(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new t_(e.from,this.to,t,this.structure)}{let t=this.slice.size+e.slice.size==0?e_.empty:new e_(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new t_(this.from,this.to+(e.to-e.from),t,this.structure)}}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,t){if("number"!=typeof t.from||"number"!=typeof t.to)throw RangeError("Invalid input for ReplaceStep.fromJSON");return new t_(t.from,t.to,e_.fromJSON(e,t.slice),!!t.structure)}constructor(e,t,n,r=!1){super(),this.from=e,this.to=t,this.slice=n,this.structure=r}}tm.jsonID("replace",t_);class tE extends tm{apply(e){if(this.structure&&(tT(e,this.from,this.gapFrom)||tT(e,this.gapTo,this.to)))return tg.fail("Structure gap-replace would overwrite content");let t=e.slice(this.gapFrom,this.gapTo);if(t.openStart||t.openEnd)return tg.fail("Gap is not a flat range");let n=this.slice.insertAt(this.insert,t.content);return n?tg.fromReplace(e,this.from,this.to,n):tg.fail("Content does not fit in gap")}getMap(){return new th([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let t=this.gapTo-this.gapFrom;return new tE(this.from,this.from+this.slice.size+t,this.from+this.insert,this.from+this.insert+t,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let t=e.mapResult(this.from,1),n=e.mapResult(this.to,-1),r=this.from==this.gapFrom?t.pos:e.map(this.gapFrom,-1),i=this.to==this.gapTo?n.pos:e.map(this.gapTo,1);return t.deletedAcross&&n.deletedAcross||r<t.pos||i>n.pos?null:new tE(t.pos,n.pos,r,i,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,t){if("number"!=typeof t.from||"number"!=typeof t.to||"number"!=typeof t.gapFrom||"number"!=typeof t.gapTo||"number"!=typeof t.insert)throw RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new tE(t.from,t.to,t.gapFrom,t.gapTo,e_.fromJSON(e,t.slice),t.insert,!!t.structure)}constructor(e,t,n,r,i,a,s=!1){super(),this.from=e,this.to=t,this.gapFrom=n,this.gapTo=r,this.slice=i,this.insert=a,this.structure=s}}function tT(e,t,n){let r=e.resolve(t),i=n-t,a=r.depth;for(;i>0&&a>0&&r.indexAfter(a)==r.node(a).childCount;)a--,i--;if(i>0){let e=r.node(a).maybeChild(r.indexAfter(a));for(;i>0;){if(!e||e.isLeaf)return!0;e=e.firstChild,i--}}return!1}function tS(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n.contentMatch,i=!(arguments.length>4)||void 0===arguments[4]||arguments[4],a=e.doc.nodeAt(t),s=[],o=t+1;for(let t=0;t<a.childCount;t++){let l=a.child(t),c=o+l.nodeSize,u=r.matchType(l.type);if(u){r=u;for(let t=0;t<l.marks.length;t++)n.allowsMarkType(l.marks[t].type)||e.step(new tv(o,c,l.marks[t]));if(i&&l.isText&&"pre"!=n.whitespace){let e,t=/\r?\n|\r/g,r;for(;e=t.exec(l.text);)r||(r=new e_(eg.from(n.schema.text(" ",n.allowedMarks(l.marks))),0,0)),s.push(new t_(o+e.index,o+e.index+e[0].length,r))}}else s.push(new t_(o,c,e_.empty));o=c}if(!r.validEnd){let t=r.fillBefore(eg.empty,!0);e.replace(o,o,new e_(t,0,0))}for(let t=s.length-1;t>=0;t--)e.step(s[t])}function tw(e){let t=e.parent.content.cutByIndex(e.startIndex,e.endIndex);for(let n=e.depth,r=0,i=0;;--n){let a=e.$from.node(n),s=e.$from.index(n)+r,o=e.$to.indexAfter(n)-i;if(n<e.depth&&a.canReplace(s,o,t))return n;if(0==n||a.type.spec.isolating||!((0==s||a.canReplace(s,a.childCount))&&(o==a.childCount||a.canReplace(0,o))))break;s&&(r=1),o<a.childCount&&(i=1)}return null}function tC(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e,i=function(e,t){let{parent:n,startIndex:r,endIndex:i}=e,a=n.contentMatchAt(r).findWrapping(t);if(!a)return null;let s=a.length?a[0]:t;return n.canReplaceWith(r,i,s)?a:null}(e,t),a=i&&function(e,t){let{parent:n,startIndex:r,endIndex:i}=e,a=n.child(r),s=t.contentMatch.findWrapping(a.type);if(!s)return null;let o=(s.length?s[s.length-1]:t).contentMatch;for(let e=r;o&&e<i;e++)o=o.matchType(n.child(e).type);return o&&o.validEnd?s:null}(r,t);return a?i.map(tA).concat({type:t,attrs:n}).concat(a.map(tA)):null}function tA(e){return{type:e,attrs:null}}function tN(e,t,n,r){t.forEach((i,a)=>{if(i.isText){let s,o=/\r?\n|\r/g;for(;s=o.exec(i.text);){let i=e.mapping.slice(r).map(n+1+a+s.index);e.replaceWith(i,i+1,t.type.schema.linebreakReplacement.create())}}})}function tI(e,t,n,r){t.forEach((i,a)=>{if(i.type==i.type.schema.linebreakReplacement){let i=e.mapping.slice(r).map(n+1+a);e.replaceWith(i,i+1,t.type.schema.text("\n"))}})}function tD(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3?arguments[3]:void 0,i=e.resolve(t),a=i.depth-n,s=r&&r[r.length-1]||i.parent;if(a<0||i.parent.type.spec.isolating||!i.parent.canReplace(i.index(),i.parent.childCount)||!s.type.validContent(i.parent.content.cutByIndex(i.index(),i.parent.childCount)))return!1;for(let e=i.depth-1,t=n-2;e>a;e--,t--){let n=i.node(e),a=i.index(e);if(n.type.spec.isolating)return!1;let s=n.content.cutByIndex(a,n.childCount),o=r&&r[t+1];o&&(s=s.replaceChild(0,o.type.create(o.attrs)));let l=r&&r[t]||n;if(!n.canReplace(a+1,n.childCount)||!l.type.validContent(s))return!1}let o=i.indexAfter(a),l=r&&r[0];return i.node(a).canReplaceWith(o,o,l?l.type:i.node(a+1).type)}function tM(e,t){let n=e.resolve(t),r=n.index();return tO(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(r,r+1)}function tO(e,t){return!!(e&&t&&!e.isLeaf&&function(e,t){t.content.size||e.type.compatibleContent(t.type);let n=e.contentMatchAt(e.childCount),{linebreakReplacement:r}=e.type.schema;for(let i=0;i<t.childCount;i++){let a=t.child(i),s=a.type==r?e.type.schema.nodes.text:a.type;if(!(n=n.matchType(s))||!e.type.allowsMarks(a.marks))return!1}return n.validEnd}(e,t))}function tR(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1,r=e.resolve(t);for(let e=r.depth;;e--){let i,a,s=r.index(e);if(e==r.depth?(i=r.nodeBefore,a=r.nodeAfter):n>0?(i=r.node(e+1),s++,a=r.node(e).maybeChild(s)):(i=r.node(e).maybeChild(s-1),a=r.node(e+1)),i&&!i.isTextblock&&tO(i,a)&&r.node(e).canReplace(s,s+1))return t;if(0==e)break;t=n<0?r.before(e):r.after(e)}}function tP(e,t,n){let r=e.resolve(t);if(!n.content.size)return t;let i=n.content;for(let e=0;e<n.openStart;e++)i=i.firstChild.content;for(let e=1;e<=(0==n.openStart&&n.size?2:1);e++)for(let t=r.depth;t>=0;t--){let n=t==r.depth?0:r.pos<=(r.start(t+1)+r.end(t+1))/2?-1:1,a=r.index(t)+ +(n>0),s=r.node(t),o=!1;if(1==e)o=s.canReplace(a,a,i);else{let e=s.contentMatchAt(a).findWrapping(i.firstChild.type);o=e&&s.canReplaceWith(a,a,e[0])}if(o)return 0==n?r.pos:n<0?r.before(t+1):r.after(t+1)}return null}function tL(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e_.empty;if(t==n&&!r.size)return null;let i=e.resolve(t),a=e.resolve(n);return tF(i,a,r)?new t_(t,n,r):new tj(i,a,r).fit()}function tF(e,t,n){return!n.openStart&&!n.openEnd&&e.start()==t.start()&&e.parent.canReplace(e.index(),t.index(),n.content)}tm.jsonID("replaceAround",tE);class tj{get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let e=this.findFittable();e?this.placeNodes(e):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),t=this.placed.size-this.depth-this.$from.depth,n=this.$from,r=this.close(e<0?this.$to:n.doc.resolve(e));if(!r)return null;let i=this.placed,a=n.depth,s=r.depth;for(;a&&s&&1==i.childCount;)i=i.firstChild.content,a--,s--;let o=new e_(i,a,s);return e>-1?new tE(n.pos,e,this.$to.pos,this.$to.end(),o,t):o.size||n.pos!=this.$to.pos?new t_(n.pos,r.pos,o):null}findFittable(){let e=this.unplaced.openStart;for(let t=this.unplaced.content,n=0,r=this.unplaced.openEnd;n<e;n++){let i=t.firstChild;if(t.childCount>1&&(r=0),i.type.spec.isolating&&r<=n){e=n;break}t=i.content}for(let t=1;t<=2;t++)for(let n=1==t?e:this.unplaced.openStart;n>=0;n--){let e=null,r=(n?(e=tU(this.unplaced.content,n-1).firstChild).content:this.unplaced.content).firstChild;for(let i=this.depth;i>=0;i--){let{type:a,match:s}=this.frontier[i],o,l=null;if(1==t&&(r?s.matchType(r.type)||(l=s.fillBefore(eg.from(r),!1)):e&&a.compatibleContent(e.type)))return{sliceDepth:n,frontierDepth:i,parent:e,inject:l};if(2==t&&r&&(o=s.findWrapping(r.type)))return{sliceDepth:n,frontierDepth:i,parent:e,wrap:o};if(e&&s.matchType(e.type))break}}}openMore(){let{content:e,openStart:t,openEnd:n}=this.unplaced,r=tU(e,t);return!!r.childCount&&!r.firstChild.isLeaf&&(this.unplaced=new e_(e,t+1,Math.max(n,r.size+t>=e.size-n?t+1:0)),!0)}dropNode(){let{content:e,openStart:t,openEnd:n}=this.unplaced,r=tU(e,t);if(r.childCount<=1&&t>0){let i=e.size-t<=t+r.size;this.unplaced=new e_(tB(e,t-1,1),t-1,i?t-1:n)}else this.unplaced=new e_(tB(e,t,1),t,n)}placeNodes(e){let{sliceDepth:t,frontierDepth:n,parent:r,inject:i,wrap:a}=e;for(;this.depth>n;)this.closeFrontierNode();if(a)for(let e=0;e<a.length;e++)this.openFrontierNode(a[e]);let s=this.unplaced,o=r?r.content:s.content,l=s.openStart-t,c=0,u=[],{match:d,type:h}=this.frontier[n];if(i){for(let e=0;e<i.childCount;e++)u.push(i.child(e));d=d.matchFragment(i)}let p=o.size+t-(s.content.size-s.openEnd);for(;c<o.childCount;){let e=o.child(c),t=d.matchType(e.type);if(!t)break;(++c>1||0==l||e.content.size)&&(d=t,u.push(function e(t,n,r){if(n<=0)return t;let i=t.content;return n>1&&(i=i.replaceChild(0,e(i.firstChild,n-1,1==i.childCount?r-1:0))),n>0&&(i=t.type.contentMatch.fillBefore(i).append(i),r<=0&&(i=i.append(t.type.contentMatch.matchFragment(i).fillBefore(eg.empty,!0)))),t.copy(i)}(e.mark(h.allowedMarks(e.marks)),1==c?l:0,c==o.childCount?p:-1)))}let f=c==o.childCount;f||(p=-1),this.placed=tH(this.placed,n,eg.from(u)),this.frontier[n].match=d,f&&p<0&&r&&r.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let e=0,t=o;e<p;e++){let e=t.lastChild;this.frontier.push({type:e.type,match:e.contentMatchAt(e.childCount)}),t=e.content}this.unplaced=f?0==t?e_.empty:new e_(tB(s.content,t-1,1),t-1,p<0?s.openEnd:t-1):new e_(tB(s.content,t,c),s.openStart,s.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return -1;let e=this.frontier[this.depth],t;if(!e.type.isTextblock||!tz(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(t=this.findCloseLevel(this.$to))&&t.depth==this.depth)return -1;let{depth:n}=this.$to,r=this.$to.after(n);for(;n>1&&r==this.$to.end(--n);)++r;return r}findCloseLevel(e){r:for(let t=Math.min(this.depth,e.depth);t>=0;t--){let{match:n,type:r}=this.frontier[t],i=t<e.depth&&e.end(t+1)==e.pos+(e.depth-(t+1)),a=tz(e,t,r,n,i);if(a){for(let n=t-1;n>=0;n--){let{match:t,type:r}=this.frontier[n],i=tz(e,n,r,t,!0);if(!i||i.childCount)continue r}return{depth:t,fit:a,move:i?e.doc.resolve(e.after(t+1)):e}}}}close(e){let t=this.findCloseLevel(e);if(!t)return null;for(;this.depth>t.depth;)this.closeFrontierNode();t.fit.childCount&&(this.placed=tH(this.placed,t.depth,t.fit)),e=t.move;for(let n=t.depth+1;n<=e.depth;n++){let t=e.node(n),r=t.type.contentMatch.fillBefore(t.content,!0,e.index(n));this.openFrontierNode(t.type,t.attrs,r)}return e}openFrontierNode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2?arguments[2]:void 0,r=this.frontier[this.depth];r.match=r.match.matchType(e),this.placed=tH(this.placed,this.depth,eg.from(e.create(t,n))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let e=this.frontier.pop().match.fillBefore(eg.empty,!0);e.childCount&&(this.placed=tH(this.placed,this.frontier.length,e))}constructor(e,t,n){this.$from=e,this.$to=t,this.unplaced=n,this.frontier=[],this.placed=eg.empty;for(let t=0;t<=e.depth;t++){let n=e.node(t);this.frontier.push({type:n.type,match:n.contentMatchAt(e.indexAfter(t))})}for(let t=e.depth;t>0;t--)this.placed=eg.from(e.node(t).copy(this.placed))}}function tB(e,t,n){return 0==t?e.cutByIndex(n,e.childCount):e.replaceChild(0,e.firstChild.copy(tB(e.firstChild.content,t-1,n)))}function tH(e,t,n){return 0==t?e.append(n):e.replaceChild(e.childCount-1,e.lastChild.copy(tH(e.lastChild.content,t-1,n)))}function tU(e,t){for(let n=0;n<t;n++)e=e.firstChild.content;return e}function tz(e,t,n,r,i){let a=e.node(t),s=i?e.indexAfter(t):e.index(t);if(s==a.childCount&&!n.compatibleContent(a.type))return null;let o=r.fillBefore(a.content,!0,s);return o&&!function(e,t,n){for(let r=n;r<t.childCount;r++)if(!e.allowsMarks(t.child(r).marks))return!0;return!1}(n,a.content,s)?o:null}function tV(e,t){let n=[],r=Math.min(e.depth,t.depth);for(let i=r;i>=0;i--){let r=e.start(i);if(r<e.pos-(e.depth-i)||t.end(i)>t.pos+(t.depth-i)||e.node(i).type.spec.isolating||t.node(i).type.spec.isolating)break;(r==t.start(i)||i==e.depth&&i==t.depth&&e.parent.inlineContent&&t.parent.inlineContent&&i&&t.start(i-1)==r-1)&&n.push(i)}return n}class tG extends tm{apply(e){let t=e.nodeAt(this.pos);if(!t)return tg.fail("No node at attribute step's position");let n=Object.create(null);for(let e in t.attrs)n[e]=t.attrs[e];n[this.attr]=this.value;let r=t.type.create(n,null,t.marks);return tg.fromReplace(e,this.pos,this.pos+1,new e_(eg.from(r),0,+!t.isLeaf))}getMap(){return th.empty}invert(e){return new tG(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new tG(t.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,t){if("number"!=typeof t.pos||"string"!=typeof t.attr)throw RangeError("Invalid input for AttrStep.fromJSON");return new tG(t.pos,t.attr,t.value)}constructor(e,t,n){super(),this.pos=e,this.attr=t,this.value=n}}tm.jsonID("attr",tG);class tq extends tm{apply(e){let t=Object.create(null);for(let n in e.attrs)t[n]=e.attrs[n];t[this.attr]=this.value;let n=e.type.create(t,e.content,e.marks);return tg.ok(n)}getMap(){return th.empty}invert(e){return new tq(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,t){if("string"!=typeof t.attr)throw RangeError("Invalid input for DocAttrStep.fromJSON");return new tq(t.attr,t.value)}constructor(e,t){super(),this.attr=e,this.value=t}}tm.jsonID("docAttr",tq);let tZ=class extends Error{};(tZ=function e(t){let n=Error.call(this,t);return n.__proto__=e.prototype,n}).prototype=Object.create(Error.prototype),tZ.prototype.constructor=tZ,tZ.prototype.name="TransformError";class t${get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let t=this.maybeStep(e);if(t.failed)throw new tZ(t.failed);return this}maybeStep(e){let t=e.apply(this.doc);return t.failed||this.addStep(e,t.doc),t}get docChanged(){return this.steps.length>0}addStep(e,t){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=t}replace(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e_.empty,r=tL(this.doc,e,t,n);return r&&this.step(r),this}replaceWith(e,t,n){return this.replace(e,t,new e_(eg.from(n),0,0))}delete(e,t){return this.replace(e,t,e_.empty)}insert(e,t){return this.replaceWith(e,e,t)}replaceRange(e,t,n){return!function(e,t,n,r){if(!r.size)return e.deleteRange(t,n);let i=e.doc.resolve(t),a=e.doc.resolve(n);if(tF(i,a,r))return e.step(new t_(t,n,r));let s=tV(i,a);0==s[s.length-1]&&s.pop();let o=-(i.depth+1);s.unshift(o);for(let e=i.depth,t=i.pos-1;e>0;e--,t--){let n=i.node(e).type.spec;if(n.defining||n.definingAsContext||n.isolating)break;s.indexOf(e)>-1?o=e:i.before(e)==t&&s.splice(1,0,-e)}let l=s.indexOf(o),c=[],u=r.openStart;for(let e=r.content,t=0;;t++){let n=e.firstChild;if(c.push(n),t==r.openStart)break;e=n.content}for(let e=u-1;e>=0;e--){var d;let t=c[e],n=(d=t.type).spec.defining||d.spec.definingForContent;if(n&&!t.sameMarkup(i.node(Math.abs(o)-1)))u=e;else if(n||!t.type.isTextblock)break}for(let t=r.openStart;t>=0;t--){let o=(t+u+1)%(r.openStart+1),d=c[o];if(d)for(let t=0;t<s.length;t++){let c=s[(t+l)%s.length],u=!0;c<0&&(u=!1,c=-c);let h=i.node(c-1),p=i.index(c-1);if(h.canReplaceWith(p,p,d.type,d.marks))return e.replace(i.before(c),u?a.after(c):n,new e_(function e(t,n,r,i,a){if(n<r){let a=t.firstChild;t=t.replaceChild(0,a.copy(e(a.content,n+1,r,i,a)))}if(n>i){let e=a.contentMatchAt(0),n=e.fillBefore(t).append(t);t=n.append(e.matchFragment(n).fillBefore(eg.empty,!0))}return t}(r.content,0,r.openStart,o),o,r.openEnd))}}let h=e.steps.length;for(let o=s.length-1;o>=0&&(e.replace(t,n,r),!(e.steps.length>h));o--){let e=s[o];e<0||(t=i.before(e),n=a.after(e))}}(this,e,t,n),this}replaceRangeWith(e,t,n){var r=e,i=t;if(!n.isInline&&r==i&&this.doc.resolve(r).parent.content.size){let e=function(e,t,n){let r=e.resolve(t);if(r.parent.canReplaceWith(r.index(),r.index(),n))return t;if(0==r.parentOffset)for(let e=r.depth-1;e>=0;e--){let t=r.index(e);if(r.node(e).canReplaceWith(t,t,n))return r.before(e+1);if(t>0)return null}if(r.parentOffset==r.parent.content.size)for(let e=r.depth-1;e>=0;e--){let t=r.indexAfter(e);if(r.node(e).canReplaceWith(t,t,n))return r.after(e+1);if(t<r.node(e).childCount)break}return null}(this.doc,r,n.type);null!=e&&(r=i=e)}return this.replaceRange(r,i,new e_(eg.from(n),0,0)),this}deleteRange(e,t){return!function(e,t,n){let r=e.doc.resolve(t),i=e.doc.resolve(n),a=tV(r,i);for(let t=0;t<a.length;t++){let n=a[t],s=t==a.length-1;if(s&&0==n||r.node(n).type.contentMatch.validEnd)return e.delete(r.start(n),i.end(n));if(n>0&&(s||r.node(n-1).canReplace(r.index(n-1),i.indexAfter(n-1))))return e.delete(r.before(n),i.after(n))}for(let a=1;a<=r.depth&&a<=i.depth;a++)if(t-r.start(a)==r.depth-a&&n>r.end(a)&&i.end(a)-n!=i.depth-a&&r.start(a-1)==i.start(a-1)&&r.node(a-1).canReplace(r.index(a-1),i.index(a-1)))return e.delete(r.before(a),n);e.delete(t,n)}(this,e,t),this}lift(e,t){return!function(e,t,n){let{$from:r,$to:i,depth:a}=t,s=r.before(a+1),o=i.after(a+1),l=s,c=o,u=eg.empty,d=0;for(let e=a,t=!1;e>n;e--)t||r.index(e)>0?(t=!0,u=eg.from(r.node(e).copy(u)),d++):l--;let h=eg.empty,p=0;for(let e=a,t=!1;e>n;e--)t||i.after(e+1)<i.end(e)?(t=!0,h=eg.from(i.node(e).copy(h)),p++):c++;e.step(new tE(l,c,s,o,new e_(u.append(h),d,p),u.size-d,!0))}(this,e,t),this}join(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return!function(e,t,n){let r=null,{linebreakReplacement:i}=e.doc.type.schema,a=e.doc.resolve(t-n),s=a.node().type;if(i&&s.inlineContent){let e="pre"==s.whitespace,t=!!s.contentMatch.matchType(i);e&&!t?r=!1:!e&&t&&(r=!0)}let o=e.steps.length;if(!1===r){let r=e.doc.resolve(t+n);tI(e,r.node(),r.before(),o)}s.inlineContent&&tS(e,t+n-1,s,a.node().contentMatchAt(a.index()),null==r);let l=e.mapping.slice(o),c=l.map(t-n);if(e.step(new t_(c,l.map(t+n,-1),e_.empty,!0)),!0===r){let t=e.doc.resolve(c);tN(e,t.node(),t.before(),e.steps.length)}}(this,e,t),this}wrap(e,t){return!function(e,t,n){let r=eg.empty;for(let e=n.length-1;e>=0;e--){if(r.size){let t=n[e].type.contentMatch.matchFragment(r);if(!t||!t.validEnd)throw RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}r=eg.from(n[e].type.create(n[e].attrs,r))}let i=t.start,a=t.end;e.step(new tE(i,a,i,a,new e_(r,0,0),n.length,!0))}(this,e,t),this}setBlockType(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;var i=this;if(!n.isTextblock)throw RangeError("Type given to setBlockType should be a textblock");let a=i.steps.length;return i.doc.nodesBetween(e,t,(e,t)=>{var s,o,l;let c,u,d="function"==typeof r?r(e):r;if(e.isTextblock&&!e.hasMarkup(n,d)&&(s=i.doc,o=i.mapping.slice(a).map(t),l=n,u=(c=s.resolve(o)).index(),c.parent.canReplaceWith(u,u+1,l))){let r=null;if(n.schema.linebreakReplacement){let e="pre"==n.whitespace,t=!!n.contentMatch.matchType(n.schema.linebreakReplacement);e&&!t?r=!1:!e&&t&&(r=!0)}!1===r&&tI(i,e,t,a),tS(i,i.mapping.slice(a).map(t,1),n,void 0,null===r);let s=i.mapping.slice(a),o=s.map(t,1),l=s.map(t+e.nodeSize,1);return i.step(new tE(o,l,o+1,l-1,new e_(eg.from(n.create(d,null,e.marks)),0,0),1,!0)),!0===r&&tN(i,e,t,a),!1}}),this}setNodeMarkup(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0;return!function(e,t,n,r,i){let a=e.doc.nodeAt(t);if(!a)throw RangeError("No node at given position");n||(n=a.type);let s=n.create(r,null,i||a.marks);if(a.isLeaf)return e.replaceWith(t,t+a.nodeSize,s);if(!n.validContent(a.content))throw RangeError("Invalid content for node type "+n.name);e.step(new tE(t,t+a.nodeSize,t+1,t+a.nodeSize-1,new e_(eg.from(s),0,0),1,!0))}(this,e,t,n,r),this}setNodeAttribute(e,t,n){return this.step(new tG(e,t,n)),this}setDocAttribute(e,t){return this.step(new tq(e,t)),this}addNodeMark(e,t){return this.step(new tk(e,t)),this}removeNodeMark(e,t){let n=this.doc.nodeAt(e);if(!n)throw RangeError("No node at position "+e);if(t instanceof ek)t.isInSet(n.marks)&&this.step(new tx(e,t));else{let r=n.marks,i,a=[];for(;i=t.isInSet(r);)a.push(new tx(e,i)),r=i.removeFromSet(r);for(let e=a.length-1;e>=0;e--)this.step(a[e])}return this}split(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2?arguments[2]:void 0;return!function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3?arguments[3]:void 0,i=e.doc.resolve(t),a=eg.empty,s=eg.empty;for(let e=i.depth,t=i.depth-n,o=n-1;e>t;e--,o--){a=eg.from(i.node(e).copy(a));let t=r&&r[o];s=eg.from(t?t.type.create(t.attrs,s):i.node(e).copy(s))}e.step(new t_(t,t,new e_(a.append(s),n,n),!0))}(this,e,t,n),this}addMark(e,t,n){var r;let i,a,s,o;return r=this,s=[],o=[],r.doc.nodesBetween(e,t,(r,l,c)=>{if(!r.isInline)return;let u=r.marks;if(!n.isInSet(u)&&c.type.allowsMarkType(n.type)){let c=Math.max(l,e),d=Math.min(l+r.nodeSize,t),h=n.addToSet(u);for(let e=0;e<u.length;e++)u[e].isInSet(h)||(i&&i.to==c&&i.mark.eq(u[e])?i.to=d:s.push(i=new tv(c,d,u[e])));a&&a.to==c?a.to=d:o.push(a=new tb(c,d,n))}}),s.forEach(e=>r.step(e)),o.forEach(e=>r.step(e)),this}removeMark(e,t,n){var r;let i,a;return r=this,i=[],a=0,r.doc.nodesBetween(e,t,(r,s)=>{if(!r.isInline)return;a++;let o=null;if(n instanceof eY){let e=r.marks,t;for(;t=n.isInSet(e);)(o||(o=[])).push(t),e=t.removeFromSet(e)}else n?n.isInSet(r.marks)&&(o=[n]):o=r.marks;if(o&&o.length){let n=Math.min(s+r.nodeSize,t);for(let t=0;t<o.length;t++){let r=o[t],l;for(let e=0;e<i.length;e++){let t=i[e];t.step==a-1&&r.eq(i[e].style)&&(l=t)}l?(l.to=n,l.step=a):i.push({style:r,from:Math.max(s,e),to:n,step:a})}}}),i.forEach(e=>r.step(new tv(e.from,e.to,e.style))),this}clearIncompatible(e,t,n){return tS(this,e,t,n),this}constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new tp}}let tW=Object.create(null);class tY{get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let t=0;t<e.length;t++)if(e[t].$from.pos!=e[t].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e_.empty,n=t.content.lastChild,r=null;for(let e=0;e<t.openEnd;e++)r=n,n=n.lastChild;let i=e.steps.length,a=this.ranges;for(let s=0;s<a.length;s++){let{$from:o,$to:l}=a[s],c=e.mapping.slice(i);e.replaceRange(c.map(o.pos),c.map(l.pos),s?e_.empty:t),0==s&&t6(e,i,(n?n.isInline:r&&r.isTextblock)?-1:1)}}replaceWith(e,t){let n=e.steps.length,r=this.ranges;for(let i=0;i<r.length;i++){let{$from:a,$to:s}=r[i],o=e.mapping.slice(n),l=o.map(a.pos),c=o.map(s.pos);i?e.deleteRange(l,c):(e.replaceRangeWith(l,c,t),t6(e,n,t.isInline?-1:1))}}static findFrom(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=e.parent.inlineContent?new tX(e):t4(e.node(0),e.parent,e.pos,e.index(),t,n);if(r)return r;for(let r=e.depth-1;r>=0;r--){let i=t<0?t4(e.node(0),e.node(r),e.before(r+1),e.index(r),t,n):t4(e.node(0),e.node(r),e.after(r+1),e.index(r)+1,t,n);if(i)return i}return null}static near(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return this.findFrom(e,t)||this.findFrom(e,-t)||new t5(e.node(0))}static atStart(e){return t4(e,e,0,0,1)||new t5(e)}static atEnd(e){return t4(e,e,e.content.size,e.childCount,-1)||new t5(e)}static fromJSON(e,t){if(!t||!t.type)throw RangeError("Invalid input for Selection.fromJSON");let n=tW[t.type];if(!n)throw RangeError("No selection type ".concat(t.type," defined"));return n.fromJSON(e,t)}static jsonID(e,t){if(e in tW)throw RangeError("Duplicate use of selection JSON ID "+e);return tW[e]=t,t.prototype.jsonID=e,t}getBookmark(){return tX.between(this.$anchor,this.$head).getBookmark()}constructor(e,t,n){this.$anchor=e,this.$head=t,this.ranges=n||[new tK(e.min(t),e.max(t))]}}tY.prototype.visible=!0;class tK{constructor(e,t){this.$from=e,this.$to=t}}let tJ=!1;function tQ(e){tJ||e.parent.inlineContent||(tJ=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+e.parent.type.name+")"))}class tX extends tY{get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,t){let n=e.resolve(t.map(this.head));if(!n.parent.inlineContent)return tY.near(n);let r=e.resolve(t.map(this.anchor));return new tX(r.parent.inlineContent?r:n,n)}replace(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e_.empty;if(super.replace(e,t),t==e_.empty){let t=this.$from.marksAcross(this.$to);t&&e.ensureMarks(t)}}eq(e){return e instanceof tX&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new t0(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,t){if("number"!=typeof t.anchor||"number"!=typeof t.head)throw RangeError("Invalid input for TextSelection.fromJSON");return new tX(e.resolve(t.anchor),e.resolve(t.head))}static create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t,r=e.resolve(t);return new this(r,n==t?r:e.resolve(n))}static between(e,t,n){let r=e.pos-t.pos;if((!n||r)&&(n=r>=0?1:-1),!t.parent.inlineContent){let e=tY.findFrom(t,n,!0)||tY.findFrom(t,-n,!0);if(!e)return tY.near(t,n);t=e.$head}return e.parent.inlineContent||(0==r?e=t:(e=(tY.findFrom(e,-n,!0)||tY.findFrom(e,n,!0)).$anchor).pos<t.pos!=r<0&&(e=t)),new tX(e,t)}constructor(e,t=e){tQ(e),tQ(t),super(e,t)}}tY.jsonID("text",tX);class t0{map(e){return new t0(e.map(this.anchor),e.map(this.head))}resolve(e){return tX.between(e.resolve(this.anchor),e.resolve(this.head))}constructor(e,t){this.anchor=e,this.head=t}}class t1 extends tY{map(e,t){let{deleted:n,pos:r}=t.mapResult(this.anchor),i=e.resolve(r);return n?tY.near(i):new t1(i)}content(){return new e_(eg.from(this.node),0,0)}eq(e){return e instanceof t1&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new t2(this.anchor)}static fromJSON(e,t){if("number"!=typeof t.anchor)throw RangeError("Invalid input for NodeSelection.fromJSON");return new t1(e.resolve(t.anchor))}static create(e,t){return new t1(e.resolve(t))}static isSelectable(e){return!e.isText&&!1!==e.type.spec.selectable}constructor(e){let t=e.nodeAfter;super(e,e.node(0).resolve(e.pos+t.nodeSize)),this.node=t}}t1.prototype.visible=!1,tY.jsonID("node",t1);class t2{map(e){let{deleted:t,pos:n}=e.mapResult(this.anchor);return t?new t0(n,n):new t2(n)}resolve(e){let t=e.resolve(this.anchor),n=t.nodeAfter;return n&&t1.isSelectable(n)?new t1(t):tY.near(t)}constructor(e){this.anchor=e}}class t5 extends tY{replace(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e_.empty;if(t==e_.empty){e.delete(0,e.doc.content.size);let t=tY.atStart(e.doc);t.eq(e.selection)||e.setSelection(t)}else super.replace(e,t)}toJSON(){return{type:"all"}}static fromJSON(e){return new t5(e)}map(e){return new t5(e)}eq(e){return e instanceof t5}getBookmark(){return t3}constructor(e){super(e.resolve(0),e.resolve(e.content.size))}}tY.jsonID("all",t5);let t3={map(){return this},resolve:e=>new t5(e)};function t4(e,t,n,r,i){let a=arguments.length>5&&void 0!==arguments[5]&&arguments[5];if(t.inlineContent)return tX.create(e,n);for(let s=r-(i>0?0:1);i>0?s<t.childCount:s>=0;s+=i){let r=t.child(s);if(r.isAtom){if(!a&&t1.isSelectable(r))return t1.create(e,n-(i<0?r.nodeSize:0))}else{let t=t4(e,r,n+i,i<0?r.childCount:0,i,a);if(t)return t}n+=r.nodeSize*i}return null}function t6(e,t,n){let r,i=e.steps.length-1;if(i<t)return;let a=e.steps[i];(a instanceof t_||a instanceof tE)&&(e.mapping.maps[i].forEach((e,t,n,i)=>{null==r&&(r=i)}),e.setSelection(tY.near(e.doc.resolve(r),n)))}class t9 extends t${get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(1|this.updated)&-3,this.storedMarks=null,this}get selectionSet(){return(1&this.updated)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=2,this}ensureMarks(e){return ek.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(2&this.updated)>0}addStep(e,t){super.addStep(e,t),this.updated=-3&this.updated,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1],n=this.selection;return t&&(e=e.mark(this.storedMarks||(n.empty?n.$from.marks():n.$from.marksAcross(n.$to)||ek.none))),n.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,t,n){let r=this.doc.type.schema;if(null==t)return e?this.replaceSelectionWith(r.text(e),!0):this.deleteSelection();{if(null==n&&(n=t),!e)return this.deleteRange(t,n);let i=this.storedMarks;if(!i){let e=this.doc.resolve(t);i=n==t?e.marks():e.marksAcross(this.doc.resolve(n))}return this.replaceRangeWith(t,n,r.text(e,i)),this.selection.empty||this.selection.to!=t+e.length||this.setSelection(tY.near(this.selection.$to)),this}}setMeta(e,t){return this.meta["string"==typeof e?e:e.key]=t,this}getMeta(e){return this.meta["string"==typeof e?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=4,this}get scrolledIntoView(){return(4&this.updated)>0}constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}}function t8(e,t){return t&&e?e.bind(t):e}class t7{constructor(e,t,n){this.name=e,this.init=t8(t.init,n),this.apply=t8(t.apply,n)}}let ne=[new t7("doc",{init:e=>e.doc||e.schema.topNodeType.createAndFill(),apply:e=>e.doc}),new t7("selection",{init:(e,t)=>e.selection||tY.atStart(t.doc),apply:e=>e.selection}),new t7("storedMarks",{init:e=>e.storedMarks||null,apply:(e,t,n,r)=>r.selection.$cursor?e.storedMarks:null}),new t7("scrollToSelection",{init:()=>0,apply:(e,t)=>e.scrolledIntoView?t+1:t})];class nt{constructor(e,t){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=ne.slice(),t&&t.forEach(e=>{if(this.pluginsByKey[e.key])throw RangeError("Adding different instances of a keyed plugin ("+e.key+")");this.plugins.push(e),this.pluginsByKey[e.key]=e,e.spec.state&&this.fields.push(new t7(e.key,e.spec.state,e))})}}class nn{get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;for(let n=0;n<this.config.plugins.length;n++)if(n!=t){let t=this.config.plugins[n];if(t.spec.filterTransaction&&!t.spec.filterTransaction.call(t,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let t=[e],n=this.applyInner(e),r=null;for(;;){let i=!1;for(let a=0;a<this.config.plugins.length;a++){let s=this.config.plugins[a];if(s.spec.appendTransaction){let o=r?r[a].n:0,l=r?r[a].state:this,c=o<t.length&&s.spec.appendTransaction.call(s,o?t.slice(o):t,l,n);if(c&&n.filterTransaction(c,a)){if(c.setMeta("appendedTransaction",e),!r){r=[];for(let e=0;e<this.config.plugins.length;e++)r.push(e<a?{state:n,n:t.length}:{state:this,n:0})}t.push(c),n=n.applyInner(c),i=!0}r&&(r[a]={state:n,n:t.length})}}if(!i)return{state:n,transactions:t}}}applyInner(e){if(!e.before.eq(this.doc))throw RangeError("Applying a mismatched transaction");let t=new nn(this.config),n=this.config.fields;for(let r=0;r<n.length;r++){let i=n[r];t[i.name]=i.apply(e,this[i.name],this,t)}return t}get tr(){return new t9(this)}static create(e){let t=new nt(e.doc?e.doc.type.schema:e.schema,e.plugins),n=new nn(t);for(let r=0;r<t.fields.length;r++)n[t.fields[r].name]=t.fields[r].init(e,n);return n}reconfigure(e){let t=new nt(this.schema,e.plugins),n=t.fields,r=new nn(t);for(let t=0;t<n.length;t++){let i=n[t].name;r[i]=this.hasOwnProperty(i)?this[i]:n[t].init(e,r)}return r}toJSON(e){let t={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(t.storedMarks=this.storedMarks.map(e=>e.toJSON())),e&&"object"==typeof e)for(let n in e){if("doc"==n||"selection"==n)throw RangeError("The JSON fields `doc` and `selection` are reserved");let r=e[n],i=r.spec.state;i&&i.toJSON&&(t[n]=i.toJSON.call(r,this[r.key]))}return t}static fromJSON(e,t,n){if(!t)throw RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw RangeError("Required config field 'schema' missing");let r=new nt(e.schema,e.plugins),i=new nn(r);return r.fields.forEach(r=>{if("doc"==r.name)i.doc=eP.fromJSON(e.schema,t.doc);else if("selection"==r.name)i.selection=tY.fromJSON(i.doc,t.selection);else if("storedMarks"==r.name)t.storedMarks&&(i.storedMarks=t.storedMarks.map(e.schema.markFromJSON));else{if(n)for(let a in n){let s=n[a],o=s.spec.state;if(s.key==r.name&&o&&o.fromJSON&&Object.prototype.hasOwnProperty.call(t,a)){i[r.name]=o.fromJSON.call(s,e,t[a],i);return}}i[r.name]=r.init(e,i)}}),i}constructor(e){this.config=e}}class nr{getState(e){return e[this.key]}constructor(e){this.spec=e,this.props={},e.props&&function e(t,n,r){for(let i in t){let a=t[i];a instanceof Function?a=a.bind(n):"handleDOMEvents"==i&&(a=e(a,n,{})),r[i]=a}return r}(e.props,this,this.props),this.key=e.key?e.key.key:na("plugin")}}let ni=Object.create(null);function na(e){return e in ni?e+"$"+ ++ni[e]:(ni[e]=0,e+"$")}class ns{get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}constructor(e="key"){this.key=na(e)}}let no=["ol",0],nl=["ul",0],nc=["li",0],nu={attrs:{order:{default:1,validate:"number"}},parseDOM:[{tag:"ol",getAttrs:e=>({order:e.hasAttribute("start")?+e.getAttribute("start"):1})}],toDOM:e=>1==e.attrs.order?no:["ol",{start:e.attrs.order},0]},nd={parseDOM:[{tag:"ul"}],toDOM:()=>nl},nh={parseDOM:[{tag:"li"}],toDOM:()=>nc,defining:!0};function np(e,t){let n={};for(let t in e)n[t]=e[t];for(let e in t)n[e]=t[e];return n}function nf(e,t,n){return e.append({ordered_list:np(nu,{content:"list_item+",group:n}),bullet_list:np(nd,{content:"list_item+",group:n}),list_item:np(nh,{content:t})})}function nm(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return function(n,r){let{$from:i,$to:a}=n.selection,s=i.blockRange(a);if(!s)return!1;let o=r?n.tr:null;return!!function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=!1,a=t,s=t.$from.doc;if(t.depth>=2&&t.$from.node(t.depth-1).type.compatibleContent(n)&&0==t.startIndex){if(0==t.$from.index(t.depth-1))return!1;let e=s.resolve(t.start-2);a=new eO(e,e,t.depth),t.endIndex<t.parent.childCount&&(t=new eO(t.$from,s.resolve(t.$to.end(t.depth)),t.depth)),i=!0}let o=tC(a,n,r,t);return!!o&&(e&&function(e,t,n,r,i){let a=eg.empty;for(let e=n.length-1;e>=0;e--)a=eg.from(n[e].type.create(n[e].attrs,a));e.step(new tE(t.start-2*!!r,t.end,t.start,t.end,new e_(a,0,0),n.length,!0));let s=0;for(let e=0;e<n.length;e++)n[e].type==i&&(s=e+1);let o=n.length-s,l=t.start+n.length-2*!!r,c=t.parent;for(let n=t.startIndex,r=t.endIndex,i=!0;n<r;n++,i=!1)!i&&tD(e.doc,l,o)&&(e.split(l,o),l+=2*o),l+=c.child(n).nodeSize}(e,t,o,i,n),!0)}(o,s,e,t)&&(r&&r(o.scrollIntoView()),!0)}}let ng=function(e){for(var t=0;;t++)if(!(e=e.previousSibling))return t},ny=function(e){let t=e.assignedSlot||e.parentNode;return t&&11==t.nodeType?t.host:t},nb=null,nv=function(e,t,n){let r=nb||(nb=document.createRange());return r.setEnd(e,null==n?e.nodeValue.length:n),r.setStart(e,t||0),r},nk=function(){nb=null},nx=function(e,t,n,r){return n&&(nE(e,t,n,r,-1)||nE(e,t,n,r,1))},n_=/^(img|br|input|textarea|hr)$/i;function nE(e,t,n,r,i){for(var a;;){if(e==n&&t==r)return!0;if(t==(i<0?0:nT(e))){let n=e.parentNode;if(!n||1!=n.nodeType||nS(e)||n_.test(e.nodeName)||"false"==e.contentEditable)return!1;t=ng(e)+(i<0?0:1),e=n}else{if(1!=e.nodeType)return!1;let n=e.childNodes[t+(i<0?-1:0)];if(1==n.nodeType&&"false"==n.contentEditable)if(null==(a=n.pmViewDesc)||!a.ignoreForSelection)return!1;else t+=i;else e=n,t=i<0?nT(e):0}}}function nT(e){return 3==e.nodeType?e.nodeValue.length:e.childNodes.length}function nS(e){let t;for(let n=e;n&&!(t=n.pmViewDesc);n=n.parentNode);return t&&t.node&&t.node.isBlock&&(t.dom==e||t.contentDOM==e)}let nw=function(e){return e.focusNode&&nx(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset)};function nC(e,t){let n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=e,n.key=n.code=t,n}let nA="undefined"!=typeof navigator?navigator:null,nN="undefined"!=typeof document?document:null,nI=nA&&nA.userAgent||"",nD=/Edge\/(\d+)/.exec(nI),nM=/MSIE \d/.exec(nI),nO=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(nI),nR=!!(nM||nO||nD),nP=nM?document.documentMode:nO?+nO[1]:nD?+nD[1]:0,nL=!nR&&/gecko\/(\d+)/i.test(nI);nL&&(/Firefox\/(\d+)/.exec(nI)||[0,0])[1];let nF=!nR&&/Chrome\/(\d+)/.exec(nI),nj=!!nF,nB=nF?+nF[1]:0,nH=!nR&&!!nA&&/Apple Computer/.test(nA.vendor),nU=nH&&(/Mobile\/\w+/.test(nI)||!!nA&&nA.maxTouchPoints>2),nz=nU||!!nA&&/Mac/.test(nA.platform),nV=!!nA&&/Win/.test(nA.platform),nG=/Android \d/.test(nI),nq=!!nN&&"webkitFontSmoothing"in nN.documentElement.style,nZ=nq?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function n$(e,t){return"number"==typeof e?e:e[t]}function nW(e,t,n){let r=e.someProp("scrollThreshold")||0,i=e.someProp("scrollMargin")||5,a=e.dom.ownerDocument;for(let s=n||e.dom;s;){if(1!=s.nodeType){s=ny(s);continue}let e=s,n=e==a.body,o=n?function(e){let t=e.defaultView&&e.defaultView.visualViewport;return t?{left:0,right:t.width,top:0,bottom:t.height}:{left:0,right:e.documentElement.clientWidth,top:0,bottom:e.documentElement.clientHeight}}(a):function(e){let t=e.getBoundingClientRect(),n=t.width/e.offsetWidth||1,r=t.height/e.offsetHeight||1;return{left:t.left,right:t.left+e.clientWidth*n,top:t.top,bottom:t.top+e.clientHeight*r}}(e),l=0,c=0;if(t.top<o.top+n$(r,"top")?c=-(o.top-t.top+n$(i,"top")):t.bottom>o.bottom-n$(r,"bottom")&&(c=t.bottom-t.top>o.bottom-o.top?t.top+n$(i,"top")-o.top:t.bottom-o.bottom+n$(i,"bottom")),t.left<o.left+n$(r,"left")?l=-(o.left-t.left+n$(i,"left")):t.right>o.right-n$(r,"right")&&(l=t.right-o.right+n$(i,"right")),l||c)if(n)a.defaultView.scrollBy(l,c);else{let n=e.scrollLeft,r=e.scrollTop;c&&(e.scrollTop+=c),l&&(e.scrollLeft+=l);let i=e.scrollLeft-n,a=e.scrollTop-r;t={left:t.left-i,top:t.top-a,right:t.right-i,bottom:t.bottom-a}}let u=n?"fixed":getComputedStyle(s).position;if(/^(fixed|sticky)$/.test(u))break;s="absolute"==u?s.offsetParent:ny(s)}}function nY(e){let t=[],n=e.ownerDocument;for(let r=e;r&&(t.push({dom:r,top:r.scrollTop,left:r.scrollLeft}),e!=n);r=ny(r));return t}function nK(e,t){for(let n=0;n<e.length;n++){let{dom:r,top:i,left:a}=e[n];r.scrollTop!=i+t&&(r.scrollTop=i+t),r.scrollLeft!=a&&(r.scrollLeft=a)}}let nJ=null;function nQ(e,t){return e.left>=t.left-1&&e.left<=t.right+1&&e.top>=t.top-1&&e.top<=t.bottom+1}function nX(e){return e.top<e.bottom||e.left<e.right}function n0(e,t){let n=e.getClientRects();if(n.length){let e=n[t<0?0:n.length-1];if(nX(e))return e}return Array.prototype.find.call(n,nX)||e.getBoundingClientRect()}let n1=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function n2(e,t,n){let{node:r,offset:i,atom:a}=e.docView.domFromPos(t,n<0?-1:1),s=nq||nL;if(3==r.nodeType)if(s&&(n1.test(r.nodeValue)||(n<0?!i:i==r.nodeValue.length))){let e=n0(nv(r,i,i),n);if(nL&&i&&/\s/.test(r.nodeValue[i-1])&&i<r.nodeValue.length){let t=n0(nv(r,i-1,i-1),-1);if(t.top==e.top){let n=n0(nv(r,i,i+1),-1);if(n.top!=e.top)return n5(n,n.left<t.left)}}return e}else{let e=i,t=i,a=n<0?1:-1;return n<0&&!i?(t++,a=-1):n>=0&&i==r.nodeValue.length?(e--,a=1):n<0?e--:t++,n5(n0(nv(r,e,t),a),a<0)}if(!e.state.doc.resolve(t-(a||0)).parent.inlineContent){if(null==a&&i&&(n<0||i==nT(r))){let e=r.childNodes[i-1];if(1==e.nodeType)return n3(e.getBoundingClientRect(),!1)}if(null==a&&i<nT(r)){let e=r.childNodes[i];if(1==e.nodeType)return n3(e.getBoundingClientRect(),!0)}return n3(r.getBoundingClientRect(),n>=0)}if(null==a&&i&&(n<0||i==nT(r))){let e=r.childNodes[i-1],t=3==e.nodeType?nv(e,nT(e)-!s):1!=e.nodeType||"BR"==e.nodeName&&e.nextSibling?null:e;if(t)return n5(n0(t,1),!1)}if(null==a&&i<nT(r)){let e=r.childNodes[i];for(;e.pmViewDesc&&e.pmViewDesc.ignoreForCoords;)e=e.nextSibling;let t=e?3==e.nodeType?nv(e,0,+!s):1==e.nodeType?e:null:null;if(t)return n5(n0(t,-1),!0)}return n5(n0(3==r.nodeType?nv(r):r,-n),n>=0)}function n5(e,t){if(0==e.width)return e;let n=t?e.left:e.right;return{top:e.top,bottom:e.bottom,left:n,right:n}}function n3(e,t){if(0==e.height)return e;let n=t?e.top:e.bottom;return{top:n,bottom:n,left:e.left,right:e.right}}function n4(e,t,n){let r=e.state,i=e.root.activeElement;r!=t&&e.updateState(t),i!=e.dom&&e.focus();try{return n()}finally{r!=t&&e.updateState(r),i!=e.dom&&i&&i.focus()}}let n6=/[\u0590-\u08ac]/,n9=null,n8=null,n7=!1;class re{matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,t,n){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let t=0;t<this.children.length;t++)e+=this.children[t].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let t=0,n=this.posAtStart;;t++){let r=this.children[t];if(r==e)return n;n+=r.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,t,n){let r;if(this.contentDOM&&this.contentDOM.contains(1==e.nodeType?e:e.parentNode))if(n<0){let n,r;if(e==this.contentDOM)n=e.childNodes[t-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;n=e.previousSibling}for(;n&&!((r=n.pmViewDesc)&&r.parent==this);)n=n.previousSibling;return n?this.posBeforeChild(r)+r.size:this.posAtStart}else{let n,r;if(e==this.contentDOM)n=e.childNodes[t];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;n=e.nextSibling}for(;n&&!((r=n.pmViewDesc)&&r.parent==this);)n=n.nextSibling;return n?this.posBeforeChild(r):this.posAtEnd}if(e==this.dom&&this.contentDOM)r=t>ng(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))r=2&e.compareDocumentPosition(this.contentDOM);else if(this.dom.firstChild){if(0==t)for(let t=e;;t=t.parentNode){if(t==this.dom){r=!1;break}if(t.previousSibling)break}if(null==r&&t==e.childNodes.length)for(let t=e;;t=t.parentNode){if(t==this.dom){r=!0;break}if(t.nextSibling)break}}return(null==r?n>0:r)?this.posAtEnd:this.posAtStart}nearestDesc(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];for(let n=!0,r=e;r;r=r.parentNode){let i=this.getDesc(r),a;if(i&&(!t||i.node))if(!n||!(a=i.nodeDOM)||(1==a.nodeType?a.contains(1==e.nodeType?e:e.parentNode):a==e))return i;else n=!1}}getDesc(e){let t=e.pmViewDesc;for(let e=t;e;e=e.parent)if(e==this)return t}posFromDOM(e,t,n){for(let r=e;r;r=r.parentNode){let i=this.getDesc(r);if(i)return i.localPosFromDOM(e,t,n)}return -1}descAt(e){for(let t=0,n=0;t<this.children.length;t++){let r=this.children[t],i=n+r.size;if(n==e&&i!=n){for(;!r.border&&r.children.length;)for(let e=0;e<r.children.length;e++){let t=r.children[e];if(t.size){r=t;break}}return r}if(e<i)return r.descAt(e-n-r.border);n=i}}domFromPos(e,t){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let n=0,r=0;for(let t=0;n<this.children.length;n++){let i=this.children[n],a=t+i.size;if(a>e||i instanceof ro){r=e-t;break}t=a}if(r)return this.children[n].domFromPos(r-this.children[n].border,t);for(let e;n&&!(e=this.children[n-1]).size&&e instanceof rt&&e.side>=0;n--);if(t<=0){let e,r=!0;for(;(e=n?this.children[n-1]:null)&&e.dom.parentNode!=this.contentDOM;n--,r=!1);return e&&t&&r&&!e.border&&!e.domAtom?e.domFromPos(e.size,t):{node:this.contentDOM,offset:e?ng(e.dom)+1:0}}{let e,r=!0;for(;(e=n<this.children.length?this.children[n]:null)&&e.dom.parentNode!=this.contentDOM;n++,r=!1);return e&&r&&!e.border&&!e.domAtom?e.domFromPos(0,t):{node:this.contentDOM,offset:e?ng(e.dom):this.contentDOM.childNodes.length}}}parseRange(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(0==this.children.length)return{node:this.contentDOM,from:e,to:t,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let r=-1,i=-1;for(let a=n,s=0;;s++){let n=this.children[s],o=a+n.size;if(-1==r&&e<=o){let i=a+n.border;if(e>=i&&t<=o-n.border&&n.node&&n.contentDOM&&this.contentDOM.contains(n.contentDOM))return n.parseRange(e,t,i);e=a;for(let t=s;t>0;t--){let n=this.children[t-1];if(n.size&&n.dom.parentNode==this.contentDOM&&!n.emptyChildAt(1)){r=ng(n.dom)+1;break}e-=n.size}-1==r&&(r=0)}if(r>-1&&(o>t||s==this.children.length-1)){t=o;for(let e=s+1;e<this.children.length;e++){let n=this.children[e];if(n.size&&n.dom.parentNode==this.contentDOM&&!n.emptyChildAt(-1)){i=ng(n.dom);break}t+=n.size}-1==i&&(i=this.contentDOM.childNodes.length);break}a=o}return{node:this.contentDOM,from:e,to:t,fromOffset:r,toOffset:i}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let t=this.children[e<0?0:this.children.length-1];return 0==t.size||t.emptyChildAt(e)}domAfterPos(e){let{node:t,offset:n}=this.domFromPos(e,0);if(1!=t.nodeType||n==t.childNodes.length)throw RangeError("No node after pos "+e);return t.childNodes[n]}setSelection(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=Math.min(e,t),a=Math.max(e,t);for(let s=0,o=0;s<this.children.length;s++){let l=this.children[s],c=o+l.size;if(i>o&&a<c)return l.setSelection(e-o-l.border,t-o-l.border,n,r);o=c}let s=this.domFromPos(e,e?-1:1),o=t==e?s:this.domFromPos(t,t?-1:1),l=n.root.getSelection(),c=n.domSelectionRange(),u=!1;if((nL||nH)&&e==t){let{node:e,offset:t}=s;if(3==e.nodeType){if((u=!!(t&&"\n"==e.nodeValue[t-1]))&&t==e.nodeValue.length)for(let t=e,n;t;t=t.parentNode){if(n=t.nextSibling){"BR"==n.nodeName&&(s=o={node:n.parentNode,offset:ng(n)+1});break}let e=t.pmViewDesc;if(e&&e.node&&e.node.isBlock)break}}else{let n=e.childNodes[t-1];u=n&&("BR"==n.nodeName||"false"==n.contentEditable)}}if(nL&&c.focusNode&&c.focusNode!=o.node&&1==c.focusNode.nodeType){let e=c.focusNode.childNodes[c.focusOffset];e&&"false"==e.contentEditable&&(r=!0)}if(!(r||u&&nH)&&nx(s.node,s.offset,c.anchorNode,c.anchorOffset)&&nx(o.node,o.offset,c.focusNode,c.focusOffset))return;let d=!1;if((l.extend||e==t)&&!(u&&nL)){l.collapse(s.node,s.offset);try{e!=t&&l.extend(o.node,o.offset),d=!0}catch(e){}}if(!d){if(e>t){let e=s;s=o,o=e}let n=document.createRange();n.setEnd(o.node,o.offset),n.setStart(s.node,s.offset),l.removeAllRanges(),l.addRange(n)}}ignoreMutation(e){return!this.contentDOM&&"selection"!=e.type}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,t){for(let n=0,r=0;r<this.children.length;r++){let i=this.children[r],a=n+i.size;if(n==a?e<=a&&t>=n:e<a&&t>n){let r=n+i.border,s=a-i.border;if(e>=r&&t<=s){this.dirty=e==n||t==a?2:1,e==r&&t==s&&(i.contentLost||i.dom.parentNode!=this.contentDOM)?i.dirty=3:i.markDirty(e-r,t-r);return}i.dirty=i.dom!=i.contentDOM||i.dom.parentNode!=this.contentDOM||i.children.length?3:2}n=a}this.dirty=2}markParentsDirty(){let e=1;for(let t=this.parent;t;t=t.parent,e++){let n=1==e?2:1;t.dirty<n&&(t.dirty=n)}}get domAtom(){return!1}get ignoreForCoords(){return!1}get ignoreForSelection(){return!1}isText(e){return!1}constructor(e,t,n,r){this.parent=e,this.children=t,this.dom=n,this.contentDOM=r,this.dirty=0,n.pmViewDesc=this}}class rt extends re{matchesWidget(e){return 0==this.dirty&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let t=this.widget.spec.stopEvent;return!!t&&t(e)}ignoreMutation(e){return"selection"!=e.type||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get ignoreForSelection(){return!!this.widget.type.spec.relaxedSide}get side(){return this.widget.type.side}constructor(e,t,n,r){let i,a=t.type.toDOM;if("function"==typeof a&&(a=a(n,()=>i?i.parent?i.parent.posBeforeChild(i):void 0:r)),!t.type.spec.raw){if(1!=a.nodeType){let e=document.createElement("span");e.appendChild(a),a=e}a.contentEditable="false",a.classList.add("ProseMirror-widget")}super(e,[],a,null),this.widget=t,this.widget=t,i=this}}class rn extends re{get size(){return this.text.length}localPosFromDOM(e,t){return e!=this.textDOM?this.posAtStart+(t?this.size:0):this.posAtStart+t}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return"characterData"===e.type&&e.target.nodeValue==e.oldValue}constructor(e,t,n,r){super(e,[],t,null),this.textDOM=n,this.text=r}}class rr extends re{static create(e,t,n,r){let i=r.nodeViews[t.type.name],a=i&&i(t,r,n);return a&&a.dom||(a=e9.renderSpec(document,t.type.spec.toDOM(t,n),null,t.attrs)),new rr(e,t,a.dom,a.contentDOM||a.dom,a)}parseRule(){return 3&this.dirty||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(e){return 3!=this.dirty&&this.mark.eq(e)}markDirty(e,t){if(super.markDirty(e,t),0!=this.dirty){let e=this.parent;for(;!e.node;)e=e.parent;e.dirty<this.dirty&&(e.dirty=this.dirty),this.dirty=0}}slice(e,t,n){let r=rr.create(this.parent,this.mark,!0,n),i=this.children,a=this.size;t<a&&(i=rb(i,t,a,n)),e>0&&(i=rb(i,0,e,n));for(let e=0;e<i.length;e++)i[e].parent=r;return r.children=i,r}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}constructor(e,t,n,r,i){super(e,[],n,r),this.mark=t,this.spec=i}}class ri extends re{static create(e,t,n,r,i,a){let s=i.nodeViews[t.type.name],o,l=s&&s(t,i,()=>o?o.parent?o.parent.posBeforeChild(o):void 0:a,n,r),c=l&&l.dom,u=l&&l.contentDOM;if(t.isText)if(c){if(3!=c.nodeType)throw RangeError("Text must be rendered as a DOM text node")}else c=document.createTextNode(t.text);else if(!c){let e=e9.renderSpec(document,t.type.spec.toDOM(t),null,t.attrs);({dom:c,contentDOM:u}=e)}u||t.isText||"BR"==c.nodeName||(c.hasAttribute("contenteditable")||(c.contentEditable="false"),t.type.spec.draggable&&(c.draggable=!0));let d=c;return(c=rp(c,n,t),l)?o=new rl(e,t,n,r,c,u||null,d,l,i,a+1):t.isText?new rs(e,t,n,r,c,d,i):new ri(e,t,n,r,c,u||null,d,i,a+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if("pre"==this.node.type.whitespace&&(e.preserveWhitespace="full"),this.contentDOM)if(this.contentLost){for(let t=this.children.length-1;t>=0;t--){let n=this.children[t];if(this.dom.contains(n.dom.parentNode)){e.contentElement=n.dom.parentNode;break}}e.contentElement||(e.getContent=()=>eg.empty)}else e.contentElement=this.contentDOM;else e.getContent=()=>this.node.content;return e}matchesNode(e,t,n){return 0==this.dirty&&e.eq(this.node)&&rf(t,this.outerDeco)&&n.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return+!this.node.isLeaf}updateChildren(e,t){let n=this.node.inlineContent,r=t,i=e.composing?this.localCompositionInfo(e,t):null,a=i&&i.pos>-1?i:null,s=i&&i.pos<0,o=new rg(this,a&&a.node,e);(function(e,t,n,r){let i=t.locals(e),a=0;if(0==i.length){for(let n=0;n<e.childCount;n++){let s=e.child(n);r(s,i,t.forChild(a,s),n),a+=s.nodeSize}return}let s=0,o=[],l=null;for(let c=0;;){let u,d,h,p;for(;s<i.length&&i[s].to==a;){let e=i[s++];e.widget&&(u?(d||(d=[u])).push(e):u=e)}if(u)if(d){d.sort(ry);for(let e=0;e<d.length;e++)n(d[e],c,!!l)}else n(u,c,!!l);if(l)p=-1,h=l,l=null;else if(c<e.childCount)p=c,h=e.child(c++);else break;for(let e=0;e<o.length;e++)o[e].to<=a&&o.splice(e--,1);for(;s<i.length&&i[s].from<=a&&i[s].to>a;)o.push(i[s++]);let f=a+h.nodeSize;if(h.isText){let e=f;s<i.length&&i[s].from<e&&(e=i[s].from);for(let t=0;t<o.length;t++)o[t].to<e&&(e=o[t].to);e<f&&(l=h.cut(e-a),h=h.cut(0,e-a),f=e,p=-1)}else for(;s<i.length&&i[s].to<f;)s++;let m=h.isInline&&!h.isLeaf?o.filter(e=>!e.inline):o.slice();r(h,m,t.forChild(a,h),p),a=f}})(this.node,this.innerDeco,(t,i,a)=>{t.spec.marks?o.syncToMarks(t.spec.marks,n,e):t.type.side>=0&&!a&&o.syncToMarks(i==this.node.childCount?ek.none:this.node.child(i).marks,n,e),o.placeWidget(t,e,r)},(t,a,l,c)=>{let u;o.syncToMarks(t.marks,n,e),o.findNodeMatch(t,a,l,c)||s&&e.state.selection.from>r&&e.state.selection.to<r+t.nodeSize&&(u=o.findIndexWithChild(i.node))>-1&&o.updateNodeAt(t,a,l,u,e)||o.updateNextNode(t,a,l,e,c,r)||o.addNode(t,a,l,e,r),r+=t.nodeSize}),o.syncToMarks([],n,e),this.node.isTextblock&&o.addTextblockHacks(),o.destroyRest(),(o.changed||2==this.dirty)&&(a&&this.protectLocalComposition(e,a),function e(t,n,r){let i=t.firstChild,a=!1;for(let s=0;s<n.length;s++){let o=n[s],l=o.dom;if(l.parentNode==t){for(;l!=i;)i=rm(i),a=!0;i=i.nextSibling}else a=!0,t.insertBefore(l,i);if(o instanceof rr){let n=i?i.previousSibling:t.lastChild;e(o.contentDOM,o.children,r),i=n?n.nextSibling:t.firstChild}}for(;i;)i=rm(i),a=!0;a&&r.trackWrites==t&&(r.trackWrites=null)}(this.contentDOM,this.children,e),nU&&function(e){if("UL"==e.nodeName||"OL"==e.nodeName){let t=e.style.cssText;e.style.cssText=t+"; list-style: square !important",window.getComputedStyle(e).listStyle,e.style.cssText=t}}(this.dom))}localCompositionInfo(e,t){let{from:n,to:r}=e.state.selection;if(!(e.state.selection instanceof tX)||n<t||r>t+this.node.content.size)return null;let i=e.input.compositionNode;if(!i||!this.dom.contains(i.parentNode))return null;if(!this.node.inlineContent)return{node:i,pos:-1,text:""};{let e=i.nodeValue,a=function(e,t,n,r){for(let i=0,a=0;i<e.childCount&&a<=r;){let s=e.child(i++),o=a;if(a+=s.nodeSize,!s.isText)continue;let l=s.text;for(;i<e.childCount;){let t=e.child(i++);if(a+=t.nodeSize,!t.isText)break;l+=t.text}if(a>=n){if(a>=r&&l.slice(r-t.length-o,r-o)==t)return r-t.length;let e=o<r?l.lastIndexOf(t,r-o-1):-1;if(e>=0&&e+t.length+o>=n)return o+e;if(n==r&&l.length>=r+t.length-o&&l.slice(r-o,r-o+t.length)==t)return r}}return -1}(this.node.content,e,n-t,r-t);return a<0?null:{node:i,pos:a,text:e}}}protectLocalComposition(e,t){let{node:n,pos:r,text:i}=t;if(this.getDesc(n))return;let a=n;for(;a.parentNode!=this.contentDOM;a=a.parentNode){for(;a.previousSibling;)a.parentNode.removeChild(a.previousSibling);for(;a.nextSibling;)a.parentNode.removeChild(a.nextSibling);a.pmViewDesc&&(a.pmViewDesc=void 0)}let s=new rn(this,a,n,i);e.input.compositionNodes.push(s),this.children=rb(this.children,r,r+i.length,e,s)}update(e,t,n,r){return 3!=this.dirty&&!!e.sameMarkup(this.node)&&(this.updateInner(e,t,n,r),!0)}updateInner(e,t,n,r){this.updateOuterDeco(t),this.node=e,this.innerDeco=n,this.contentDOM&&this.updateChildren(r,this.posAtStart),this.dirty=0}updateOuterDeco(e){if(rf(e,this.outerDeco))return;let t=1!=this.nodeDOM.nodeType,n=this.dom;this.dom=rh(this.dom,this.nodeDOM,rd(this.outerDeco,this.node,t),rd(e,this.node,t)),this.dom!=n&&(n.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){1==this.nodeDOM.nodeType&&(this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.nodeDOM.draggable=!0))}deselectNode(){1==this.nodeDOM.nodeType&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.nodeDOM.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}constructor(e,t,n,r,i,a,s,o,l){super(e,[],i,a),this.node=t,this.outerDeco=n,this.innerDeco=r,this.nodeDOM=s}}function ra(e,t,n,r,i){rp(r,t,e);let a=new ri(void 0,e,t,n,r,r,r,i,0);return a.contentDOM&&a.updateChildren(i,0),a}class rs extends ri{parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,t,n,r){return 3!=this.dirty&&(0==this.dirty||!!this.inParent())&&!!e.sameMarkup(this.node)&&(this.updateOuterDeco(t),(0!=this.dirty||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,r.trackWrites==this.nodeDOM&&(r.trackWrites=null)),this.node=e,this.dirty=0,!0)}inParent(){let e=this.parent.contentDOM;for(let t=this.nodeDOM;t;t=t.parentNode)if(t==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,t,n){return e==this.nodeDOM?this.posAtStart+Math.min(t,this.node.text.length):super.localPosFromDOM(e,t,n)}ignoreMutation(e){return"characterData"!=e.type&&"selection"!=e.type}slice(e,t,n){let r=this.node.cut(e,t),i=document.createTextNode(r.text);return new rs(this.parent,r,this.outerDeco,this.innerDeco,i,i,n)}markDirty(e,t){super.markDirty(e,t),this.dom!=this.nodeDOM&&(0==e||t==this.nodeDOM.nodeValue.length)&&(this.dirty=3)}get domAtom(){return!1}isText(e){return this.node.text==e}constructor(e,t,n,r,i,a,s){super(e,t,n,r,i,null,a,s,0)}}class ro extends re{parseRule(){return{ignore:!0}}matchesHack(e){return 0==this.dirty&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return"IMG"==this.dom.nodeName}}class rl extends ri{update(e,t,n,r){if(3==this.dirty)return!1;if(this.spec.update&&(this.node.type==e.type||this.spec.multiType)){let i=this.spec.update(e,t,n);return i&&this.updateInner(e,t,n,r),i}return(!!this.contentDOM||!!e.isLeaf)&&super.update(e,t,n,r)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,t,n,r){this.spec.setSelection?this.spec.setSelection(e,t,n.root):super.setSelection(e,t,n,r)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return!!this.spec.stopEvent&&this.spec.stopEvent(e)}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}constructor(e,t,n,r,i,a,s,o,l,c){super(e,t,n,r,i,a,s,l,c),this.spec=o}}let rc=function(e){e&&(this.nodeName=e)};rc.prototype=Object.create(null);let ru=[new rc];function rd(e,t,n){if(0==e.length)return ru;let r=n?ru[0]:new rc,i=[r];for(let a=0;a<e.length;a++){let s=e[a].type.attrs;if(s)for(let e in s.nodeName&&i.push(r=new rc(s.nodeName)),s){let a=s[e];null!=a&&(n&&1==i.length&&i.push(r=new rc(t.isInline?"span":"div")),"class"==e?r.class=(r.class?r.class+" ":"")+a:"style"==e?r.style=(r.style?r.style+";":"")+a:"nodeName"!=e&&(r[e]=a))}}return i}function rh(e,t,n,r){if(n==ru&&r==ru)return t;let i=t;for(let t=0;t<r.length;t++){let a=r[t],s=n[t];if(t){let t;s&&s.nodeName==a.nodeName&&i!=e&&(t=i.parentNode)&&t.nodeName.toLowerCase()==a.nodeName||((t=document.createElement(a.nodeName)).pmIsDeco=!0,t.appendChild(i),s=ru[0]),i=t}!function(e,t,n){for(let r in t)"class"==r||"style"==r||"nodeName"==r||r in n||e.removeAttribute(r);for(let r in n)"class"!=r&&"style"!=r&&"nodeName"!=r&&n[r]!=t[r]&&e.setAttribute(r,n[r]);if(t.class!=n.class){let r=t.class?t.class.split(" ").filter(Boolean):[],i=n.class?n.class.split(" ").filter(Boolean):[];for(let t=0;t<r.length;t++)-1==i.indexOf(r[t])&&e.classList.remove(r[t]);for(let t=0;t<i.length;t++)-1==r.indexOf(i[t])&&e.classList.add(i[t]);0==e.classList.length&&e.removeAttribute("class")}if(t.style!=n.style){if(t.style){let n=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,r;for(;r=n.exec(t.style);)e.style.removeProperty(r[1])}n.style&&(e.style.cssText+=n.style)}}(i,s||ru[0],a)}return i}function rp(e,t,n){return rh(e,e,ru,rd(t,n,1!=e.nodeType))}function rf(e,t){if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++)if(!e[n].type.eq(t[n].type))return!1;return!0}function rm(e){let t=e.nextSibling;return e.parentNode.removeChild(e),t}class rg{destroyBetween(e,t){if(e!=t){for(let n=e;n<t;n++)this.top.children[n].destroy();this.top.children.splice(e,t-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,t,n){let r=0,i=this.stack.length>>1,a=Math.min(i,e.length);for(;r<a&&(r==i-1?this.top:this.stack[r+1<<1]).matchesMark(e[r])&&!1!==e[r].type.spec.spanning;)r++;for(;r<i;)this.destroyRest(),this.top.dirty=0,this.index=this.stack.pop(),this.top=this.stack.pop(),i--;for(;i<e.length;){this.stack.push(this.top,this.index+1);let r=-1;for(let t=this.index;t<Math.min(this.index+3,this.top.children.length);t++){let n=this.top.children[t];if(n.matchesMark(e[i])&&!this.isLocked(n.dom)){r=t;break}}if(r>-1)r>this.index&&(this.changed=!0,this.destroyBetween(this.index,r)),this.top=this.top.children[this.index];else{let r=rr.create(this.top,e[i],t,n);this.top.children.splice(this.index,0,r),this.top=r,this.changed=!0}this.index=0,i++}}findNodeMatch(e,t,n,r){let i=-1,a;if(r>=this.preMatch.index&&(a=this.preMatch.matches[r-this.preMatch.index]).parent==this.top&&a.matchesNode(e,t,n))i=this.top.children.indexOf(a,this.index);else for(let r=this.index,a=Math.min(this.top.children.length,r+5);r<a;r++){let a=this.top.children[r];if(a.matchesNode(e,t,n)&&!this.preMatch.matched.has(a)){i=r;break}}return!(i<0)&&(this.destroyBetween(this.index,i),this.index++,!0)}updateNodeAt(e,t,n,r,i){let a=this.top.children[r];return 3==a.dirty&&a.dom==a.contentDOM&&(a.dirty=2),!!a.update(e,t,n,i)&&(this.destroyBetween(this.index,r),this.index++,!0)}findIndexWithChild(e){for(;;){let t=e.parentNode;if(!t)return -1;if(t==this.top.contentDOM){let t=e.pmViewDesc;if(t){for(let e=this.index;e<this.top.children.length;e++)if(this.top.children[e]==t)return e}return -1}e=t}}updateNextNode(e,t,n,r,i,a){for(let s=this.index;s<this.top.children.length;s++){let o=this.top.children[s];if(o instanceof ri){let l=this.preMatch.matched.get(o);if(null!=l&&l!=i)return!1;let c=o.dom,u,d=this.isLocked(c)&&!(e.isText&&o.node&&o.node.isText&&o.nodeDOM.nodeValue==e.text&&3!=o.dirty&&rf(t,o.outerDeco));if(!d&&o.update(e,t,n,r))return this.destroyBetween(this.index,s),o.dom!=c&&(this.changed=!0),this.index++,!0;if(!d&&(u=this.recreateWrapper(o,e,t,n,r,a)))return this.destroyBetween(this.index,s),this.top.children[this.index]=u,u.contentDOM&&(u.dirty=2,u.updateChildren(r,a+1),u.dirty=0),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,t,n,r,i,a){if(e.dirty||t.isAtom||!e.children.length||!e.node.content.eq(t.content)||!rf(n,e.outerDeco)||!r.eq(e.innerDeco))return null;let s=ri.create(this.top,t,n,r,i,a);if(s.contentDOM)for(let t of(s.children=e.children,e.children=[],s.children))t.parent=s;return e.destroy(),s}addNode(e,t,n,r,i){let a=ri.create(this.top,e,t,n,r,i);a.contentDOM&&a.updateChildren(r,i+1),this.top.children.splice(this.index++,0,a),this.changed=!0}placeWidget(e,t,n){let r=this.index<this.top.children.length?this.top.children[this.index]:null;if(r&&r.matchesWidget(e)&&(e==r.widget||!r.widget.type.toDOM.parentNode))this.index++;else{let r=new rt(this.top,e,t,n);this.top.children.splice(this.index++,0,r),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],t=this.top;for(;e instanceof rr;)e=(t=e).children[t.children.length-1];(!e||!(e instanceof rs)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((nH||nj)&&e&&"false"==e.dom.contentEditable&&this.addHackNode("IMG",t),this.addHackNode("BR",this.top))}addHackNode(e,t){if(t==this.top&&this.index<t.children.length&&t.children[this.index].matchesHack(e))this.index++;else{let n=document.createElement(e);"IMG"==e&&(n.className="ProseMirror-separator",n.alt=""),"BR"==e&&(n.className="ProseMirror-trailingBreak");let r=new ro(this.top,[],n,null);t!=this.top?t.children.push(r):t.children.splice(this.index++,0,r),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||1==e.nodeType&&e.contains(this.lock.parentNode))}constructor(e,t,n){this.lock=t,this.view=n,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=function(e,t){let n=t,r=n.children.length,i=e.childCount,a=new Map,s=[];i:for(;i>0;){let o;for(;;)if(r){let e=n.children[r-1];if(e instanceof rr)n=e,r=e.children.length;else{o=e,r--;break}}else if(n==t)break i;else r=n.parent.children.indexOf(n),n=n.parent;let l=o.node;if(l){if(l!=e.child(i-1))break;--i,a.set(o,i),s.push(o)}}return{index:i,matched:a,matches:s.reverse()}}(e.node.content,e)}}function ry(e,t){return e.type.side-t.type.side}function rb(e,t,n,r,i){let a=[];for(let s=0,o=0;s<e.length;s++){let l=e[s],c=o,u=o+=l.size;c>=n||u<=t?a.push(l):(c<t&&a.push(l.slice(0,t-c,r)),i&&(a.push(i),i=void 0),u>n&&a.push(l.slice(n-c,l.size,r)))}return a}function rv(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=e.domSelectionRange(),r=e.state.doc;if(!n.focusNode)return null;let i=e.docView.nearestDesc(n.focusNode),a=i&&0==i.size,s=e.docView.posFromDOM(n.focusNode,n.focusOffset,1);if(s<0)return null;let o=r.resolve(s),l,c;if(nw(n)){for(l=s;i&&!i.node;)i=i.parent;let e=i.node;if(i&&e.isAtom&&t1.isSelectable(e)&&i.parent&&!(e.isInline&&function(e,t,n){for(let r=0==t,i=t==nT(e);r||i;){if(e==n)return!0;let t=ng(e);if(!(e=e.parentNode))return!1;r=r&&0==t,i=i&&t==nT(e)}}(n.focusNode,n.focusOffset,i.dom))){let e=i.posBefore;c=new t1(s==e?o:r.resolve(e))}}else{if(n instanceof e.dom.ownerDocument.defaultView.Selection&&n.rangeCount>1){let t=s,i=s;for(let r=0;r<n.rangeCount;r++){let a=n.getRangeAt(r);t=Math.min(t,e.docView.posFromDOM(a.startContainer,a.startOffset,1)),i=Math.max(i,e.docView.posFromDOM(a.endContainer,a.endOffset,-1))}if(t<0)return null;[l,s]=i==e.state.selection.anchor?[i,t]:[t,i],o=r.resolve(s)}else l=e.docView.posFromDOM(n.anchorNode,n.anchorOffset,1);if(l<0)return null}let u=r.resolve(l);if(!c){let n="pointer"==t||e.state.selection.head<o.pos&&!a?1:-1;c=rA(e,u,o,n)}return c}function rk(e){return e.editable?e.hasFocus():rI(e)&&document.activeElement&&document.activeElement.contains(e.dom)}function rx(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.state.selection;if(rw(e,n),rk(e)){if(!t&&e.input.mouseDown&&e.input.mouseDown.allowDefault&&nj){let t=e.domSelectionRange(),n=e.domObserver.currentSelection;if(t.anchorNode&&n.anchorNode&&nx(t.anchorNode,t.anchorOffset,n.anchorNode,n.anchorOffset)){e.input.mouseDown.delayedSelectionSync=!0,e.domObserver.setCurSelection();return}}if(e.domObserver.disconnectSelection(),e.cursorWrapper)!function(e){let t=e.domSelection();if(!t)return;let n=e.cursorWrapper.dom,r="IMG"==n.nodeName;r?t.collapse(n.parentNode,ng(n)+1):t.collapse(n,0),!r&&!e.state.selection.visible&&nR&&nP<=11&&(n.disabled=!0,n.disabled=!1)}(e);else{var r;let i,a,s,o,{anchor:l,head:c}=n,u,d;r_&&!(n instanceof tX)&&(n.$from.parent.inlineContent||(u=rE(e,n.from)),n.empty||n.$from.parent.inlineContent||(d=rE(e,n.to))),e.docView.setSelection(l,c,e,t),r_&&(u&&rS(u),d&&rS(d)),n.visible?e.dom.classList.remove("ProseMirror-hideselection"):(e.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&((i=(r=e).dom.ownerDocument).removeEventListener("selectionchange",r.input.hideSelectionGuard),s=(a=r.domSelectionRange()).anchorNode,o=a.anchorOffset,i.addEventListener("selectionchange",r.input.hideSelectionGuard=()=>{(a.anchorNode!=s||a.anchorOffset!=o)&&(i.removeEventListener("selectionchange",r.input.hideSelectionGuard),setTimeout(()=>{(!rk(r)||r.state.selection.visible)&&r.dom.classList.remove("ProseMirror-hideselection")},20))})))}e.domObserver.setCurSelection(),e.domObserver.connectSelection()}}let r_=nH||nj&&nB<63;function rE(e,t){let{node:n,offset:r}=e.docView.domFromPos(t,0),i=r<n.childNodes.length?n.childNodes[r]:null,a=r?n.childNodes[r-1]:null;if(nH&&i&&"false"==i.contentEditable)return rT(i);if((!i||"false"==i.contentEditable)&&(!a||"false"==a.contentEditable)){if(i)return rT(i);else if(a)return rT(a)}}function rT(e){return e.contentEditable="true",nH&&e.draggable&&(e.draggable=!1,e.wasDraggable=!0),e}function rS(e){e.contentEditable="false",e.wasDraggable&&(e.draggable=!0,e.wasDraggable=null)}function rw(e,t){if(t instanceof t1){let n=e.docView.descAt(t.from);n!=e.lastSelectedViewDesc&&(rC(e),n&&n.selectNode(),e.lastSelectedViewDesc=n)}else rC(e)}function rC(e){e.lastSelectedViewDesc&&(e.lastSelectedViewDesc.parent&&e.lastSelectedViewDesc.deselectNode(),e.lastSelectedViewDesc=void 0)}function rA(e,t,n,r){return e.someProp("createSelectionBetween",r=>r(e,t,n))||tX.between(t,n,r)}function rN(e){return(!e.editable||!!e.hasFocus())&&rI(e)}function rI(e){let t=e.domSelectionRange();if(!t.anchorNode)return!1;try{return e.dom.contains(3==t.anchorNode.nodeType?t.anchorNode.parentNode:t.anchorNode)&&(e.editable||e.dom.contains(3==t.focusNode.nodeType?t.focusNode.parentNode:t.focusNode))}catch(e){return!1}}function rD(e,t){let{$anchor:n,$head:r}=e.selection,i=t>0?n.max(r):n.min(r),a=i.parent.inlineContent?i.depth?e.doc.resolve(t>0?i.after():i.before()):null:i;return a&&tY.findFrom(a,t)}function rM(e,t){return e.dispatch(e.state.tr.setSelection(t).scrollIntoView()),!0}function rO(e,t,n){let r=e.state.selection;if(r instanceof tX){if(n.indexOf("s")>-1){let{$head:n}=r,i=n.textOffset?null:t<0?n.nodeBefore:n.nodeAfter;if(!i||i.isText||!i.isLeaf)return!1;let a=e.state.doc.resolve(n.pos+i.nodeSize*(t<0?-1:1));return rM(e,new tX(r.$anchor,a))}else if(!r.empty)return!1;else if(e.endOfTextblock(t>0?"forward":"backward")){let n=rD(e.state,t);return!!n&&n instanceof t1&&rM(e,n)}else if(!(nz&&n.indexOf("m")>-1)){let n=r.$head,i=n.textOffset?null:t<0?n.nodeBefore:n.nodeAfter,a;if(!i||i.isText)return!1;let s=t<0?n.pos-i.nodeSize:n.pos;return!!(i.isAtom||(a=e.docView.descAt(s))&&!a.contentDOM)&&(t1.isSelectable(i)?rM(e,new t1(t<0?e.state.doc.resolve(n.pos-i.nodeSize):n)):!!nq&&rM(e,new tX(e.state.doc.resolve(t<0?s:s+i.nodeSize))))}}else{if(r instanceof t1&&r.node.isInline)return rM(e,new tX(t>0?r.$to:r.$from));let n=rD(e.state,t);return!!n&&rM(e,n)}}function rR(e){return 3==e.nodeType?e.nodeValue.length:e.childNodes.length}function rP(e,t){let n=e.pmViewDesc;return n&&0==n.size&&(t<0||e.nextSibling||"BR"!=e.nodeName)}function rL(e,t){return t<0?function(e){let t=e.domSelectionRange(),n=t.focusNode,r=t.focusOffset;if(!n)return;let i,a,s=!1;for(nL&&1==n.nodeType&&r<rR(n)&&rP(n.childNodes[r],-1)&&(s=!0);;)if(r>0)if(1!=n.nodeType)break;else{let e=n.childNodes[r-1];if(rP(e,-1))i=n,a=--r;else if(3==e.nodeType)r=(n=e).nodeValue.length;else break}else if(rF(n))break;else{let t=n.previousSibling;for(;t&&rP(t,-1);)i=n.parentNode,a=ng(t),t=t.previousSibling;if(t)r=rR(n=t);else{if((n=n.parentNode)==e.dom)break;r=0}}s?rj(e,n,r):i&&rj(e,i,a)}(e):function(e){let t,n,r=e.domSelectionRange(),i=r.focusNode,a=r.focusOffset;if(!i)return;let s=rR(i);for(;;)if(a<s){if(1!=i.nodeType)break;if(rP(i.childNodes[a],1))t=i,n=++a;else break}else if(rF(i))break;else{let r=i.nextSibling;for(;r&&rP(r,1);)t=r.parentNode,n=ng(r)+1,r=r.nextSibling;if(r)a=0,s=rR(i=r);else{if((i=i.parentNode)==e.dom)break;a=s=0}}t&&rj(e,t,n)}(e)}function rF(e){let t=e.pmViewDesc;return t&&t.node&&t.node.isBlock}function rj(e,t,n){if(3!=t.nodeType){let e,r;(r=function(e,t){for(;e&&t==e.childNodes.length&&!nS(e);)t=ng(e)+1,e=e.parentNode;for(;e&&t<e.childNodes.length;){let n=e.childNodes[t];if(3==n.nodeType)return n;if(1==n.nodeType&&"false"==n.contentEditable)break;e=n,t=0}}(t,n))?(t=r,n=0):(e=function(e,t){for(;e&&!t&&!nS(e);)t=ng(e),e=e.parentNode;for(;e&&t;){let n=e.childNodes[t-1];if(3==n.nodeType)return n;if(1==n.nodeType&&"false"==n.contentEditable)break;t=(e=n).childNodes.length}}(t,n))&&(t=e,n=e.nodeValue.length)}let r=e.domSelection();if(!r)return;if(nw(r)){let e=document.createRange();e.setEnd(t,n),e.setStart(t,n),r.removeAllRanges(),r.addRange(e)}else r.extend&&r.extend(t,n);e.domObserver.setCurSelection();let{state:i}=e;setTimeout(()=>{e.state==i&&rx(e)},50)}function rB(e,t){let n=e.state.doc.resolve(t);if(!(nj||nV)&&n.parent.inlineContent){let r=e.coordsAtPos(t);if(t>n.start()){let n=e.coordsAtPos(t-1),i=(n.top+n.bottom)/2;if(i>r.top&&i<r.bottom&&Math.abs(n.left-r.left)>1)return n.left<r.left?"ltr":"rtl"}if(t<n.end()){let n=e.coordsAtPos(t+1),i=(n.top+n.bottom)/2;if(i>r.top&&i<r.bottom&&Math.abs(n.left-r.left)>1)return n.left>r.left?"ltr":"rtl"}}return"rtl"==getComputedStyle(e.dom).direction?"rtl":"ltr"}function rH(e,t,n){let r=e.state.selection;if(r instanceof tX&&!r.empty||n.indexOf("s")>-1||nz&&n.indexOf("m")>-1)return!1;let{$from:i,$to:a}=r;if(!i.parent.inlineContent||e.endOfTextblock(t<0?"up":"down")){let n=rD(e.state,t);if(n&&n instanceof t1)return rM(e,n)}if(!i.parent.inlineContent){let n=t<0?i:a,s=r instanceof t5?tY.near(n,t):tY.findFrom(n,t);return!!s&&rM(e,s)}return!1}function rU(e,t){if(!(e.state.selection instanceof tX))return!0;let{$head:n,$anchor:r,empty:i}=e.state.selection;if(!n.sameParent(r))return!0;if(!i)return!1;if(e.endOfTextblock(t>0?"forward":"backward"))return!0;let a=!n.textOffset&&(t<0?n.nodeBefore:n.nodeAfter);if(a&&!a.isText){let r=e.state.tr;return t<0?r.delete(n.pos-a.nodeSize,n.pos):r.delete(n.pos,n.pos+a.nodeSize),e.dispatch(r),!0}return!1}function rz(e,t,n){e.domObserver.stop(),t.contentEditable=n,e.domObserver.start()}function rV(e,t){e.someProp("transformCopied",n=>{t=n(t,e)});let n=[],{content:r,openStart:i,openEnd:a}=t;for(;i>1&&a>1&&1==r.childCount&&1==r.firstChild.childCount;){i--,a--;let e=r.firstChild;n.push(e.type.name,e.attrs!=e.type.defaultAttrs?e.attrs:null),r=e.content}let s=e.someProp("clipboardSerializer")||e9.fromSchema(e.state.schema),o=rJ(),l=o.createElement("div");l.appendChild(s.serializeFragment(r,{document:o}));let c=l.firstChild,u,d=0;for(;c&&1==c.nodeType&&(u=rY[c.nodeName.toLowerCase()]);){for(let e=u.length-1;e>=0;e--){let t=o.createElement(u[e]);for(;l.firstChild;)t.appendChild(l.firstChild);l.appendChild(t),d++}c=l.firstChild}return c&&1==c.nodeType&&c.setAttribute("data-pm-slice","".concat(i," ").concat(a).concat(d?" -".concat(d):""," ").concat(JSON.stringify(n))),{dom:l,text:e.someProp("clipboardTextSerializer",n=>n(t,e))||t.content.textBetween(0,t.content.size,"\n\n"),slice:t}}function rG(e,t,n,r,i){let a,s,o=i.parent.type.spec.code;if(!n&&!t)return null;let l=!!t&&(r||o||!n);if(l){if(e.someProp("transformPastedText",n=>{t=n(t,o||r,e)}),o)return s=new e_(eg.from(e.state.schema.text(t.replace(/\r\n?/g,"\n"))),0,0),e.someProp("transformPasted",t=>{s=t(s,e,!0)}),s;let n=e.someProp("clipboardTextParser",n=>n(t,i,r,e));if(n)s=n;else{let n=i.marks(),{schema:r}=e.state,s=e9.fromSchema(r);a=document.createElement("div"),t.split(/(?:\r\n?|\n)+/).forEach(e=>{let t=a.appendChild(document.createElement("p"));e&&t.appendChild(s.serializeNode(r.text(e,n)))})}}else e.someProp("transformPastedHTML",t=>{n=t(n,e)}),a=function(e){var t;let n,r=/^(\s*<meta [^>]*>)*/.exec(e);r&&(e=e.slice(r[0].length));let i=rJ().createElement("div"),a=/<([a-z][^>\s]+)/i.exec(e),s;if((s=a&&rY[a[1].toLowerCase()])&&(e=s.map(e=>"<"+e+">").join("")+e+s.map(e=>"</"+e+">").reverse().join("")),i.innerHTML=(t=e,(n=window.trustedTypes)?(rQ||(rQ=n.defaultPolicy||n.createPolicy("ProseMirrorClipboard",{createHTML:e=>e})),rQ.createHTML(t)):t),s)for(let e=0;e<s.length;e++)i=i.querySelector(s[e])||i;return i}(n),nq&&function(e){let t=e.querySelectorAll(nj?"span:not([class]):not([style])":"span.Apple-converted-space");for(let n=0;n<t.length;n++){let r=t[n];1==r.childNodes.length&&""==r.textContent&&r.parentNode&&r.parentNode.replaceChild(e.ownerDocument.createTextNode(" "),r)}}(a);let c=a&&a.querySelector("[data-pm-slice]"),u=c&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(c.getAttribute("data-pm-slice")||"");if(u&&u[3])for(let e=+u[3];e>0;e--){let e=a.firstChild;for(;e&&1!=e.nodeType;)e=e.nextSibling;if(!e)break;a=e}if(s||(s=(e.someProp("clipboardParser")||e.someProp("domParser")||eQ.fromSchema(e.state.schema)).parseSlice(a,{preserveWhitespace:!!(l||u),context:i,ruleFromNode:e=>"BR"!=e.nodeName||e.nextSibling||!e.parentNode||rq.test(e.parentNode.nodeName)?null:{ignore:!0}})),u)s=function(e,t){if(!e.size)return e;let n=e.content.firstChild.type.schema,r;try{r=JSON.parse(t)}catch(t){return e}let{content:i,openStart:a,openEnd:s}=e;for(let e=r.length-2;e>=0;e-=2){let t=n.nodes[r[e]];if(!t||t.hasRequiredAttrs())break;i=eg.from(t.create(r[e+1],i)),a++,s++}return new e_(i,a,s)}(rW(s,+u[1],+u[2]),u[4]);else if((s=e_.maxOpen(function(e,t){if(e.childCount<2)return e;for(let n=t.depth;n>=0;n--){let r=t.node(n).contentMatchAt(t.index(n)),i,a=[];if(e.forEach(e=>{if(!a)return;let t=r.findWrapping(e.type),n;if(!t)return a=null;if(n=a.length&&i.length&&function e(t,n,r,i,a){if(a<t.length&&a<n.length&&t[a]==n[a]){let s=e(t,n,r,i.lastChild,a+1);if(s)return i.copy(i.content.replaceChild(i.childCount-1,s));if(i.contentMatchAt(i.childCount).matchType(a==t.length-1?r.type:t[a+1]))return i.copy(i.content.append(eg.from(rZ(r,t,a+1))))}}(t,i,e,a[a.length-1],0))a[a.length-1]=n;else{a.length&&(a[a.length-1]=function e(t,n){if(0==n)return t;let r=t.content.replaceChild(t.childCount-1,e(t.lastChild,n-1)),i=t.contentMatchAt(t.childCount).fillBefore(eg.empty,!0);return t.copy(r.append(i))}(a[a.length-1],i.length));let n=rZ(e,t);a.push(n),r=r.matchType(n.type),i=t}}),a)return eg.from(a)}return e}(s.content,i),!0)).openStart||s.openEnd){let e=0,t=0;for(let t=s.content.firstChild;e<s.openStart&&!t.type.spec.isolating;e++,t=t.firstChild);for(let e=s.content.lastChild;t<s.openEnd&&!e.type.spec.isolating;t++,e=e.lastChild);s=rW(s,e,t)}return e.someProp("transformPasted",t=>{s=t(s,e,l)}),s}let rq=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function rZ(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;for(let r=t.length-1;r>=n;r--)e=t[r].create(null,eg.from(e));return e}function r$(e,t,n,r,i,a){let s=t<0?e.firstChild:e.lastChild,o=s.content;return e.childCount>1&&(a=0),i<r-1&&(o=r$(o,t,n,r,i+1,a)),i>=n&&(o=t<0?s.contentMatchAt(0).fillBefore(o,a<=i).append(o):o.append(s.contentMatchAt(s.childCount).fillBefore(eg.empty,!0))),e.replaceChild(t<0?0:e.childCount-1,s.copy(o))}function rW(e,t,n){return t<e.openStart&&(e=new e_(r$(e.content,-1,t,e.openStart,0,e.openEnd),t,e.openEnd)),n<e.openEnd&&(e=new e_(r$(e.content,1,n,e.openEnd,0,0),e.openStart,n)),e}let rY={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]},rK=null;function rJ(){return rK||(rK=document.implementation.createHTMLDocument("title"))}let rQ=null,rX={},r0={},r1={touchstart:!0,touchmove:!0};class r2{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:"",button:0},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function r5(e,t){e.input.lastSelectionOrigin=t,e.input.lastSelectionTime=Date.now()}function r3(e){e.someProp("handleDOMEvents",t=>{for(let n in t)e.input.eventHandlers[n]||e.dom.addEventListener(n,e.input.eventHandlers[n]=t=>r4(e,t))})}function r4(e,t){return e.someProp("handleDOMEvents",n=>{let r=n[t.type];return!!r&&(r(e,t)||t.defaultPrevented)})}function r6(e){return{left:e.clientX,top:e.clientY}}function r9(e,t,n,r,i){if(-1==r)return!1;let a=e.state.doc.resolve(r);for(let r=a.depth+1;r>0;r--)if(e.someProp(t,t=>r>a.depth?t(e,n,a.nodeAfter,a.before(r),i,!0):t(e,n,a.node(r),a.before(r),i,!1)))return!0;return!1}function r8(e,t,n){if(e.focused||e.focus(),e.state.selection.eq(t))return;let r=e.state.tr.setSelection(t);"pointer"==n&&r.setMeta("pointer",!0),e.dispatch(r)}r0.keydown=(e,t)=>{if((e.input.shiftKey=16==t.keyCode||t.shiftKey,!it(e,t))&&(e.input.lastKeyCode=t.keyCode,e.input.lastKeyCodeTime=Date.now(),!nG||!nj||13!=t.keyCode))if(229!=t.keyCode&&e.domObserver.forceFlush(),!nU||13!=t.keyCode||t.ctrlKey||t.altKey||t.metaKey)e.someProp("handleKeyDown",n=>n(e,t))||function(e,t){let n,r=t.keyCode,i=(n="",t.ctrlKey&&(n+="c"),t.metaKey&&(n+="m"),t.altKey&&(n+="a"),t.shiftKey&&(n+="s"),n);if(8==r||nz&&72==r&&"c"==i)return rU(e,-1)||rL(e,-1);if(46==r&&!t.shiftKey||nz&&68==r&&"c"==i)return rU(e,1)||rL(e,1);if(13==r||27==r)return!0;if(37==r||nz&&66==r&&"c"==i){let t=37==r?"ltr"==rB(e,e.state.selection.from)?-1:1:-1;return rO(e,t,i)||rL(e,t)}if(39==r||nz&&70==r&&"c"==i){let t=39==r?"ltr"==rB(e,e.state.selection.from)?1:-1:1;return rO(e,t,i)||rL(e,t)}else if(38==r||nz&&80==r&&"c"==i)return rH(e,-1,i)||rL(e,-1);else if(40==r||nz&&78==r&&"c"==i)return function(e){if(!nH||e.state.selection.$head.parentOffset>0)return!1;let{focusNode:t,focusOffset:n}=e.domSelectionRange();if(t&&1==t.nodeType&&0==n&&t.firstChild&&"false"==t.firstChild.contentEditable){let n=t.firstChild;rz(e,n,"true"),setTimeout(()=>rz(e,n,"false"),20)}return!1}(e)||rH(e,1,i)||rL(e,1);else if(i==(nz?"m":"c")&&(66==r||73==r||89==r||90==r))return!0;return!1}(e,t)?t.preventDefault():r5(e,"key");else{let t=Date.now();e.input.lastIOSEnter=t,e.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{e.input.lastIOSEnter==t&&(e.someProp("handleKeyDown",t=>t(e,nC(13,"Enter"))),e.input.lastIOSEnter=0)},200)}},r0.keyup=(e,t)=>{16==t.keyCode&&(e.input.shiftKey=!1)},r0.keypress=(e,t)=>{if(it(e,t)||!t.charCode||t.ctrlKey&&!t.altKey||nz&&t.metaKey)return;if(e.someProp("handleKeyPress",n=>n(e,t)))return void t.preventDefault();let n=e.state.selection;if(!(n instanceof tX)||!n.$from.sameParent(n.$to)){let r=String.fromCharCode(t.charCode),i=()=>e.state.tr.insertText(r).scrollIntoView();/[\r\n]/.test(r)||e.someProp("handleTextInput",t=>t(e,n.$from.pos,n.$to.pos,r,i))||e.dispatch(i()),t.preventDefault()}};let r7=nz?"metaKey":"ctrlKey";rX.mousedown=(e,t)=>{e.input.shiftKey=t.shiftKey;let n=is(e),r=Date.now(),i="singleClick";r-e.input.lastClick.time<500&&function(e,t){let n=t.x-e.clientX,r=t.y-e.clientY;return n*n+r*r<100}(t,e.input.lastClick)&&!t[r7]&&e.input.lastClick.button==t.button&&("singleClick"==e.input.lastClick.type?i="doubleClick":"doubleClick"==e.input.lastClick.type&&(i="tripleClick")),e.input.lastClick={time:r,x:t.clientX,y:t.clientY,type:i,button:t.button};let a=e.posAtCoords(r6(t));a&&("singleClick"==i?(e.input.mouseDown&&e.input.mouseDown.done(),e.input.mouseDown=new ie(e,a,t,!!n)):("doubleClick"==i?function(e,t,n,r){return r9(e,"handleDoubleClickOn",t,n,r)||e.someProp("handleDoubleClick",n=>n(e,t,r))}:function(e,t,n,r){return r9(e,"handleTripleClickOn",t,n,r)||e.someProp("handleTripleClick",n=>n(e,t,r))||function(e,t,n){if(0!=n.button)return!1;let r=e.state.doc;if(-1==t)return!!r.inlineContent&&(r8(e,tX.create(r,0,r.content.size),"pointer"),!0);let i=r.resolve(t);for(let t=i.depth+1;t>0;t--){let n=t>i.depth?i.nodeAfter:i.node(t),a=i.before(t);if(n.inlineContent)r8(e,tX.create(r,a+1,a+1+n.content.size),"pointer");else{if(!t1.isSelectable(n))continue;r8(e,t1.create(r,a),"pointer")}return!0}}(e,n,r)})(e,a.pos,a.inside,t)?t.preventDefault():r5(e,"pointer"))};class ie{done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>rx(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let t=this.pos;if(this.view.state.doc!=this.startDoc&&(t=this.view.posAtCoords(r6(e))),this.updateAllowDefault(e),this.allowDefault||!t)r5(this.view,"pointer");else{var n,r,i,a;(n=this.view,r=t.pos,i=t.inside,a=this.selectNode,r9(n,"handleClickOn",r,i,e)||n.someProp("handleClick",t=>t(n,r,e))||(a?function(e,t){if(-1==t)return!1;let n=e.state.selection,r,i;n instanceof t1&&(r=n.node);let a=e.state.doc.resolve(t);for(let e=a.depth+1;e>0;e--){let t=e>a.depth?a.nodeAfter:a.node(e);if(t1.isSelectable(t)){i=r&&n.$from.depth>0&&e>=n.$from.depth&&a.before(n.$from.depth+1)==n.$from.pos?a.before(n.$from.depth):a.before(e);break}}return null!=i&&(r8(e,t1.create(e.state.doc,i),"pointer"),!0)}(n,i):function(e,t){if(-1==t)return!1;let n=e.state.doc.resolve(t),r=n.nodeAfter;return!!(r&&r.isAtom&&t1.isSelectable(r))&&(r8(e,new t1(n),"pointer"),!0)}(n,i)))?e.preventDefault():0==e.button&&(this.flushed||nH&&this.mightDrag&&!this.mightDrag.node.isAtom||nj&&!this.view.state.selection.visible&&2>=Math.min(Math.abs(t.pos-this.view.state.selection.from),Math.abs(t.pos-this.view.state.selection.to)))?(r8(this.view,tY.near(this.view.state.doc.resolve(t.pos)),"pointer"),e.preventDefault()):r5(this.view,"pointer")}}move(e){this.updateAllowDefault(e),r5(this.view,"pointer"),0==e.buttons&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}constructor(e,t,n,r){let i,a;if(this.view=e,this.pos=t,this.event=n,this.flushed=r,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!n[r7],this.allowDefault=n.shiftKey,t.inside>-1)i=e.state.doc.nodeAt(t.inside),a=t.inside;else{let n=e.state.doc.resolve(t.pos);i=n.parent,a=n.depth?n.before():0}let s=r?null:n.target,o=s?e.docView.nearestDesc(s,!0):null;this.target=o&&1==o.nodeDOM.nodeType?o.nodeDOM:null;let{selection:l}=e.state;(0==n.button&&i.type.spec.draggable&&!1!==i.type.spec.selectable||l instanceof t1&&l.from<=a&&l.to>a)&&(this.mightDrag={node:i,pos:a,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&nL&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),r5(e,"pointer")}}function it(e,t){return!!e.composing||!!(nH&&500>Math.abs(t.timeStamp-e.input.compositionEndedAt))&&(e.input.compositionEndedAt=-2e8,!0)}rX.touchstart=e=>{e.input.lastTouch=Date.now(),is(e),r5(e,"pointer")},rX.touchmove=e=>{e.input.lastTouch=Date.now(),r5(e,"pointer")},rX.contextmenu=e=>is(e);let ir=nG?5e3:-1;function ii(e,t){clearTimeout(e.input.composingTimeout),t>-1&&(e.input.composingTimeout=setTimeout(()=>is(e),t))}function ia(e){let t;for(e.composing&&(e.input.composing=!1,e.input.compositionEndedAt=((t=document.createEvent("Event")).initEvent("event",!0,!0),t.timeStamp));e.input.compositionNodes.length>0;)e.input.compositionNodes.pop().markParentsDirty()}function is(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!nG||!(e.domObserver.flushingSoon>=0)){if(e.domObserver.forceFlush(),ia(e),t||e.docView&&e.docView.dirty){let n=rv(e),r=e.state.selection;return n&&!n.eq(r)?e.dispatch(e.state.tr.setSelection(n)):(e.markCursor||t)&&!r.$from.node(r.$from.sharedDepth(r.to)).inlineContent?e.dispatch(e.state.tr.deleteSelection()):e.updateState(e.state),!0}return!1}}r0.compositionstart=r0.compositionupdate=e=>{if(!e.composing){e.domObserver.flush();let{state:t}=e,n=t.selection.$to;if(t.selection instanceof tX&&(t.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some(e=>!1===e.type.spec.inclusive)))e.markCursor=e.state.storedMarks||n.marks(),is(e,!0),e.markCursor=null;else if(is(e,!t.selection.empty),nL&&t.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length){let t=e.domSelectionRange();for(let n=t.focusNode,r=t.focusOffset;n&&1==n.nodeType&&0!=r;){let t=r<0?n.lastChild:n.childNodes[r-1];if(!t)break;if(3==t.nodeType){let n=e.domSelection();n&&n.collapse(t,t.nodeValue.length);break}n=t,r=-1}}e.input.composing=!0}ii(e,ir)},r0.compositionend=(e,t)=>{e.composing&&(e.input.composing=!1,e.input.compositionEndedAt=t.timeStamp,e.input.compositionPendingChanges=e.domObserver.pendingRecords().length?e.input.compositionID:0,e.input.compositionNode=null,e.input.compositionPendingChanges&&Promise.resolve().then(()=>e.domObserver.flush()),e.input.compositionID++,ii(e,20))};let io=nR&&nP<15||nU&&nZ<604;function il(e,t,n,r,i){let a=rG(e,t,n,r,e.state.selection.$from);if(e.someProp("handlePaste",t=>t(e,i,a||e_.empty)))return!0;if(!a)return!1;let s=0==a.openStart&&0==a.openEnd&&1==a.content.childCount?a.content.firstChild:null,o=s?e.state.tr.replaceSelectionWith(s,r):e.state.tr.replaceSelection(a);return e.dispatch(o.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function ic(e){let t=e.getData("text/plain")||e.getData("Text");if(t)return t;let n=e.getData("text/uri-list");return n?n.replace(/\r?\n/g," "):""}rX.copy=r0.cut=(e,t)=>{let n=e.state.selection,r="cut"==t.type;if(n.empty)return;let i=io?null:t.clipboardData,{dom:a,text:s}=rV(e,n.content());i?(t.preventDefault(),i.clearData(),i.setData("text/html",a.innerHTML),i.setData("text/plain",s)):function(e,t){if(!e.dom.parentNode)return;let n=e.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(t),n.style.cssText="position: fixed; left: -10000px; top: 10px";let r=getSelection(),i=document.createRange();i.selectNodeContents(t),e.dom.blur(),r.removeAllRanges(),r.addRange(i),setTimeout(()=>{n.parentNode&&n.parentNode.removeChild(n),e.focus()},50)}(e,a),r&&e.dispatch(e.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))},r0.paste=(e,t)=>{if(e.composing&&!nG)return;let n=io?null:t.clipboardData,r=e.input.shiftKey&&45!=e.input.lastKeyCode;n&&il(e,ic(n),n.getData("text/html"),r,t)?t.preventDefault():function(e,t){if(!e.dom.parentNode)return;let n=e.input.shiftKey||e.state.selection.$from.parent.type.spec.code,r=e.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus();let i=e.input.shiftKey&&45!=e.input.lastKeyCode;setTimeout(()=>{e.focus(),r.parentNode&&r.parentNode.removeChild(r),n?il(e,r.value,null,i,t):il(e,r.textContent,r.innerHTML,i,t)},50)}(e,t)};class iu{constructor(e,t,n){this.slice=e,this.move=t,this.node=n}}let id=nz?"altKey":"ctrlKey";function ih(e,t){let n=e.someProp("dragCopies",e=>!e(t));return null!=n?n:!t[id]}for(let e in rX.dragstart=(e,t)=>{let n,r=e.input.mouseDown;if(r&&r.done(),!t.dataTransfer)return;let i=e.state.selection,a=i.empty?null:e.posAtCoords(r6(t));if(a&&a.pos>=i.from&&a.pos<=(i instanceof t1?i.to-1:i.to));else if(r&&r.mightDrag)n=t1.create(e.state.doc,r.mightDrag.pos);else if(t.target&&1==t.target.nodeType){let r=e.docView.nearestDesc(t.target,!0);r&&r.node.type.spec.draggable&&r!=e.docView&&(n=t1.create(e.state.doc,r.posBefore))}let s=(n||e.state.selection).content(),{dom:o,text:l,slice:c}=rV(e,s);t.dataTransfer.files.length&&nj&&!(nB>120)||t.dataTransfer.clearData(),t.dataTransfer.setData(io?"Text":"text/html",o.innerHTML),t.dataTransfer.effectAllowed="copyMove",io||t.dataTransfer.setData("text/plain",l),e.dragging=new iu(c,ih(e,t),n)},rX.dragend=e=>{let t=e.dragging;window.setTimeout(()=>{e.dragging==t&&(e.dragging=null)},50)},r0.dragover=r0.dragenter=(e,t)=>t.preventDefault(),r0.drop=(e,t)=>{let n=e.dragging;if(e.dragging=null,!t.dataTransfer)return;let r=e.posAtCoords(r6(t));if(!r)return;let i=e.state.doc.resolve(r.pos),a=n&&n.slice;a?e.someProp("transformPasted",t=>{a=t(a,e,!1)}):a=rG(e,ic(t.dataTransfer),io?null:t.dataTransfer.getData("text/html"),!1,i);let s=!!(n&&ih(e,t));if(e.someProp("handleDrop",n=>n(e,t,a||e_.empty,s)))return void t.preventDefault();if(!a)return;t.preventDefault();let o=a?tP(e.state.doc,i.pos,a):i.pos;null==o&&(o=i.pos);let l=e.state.tr;if(s){let{node:e}=n;e?e.replace(l):l.deleteSelection()}let c=l.mapping.map(o),u=0==a.openStart&&0==a.openEnd&&1==a.content.childCount,d=l.doc;if(u?l.replaceRangeWith(c,c,a.content.firstChild):l.replaceRange(c,c,a),l.doc.eq(d))return;let h=l.doc.resolve(c);if(u&&t1.isSelectable(a.content.firstChild)&&h.nodeAfter&&h.nodeAfter.sameMarkup(a.content.firstChild))l.setSelection(new t1(h));else{let t=l.mapping.map(o);l.mapping.maps[l.mapping.maps.length-1].forEach((e,n,r,i)=>t=i),l.setSelection(rA(e,h,l.doc.resolve(t)))}e.focus(),e.dispatch(l.setMeta("uiEvent","drop"))},rX.focus=e=>{e.input.lastFocus=Date.now(),e.focused||(e.domObserver.stop(),e.dom.classList.add("ProseMirror-focused"),e.domObserver.start(),e.focused=!0,setTimeout(()=>{e.docView&&e.hasFocus()&&!e.domObserver.currentSelection.eq(e.domSelectionRange())&&rx(e)},20))},rX.blur=(e,t)=>{e.focused&&(e.domObserver.stop(),e.dom.classList.remove("ProseMirror-focused"),e.domObserver.start(),t.relatedTarget&&e.dom.contains(t.relatedTarget)&&e.domObserver.currentSelection.clear(),e.focused=!1)},rX.beforeinput=(e,t)=>{if(nj&&nG&&"deleteContentBackward"==t.inputType){e.domObserver.flushSoon();let{domChangeCount:t}=e.input;setTimeout(()=>{if(e.input.domChangeCount!=t||(e.dom.blur(),e.focus(),e.someProp("handleKeyDown",t=>t(e,nC(8,"Backspace")))))return;let{$cursor:n}=e.state.selection;n&&n.pos>0&&e.dispatch(e.state.tr.delete(n.pos-1,n.pos).scrollIntoView())},50)}},r0)rX[e]=r0[e];function ip(e,t){if(e==t)return!0;for(let n in e)if(e[n]!==t[n])return!1;for(let n in t)if(!(n in e))return!1;return!0}class im{map(e,t,n,r){let{pos:i,deleted:a}=e.mapResult(t.from+r,this.side<0?-1:1);return a?null:new ib(i-n,i-n,this)}valid(){return!0}eq(e){return this==e||e instanceof im&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&ip(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}constructor(e,t){this.toDOM=e,this.spec=t||ik,this.side=this.spec.side||0}}class ig{map(e,t,n,r){let i=e.map(t.from+r,this.spec.inclusiveStart?-1:1)-n,a=e.map(t.to+r,this.spec.inclusiveEnd?1:-1)-n;return i>=a?null:new ib(i,a,this)}valid(e,t){return t.from<t.to}eq(e){return this==e||e instanceof ig&&ip(this.attrs,e.attrs)&&ip(this.spec,e.spec)}static is(e){return e.type instanceof ig}destroy(){}constructor(e,t){this.attrs=e,this.spec=t||ik}}class iy{map(e,t,n,r){let i=e.mapResult(t.from+r,1);if(i.deleted)return null;let a=e.mapResult(t.to+r,-1);return a.deleted||a.pos<=i.pos?null:new ib(i.pos-n,a.pos-n,this)}valid(e,t){let{index:n,offset:r}=e.content.findIndex(t.from),i;return r==t.from&&!(i=e.child(n)).isText&&r+i.nodeSize==t.to}eq(e){return this==e||e instanceof iy&&ip(this.attrs,e.attrs)&&ip(this.spec,e.spec)}destroy(){}constructor(e,t){this.attrs=e,this.spec=t||ik}}class ib{copy(e,t){return new ib(e,t,this.type)}eq(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.type.eq(e.type)&&this.from+t==e.from&&this.to+t==e.to}map(e,t,n){return this.type.map(e,this,t,n)}static widget(e,t,n){return new ib(e,e,new im(t,n))}static inline(e,t,n,r){return new ib(e,t,new ig(n,r))}static node(e,t,n,r){return new ib(e,t,new iy(n,r))}get spec(){return this.type.spec}get inline(){return this.type instanceof ig}get widget(){return this.type instanceof im}constructor(e,t,n){this.from=e,this.to=t,this.type=n}}let iv=[],ik={};class ix{static create(e,t){return t.length?iC(t,e,0,ik):i_}find(e,t,n){let r=[];return this.findInner(null==e?0:e,null==t?1e9:t,r,0,n),r}findInner(e,t,n,r,i){for(let a=0;a<this.local.length;a++){let s=this.local[a];s.from<=t&&s.to>=e&&(!i||i(s.spec))&&n.push(s.copy(s.from+r,s.to+r))}for(let a=0;a<this.children.length;a+=3)if(this.children[a]<t&&this.children[a+1]>e){let s=this.children[a]+1;this.children[a+2].findInner(e-s,t-s,n,r+s,i)}}map(e,t,n){return this==i_||0==e.maps.length?this:this.mapInner(e,t,0,0,n||ik)}mapInner(e,t,n,r,i){let a;for(let s=0;s<this.local.length;s++){let o=this.local[s].map(e,n,r);o&&o.type.valid(t,o)?(a||(a=[])).push(o):i.onRemove&&i.onRemove(this.local[s].spec)}return this.children.length?function(e,t,n,r,i,a,s){let o=e.slice();for(let e=0,t=a;e<n.maps.length;e++){let r=0;n.maps[e].forEach((e,n,i,a)=>{let s=a-i-(n-e);for(let i=0;i<o.length;i+=3){let a=o[i+1];if(a<0||e>a+t-r)continue;let l=o[i]+t-r;n>=l?o[i+1]=e<=l?-2:-1:e>=t&&s&&(o[i]+=s,o[i+1]+=s)}r+=s}),t=n.maps[e].map(t,-1)}let l=!1;for(let t=0;t<o.length;t+=3)if(o[t+1]<0){if(-2==o[t+1]){l=!0,o[t+1]=-1;continue}let c=n.map(e[t]+a),u=c-i;if(u<0||u>=r.content.size){l=!0;continue}let d=n.map(e[t+1]+a,-1)-i,{index:h,offset:p}=r.content.findIndex(u),f=r.maybeChild(h);if(f&&p==u&&p+f.nodeSize==d){let r=o[t+2].mapInner(n,f,c+1,e[t]+a+1,s);r!=i_?(o[t]=u,o[t+1]=d,o[t+2]=r):(o[t+1]=-2,l=!0)}else l=!0}if(l){let l=iC(function(e,t,n,r,i,a,s){for(let o=0;o<e.length;o+=3)-1==e[o+1]&&function e(t,a){for(let e=0;e<t.local.length;e++){let o=t.local[e].map(r,i,a);o?n.push(o):s.onRemove&&s.onRemove(t.local[e].spec)}for(let n=0;n<t.children.length;n+=3)e(t.children[n+2],t.children[n]+a+1)}(e[o+2],t[o]+a+1);return n}(o,e,t,n,i,a,s),r,0,s);t=l.local;for(let e=0;e<o.length;e+=3)o[e+1]<0&&(o.splice(e,3),e-=3);for(let e=0,t=0;e<l.children.length;e+=3){let n=l.children[e];for(;t<o.length&&o[t]<n;)t+=3;o.splice(t,0,l.children[e],l.children[e+1],l.children[e+2])}}return new ix(t.sort(iA),o)}(this.children,a||[],e,t,n,r,i):a?new ix(a.sort(iA),iv):i_}add(e,t){return t.length?this==i_?ix.create(e,t):this.addInner(e,t,0):this}addInner(e,t,n){let r,i=0;e.forEach((e,a)=>{let s=a+n,o;if(o=iS(t,e,s)){for(r||(r=this.children.slice());i<r.length&&r[i]<a;)i+=3;r[i]==a?r[i+2]=r[i+2].addInner(e,o,s+1):r.splice(i,0,a,a+e.nodeSize,iC(o,e,s+1,ik)),i+=3}});let a=iT(i?iw(t):t,-n);for(let t=0;t<a.length;t++)a[t].type.valid(e,a[t])||a.splice(t--,1);return new ix(a.length?this.local.concat(a).sort(iA):this.local,r||this.children)}remove(e){return 0==e.length||this==i_?this:this.removeInner(e,0)}removeInner(e,t){let n=this.children,r=this.local;for(let r=0;r<n.length;r+=3){let i,a=n[r]+t,s=n[r+1]+t;for(let t=0,n;t<e.length;t++)(n=e[t])&&n.from>a&&n.to<s&&(e[t]=null,(i||(i=[])).push(n));if(!i)continue;n==this.children&&(n=this.children.slice());let o=n[r+2].removeInner(i,a+1);o!=i_?n[r+2]=o:(n.splice(r,3),r-=3)}if(r.length){for(let n=0,i;n<e.length;n++)if(i=e[n])for(let e=0;e<r.length;e++)r[e].eq(i,t)&&(r==this.local&&(r=this.local.slice()),r.splice(e--,1))}return n==this.children&&r==this.local?this:r.length||n.length?new ix(r,n):i_}forChild(e,t){let n,r;if(this==i_)return this;if(t.isLeaf)return ix.empty;for(let t=0;t<this.children.length;t+=3)if(this.children[t]>=e){this.children[t]==e&&(n=this.children[t+2]);break}let i=e+1,a=i+t.content.size;for(let e=0;e<this.local.length;e++){let t=this.local[e];if(t.from<a&&t.to>i&&t.type instanceof ig){let e=Math.max(i,t.from)-i,n=Math.min(a,t.to)-i;e<n&&(r||(r=[])).push(t.copy(e,n))}}if(r){let e=new ix(r.sort(iA),iv);return n?new iE([e,n]):e}return n||i_}eq(e){if(this==e)return!0;if(!(e instanceof ix)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let t=0;t<this.local.length;t++)if(!this.local[t].eq(e.local[t]))return!1;for(let t=0;t<this.children.length;t+=3)if(this.children[t]!=e.children[t]||this.children[t+1]!=e.children[t+1]||!this.children[t+2].eq(e.children[t+2]))return!1;return!0}locals(e){return iN(this.localsInner(e))}localsInner(e){if(this==i_)return iv;if(e.inlineContent||!this.local.some(ig.is))return this.local;let t=[];for(let e=0;e<this.local.length;e++)this.local[e].type instanceof ig||t.push(this.local[e]);return t}forEachSet(e){e(this)}constructor(e,t){this.local=e.length?e:iv,this.children=t.length?t:iv}}ix.empty=new ix([],[]),ix.removeOverlap=iN;let i_=ix.empty;class iE{map(e,t){let n=this.members.map(n=>n.map(e,t,ik));return iE.from(n)}forChild(e,t){if(t.isLeaf)return ix.empty;let n=[];for(let r=0;r<this.members.length;r++){let i=this.members[r].forChild(e,t);i!=i_&&(i instanceof iE?n=n.concat(i.members):n.push(i))}return iE.from(n)}eq(e){if(!(e instanceof iE)||e.members.length!=this.members.length)return!1;for(let t=0;t<this.members.length;t++)if(!this.members[t].eq(e.members[t]))return!1;return!0}locals(e){let t,n=!0;for(let r=0;r<this.members.length;r++){let i=this.members[r].localsInner(e);if(i.length)if(t){n&&(t=t.slice(),n=!1);for(let e=0;e<i.length;e++)t.push(i[e])}else t=i}return t?iN(n?t:t.sort(iA)):iv}static from(e){switch(e.length){case 0:return i_;case 1:return e[0];default:return new iE(e.every(e=>e instanceof ix)?e:e.reduce((e,t)=>e.concat(t instanceof ix?t:t.members),[]))}}forEachSet(e){for(let t=0;t<this.members.length;t++)this.members[t].forEachSet(e)}constructor(e){this.members=e}}function iT(e,t){if(!t||!e.length)return e;let n=[];for(let r=0;r<e.length;r++){let i=e[r];n.push(new ib(i.from+t,i.to+t,i.type))}return n}function iS(e,t,n){if(t.isLeaf)return null;let r=n+t.nodeSize,i=null;for(let t=0,a;t<e.length;t++)(a=e[t])&&a.from>n&&a.to<r&&((i||(i=[])).push(a),e[t]=null);return i}function iw(e){let t=[];for(let n=0;n<e.length;n++)null!=e[n]&&t.push(e[n]);return t}function iC(e,t,n,r){let i=[],a=!1;t.forEach((t,s)=>{let o=iS(e,t,s+n);if(o){a=!0;let e=iC(o,t,n+s+1,r);e!=i_&&i.push(s,s+t.nodeSize,e)}});let s=iT(a?iw(e):e,-n).sort(iA);for(let e=0;e<s.length;e++)s[e].type.valid(t,s[e])||(r.onRemove&&r.onRemove(s[e].spec),s.splice(e--,1));return s.length||i.length?new ix(s,i):i_}function iA(e,t){return e.from-t.from||e.to-t.to}function iN(e){let t=e;for(let n=0;n<t.length-1;n++){let r=t[n];if(r.from!=r.to)for(let i=n+1;i<t.length;i++){let a=t[i];if(a.from==r.from){a.to!=r.to&&(t==e&&(t=e.slice()),t[i]=a.copy(a.from,r.to),iI(t,i+1,a.copy(r.to,a.to)));continue}a.from<r.to&&(t==e&&(t=e.slice()),t[n]=r.copy(r.from,a.from),iI(t,i,r.copy(a.from,r.to)));break}}return t}function iI(e,t,n){for(;t<e.length&&iA(n,e[t])>0;)t++;e.splice(t,0,n)}function iD(e){let t=[];return e.someProp("decorations",n=>{let r=n(e.state);r&&r!=i_&&t.push(r)}),e.cursorWrapper&&t.push(ix.create(e.state.doc,[e.cursorWrapper.deco])),iE.from(t)}let iM={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},iO=nR&&nP<=11;class iR{set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}}class iP{flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,iM)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let t=0;t<e.length;t++)this.queue.push(e[t]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(rN(this.view)){if(this.suppressingSelectionUpdates)return rx(this.view);if(nR&&nP<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&nx(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let t=new Set,n;for(let n=e.focusNode;n;n=ny(n))t.add(n);for(let r=e.anchorNode;r;r=ny(r))if(t.has(r)){n=r;break}let r=n&&this.view.docView.nearestDesc(n);if(r&&r.ignoreMutation({type:"selection",target:3==n.nodeType?n.parentNode:n}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}flush(){var e;let{view:t}=this;if(!t.docView||this.flushingSoon>-1)return;let n=this.pendingRecords();n.length&&(this.queue=[]);let r=t.domSelectionRange(),i=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(r)&&rN(t)&&!this.ignoreSelectionChange(r),a=-1,s=-1,o=!1,l=[];if(t.editable)for(let e=0;e<n.length;e++){let t=this.registerMutation(n[e],l);t&&(a=a<0?t.from:Math.min(t.from,a),s=s<0?t.to:Math.max(t.to,s),t.typeOver&&(o=!0))}if(nL&&l.length){let e=l.filter(e=>"BR"==e.nodeName);if(2==e.length){let[t,n]=e;t.parentNode&&t.parentNode.parentNode==n.parentNode?n.remove():t.remove()}else{let{focusNode:n}=this.currentSelection;for(let r of e){let e=r.parentNode;e&&"LI"==e.nodeName&&(!n||function(e,t){for(let n=t.parentNode;n&&n!=e.dom;n=n.parentNode){let t=e.docView.nearestDesc(n,!0);if(t&&t.node.isBlock)return n}return null}(t,n)!=e)&&r.remove()}}}let c=null;a<0&&i&&t.input.lastFocus>Date.now()-200&&Math.max(t.input.lastTouch,t.input.lastClick.time)<Date.now()-300&&nw(r)&&(c=rv(t))&&c.eq(tY.near(t.state.doc.resolve(0),1))?(t.input.lastFocus=0,rx(t),this.currentSelection.set(r),t.scrollToSelection()):(a>-1||i)&&(a>-1&&(t.docView.markDirty(a,s),e=t,!iL.has(e)&&(iL.set(e,null),-1!==["normal","nowrap","pre-line"].indexOf(getComputedStyle(e.dom).whiteSpace))&&(e.requiresGeckoHackNode=nL,iF||(console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),iF=!0))),this.handleDOMChange(a,s,o,l),t.docView&&t.docView.dirty?t.updateState(t.state):this.currentSelection.eq(r)||rx(t),this.currentSelection.set(r))}registerMutation(e,t){if(t.indexOf(e.target)>-1)return null;let n=this.view.docView.nearestDesc(e.target);if("attributes"==e.type&&(n==this.view.docView||"contenteditable"==e.attributeName||"style"==e.attributeName&&!e.oldValue&&!e.target.getAttribute("style"))||!n||n.ignoreMutation(e))return null;if("childList"==e.type){for(let n=0;n<e.addedNodes.length;n++){let r=e.addedNodes[n];t.push(r),3==r.nodeType&&(this.lastChangedTextNode=r)}if(n.contentDOM&&n.contentDOM!=n.dom&&!n.contentDOM.contains(e.target))return{from:n.posBefore,to:n.posAfter};let r=e.previousSibling,i=e.nextSibling;if(nR&&nP<=11&&e.addedNodes.length)for(let t=0;t<e.addedNodes.length;t++){let{previousSibling:n,nextSibling:a}=e.addedNodes[t];(!n||0>Array.prototype.indexOf.call(e.addedNodes,n))&&(r=n),(!a||0>Array.prototype.indexOf.call(e.addedNodes,a))&&(i=a)}let a=r&&r.parentNode==e.target?ng(r)+1:0,s=n.localPosFromDOM(e.target,a,-1),o=i&&i.parentNode==e.target?ng(i):e.target.childNodes.length;return{from:s,to:n.localPosFromDOM(e.target,o,1)}}return"attributes"==e.type?{from:n.posAtStart-n.border,to:n.posAtEnd+n.border}:(this.lastChangedTextNode=e.target,{from:n.posAtStart,to:n.posAtEnd,typeOver:e.target.nodeValue==e.oldValue})}constructor(e,t){this.view=e,this.handleDOMChange=t,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new iR,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(e=>{for(let t=0;t<e.length;t++)this.queue.push(e[t]);nR&&nP<=11&&e.some(e=>"childList"==e.type&&e.removedNodes.length||"characterData"==e.type&&e.oldValue.length>e.target.nodeValue.length)?this.flushSoon():this.flush()}),iO&&(this.onCharData=e=>{this.queue.push({target:e.target,type:"characterData",oldValue:e.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}}let iL=new WeakMap,iF=!1;function ij(e,t){let n=t.startContainer,r=t.startOffset,i=t.endContainer,a=t.endOffset,s=e.domAtPos(e.state.selection.anchor);return nx(s.node,s.offset,i,a)&&([n,r,i,a]=[i,a,n,r]),{anchorNode:n,anchorOffset:r,focusNode:i,focusOffset:a}}function iB(e){let t=e.pmViewDesc;if(t)return t.parseRule();if("BR"==e.nodeName&&e.parentNode){if(nH&&/^(ul|ol)$/i.test(e.parentNode.nodeName)){let e=document.createElement("div");return e.appendChild(document.createElement("li")),{skip:e}}else if(e.parentNode.lastChild==e||nH&&/^(tr|table)$/i.test(e.parentNode.nodeName))return{ignore:!0}}else if("IMG"==e.nodeName&&e.getAttribute("mark-placeholder"))return{ignore:!0};return null}let iH=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|img|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function iU(e,t,n){return Math.max(n.anchor,n.head)>t.content.size?null:rA(e,t.resolve(n.anchor),t.resolve(n.head))}function iz(e,t,n){let r=e.depth,i=t?e.end():e.pos;for(;r>0&&(t||e.indexAfter(r)==e.node(r).childCount);)r--,i++,t=!1;if(n){let t=e.node(r).maybeChild(e.indexAfter(r));for(;t&&!t.isLeaf;)t=t.firstChild,i++}return i}function iV(e){if(2!=e.length)return!1;let t=e.charCodeAt(0),n=e.charCodeAt(1);return t>=56320&&t<=57343&&n>=55296&&n<=56319}class iG{get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;for(let t in this._props={},e)this._props[t]=e[t];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&r3(this);let t=this._props;this._props=e,e.plugins&&(e.plugins.forEach(iY),this.directPlugins=e.plugins),this.updateStateInner(e.state,t)}setProps(e){let t={};for(let e in this._props)t[e]=this._props[e];for(let n in t.state=this.state,e)t[n]=e[n];this.update(t)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,t){var n,r,i;let a=this.state,s=!1,o=!1;e.storedMarks&&this.composing&&(ia(this),o=!0),this.state=e;let l=a.plugins!=e.plugins||this._props.plugins!=t.plugins;if(l||this._props.plugins!=t.plugins||this._props.nodeViews!=t.nodeViews){let e=iW(this);(function(e,t){let n=0,r=0;for(let r in e){if(e[r]!=t[r])return!0;n++}for(let e in t)r++;return n!=r})(e,this.nodeViews)&&(this.nodeViews=e,s=!0)}(l||t.handleDOMEvents!=this._props.handleDOMEvents)&&r3(this),this.editable=i$(this),iZ(this);let c=iD(this),u=iq(this),d=a.plugins==e.plugins||a.doc.eq(e.doc)?e.scrollToSelection>a.scrollToSelection?"to selection":"preserve":"reset",h=s||!this.docView.matchesNode(e.doc,u,c);(h||!e.selection.eq(a.selection))&&(o=!0);let p="preserve"==d&&o&&null==this.dom.style.overflowAnchor&&function(e){let t,n,r=e.dom.getBoundingClientRect(),i=Math.max(0,r.top);for(let a=(r.left+r.right)/2,s=i+1;s<Math.min(innerHeight,r.bottom);s+=5){let r=e.root.elementFromPoint(a,s);if(!r||r==e.dom||!e.dom.contains(r))continue;let o=r.getBoundingClientRect();if(o.top>=i-20){t=r,n=o.top;break}}return{refDOM:t,refTop:n,stack:nY(e.dom)}}(this);if(o){let t,n,o;this.domObserver.stop();let l=h&&(nR||nj)&&!this.composing&&!a.selection.empty&&!e.selection.empty&&(r=a.selection,i=e.selection,o=Math.min(r.$anchor.sharedDepth(r.head),i.$anchor.sharedDepth(i.head)),r.$anchor.start(o)!=i.$anchor.start(o));if(h){let t=nj?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=function(e){let t=e.domSelectionRange();if(!t.focusNode)return null;let n=function(e,t){for(;;){if(3==e.nodeType&&t)return e;if(1==e.nodeType&&t>0){if("false"==e.contentEditable)return null;t=nT(e=e.childNodes[t-1])}else{if(!e.parentNode||nS(e))return null;t=ng(e),e=e.parentNode}}}(t.focusNode,t.focusOffset),r=function(e,t){for(;;){if(3==e.nodeType&&t<e.nodeValue.length)return e;if(1==e.nodeType&&t<e.childNodes.length){if("false"==e.contentEditable)return null;e=e.childNodes[t],t=0}else{if(!e.parentNode||nS(e))return null;t=ng(e)+1,e=e.parentNode}}}(t.focusNode,t.focusOffset);if(n&&r&&n!=r){let t=r.pmViewDesc,i=e.domObserver.lastChangedTextNode;if(n==i||r==i)return i;if(!t||!t.isText(r.nodeValue))return r;if(e.input.compositionNode==r){let e=n.pmViewDesc;if(!(!e||!e.isText(n.nodeValue)))return r}}return n||r}(this)),(s||!this.docView.update(e.doc,u,c,this))&&(this.docView.updateOuterDeco(u),this.docView.destroy(),this.docView=ra(e.doc,u,c,this.dom,this)),t&&!this.trackWrites&&(l=!0)}l||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&(t=this.docView.domFromPos(this.state.selection.anchor,0),n=this.domSelectionRange(),nx(t.node,t.offset,n.anchorNode,n.anchorOffset)))?rx(this,l):(rw(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(a),(null==(n=this.dragging)?void 0:n.node)&&!a.doc.eq(e.doc)&&this.updateDraggedNode(this.dragging,a),"reset"==d?this.dom.scrollTop=0:"to selection"==d?this.scrollToSelection():p&&function(e){let{refDOM:t,refTop:n,stack:r}=e,i=t?t.getBoundingClientRect().top:0;nK(r,0==i?0:i-n)}(p)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(e&&this.dom.contains(1==e.nodeType?e:e.parentNode))if(this.someProp("handleScrollToSelection",e=>e(this)));else if(this.state.selection instanceof t1){let t=this.docView.domAfterPos(this.state.selection.from);1==t.nodeType&&nW(this,t.getBoundingClientRect(),e)}else nW(this,this.coordsAtPos(this.state.selection.head,1),e)}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(e&&e.plugins==this.state.plugins&&this.directPlugins==this.prevDirectPlugins)for(let t=0;t<this.pluginViews.length;t++){let n=this.pluginViews[t];n.update&&n.update(this,e)}else{this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let e=0;e<this.directPlugins.length;e++){let t=this.directPlugins[e];t.spec.view&&this.pluginViews.push(t.spec.view(this))}for(let e=0;e<this.state.plugins.length;e++){let t=this.state.plugins[e];t.spec.view&&this.pluginViews.push(t.spec.view(this))}}}updateDraggedNode(e,t){let n=e.node,r=-1;if(this.state.doc.nodeAt(n.from)==n.node)r=n.from;else{let e=n.from+(this.state.doc.content.size-t.doc.content.size);(e>0&&this.state.doc.nodeAt(e))==n.node&&(r=e)}this.dragging=new iu(e.slice,e.move,r<0?void 0:t1.create(this.state.doc,r))}someProp(e,t){let n=this._props&&this._props[e],r;if(null!=n&&(r=t?t(n):n))return r;for(let n=0;n<this.directPlugins.length;n++){let i=this.directPlugins[n].props[e];if(null!=i&&(r=t?t(i):i))return r}let i=this.state.plugins;if(i)for(let n=0;n<i.length;n++){let a=i[n].props[e];if(null!=a&&(r=t?t(a):a))return r}}hasFocus(){if(nR){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if("false"==e.contentEditable)return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&function(e){if(e.setActive)return e.setActive();if(nJ)return e.focus(nJ);let t=nY(e);e.focus(null==nJ?{get preventScroll(){return nJ={preventScroll:!0},!0}}:void 0),nJ||(nJ=!1,nK(t,0))}(this.dom),rx(this),this.domObserver.start()}get root(){let e=this._root;if(null==e){for(let e=this.dom.parentNode;e;e=e.parentNode)if(9==e.nodeType||11==e.nodeType&&e.host)return e.getSelection||(Object.getPrototypeOf(e).getSelection=()=>e.ownerDocument.getSelection()),this._root=e}return e||document}updateRoot(){this._root=null}posAtCoords(e){return function(e,t){var n;let r,i,a=e.dom.ownerDocument,s,o=0,l=function(e,t,n){if(e.caretPositionFromPoint)try{let r=e.caretPositionFromPoint(t,n);if(r)return{node:r.offsetNode,offset:Math.min(nT(r.offsetNode),r.offset)}}catch(e){}if(e.caretRangeFromPoint){let r=e.caretRangeFromPoint(t,n);if(r)return{node:r.startContainer,offset:Math.min(nT(r.startContainer),r.startOffset)}}}(a,t.left,t.top);l&&({node:s,offset:o}=l);let c=(e.root.elementFromPoint?e.root:a).elementFromPoint(t.left,t.top);if(!c||!e.dom.contains(1!=c.nodeType?c.parentNode:c)){let n=e.dom.getBoundingClientRect();if(!nQ(t,n)||!(c=function e(t,n,r){let i=t.childNodes.length;if(i&&r.top<r.bottom)for(let a=Math.max(0,Math.min(i-1,Math.floor(i*(n.top-r.top)/(r.bottom-r.top))-2)),s=a;;){let r=t.childNodes[s];if(1==r.nodeType){let t=r.getClientRects();for(let i=0;i<t.length;i++){let a=t[i];if(nQ(n,a))return e(r,n,a)}}if((s=(s+1)%i)==a)break}return t}(e.dom,t,n)))return null}if(nH)for(let e=c;s&&e;e=ny(e))e.draggable&&(s=void 0);if(c=(r=(n=c).parentNode)&&/^li$/i.test(r.nodeName)&&t.left<n.getBoundingClientRect().left?r:n,s){let n;if(nL&&1==s.nodeType&&(o=Math.min(o,s.childNodes.length))<s.childNodes.length){let e=s.childNodes[o],n;"IMG"==e.nodeName&&(n=e.getBoundingClientRect()).right<=t.left&&n.bottom>t.top&&o++}nq&&o&&1==s.nodeType&&1==(n=s.childNodes[o-1]).nodeType&&"false"==n.contentEditable&&n.getBoundingClientRect().top>=t.top&&o--,s==e.dom&&o==s.childNodes.length-1&&1==s.lastChild.nodeType&&t.top>s.lastChild.getBoundingClientRect().bottom?i=e.state.doc.content.size:(0==o||1!=s.nodeType||"BR"!=s.childNodes[o-1].nodeName)&&(i=function(e,t,n,r){let i=-1;for(let n=t,a=!1;n!=e.dom;){let t=e.docView.nearestDesc(n,!0),s;if(!t)return null;if(1==t.dom.nodeType&&(t.node.isBlock&&t.parent||!t.contentDOM)&&((s=t.dom.getBoundingClientRect()).width||s.height)&&(t.node.isBlock&&t.parent&&!/^T(R|BODY|HEAD|FOOT)$/.test(t.dom.nodeName)&&(!a&&s.left>r.left||s.top>r.top?i=t.posBefore:(!a&&s.right<r.left||s.bottom<r.top)&&(i=t.posAfter),a=!0),!t.contentDOM&&i<0&&!t.node.isText))return(t.node.isBlock?r.top<(s.top+s.bottom)/2:r.left<(s.left+s.right)/2)?t.posBefore:t.posAfter;n=t.dom.parentNode}return i>-1?i:e.docView.posFromDOM(t,n,-1)}(e,s,o,t))}null==i&&(i=function(e,t,n){let{node:r,offset:i}=function e(t,n){let r,i,a,s=2e8,o,l=0,c=n.top,u=n.top;for(let e=t.firstChild,d=0;e;e=e.nextSibling,d++){let t;if(1==e.nodeType)t=e.getClientRects();else{if(3!=e.nodeType)continue;t=nv(e).getClientRects()}for(let h=0;h<t.length;h++){let p=t[h];if(p.top<=c&&p.bottom>=u){c=Math.max(p.bottom,c),u=Math.min(p.top,u);let t=p.left>n.left?p.left-n.left:p.right<n.left?n.left-p.right:0;if(t<s){a=e,s=t,o=t&&3==a.nodeType?{left:p.right<n.left?p.right:p.left,top:n.top}:n,1==e.nodeType&&t&&(l=d+ +(n.left>=(p.left+p.right)/2));continue}}else p.top>n.top&&!r&&p.left<=n.left&&p.right>=n.left&&(r=e,i={left:Math.max(p.left,Math.min(p.right,n.left)),top:p.top});!a&&(n.left>=p.right&&n.top>=p.top||n.left>=p.left&&n.top>=p.bottom)&&(l=d+1)}}return(!a&&r&&(a=r,o=i,s=0),a&&3==a.nodeType)?function(e,t){let n=e.nodeValue.length,r=document.createRange();for(let i=0;i<n;i++){r.setEnd(e,i+1),r.setStart(e,i);let n=n0(r,1);if(n.top!=n.bottom&&nQ(t,n))return{node:e,offset:i+ +(t.left>=(n.left+n.right)/2)}}return{node:e,offset:0}}(a,o):!a||s&&1==a.nodeType?{node:t,offset:l}:e(a,o)}(t,n),a=-1;if(1==r.nodeType&&!r.firstChild){let e=r.getBoundingClientRect();a=e.left!=e.right&&n.left>(e.left+e.right)/2?1:-1}return e.docView.posFromDOM(r,i,a)}(e,c,t));let u=e.docView.nearestDesc(c,!0);return{pos:i,inside:u?u.posAtStart-u.border:-1}}(this,e)}coordsAtPos(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return n2(this,e,t)}domAtPos(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.docView.domFromPos(e,t)}nodeDOM(e){let t=this.docView.descAt(e);return t?t.nodeDOM:null}posAtDOM(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1,r=this.docView.posFromDOM(e,t,n);if(null==r)throw RangeError("DOM position not inside the editor");return r}endOfTextblock(e,t){return function(e,t,n){let r,i;return n9==t&&n8==n?n7:(n9=t,n8=n,n7="up"==n||"down"==n?(r=t.selection,i="up"==n?r.$from:r.$to,n4(e,t,()=>{let{node:t}=e.docView.domFromPos(i.pos,"up"==n?-1:1);for(;;){let n=e.docView.nearestDesc(t,!0);if(!n)break;if(n.node.isBlock){t=n.contentDOM||n.dom;break}t=n.dom.parentNode}let r=n2(e,i.pos,1);for(let e=t.firstChild;e;e=e.nextSibling){let t;if(1==e.nodeType)t=e.getClientRects();else{if(3!=e.nodeType)continue;t=nv(e,0,e.nodeValue.length).getClientRects()}for(let e=0;e<t.length;e++){let i=t[e];if(i.bottom>i.top+1&&("up"==n?r.top-i.top>(i.bottom-r.top)*2:i.bottom-r.bottom>(r.bottom-i.top)*2))return!1}}return!0})):function(e,t,n){let{$head:r}=t.selection;if(!r.parent.isTextblock)return!1;let i=r.parentOffset,a=i==r.parent.content.size,s=e.domSelection();return s?n6.test(r.parent.textContent)&&s.modify?n4(e,t,()=>{let{focusNode:t,focusOffset:i,anchorNode:a,anchorOffset:o}=e.domSelectionRange(),l=s.caretBidiLevel;s.modify("move",n,"character");let c=r.depth?e.docView.domAfterPos(r.before()):e.dom,{focusNode:u,focusOffset:d}=e.domSelectionRange(),h=u&&!c.contains(1==u.nodeType?u:u.parentNode)||t==u&&i==d;try{s.collapse(a,o),t&&(t!=a||i!=o)&&s.extend&&s.extend(t,i)}catch(e){}return null!=l&&(s.caretBidiLevel=l),h}):"left"==n||"backward"==n?!i:a:r.pos==r.start()||r.pos==r.end()}(e,t,n))}(this,t||this.state,e)}pasteHTML(e,t){return il(this,"",e,!1,t||new ClipboardEvent("paste"))}pasteText(e,t){return il(this,e,null,!0,t||new ClipboardEvent("paste"))}serializeForClipboard(e){return rV(this,e)}destroy(){if(this.docView){for(let e in this.domObserver.stop(),this.input.eventHandlers)this.dom.removeEventListener(e,this.input.eventHandlers[e]);clearTimeout(this.input.composingTimeout),clearTimeout(this.input.lastIOSEnterFallbackTimeout),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],iD(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,nk()}}get isDestroyed(){return null==this.docView}dispatchEvent(e){!r4(this,e)&&rX[e.type]&&(this.editable||!(e.type in r0))&&rX[e.type](this,e)}domSelectionRange(){let e=this.domSelection();return e?nH&&11===this.root.nodeType&&function(e){let t=e.activeElement;for(;t&&t.shadowRoot;)t=t.shadowRoot.activeElement;return t}(this.dom.ownerDocument)==this.dom&&function(e,t){let n;if(t.getComposedRanges){let n=t.getComposedRanges(e.root)[0];if(n)return ij(e,n)}function r(e){e.preventDefault(),e.stopImmediatePropagation(),n=e.getTargetRanges()[0]}return e.dom.addEventListener("beforeinput",r,!0),document.execCommand("indent"),e.dom.removeEventListener("beforeinput",r,!0),n?ij(e,n):null}(this,e)||e:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}constructor(e,t){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new r2,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=t,this.state=t.state,this.directPlugins=t.plugins||[],this.directPlugins.forEach(iY),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):"function"==typeof e?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=i$(this),iZ(this),this.nodeViews=iW(this),this.docView=ra(this.state.doc,iq(this),iD(this),this.dom,this),this.domObserver=new iP(this,(e,t,n,r)=>(function(e,t,n,r,i){let a,s,o,l=e.input.compositionPendingChanges||(e.composing?e.input.compositionID:0);if(e.input.compositionPendingChanges=0,t<0){let t=e.input.lastSelectionTime>Date.now()-50?e.input.lastSelectionOrigin:null,n=rv(e,t);if(n&&!e.state.selection.eq(n)){if(nj&&nG&&13===e.input.lastKeyCode&&Date.now()-100<e.input.lastKeyCodeTime&&e.someProp("handleKeyDown",t=>t(e,nC(13,"Enter"))))return;let r=e.state.tr.setSelection(n);"pointer"==t?r.setMeta("pointer",!0):"key"==t&&r.scrollIntoView(),l&&r.setMeta("composition",l),e.dispatch(r)}return}let c=e.state.doc.resolve(t),u=c.sharedDepth(n);t=c.before(u+1),n=e.state.doc.resolve(n).after(u+1);let d=e.state.selection,h=function(e,t,n){let r,{node:i,fromOffset:a,toOffset:s,from:o,to:l}=e.docView.parseRange(t,n),c=e.domSelectionRange(),u=c.anchorNode;if(u&&e.dom.contains(1==u.nodeType?u:u.parentNode)&&(r=[{node:u,offset:c.anchorOffset}],nw(c)||r.push({node:c.focusNode,offset:c.focusOffset})),nj&&8===e.input.lastKeyCode)for(let e=s;e>a;e--){let t=i.childNodes[e-1],n=t.pmViewDesc;if("BR"==t.nodeName&&!n){s=e;break}if(!n||n.size)break}let d=e.state.doc,h=e.someProp("domParser")||eQ.fromSchema(e.state.schema),p=d.resolve(o),f=null,m=h.parse(i,{topNode:p.parent,topMatch:p.parent.contentMatchAt(p.index()),topOpen:!0,from:a,to:s,preserveWhitespace:"pre"!=p.parent.type.whitespace||"full",findPositions:r,ruleFromNode:iB,context:p});if(r&&null!=r[0].pos){let e=r[0].pos,t=r[1]&&r[1].pos;null==t&&(t=e),f={anchor:e+o,head:t+o}}return{doc:m,sel:f,from:o,to:l}}(e,t,n),p=e.state.doc,f=p.slice(h.from,h.to);8===e.input.lastKeyCode&&Date.now()-100<e.input.lastKeyCodeTime?(a=e.state.selection.to,s="end"):(a=e.state.selection.from,s="start"),e.input.lastKeyCode=null;let m=function(e,t,n,r,i){let a=e.findDiffStart(t,n);if(null==a)return null;let{a:s,b:o}=e.findDiffEnd(t,n+e.size,n+t.size);if("end"==i){let e=Math.max(0,a-Math.min(s,o));r-=s+e-a}if(s<a&&e.size<t.size){let e=r<=a&&r>=s?a-r:0;(a-=e)&&a<t.size&&iV(t.textBetween(a-1,a+1))&&(a+=e?1:-1),o=a+(o-s),s=a}else if(o<a){let t=r<=a&&r>=o?a-r:0;(a-=t)&&a<e.size&&iV(e.textBetween(a-1,a+1))&&(a+=t?1:-1),s=a+(s-o),o=a}return{start:a,endA:s,endB:o}}(f.content,h.doc.content,h.from,a,s);if(m&&e.input.domChangeCount++,(nU&&e.input.lastIOSEnter>Date.now()-225||nG)&&i.some(e=>1==e.nodeType&&!iH.test(e.nodeName))&&(!m||m.endA>=m.endB)&&e.someProp("handleKeyDown",t=>t(e,nC(13,"Enter")))){e.input.lastIOSEnter=0;return}if(!m)if(r&&d instanceof tX&&!d.empty&&d.$head.sameParent(d.$anchor)&&!e.composing&&!(h.sel&&h.sel.anchor!=h.sel.head))m={start:d.from,endA:d.to,endB:d.to};else{if(h.sel){let t=iU(e,e.state.doc,h.sel);if(t&&!t.eq(e.state.selection)){let n=e.state.tr.setSelection(t);l&&n.setMeta("composition",l),e.dispatch(n)}}return}e.state.selection.from<e.state.selection.to&&m.start==m.endB&&e.state.selection instanceof tX&&(m.start>e.state.selection.from&&m.start<=e.state.selection.from+2&&e.state.selection.from>=h.from?m.start=e.state.selection.from:m.endA<e.state.selection.to&&m.endA>=e.state.selection.to-2&&e.state.selection.to<=h.to&&(m.endB+=e.state.selection.to-m.endA,m.endA=e.state.selection.to)),nR&&nP<=11&&m.endB==m.start+1&&m.endA==m.start&&m.start>h.from&&" "==h.doc.textBetween(m.start-h.from-1,m.start-h.from+1)&&(m.start--,m.endA--,m.endB--);let g=h.doc.resolveNoCache(m.start-h.from),y=h.doc.resolveNoCache(m.endB-h.from),b=p.resolve(m.start),v=g.sameParent(y)&&g.parent.inlineContent&&b.end()>=m.endA;if((nU&&e.input.lastIOSEnter>Date.now()-225&&(!v||i.some(e=>"DIV"==e.nodeName||"P"==e.nodeName))||!v&&g.pos<h.doc.content.size&&(!g.sameParent(y)||!g.parent.inlineContent)&&g.pos<y.pos&&!/\S/.test(h.doc.textBetween(g.pos,y.pos,"","")))&&e.someProp("handleKeyDown",t=>t(e,nC(13,"Enter")))){e.input.lastIOSEnter=0;return}if(e.state.selection.anchor>m.start&&function(e,t,n,r,i){if(n-t<=i.pos-r.pos||iz(r,!0,!1)<i.pos)return!1;let a=e.resolve(t);if(!r.parent.isTextblock){let e=a.nodeAfter;return null!=e&&n==t+e.nodeSize}if(a.parentOffset<a.parent.content.size||!a.parent.isTextblock)return!1;let s=e.resolve(iz(a,!0,!0));return!(!s.parent.isTextblock||s.pos>n||iz(s,!0,!1)<n)&&r.parent.content.cut(r.parentOffset).eq(s.parent.content)}(p,m.start,m.endA,g,y)&&e.someProp("handleKeyDown",t=>t(e,nC(8,"Backspace")))){nG&&nj&&e.domObserver.suppressSelectionUpdates();return}nj&&m.endB==m.start&&(e.input.lastChromeDelete=Date.now()),nG&&!v&&g.start()!=y.start()&&0==y.parentOffset&&g.depth==y.depth&&h.sel&&h.sel.anchor==h.sel.head&&h.sel.head==m.endA&&(m.endB-=2,y=h.doc.resolveNoCache(m.endB-h.from),setTimeout(()=>{e.someProp("handleKeyDown",function(t){return t(e,nC(13,"Enter"))})},20));let k=m.start,x=m.endA,_=t=>{let n=t||e.state.tr.replace(k,x,h.doc.slice(m.start-h.from,m.endB-h.from));if(h.sel){let t=iU(e,n.doc,h.sel);t&&!(nj&&e.composing&&t.empty&&(m.start!=m.endB||e.input.lastChromeDelete<Date.now()-100)&&(t.head==k||t.head==n.mapping.map(x)-1)||nR&&t.empty&&t.head==k)&&n.setSelection(t)}return l&&n.setMeta("composition",l),n.scrollIntoView()};if(v)if(g.pos==y.pos){nR&&nP<=11&&0==g.parentOffset&&(e.domObserver.suppressSelectionUpdates(),setTimeout(()=>rx(e),20));let t=_(e.state.tr.delete(k,x)),n=p.resolve(m.start).marksAcross(p.resolve(m.endA));n&&t.ensureMarks(n),e.dispatch(t)}else if(m.endA==m.endB&&(o=function(e,t){let n=e.firstChild.marks,r=t.firstChild.marks,i=n,a=r,s,o,l;for(let e=0;e<r.length;e++)i=r[e].removeFromSet(i);for(let e=0;e<n.length;e++)a=n[e].removeFromSet(a);if(1==i.length&&0==a.length)o=i[0],s="add",l=e=>e.mark(o.addToSet(e.marks));else{if(0!=i.length||1!=a.length)return null;o=a[0],s="remove",l=e=>e.mark(o.removeFromSet(e.marks))}let c=[];for(let e=0;e<t.childCount;e++)c.push(l(t.child(e)));if(eg.from(c).eq(e))return{mark:o,type:s}}(g.parent.content.cut(g.parentOffset,y.parentOffset),b.parent.content.cut(b.parentOffset,m.endA-b.start())))){let t=_(e.state.tr);"add"==o.type?t.addMark(k,x,o.mark):t.removeMark(k,x,o.mark),e.dispatch(t)}else if(g.parent.child(g.index()).isText&&g.index()==y.index()-!y.textOffset){let t=g.parent.textBetween(g.parentOffset,y.parentOffset),n=()=>_(e.state.tr.insertText(t,k,x));e.someProp("handleTextInput",r=>r(e,k,x,t,n))||e.dispatch(n())}else e.dispatch(_());else e.dispatch(_())})(this,e,t,n,r)),this.domObserver.start(),function(e){for(let t in rX){let n=rX[t];e.dom.addEventListener(t,e.input.eventHandlers[t]=t=>{!function(e,t){if(!t.bubbles)return!0;if(t.defaultPrevented)return!1;for(let n=t.target;n!=e.dom;n=n.parentNode)if(!n||11==n.nodeType||n.pmViewDesc&&n.pmViewDesc.stopEvent(t))return!1;return!0}(e,t)||r4(e,t)||!e.editable&&t.type in r0||n(e,t)},r1[t]?{passive:!0}:void 0)}nH&&e.dom.addEventListener("input",()=>null),r3(e)}(this),this.updatePluginViews()}}function iq(e){let t=Object.create(null);return t.class="ProseMirror",t.contenteditable=String(e.editable),e.someProp("attributes",n=>{if("function"==typeof n&&(n=n(e.state)),n)for(let e in n)"class"==e?t.class+=" "+n[e]:"style"==e?t.style=(t.style?t.style+";":"")+n[e]:t[e]||"contenteditable"==e||"nodeName"==e||(t[e]=String(n[e]))}),t.translate||(t.translate="no"),[ib.node(0,e.state.doc.content.size,t)]}function iZ(e){if(e.markCursor){let t=document.createElement("img");t.className="ProseMirror-separator",t.setAttribute("mark-placeholder","true"),t.setAttribute("alt",""),e.cursorWrapper={dom:t,deco:ib.widget(e.state.selection.from,t,{raw:!0,marks:e.markCursor})}}else e.cursorWrapper=null}function i$(e){return!e.someProp("editable",t=>!1===t(e.state))}function iW(e){let t=Object.create(null);function n(e){for(let n in e)Object.prototype.hasOwnProperty.call(t,n)||(t[n]=e[n])}return e.someProp("nodeViews",n),e.someProp("markViews",n),t}function iY(e){if(e.spec.state||e.spec.filterTransaction||e.spec.appendTransaction)throw RangeError("Plugins passed directly to the view must not have a state component")}iG.prototype.dispatch=function(e){let t=this._props.dispatchTransaction;t?t.call(this,e):this.updateState(this.state.apply(e))};var iK=e.i(68428);function iJ(){}function iQ(){}function iX(e){let t=[],n=String(e||""),r=n.indexOf(","),i=0,a=!1;for(;!a;){-1===r&&(r=n.length,a=!0);let e=n.slice(i,r).trim();(e||!a)&&t.push(e),i=r+1,r=n.indexOf(",",i)}return t}function i0(e,t){let n=t||{};return(""===e[e.length-1]?[...e,""]:e).join((n.padRight?" ":"")+","+(!1===n.padLeft?"":" ")).trim()}RegExp("[$_\\p{ID_Start}]","u"),RegExp("[$_\\u{200C}\\u{200D}\\p{ID_Continue}]","u"),RegExp("[-$_\\u{200C}\\u{200D}\\p{ID_Continue}]","u");let i1=RegExp("^[$_\\p{ID_Start}][$_\\u{200C}\\u{200D}\\p{ID_Continue}]*$","u"),i2=RegExp("^[$_\\p{ID_Start}][-$_\\u{200C}\\u{200D}\\p{ID_Continue}]*$","u"),i5={};function i3(e,t){return((t||i5).jsx?i2:i1).test(e)}let i4=/[ \t\n\f\r]/g;function i6(e){return"object"==typeof e?"text"===e.type&&i9(e.value):i9(e)}function i9(e){return""===e.replace(i4,"")}class i8{constructor(e,t){this.attribute=t,this.property=e}}i8.prototype.attribute="",i8.prototype.booleanish=!1,i8.prototype.boolean=!1,i8.prototype.commaOrSpaceSeparated=!1,i8.prototype.commaSeparated=!1,i8.prototype.defined=!1,i8.prototype.mustUseProperty=!1,i8.prototype.number=!1,i8.prototype.overloadedBoolean=!1,i8.prototype.property="",i8.prototype.spaceSeparated=!1,i8.prototype.space=void 0,e.s(["boolean",()=>ae,"booleanish",()=>at,"commaOrSpaceSeparated",()=>as,"commaSeparated",()=>aa,"number",()=>ar,"overloadedBoolean",()=>an,"spaceSeparated",()=>ai],400744);let i7=0,ae=ao(),at=ao(),an=ao(),ar=ao(),ai=ao(),aa=ao(),as=ao();function ao(){return 2**++i7}var al=e.i(400744);let ac=Object.keys(al);class au extends i8{constructor(e,t,n,r){let i=-1;if(super(e,t),function(e,t,n){n&&(e[t]=n)}(this,"space",r),"number"==typeof n)for(;++i<ac.length;){let e=ac[i];!function(e,t,n){n&&(e[t]=n)}(this,ac[i],(n&al[e])===al[e])}}}function ad(e){return e.toLowerCase()}au.prototype.defined=!0;let ah=/[A-Z]/g,ap=/-[a-z]/g,af=/^data[-\w.:]+$/i;function am(e,t){let n=ad(t),r=t,i=i8;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&"data"===n.slice(0,4)&&af.test(t)){if("-"===t.charAt(4)){let e=t.slice(5).replace(ap,ay);r="data"+e.charAt(0).toUpperCase()+e.slice(1)}else{let e=t.slice(4);if(!ap.test(e)){let n=e.replace(ah,ag);"-"!==n.charAt(0)&&(n="-"+n),t="data"+n}}i=au}return new i(r,t)}function ag(e){return"-"+e.toLowerCase()}function ay(e){return e.charAt(1).toUpperCase()}let ab={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"};class av{constructor(e,t,n){this.normal=t,this.property=e,n&&(this.space=n)}}function ak(e,t){let n={},r={};for(let t of e)Object.assign(n,t.property),Object.assign(r,t.normal);return new av(n,r,t)}function ax(e){let t={},n={};for(let[r,i]of Object.entries(e.properties)){let a=new au(r,e.transform(e.attributes||{},r),i,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(a.mustUseProperty=!0),t[r]=a,n[ad(r)]=r,n[ad(a.attribute)]=r}return new av(t,n,e.space)}av.prototype.normal={},av.prototype.property={},av.prototype.space=void 0;let a_=ax({properties:{ariaActiveDescendant:null,ariaAtomic:at,ariaAutoComplete:null,ariaBusy:at,ariaChecked:at,ariaColCount:ar,ariaColIndex:ar,ariaColSpan:ar,ariaControls:ai,ariaCurrent:null,ariaDescribedBy:ai,ariaDetails:null,ariaDisabled:at,ariaDropEffect:ai,ariaErrorMessage:null,ariaExpanded:at,ariaFlowTo:ai,ariaGrabbed:at,ariaHasPopup:null,ariaHidden:at,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:ai,ariaLevel:ar,ariaLive:null,ariaModal:at,ariaMultiLine:at,ariaMultiSelectable:at,ariaOrientation:null,ariaOwns:ai,ariaPlaceholder:null,ariaPosInSet:ar,ariaPressed:at,ariaReadOnly:at,ariaRelevant:null,ariaRequired:at,ariaRoleDescription:ai,ariaRowCount:ar,ariaRowIndex:ar,ariaRowSpan:ar,ariaSelected:at,ariaSetSize:ar,ariaSort:null,ariaValueMax:ar,ariaValueMin:ar,ariaValueNow:ar,ariaValueText:null,role:null},transform:(e,t)=>"role"===t?t:"aria-"+t.slice(4).toLowerCase()});function aE(e,t){return t in e?e[t]:t}function aT(e,t){return aE(e,t.toLowerCase())}let aS=ax({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:aa,acceptCharset:ai,accessKey:ai,action:null,allow:null,allowFullScreen:ae,allowPaymentRequest:ae,allowUserMedia:ae,alt:null,as:null,async:ae,autoCapitalize:null,autoComplete:ai,autoFocus:ae,autoPlay:ae,blocking:ai,capture:null,charSet:null,checked:ae,cite:null,className:ai,cols:ar,colSpan:null,content:null,contentEditable:at,controls:ae,controlsList:ai,coords:ar|aa,crossOrigin:null,data:null,dateTime:null,decoding:null,default:ae,defer:ae,dir:null,dirName:null,disabled:ae,download:an,draggable:at,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:ae,formTarget:null,headers:ai,height:ar,hidden:an,high:ar,href:null,hrefLang:null,htmlFor:ai,httpEquiv:ai,id:null,imageSizes:null,imageSrcSet:null,inert:ae,inputMode:null,integrity:null,is:null,isMap:ae,itemId:null,itemProp:ai,itemRef:ai,itemScope:ae,itemType:ai,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:ae,low:ar,manifest:null,max:null,maxLength:ar,media:null,method:null,min:null,minLength:ar,multiple:ae,muted:ae,name:null,nonce:null,noModule:ae,noValidate:ae,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:ae,optimum:ar,pattern:null,ping:ai,placeholder:null,playsInline:ae,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:ae,referrerPolicy:null,rel:ai,required:ae,reversed:ae,rows:ar,rowSpan:ar,sandbox:ai,scope:null,scoped:ae,seamless:ae,selected:ae,shadowRootClonable:ae,shadowRootDelegatesFocus:ae,shadowRootMode:null,shape:null,size:ar,sizes:null,slot:null,span:ar,spellCheck:at,src:null,srcDoc:null,srcLang:null,srcSet:null,start:ar,step:null,style:null,tabIndex:ar,target:null,title:null,translate:null,type:null,typeMustMatch:ae,useMap:null,value:at,width:ar,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:ai,axis:null,background:null,bgColor:null,border:ar,borderColor:null,bottomMargin:ar,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:ae,declare:ae,event:null,face:null,frame:null,frameBorder:null,hSpace:ar,leftMargin:ar,link:null,longDesc:null,lowSrc:null,marginHeight:ar,marginWidth:ar,noResize:ae,noHref:ae,noShade:ae,noWrap:ae,object:null,profile:null,prompt:null,rev:null,rightMargin:ar,rules:null,scheme:null,scrolling:at,standby:null,summary:null,text:null,topMargin:ar,valueType:null,version:null,vAlign:null,vLink:null,vSpace:ar,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:ae,disableRemotePlayback:ae,prefix:null,property:null,results:ar,security:null,unselectable:null},space:"html",transform:aT}),aw=ax({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:as,accentHeight:ar,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:ar,amplitude:ar,arabicForm:null,ascent:ar,attributeName:null,attributeType:null,azimuth:ar,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:ar,by:null,calcMode:null,capHeight:ar,className:ai,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:ar,diffuseConstant:ar,direction:null,display:null,dur:null,divisor:ar,dominantBaseline:null,download:ae,dx:null,dy:null,edgeMode:null,editable:null,elevation:ar,enableBackground:null,end:null,event:null,exponent:ar,externalResourcesRequired:null,fill:null,fillOpacity:ar,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:aa,g2:aa,glyphName:aa,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:ar,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:ar,horizOriginX:ar,horizOriginY:ar,id:null,ideographic:ar,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:ar,k:ar,k1:ar,k2:ar,k3:ar,k4:ar,kernelMatrix:as,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:ar,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:ar,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:ar,overlineThickness:ar,paintOrder:null,panose1:null,path:null,pathLength:ar,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:ai,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:ar,pointsAtY:ar,pointsAtZ:ar,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:as,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:as,rev:as,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:as,requiredFeatures:as,requiredFonts:as,requiredFormats:as,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:ar,specularExponent:ar,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:ar,strikethroughThickness:ar,string:null,stroke:null,strokeDashArray:as,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:ar,strokeOpacity:ar,strokeWidth:null,style:null,surfaceScale:ar,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:as,tabIndex:ar,tableValues:null,target:null,targetX:ar,targetY:ar,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:as,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:ar,underlineThickness:ar,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:ar,values:null,vAlphabetic:ar,vMathematical:ar,vectorEffect:null,vHanging:ar,vIdeographic:ar,version:null,vertAdvY:ar,vertOriginX:ar,vertOriginY:ar,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:ar,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:aE}),aC=ax({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform:(e,t)=>"xlink:"+t.slice(5).toLowerCase()}),aA=ax({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:aT}),aN=ax({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform:(e,t)=>"xml:"+t.slice(3).toLowerCase()}),aI=ak([a_,aS,aC,aA,aN],"html"),aD=ak([a_,aw,aC,aA,aN],"svg");function aM(e){let t=String(e||"").trim();return t?t.split(/[ \t\n\r\f]+/g):[]}function aO(e){return e.join(" ").trim()}var aR=e.i(515511);let aP=aF("end"),aL=aF("start");function aF(e){return function(t){let n=t&&t.position&&t.position[e]||{};if("number"==typeof n.line&&n.line>0&&"number"==typeof n.column&&n.column>0)return{line:n.line,column:n.column,offset:"number"==typeof n.offset&&n.offset>-1?n.offset:void 0}}}function aj(e){return e&&"object"==typeof e?"position"in e||"type"in e?aH(e.position):"start"in e||"end"in e?aH(e):"line"in e||"column"in e?aB(e):"":""}function aB(e){return aU(e&&e.line)+":"+aU(e&&e.column)}function aH(e){return aB(e&&e.start)+"-"+aB(e&&e.end)}function aU(e){return e&&"number"==typeof e?e:1}class az extends Error{constructor(e,t,n){super(),"string"==typeof t&&(n=t,t=void 0);let r="",i={},a=!1;if(t&&(i="line"in t&&"column"in t||"start"in t&&"end"in t?{place:t}:"type"in t?{ancestors:[t],place:t.position}:{...t}),"string"==typeof e?r=e:!i.cause&&e&&(a=!0,r=e.message,i.cause=e),!i.ruleId&&!i.source&&"string"==typeof n){let e=n.indexOf(":");-1===e?i.ruleId=n:(i.source=n.slice(0,e),i.ruleId=n.slice(e+1))}if(!i.place&&i.ancestors&&i.ancestors){let e=i.ancestors[i.ancestors.length-1];e&&(i.place=e.position)}let s=i.place&&"start"in i.place?i.place.start:i.place;this.ancestors=i.ancestors||void 0,this.cause=i.cause||void 0,this.column=s?s.column:void 0,this.fatal=void 0,this.file="",this.message=r,this.line=s?s.line:void 0,this.name=aj(i.place)||"1:1",this.place=i.place||void 0,this.reason=this.message,this.ruleId=i.ruleId||void 0,this.source=i.source||void 0,this.stack=a&&i.cause&&"string"==typeof i.cause.stack?i.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}az.prototype.file="",az.prototype.name="",az.prototype.reason="",az.prototype.message="",az.prototype.stack="",az.prototype.column=void 0,az.prototype.line=void 0,az.prototype.ancestors=void 0,az.prototype.cause=void 0,az.prototype.fatal=void 0,az.prototype.place=void 0,az.prototype.ruleId=void 0,az.prototype.source=void 0;let aV={}.hasOwnProperty,aG=new Map,aq=/[A-Z]/g,aZ=new Set(["table","tbody","thead","tfoot","tr"]),a$=new Set(["td","th"]),aW="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function aY(e,t,n){return"element"===t.type?function(e,t,n){let r=e.schema;"svg"===t.tagName.toLowerCase()&&"html"===r.space&&(e.schema=aD),e.ancestors.push(t);let i=aX(e,t.tagName,!1),a=function(e,t){let n,r,i={};for(r in t.properties)if("children"!==r&&aV.call(t.properties,r)){let a=function(e,t,n){let r=am(e.schema,t);if(!(null==n||"number"==typeof n&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?i0(n):aO(n)),"style"===r.property){let t="object"==typeof n?n:function(e,t){try{return(0,aR.default)(t,{reactCompat:!0})}catch(n){if(e.ignoreInvalidStyle)return{};let t=new az("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:n,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw t.file=e.filePath||void 0,t.url=aW+"#cannot-parse-style-attribute",t}}(e,String(n));return"css"===e.stylePropertyNameCase&&(t=function(e){let t,n={};for(t in e)aV.call(e,t)&&(n[function(e){let t=e.replace(aq,a1);return"ms-"===t.slice(0,3)&&(t="-"+t),t}(t)]=e[t]);return n}(t)),["style",t]}return["react"===e.elementAttributeNameCase&&r.space?ab[r.property]||r.property:r.attribute,n]}}(e,r,t.properties[r]);if(a){let[r,s]=a;e.tableCellAlignToStyle&&"align"===r&&"string"==typeof s&&a$.has(t.tagName)?n=s:i[r]=s}}return n&&((i.style||(i.style={}))["css"===e.stylePropertyNameCase?"text-align":"textAlign"]=n),i}(e,t),s=aQ(e,t);return aZ.has(t.tagName)&&(s=s.filter(function(e){return"string"!=typeof e||!i6(e)})),aK(e,a,i,t),aJ(a,s),e.ancestors.pop(),e.schema=r,e.create(t,i,a,n)}(e,t,n):"mdxFlowExpression"===t.type||"mdxTextExpression"===t.type?function(e,t){if(t.data&&t.data.estree&&e.evaluater){let n=t.data.estree.body[0];return iJ("ExpressionStatement"===n.type),e.evaluater.evaluateExpression(n.expression)}a0(e,t.position)}(e,t):"mdxJsxFlowElement"===t.type||"mdxJsxTextElement"===t.type?function(e,t,n){let r=e.schema;"svg"===t.name&&"html"===r.space&&(e.schema=aD),e.ancestors.push(t);let i=null===t.name?e.Fragment:aX(e,t.name,!0),a=function(e,t){let n={};for(let r of t.attributes)if("mdxJsxExpressionAttribute"===r.type)if(r.data&&r.data.estree&&e.evaluater){let t=r.data.estree.body[0];iJ("ExpressionStatement"===t.type);let i=t.expression;iJ("ObjectExpression"===i.type);let a=i.properties[0];iJ("SpreadElement"===a.type),Object.assign(n,e.evaluater.evaluateExpression(a.argument))}else a0(e,t.position);else{let i,a=r.name;if(r.value&&"object"==typeof r.value)if(r.value.data&&r.value.data.estree&&e.evaluater){let t=r.value.data.estree.body[0];iJ("ExpressionStatement"===t.type),i=e.evaluater.evaluateExpression(t.expression)}else a0(e,t.position);else i=null===r.value||r.value;n[a]=i}return n}(e,t),s=aQ(e,t);return aK(e,a,i,t),aJ(a,s),e.ancestors.pop(),e.schema=r,e.create(t,i,a,n)}(e,t,n):"mdxjsEsm"===t.type?function(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);a0(e,t.position)}(e,t):"root"===t.type?function(e,t,n){let r={};return aJ(r,aQ(e,t)),e.create(t,e.Fragment,r,n)}(e,t,n):"text"===t.type?t.value:void 0}function aK(e,t,n,r){"string"!=typeof n&&n!==e.Fragment&&e.passNode&&(t.node=r)}function aJ(e,t){if(t.length>0){let n=t.length>1?t:t[0];n&&(e.children=n)}}function aQ(e,t){let n=[],r=-1,i=e.passKeys?new Map:aG;for(;++r<t.children.length;){let a,s=t.children[r];if(e.passKeys){let e="element"===s.type?s.tagName:"mdxJsxFlowElement"===s.type||"mdxJsxTextElement"===s.type?s.name:void 0;if(e){let t=i.get(e)||0;a=e+"-"+t,i.set(e,t+1)}}let o=aY(e,s,a);void 0!==o&&n.push(o)}return n}function aX(e,t,n){let r;if(n)if(t.includes(".")){let e,n=t.split("."),i=-1;for(;++i<n.length;){let t=i3(n[i])?{type:"Identifier",name:n[i]}:{type:"Literal",value:n[i]};e=e?{type:"MemberExpression",object:e,property:t,computed:!!(i&&"Literal"===t.type),optional:!1}:t}iJ(e,"always a result"),r=e}else r=i3(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};else r={type:"Literal",value:t};if("Literal"===r.type){let t=r.value;return aV.call(e.components,t)?e.components[t]:t}if(e.evaluater)return e.evaluater.evaluateExpression(r);a0(e)}function a0(e,t){let n=new az("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=aW+"#cannot-handle-mdx-estrees-without-createevaluater",n}function a1(e){return"-"+e.toLowerCase()}let a2={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},a5={};function a3(e,t){let n=t||a5;return a4(e,"boolean"!=typeof n.includeImageAlt||n.includeImageAlt,"boolean"!=typeof n.includeHtml||n.includeHtml)}function a4(e,t,n){var r;if((r=e)&&"object"==typeof r){if("value"in e)return"html"!==e.type||n?e.value:"";if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return a6(e.children,t,n)}return Array.isArray(e)?a6(e,t,n):""}function a6(e,t,n){let r=[],i=-1;for(;++i<e.length;)r[i]=a4(e[i],t,n);return r.join("")}function a9(e,t,n,r){let i,a=e.length,s=0;if(t=t<0?-t>a?0:a+t:t>a?a:t,n=n>0?n:0,r.length<1e4)(i=Array.from(r)).unshift(t,n),e.splice(...i);else for(n&&e.splice(t,n);s<r.length;)(i=r.slice(s,s+1e4)).unshift(t,0),e.splice(...i),s+=1e4,t+=1e4}function a8(e,t){return e.length>0?(a9(e,e.length,0,t),e):t}let a7={}.hasOwnProperty;function se(e){let t={},n=-1;for(;++n<e.length;)!function(e,t){let n;for(n in t){let r,i=(a7.call(e,n)?e[n]:void 0)||(e[n]={}),a=t[n];if(a)for(r in a){a7.call(i,r)||(i[r]=[]);let e=a[r];!function(e,t){let n=-1,r=[];for(;++n<t.length;)("after"===t[n].add?e:r).push(t[n]);a9(e,0,0,r)}(i[r],Array.isArray(e)?e:e?[e]:[])}}}(t,e[n]);return t}let st=sp(/[A-Za-z]/),sn=sp(/[\dA-Za-z]/),sr=sp(/[#-'*+\--9=?A-Z^-~]/);function si(e){return null!==e&&(e<32||127===e)}let sa=sp(/\d/),ss=sp(/[\dA-Fa-f]/),so=sp(/[!-/:-@[-`{-~]/);function sl(e){return null!==e&&e<-2}function sc(e){return null!==e&&(e<0||32===e)}function su(e){return -2===e||-1===e||32===e}let sd=sp(RegExp("\\p{P}|\\p{S}","u")),sh=sp(/\s/);function sp(e){return function(t){return null!==t&&t>-1&&e.test(String.fromCharCode(t))}}function sf(e,t,n,r){let i=r?r-1:1/0,a=0;return function(r){return su(r)?(e.enter(n),function r(s){return su(s)&&a++<i?(e.consume(s),r):(e.exit(n),t(s))}(r)):t(r)}}let sm={tokenize:function(e){let t,n=e.attempt(this.parser.constructs.contentInitial,function(t){return null===t?void e.consume(t):(e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),sf(e,n,"linePrefix"))},function(n){return e.enter("paragraph"),function n(r){let i=e.enter("chunkText",{contentType:"text",previous:t});return t&&(t.next=i),t=i,function t(r){if(null===r){e.exit("chunkText"),e.exit("paragraph"),e.consume(r);return}return sl(r)?(e.consume(r),e.exit("chunkText"),n):(e.consume(r),t)}(r)}(n)});return n}},sg={tokenize:function(e){let t,n,r,i=this,a=[],s=0;return o;function o(t){if(s<a.length){let n=a[s];return i.containerState=n[1],e.attempt(n[0].continuation,l,c)(t)}return c(t)}function l(e){if(s++,i.containerState._closeFlow){let n;i.containerState._closeFlow=void 0,t&&y();let r=i.events.length,a=r;for(;a--;)if("exit"===i.events[a][0]&&"chunkFlow"===i.events[a][1].type){n=i.events[a][1].end;break}g(s);let o=r;for(;o<i.events.length;)i.events[o][1].end={...n},o++;return a9(i.events,a+1,0,i.events.slice(r)),i.events.length=o,c(e)}return o(e)}function c(n){if(s===a.length){if(!t)return h(n);if(t.currentConstruct&&t.currentConstruct.concrete)return f(n);i.interrupt=!!(t.currentConstruct&&!t._gfmTableDynamicInterruptHack)}return i.containerState={},e.check(sy,u,d)(n)}function u(e){return t&&y(),g(s),h(e)}function d(e){return i.parser.lazy[i.now().line]=s!==a.length,r=i.now().offset,f(e)}function h(t){return i.containerState={},e.attempt(sy,p,f)(t)}function p(e){return s++,a.push([i.currentConstruct,i.containerState]),h(e)}function f(r){if(null===r){t&&y(),g(0),e.consume(r);return}return t=t||i.parser.flow(i.now()),e.enter("chunkFlow",{_tokenizer:t,contentType:"flow",previous:n}),function t(n){if(null===n){m(e.exit("chunkFlow"),!0),g(0),e.consume(n);return}return sl(n)?(e.consume(n),m(e.exit("chunkFlow")),s=0,i.interrupt=void 0,o):(e.consume(n),t)}(r)}function m(e,a){let o=i.sliceStream(e);if(a&&o.push(null),e.previous=n,n&&(n.next=e),n=e,t.defineSkip(e.start),t.write(o),i.parser.lazy[e.start.line]){let e,n,a=t.events.length;for(;a--;)if(t.events[a][1].start.offset<r&&(!t.events[a][1].end||t.events[a][1].end.offset>r))return;let o=i.events.length,l=o;for(;l--;)if("exit"===i.events[l][0]&&"chunkFlow"===i.events[l][1].type){if(e){n=i.events[l][1].end;break}e=!0}for(g(s),a=o;a<i.events.length;)i.events[a][1].end={...n},a++;a9(i.events,l+1,0,i.events.slice(o)),i.events.length=a}}function g(t){let n=a.length;for(;n-- >t;){let t=a[n];i.containerState=t[1],t[0].exit.call(i,e)}a.length=t}function y(){t.write([null]),n=void 0,t=void 0,i.containerState._closeFlow=void 0}}},sy={tokenize:function(e,t,n){return sf(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}},sb={partial:!0,tokenize:function(e,t,n){return function(t){return su(t)?sf(e,r,"linePrefix")(t):r(t)};function r(e){return null===e||sl(e)?t(e):n(e)}}};class sv{get(e){if(e<0||e>=this.left.length+this.right.length)throw RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,t){let n=null==t?1/0:t;return n<this.left.length?this.left.slice(e,n):e>this.left.length?this.right.slice(this.right.length-n+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-n+this.left.length).reverse())}splice(e,t,n){this.setCursor(Math.trunc(e));let r=this.right.splice(this.right.length-(t||0),1/0);return n&&sk(this.left,n),r.reverse()}pop(){return this.setCursor(1/0),this.left.pop()}push(e){this.setCursor(1/0),this.left.push(e)}pushMany(e){this.setCursor(1/0),sk(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),sk(this.right,e.reverse())}setCursor(e){if(e!==this.left.length&&(!(e>this.left.length)||0!==this.right.length)&&(!(e<0)||0!==this.left.length))if(e<this.left.length){let t=this.left.splice(e,1/0);sk(this.right,t.reverse())}else{let t=this.right.splice(this.left.length+this.right.length-e,1/0);sk(this.left,t.reverse())}}constructor(e){this.left=e?[...e]:[],this.right=[]}}function sk(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function sx(e){let t,n,r,i,a,s,o,l={},c=-1,u=new sv(e);for(;++c<u.length;){for(;c in l;)c=l[c];if(t=u.get(c),c&&"chunkFlow"===t[1].type&&"listItemPrefix"===u.get(c-1)[1].type&&((r=0)<(s=t[1]._tokenizer.events).length&&"lineEndingBlank"===s[r][1].type&&(r+=2),r<s.length&&"content"===s[r][1].type))for(;++r<s.length&&"content"!==s[r][1].type;)"chunkText"===s[r][1].type&&(s[r][1]._isInFirstContentOfListItem=!0,r++);if("enter"===t[0])t[1].contentType&&(Object.assign(l,function(e,t){let n,r,i=e.get(t)[1],a=e.get(t)[2],s=t-1,o=[],l=i._tokenizer;!l&&(l=a.parser[i.contentType](i.start),i._contentTypeTextTrailing&&(l._contentTypeTextTrailing=!0));let c=l.events,u=[],d={},h=-1,p=i,f=0,m=0,g=[0];for(;p;){for(;e.get(++s)[1]!==p;);o.push(s),!p._tokenizer&&(n=a.sliceStream(p),p.next||n.push(null),r&&l.defineSkip(p.start),p._isInFirstContentOfListItem&&(l._gfmTasklistFirstContentOfListItem=!0),l.write(n),p._isInFirstContentOfListItem&&(l._gfmTasklistFirstContentOfListItem=void 0)),r=p,p=p.next}for(p=i;++h<c.length;)"exit"===c[h][0]&&"enter"===c[h-1][0]&&c[h][1].type===c[h-1][1].type&&c[h][1].start.line!==c[h][1].end.line&&(m=h+1,g.push(m),p._tokenizer=void 0,p.previous=void 0,p=p.next);for(l.events=[],p?(p._tokenizer=void 0,p.previous=void 0):g.pop(),h=g.length;h--;){let t=c.slice(g[h],g[h+1]),n=o.pop();u.push([n,n+t.length-1]),e.splice(n,2,t)}for(u.reverse(),h=-1;++h<u.length;)d[f+u[h][0]]=f+u[h][1],f+=u[h][1]-u[h][0]-1;return d}(u,c)),c=l[c],o=!0);else if(t[1]._container){for(r=c,n=void 0;r--;)if("lineEnding"===(i=u.get(r))[1].type||"lineEndingBlank"===i[1].type)"enter"===i[0]&&(n&&(u.get(n)[1].type="lineEndingBlank"),i[1].type="lineEnding",n=r);else if("linePrefix"===i[1].type||"listItemIndent"===i[1].type);else break;n&&(t[1].end={...u.get(n)[1].start},(a=u.slice(n,c)).unshift(t),u.splice(n,c-n+1,a))}}return a9(e,0,1/0,u.slice(0)),!o}let s_={resolve:function(e){return sx(e),e},tokenize:function(e,t){let n;return function(t){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),r(t)};function r(t){return null===t?i(t):sl(t)?e.check(sE,a,i)(t):(e.consume(t),r)}function i(n){return e.exit("chunkContent"),e.exit("content"),t(n)}function a(t){return e.consume(t),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,r}}},sE={partial:!0,tokenize:function(e,t,n){let r=this;return function(t){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),sf(e,i,"linePrefix")};function i(i){if(null===i||sl(i))return n(i);let a=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&a&&"linePrefix"===a[1].type&&a[2].sliceSerialize(a[1],!0).length>=4?t(i):e.interrupt(r.parser.constructs.flow,n,t)(i)}}},sT={tokenize:function(e){let t=this,n=e.attempt(sb,function(r){return null===r?void e.consume(r):(e.enter("lineEndingBlank"),e.consume(r),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n)},e.attempt(this.parser.constructs.flowInitial,r,sf(e,e.attempt(this.parser.constructs.flow,r,e.attempt(s_,r)),"linePrefix")));return n;function r(r){return null===r?void e.consume(r):(e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),t.currentConstruct=void 0,n)}}},sS={resolveAll:sN()},sw=sA("string"),sC=sA("text");function sA(e){return{resolveAll:sN("text"===e?sI:void 0),tokenize:function(t){let n=this,r=this.parser.constructs[e],i=t.attempt(r,a,s);return a;function a(e){return l(e)?i(e):s(e)}function s(e){return null===e?void t.consume(e):(t.enter("data"),t.consume(e),o)}function o(e){return l(e)?(t.exit("data"),i(e)):(t.consume(e),o)}function l(e){if(null===e)return!0;let t=r[e],i=-1;if(t)for(;++i<t.length;){let e=t[i];if(!e.previous||e.previous.call(n,n.previous))return!0}return!1}}}}function sN(e){return function(t,n){let r,i=-1;for(;++i<=t.length;)void 0===r?t[i]&&"data"===t[i][1].type&&(r=i,i++):t[i]&&"data"===t[i][1].type||(i!==r+2&&(t[r][1].end=t[i-1][1].end,t.splice(r+2,i-r-2),i=r+2),r=void 0);return e?e(t,n):t}}function sI(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||"lineEnding"===e[n][1].type)&&"data"===e[n-1][1].type){let r,i=e[n-1][1],a=t.sliceStream(i),s=a.length,o=-1,l=0;for(;s--;){let e=a[s];if("string"==typeof e){for(o=e.length;32===e.charCodeAt(o-1);)l++,o--;if(o)break;o=-1}else if(-2===e)r=!0,l++;else if(-1===e);else{s++;break}}if(t._contentTypeTextTrailing&&n===e.length&&(l=0),l){let a={type:n===e.length||r||l<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:s?o:i.start._bufferIndex+o,_index:i.start._index+s,line:i.end.line,column:i.end.column-l,offset:i.end.offset-l},end:{...i.end}};i.end={...a.start},i.start.offset===i.end.offset?Object.assign(i,a):(e.splice(n,0,["enter",a,t],["exit",a,t]),n+=2)}n++}return e}function sD(e){return null===e||sc(e)||sh(e)?1:sd(e)?2:void 0}function sM(e,t,n){let r=[],i=-1;for(;++i<e.length;){let a=e[i].resolveAll;a&&!r.includes(a)&&(t=a(t,n),r.push(a))}return t}e.s(["attentionMarkers",()=>ou,"contentInitial",()=>or,"disable",()=>od,"document",()=>on,"flow",()=>oa,"flowInitial",()=>oi,"insideSpan",()=>oc,"string",()=>oo,"text",()=>ol],304127);let sO={name:"attention",resolveAll:function(e,t){let n,r,i,a,s,o,l,c,u=-1;for(;++u<e.length;)if("enter"===e[u][0]&&"attentionSequence"===e[u][1].type&&e[u][1]._close){for(n=u;n--;)if("exit"===e[n][0]&&"attentionSequence"===e[n][1].type&&e[n][1]._open&&t.sliceSerialize(e[n][1]).charCodeAt(0)===t.sliceSerialize(e[u][1]).charCodeAt(0)){if((e[n][1]._close||e[u][1]._open)&&(e[u][1].end.offset-e[u][1].start.offset)%3&&!((e[n][1].end.offset-e[n][1].start.offset+e[u][1].end.offset-e[u][1].start.offset)%3))continue;o=e[n][1].end.offset-e[n][1].start.offset>1&&e[u][1].end.offset-e[u][1].start.offset>1?2:1;let d={...e[n][1].end},h={...e[u][1].start};sR(d,-o),sR(h,o),a={type:o>1?"strongSequence":"emphasisSequence",start:d,end:{...e[n][1].end}},s={type:o>1?"strongSequence":"emphasisSequence",start:{...e[u][1].start},end:h},i={type:o>1?"strongText":"emphasisText",start:{...e[n][1].end},end:{...e[u][1].start}},r={type:o>1?"strong":"emphasis",start:{...a.start},end:{...s.end}},e[n][1].end={...a.start},e[u][1].start={...s.end},l=[],e[n][1].end.offset-e[n][1].start.offset&&(l=a8(l,[["enter",e[n][1],t],["exit",e[n][1],t]])),l=a8(l,[["enter",r,t],["enter",a,t],["exit",a,t],["enter",i,t]]),l=a8(l,sM(t.parser.constructs.insideSpan.null,e.slice(n+1,u),t)),l=a8(l,[["exit",i,t],["enter",s,t],["exit",s,t],["exit",r,t]]),e[u][1].end.offset-e[u][1].start.offset?(c=2,l=a8(l,[["enter",e[u][1],t],["exit",e[u][1],t]])):c=0,a9(e,n-1,u-n+3,l),u=n+l.length-c-2;break}}for(u=-1;++u<e.length;)"attentionSequence"===e[u][1].type&&(e[u][1].type="data");return e},tokenize:function(e,t){let n,r=this.parser.constructs.attentionMarkers.null,i=this.previous,a=sD(i);return function(s){return n=s,e.enter("attentionSequence"),function s(o){if(o===n)return e.consume(o),s;let l=e.exit("attentionSequence"),c=sD(o),u=!c||2===c&&a||r.includes(o),d=!a||2===a&&c||r.includes(i);return l._open=!!(42===n?u:u&&(a||!d)),l._close=!!(42===n?d:d&&(c||!u)),t(o)}(s)}}};function sR(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}let sP={continuation:{tokenize:function(e,t,n){let r=this;return function(t){return su(t)?sf(e,i,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(t):i(t)};function i(r){return e.attempt(sP,t,n)(r)}}},exit:function(e){e.exit("blockQuote")},name:"blockQuote",tokenize:function(e,t,n){let r=this;return function(t){if(62===t){let n=r.containerState;return n.open||(e.enter("blockQuote",{_container:!0}),n.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(t),e.exit("blockQuoteMarker"),i}return n(t)};function i(n){return su(n)?(e.enter("blockQuotePrefixWhitespace"),e.consume(n),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(n))}}},sL={name:"characterEscape",tokenize:function(e,t,n){return function(t){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(t),e.exit("escapeMarker"),r};function r(r){return so(r)?(e.enter("characterEscapeValue"),e.consume(r),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(r)}}},sF=document.createElement("i");function sj(e){let t="&"+e+";";sF.innerHTML=t;let n=sF.textContent;return(59!==n.charCodeAt(n.length-1)||"semi"===e)&&n!==t&&n}let sB={name:"characterReference",tokenize:function(e,t,n){let r,i,a=this,s=0;return function(t){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(t),e.exit("characterReferenceMarker"),o};function o(t){return 35===t?(e.enter("characterReferenceMarkerNumeric"),e.consume(t),e.exit("characterReferenceMarkerNumeric"),l):(e.enter("characterReferenceValue"),r=31,i=sn,c(t))}function l(t){return 88===t||120===t?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(t),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),r=6,i=ss,c):(e.enter("characterReferenceValue"),r=7,i=sa,c(t))}function c(o){if(59===o&&s){let r=e.exit("characterReferenceValue");return i!==sn||sj(a.sliceSerialize(r))?(e.enter("characterReferenceMarker"),e.consume(o),e.exit("characterReferenceMarker"),e.exit("characterReference"),t):n(o)}return i(o)&&s++<r?(e.consume(o),c):n(o)}}},sH={partial:!0,tokenize:function(e,t,n){let r=this;return function(t){return null===t?n(t):(e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),i)};function i(e){return r.parser.lazy[r.now().line]?n(e):t(e)}}},sU={concrete:!0,name:"codeFenced",tokenize:function(e,t,n){let r,i=this,a={partial:!0,tokenize:function(e,t,n){let a=0;return function(t){return e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),s};function s(t){return e.enter("codeFencedFence"),su(t)?sf(e,l,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(t):l(t)}function l(t){return t===r?(e.enter("codeFencedFenceSequence"),function t(i){return i===r?(a++,e.consume(i),t):a>=o?(e.exit("codeFencedFenceSequence"),su(i)?sf(e,c,"whitespace")(i):c(i)):n(i)}(t)):n(t)}function c(r){return null===r||sl(r)?(e.exit("codeFencedFence"),t(r)):n(r)}}},s=0,o=0;return function(t){var a=t;let c=i.events[i.events.length-1];return s=c&&"linePrefix"===c[1].type?c[2].sliceSerialize(c[1],!0).length:0,r=a,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),function t(i){return i===r?(o++,e.consume(i),t):o<3?n(i):(e.exit("codeFencedFenceSequence"),su(i)?sf(e,l,"whitespace")(i):l(i))}(a)};function l(a){return null===a||sl(a)?(e.exit("codeFencedFence"),i.interrupt?t(a):e.check(sH,u,f)(a)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),function t(i){return null===i||sl(i)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),l(i)):su(i)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),sf(e,c,"whitespace")(i)):96===i&&i===r?n(i):(e.consume(i),t)}(a))}function c(t){return null===t||sl(t)?l(t):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),function t(i){return null===i||sl(i)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),l(i)):96===i&&i===r?n(i):(e.consume(i),t)}(t))}function u(t){return e.attempt(a,f,d)(t)}function d(t){return e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),h}function h(t){return s>0&&su(t)?sf(e,p,"linePrefix",s+1)(t):p(t)}function p(t){return null===t||sl(t)?e.check(sH,u,f)(t):(e.enter("codeFlowValue"),function t(n){return null===n||sl(n)?(e.exit("codeFlowValue"),p(n)):(e.consume(n),t)}(t))}function f(n){return e.exit("codeFenced"),t(n)}}},sz={name:"codeIndented",tokenize:function(e,t,n){let r=this;return function(t){return e.enter("codeIndented"),sf(e,i,"linePrefix",5)(t)};function i(t){let i=r.events[r.events.length-1];return i&&"linePrefix"===i[1].type&&i[2].sliceSerialize(i[1],!0).length>=4?function t(n){return null===n?a(n):sl(n)?e.attempt(sV,t,a)(n):(e.enter("codeFlowValue"),function n(r){return null===r||sl(r)?(e.exit("codeFlowValue"),t(r)):(e.consume(r),n)}(n))}(t):n(t)}function a(n){return e.exit("codeIndented"),t(n)}}},sV={partial:!0,tokenize:function(e,t,n){let r=this;return i;function i(t){return r.parser.lazy[r.now().line]?n(t):sl(t)?(e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),i):sf(e,a,"linePrefix",5)(t)}function a(e){let a=r.events[r.events.length-1];return a&&"linePrefix"===a[1].type&&a[2].sliceSerialize(a[1],!0).length>=4?t(e):sl(e)?i(e):n(e)}}};function sG(e,t,n,r,i,a,s,o,l){let c=l||1/0,u=0;return function(t){return 60===t?(e.enter(r),e.enter(i),e.enter(a),e.consume(t),e.exit(a),d):null===t||32===t||41===t||si(t)?n(t):(e.enter(r),e.enter(s),e.enter(o),e.enter("chunkString",{contentType:"string"}),f(t))};function d(n){return 62===n?(e.enter(a),e.consume(n),e.exit(a),e.exit(i),e.exit(r),t):(e.enter(o),e.enter("chunkString",{contentType:"string"}),h(n))}function h(t){return 62===t?(e.exit("chunkString"),e.exit(o),d(t)):null===t||60===t||sl(t)?n(t):(e.consume(t),92===t?p:h)}function p(t){return 60===t||62===t||92===t?(e.consume(t),h):h(t)}function f(i){return!u&&(null===i||41===i||sc(i))?(e.exit("chunkString"),e.exit(o),e.exit(s),e.exit(r),t(i)):u<c&&40===i?(e.consume(i),u++,f):41===i?(e.consume(i),u--,f):null===i||32===i||40===i||si(i)?n(i):(e.consume(i),92===i?m:f)}function m(t){return 40===t||41===t||92===t?(e.consume(t),f):f(t)}}function sq(e,t,n,r,i,a){let s,o=this,l=0;return function(t){return e.enter(r),e.enter(i),e.consume(t),e.exit(i),e.enter(a),c};function c(d){return l>999||null===d||91===d||93===d&&!s||94===d&&!l&&"_hiddenFootnoteSupport"in o.parser.constructs?n(d):93===d?(e.exit(a),e.enter(i),e.consume(d),e.exit(i),e.exit(r),t):sl(d)?(e.enter("lineEnding"),e.consume(d),e.exit("lineEnding"),c):(e.enter("chunkString",{contentType:"string"}),u(d))}function u(t){return null===t||91===t||93===t||sl(t)||l++>999?(e.exit("chunkString"),c(t)):(e.consume(t),s||(s=!su(t)),92===t?d:u)}function d(t){return 91===t||92===t||93===t?(e.consume(t),l++,u):u(t)}}function sZ(e,t,n,r,i,a){let s;return function(t){return 34===t||39===t||40===t?(e.enter(r),e.enter(i),e.consume(t),e.exit(i),s=40===t?41:t,o):n(t)};function o(n){return n===s?(e.enter(i),e.consume(n),e.exit(i),e.exit(r),t):(e.enter(a),l(n))}function l(t){return t===s?(e.exit(a),o(s)):null===t?n(t):sl(t)?(e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),sf(e,l,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),c(t))}function c(t){return t===s||null===t||sl(t)?(e.exit("chunkString"),l(t)):(e.consume(t),92===t?u:c)}function u(t){return t===s||92===t?(e.consume(t),c):c(t)}}function s$(e,t){let n;return function r(i){return sl(i)?(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),n=!0,r):su(i)?sf(e,r,n?"linePrefix":"lineSuffix")(i):t(i)}}function sW(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}let sY={partial:!0,tokenize:function(e,t,n){return function(t){return sc(t)?s$(e,r)(t):n(t)};function r(t){return sZ(e,i,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(t)}function i(t){return su(t)?sf(e,a,"whitespace")(t):a(t)}function a(e){return null===e||sl(e)?t(e):n(e)}}},sK=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],sJ=["pre","script","style","textarea"],sQ={partial:!0,tokenize:function(e,t,n){return function(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),e.attempt(sb,t,n)}}},sX={partial:!0,tokenize:function(e,t,n){let r=this;return function(t){return sl(t)?(e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),i):n(t)};function i(e){return r.parser.lazy[r.now().line]?n(e):t(e)}}},s0={name:"labelEnd",resolveAll:function(e){let t=-1,n=[];for(;++t<e.length;){let r=e[t][1];if(n.push(e[t]),"labelImage"===r.type||"labelLink"===r.type||"labelEnd"===r.type){let e="labelImage"===r.type?4:2;r.type="data",t+=e}}return e.length!==n.length&&a9(e,0,e.length,n),e},resolveTo:function(e,t){let n,r,i,a,s=e.length,o=0;for(;s--;)if(n=e[s][1],r){if("link"===n.type||"labelLink"===n.type&&n._inactive)break;"enter"===e[s][0]&&"labelLink"===n.type&&(n._inactive=!0)}else if(i){if("enter"===e[s][0]&&("labelImage"===n.type||"labelLink"===n.type)&&!n._balanced&&(r=s,"labelLink"!==n.type)){o=2;break}}else"labelEnd"===n.type&&(i=s);let l={type:"labelLink"===e[r][1].type?"link":"image",start:{...e[r][1].start},end:{...e[e.length-1][1].end}},c={type:"label",start:{...e[r][1].start},end:{...e[i][1].end}},u={type:"labelText",start:{...e[r+o+2][1].end},end:{...e[i-2][1].start}};return a=a8(a=[["enter",l,t],["enter",c,t]],e.slice(r+1,r+o+3)),a=a8(a,[["enter",u,t]]),a=a8(a,sM(t.parser.constructs.insideSpan.null,e.slice(r+o+4,i-3),t)),a=a8(a,[["exit",u,t],e[i-2],e[i-1],["exit",c,t]]),a=a8(a,e.slice(i+1)),a=a8(a,[["exit",l,t]]),a9(e,r,e.length,a),e},tokenize:function(e,t,n){let r,i,a=this,s=a.events.length;for(;s--;)if(("labelImage"===a.events[s][1].type||"labelLink"===a.events[s][1].type)&&!a.events[s][1]._balanced){r=a.events[s][1];break}return function(t){return r?r._inactive?u(t):(i=a.parser.defined.includes(sW(a.sliceSerialize({start:r.end,end:a.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(t),e.exit("labelMarker"),e.exit("labelEnd"),o):n(t)};function o(t){return 40===t?e.attempt(s1,c,i?c:u)(t):91===t?e.attempt(s2,c,i?l:u)(t):i?c(t):u(t)}function l(t){return e.attempt(s5,c,u)(t)}function c(e){return t(e)}function u(e){return r._balanced=!0,n(e)}}},s1={tokenize:function(e,t,n){return function(t){return e.enter("resource"),e.enter("resourceMarker"),e.consume(t),e.exit("resourceMarker"),r};function r(t){return sc(t)?s$(e,i)(t):i(t)}function i(t){return 41===t?c(t):sG(e,a,s,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(t)}function a(t){return sc(t)?s$(e,o)(t):c(t)}function s(e){return n(e)}function o(t){return 34===t||39===t||40===t?sZ(e,l,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(t):c(t)}function l(t){return sc(t)?s$(e,c)(t):c(t)}function c(r){return 41===r?(e.enter("resourceMarker"),e.consume(r),e.exit("resourceMarker"),e.exit("resource"),t):n(r)}}},s2={tokenize:function(e,t,n){let r=this;return function(t){return sq.call(r,e,i,a,"reference","referenceMarker","referenceString")(t)};function i(e){return r.parser.defined.includes(sW(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(e):n(e)}function a(e){return n(e)}}},s5={tokenize:function(e,t,n){return function(t){return e.enter("reference"),e.enter("referenceMarker"),e.consume(t),e.exit("referenceMarker"),r};function r(r){return 93===r?(e.enter("referenceMarker"),e.consume(r),e.exit("referenceMarker"),e.exit("reference"),t):n(r)}}},s3={name:"labelStartImage",resolveAll:s0.resolveAll,tokenize:function(e,t,n){let r=this;return function(t){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(t),e.exit("labelImageMarker"),i};function i(t){return 91===t?(e.enter("labelMarker"),e.consume(t),e.exit("labelMarker"),e.exit("labelImage"),a):n(t)}function a(e){return 94===e&&"_hiddenFootnoteSupport"in r.parser.constructs?n(e):t(e)}}},s4={name:"labelStartLink",resolveAll:s0.resolveAll,tokenize:function(e,t,n){let r=this;return function(t){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(t),e.exit("labelMarker"),e.exit("labelLink"),i};function i(e){return 94===e&&"_hiddenFootnoteSupport"in r.parser.constructs?n(e):t(e)}}},s6={name:"lineEnding",tokenize:function(e,t){return function(n){return e.enter("lineEnding"),e.consume(n),e.exit("lineEnding"),sf(e,t,"linePrefix")}}},s9={name:"thematicBreak",tokenize:function(e,t,n){let r,i=0;return function(a){var s;return e.enter("thematicBreak"),r=s=a,function a(s){return s===r?(e.enter("thematicBreakSequence"),function t(n){return n===r?(e.consume(n),i++,t):(e.exit("thematicBreakSequence"),su(n)?sf(e,a,"whitespace")(n):a(n))}(s)):i>=3&&(null===s||sl(s))?(e.exit("thematicBreak"),t(s)):n(s)}(s)}}},s8={continuation:{tokenize:function(e,t,n){let r=this;return r.containerState._closeFlow=void 0,e.check(sb,function(n){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,sf(e,t,"listItemIndent",r.containerState.size+1)(n)},function(n){return r.containerState.furtherBlankLines||!su(n)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,i(n)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(oe,t,i)(n))});function i(i){return r.containerState._closeFlow=!0,r.interrupt=void 0,sf(e,e.attempt(s8,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(i)}}},exit:function(e){e.exit(this.containerState.type)},name:"list",tokenize:function(e,t,n){let r=this,i=r.events[r.events.length-1],a=i&&"linePrefix"===i[1].type?i[2].sliceSerialize(i[1],!0).length:0,s=0;return function(t){let i=r.containerState.type||(42===t||43===t||45===t?"listUnordered":"listOrdered");if("listUnordered"===i?!r.containerState.marker||t===r.containerState.marker:sa(t)){if(r.containerState.type||(r.containerState.type=i,e.enter(i,{_container:!0})),"listUnordered"===i)return e.enter("listItemPrefix"),42===t||45===t?e.check(s9,n,o)(t):o(t);if(!r.interrupt||49===t)return e.enter("listItemPrefix"),e.enter("listItemValue"),function t(i){return sa(i)&&++s<10?(e.consume(i),t):(!r.interrupt||s<2)&&(r.containerState.marker?i===r.containerState.marker:41===i||46===i)?(e.exit("listItemValue"),o(i)):n(i)}(t)}return n(t)};function o(t){return e.enter("listItemMarker"),e.consume(t),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||t,e.check(sb,r.interrupt?n:l,e.attempt(s7,u,c))}function l(e){return r.containerState.initialBlankLine=!0,a++,u(e)}function c(t){return su(t)?(e.enter("listItemPrefixWhitespace"),e.consume(t),e.exit("listItemPrefixWhitespace"),u):n(t)}function u(n){return r.containerState.size=a+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(n)}}},s7={partial:!0,tokenize:function(e,t,n){let r=this;return sf(e,function(e){let i=r.events[r.events.length-1];return!su(e)&&i&&"listItemPrefixWhitespace"===i[1].type?t(e):n(e)},"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5)}},oe={partial:!0,tokenize:function(e,t,n){let r=this;return sf(e,function(e){let i=r.events[r.events.length-1];return i&&"listItemIndent"===i[1].type&&i[2].sliceSerialize(i[1],!0).length===r.containerState.size?t(e):n(e)},"listItemIndent",r.containerState.size+1)}},ot={name:"setextUnderline",resolveTo:function(e,t){let n,r,i,a=e.length;for(;a--;)if("enter"===e[a][0]){if("content"===e[a][1].type){n=a;break}"paragraph"===e[a][1].type&&(r=a)}else"content"===e[a][1].type&&e.splice(a,1),i||"definition"!==e[a][1].type||(i=a);let s={type:"setextHeading",start:{...e[n][1].start},end:{...e[e.length-1][1].end}};return e[r][1].type="setextHeadingText",i?(e.splice(r,0,["enter",s,t]),e.splice(i+1,0,["exit",e[n][1],t]),e[n][1].end={...e[i][1].end}):e[n][1]=s,e.push(["exit",s,t]),e},tokenize:function(e,t,n){let r,i=this;return function(t){var s;let o,l=i.events.length;for(;l--;)if("lineEnding"!==i.events[l][1].type&&"linePrefix"!==i.events[l][1].type&&"content"!==i.events[l][1].type){o="paragraph"===i.events[l][1].type;break}return!i.parser.lazy[i.now().line]&&(i.interrupt||o)?(e.enter("setextHeadingLine"),r=t,s=t,e.enter("setextHeadingLineSequence"),function t(n){return n===r?(e.consume(n),t):(e.exit("setextHeadingLineSequence"),su(n)?sf(e,a,"lineSuffix")(n):a(n))}(s)):n(t)};function a(r){return null===r||sl(r)?(e.exit("setextHeadingLine"),t(r)):n(r)}}},on={42:s8,43:s8,45:s8,48:s8,49:s8,50:s8,51:s8,52:s8,53:s8,54:s8,55:s8,56:s8,57:s8,62:sP},or={91:{name:"definition",tokenize:function(e,t,n){let r,i=this;return function(t){var r;return e.enter("definition"),r=t,sq.call(i,e,a,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(r)};function a(t){return(r=sW(i.sliceSerialize(i.events[i.events.length-1][1]).slice(1,-1)),58===t)?(e.enter("definitionMarker"),e.consume(t),e.exit("definitionMarker"),s):n(t)}function s(t){return sc(t)?s$(e,o)(t):o(t)}function o(t){return sG(e,l,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(t)}function l(t){return e.attempt(sY,c,c)(t)}function c(t){return su(t)?sf(e,u,"whitespace")(t):u(t)}function u(a){return null===a||sl(a)?(e.exit("definition"),i.parser.defined.push(r),t(a)):n(a)}}}},oi={[-2]:sz,[-1]:sz,32:sz},oa={35:{name:"headingAtx",resolve:function(e,t){let n,r,i=e.length-2,a=3;return"whitespace"===e[3][1].type&&(a+=2),i-2>a&&"whitespace"===e[i][1].type&&(i-=2),"atxHeadingSequence"===e[i][1].type&&(a===i-1||i-4>a&&"whitespace"===e[i-2][1].type)&&(i-=a+1===i?2:4),i>a&&(n={type:"atxHeadingText",start:e[a][1].start,end:e[i][1].end},r={type:"chunkText",start:e[a][1].start,end:e[i][1].end,contentType:"text"},a9(e,a,i-a+1,[["enter",n,t],["enter",r,t],["exit",r,t],["exit",n,t]])),e},tokenize:function(e,t,n){let r=0;return function(i){var a;return e.enter("atxHeading"),a=i,e.enter("atxHeadingSequence"),function i(a){return 35===a&&r++<6?(e.consume(a),i):null===a||sc(a)?(e.exit("atxHeadingSequence"),function n(r){return 35===r?(e.enter("atxHeadingSequence"),function t(r){return 35===r?(e.consume(r),t):(e.exit("atxHeadingSequence"),n(r))}(r)):null===r||sl(r)?(e.exit("atxHeading"),t(r)):su(r)?sf(e,n,"whitespace")(r):(e.enter("atxHeadingText"),function t(r){return null===r||35===r||sc(r)?(e.exit("atxHeadingText"),n(r)):(e.consume(r),t)}(r))}(a)):n(a)}(a)}}},42:s9,45:[ot,s9],60:{concrete:!0,name:"htmlFlow",resolveTo:function(e){let t=e.length;for(;t--&&("enter"!==e[t][0]||"htmlFlow"!==e[t][1].type););return t>1&&"linePrefix"===e[t-2][1].type&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e},tokenize:function(e,t,n){let r,i,a,s,o,l=this;return function(t){var n;return n=t,e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(n),c};function c(s){return 33===s?(e.consume(s),u):47===s?(e.consume(s),i=!0,p):63===s?(e.consume(s),r=3,l.interrupt?t:M):st(s)?(e.consume(s),a=String.fromCharCode(s),f):n(s)}function u(i){return 45===i?(e.consume(i),r=2,d):91===i?(e.consume(i),r=5,s=0,h):st(i)?(e.consume(i),r=4,l.interrupt?t:M):n(i)}function d(r){return 45===r?(e.consume(r),l.interrupt?t:M):n(r)}function h(r){let i="CDATA[";return r===i.charCodeAt(s++)?(e.consume(r),s===i.length)?l.interrupt?t:T:h:n(r)}function p(t){return st(t)?(e.consume(t),a=String.fromCharCode(t),f):n(t)}function f(s){if(null===s||47===s||62===s||sc(s)){let o=47===s,c=a.toLowerCase();return!o&&!i&&sJ.includes(c)?(r=1,l.interrupt?t(s):T(s)):sK.includes(a.toLowerCase())?(r=6,o)?(e.consume(s),m):l.interrupt?t(s):T(s):(r=7,l.interrupt&&!l.parser.lazy[l.now().line]?n(s):i?function t(n){return su(n)?(e.consume(n),t):_(n)}(s):g(s))}return 45===s||sn(s)?(e.consume(s),a+=String.fromCharCode(s),f):n(s)}function m(r){return 62===r?(e.consume(r),l.interrupt?t:T):n(r)}function g(t){return 47===t?(e.consume(t),_):58===t||95===t||st(t)?(e.consume(t),y):su(t)?(e.consume(t),g):_(t)}function y(t){return 45===t||46===t||58===t||95===t||sn(t)?(e.consume(t),y):b(t)}function b(t){return 61===t?(e.consume(t),v):su(t)?(e.consume(t),b):g(t)}function v(t){return null===t||60===t||61===t||62===t||96===t?n(t):34===t||39===t?(e.consume(t),o=t,k):su(t)?(e.consume(t),v):function t(n){return null===n||34===n||39===n||47===n||60===n||61===n||62===n||96===n||sc(n)?b(n):(e.consume(n),t)}(t)}function k(t){return t===o?(e.consume(t),o=null,x):null===t||sl(t)?n(t):(e.consume(t),k)}function x(e){return 47===e||62===e||su(e)?g(e):n(e)}function _(t){return 62===t?(e.consume(t),E):n(t)}function E(t){return null===t||sl(t)?T(t):su(t)?(e.consume(t),E):n(t)}function T(t){return 45===t&&2===r?(e.consume(t),A):60===t&&1===r?(e.consume(t),N):62===t&&4===r?(e.consume(t),O):63===t&&3===r?(e.consume(t),M):93===t&&5===r?(e.consume(t),D):sl(t)&&(6===r||7===r)?(e.exit("htmlFlowData"),e.check(sQ,R,S)(t)):null===t||sl(t)?(e.exit("htmlFlowData"),S(t)):(e.consume(t),T)}function S(t){return e.check(sX,w,R)(t)}function w(t){return e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),C}function C(t){return null===t||sl(t)?S(t):(e.enter("htmlFlowData"),T(t))}function A(t){return 45===t?(e.consume(t),M):T(t)}function N(t){return 47===t?(e.consume(t),a="",I):T(t)}function I(t){if(62===t){let n=a.toLowerCase();return sJ.includes(n)?(e.consume(t),O):T(t)}return st(t)&&a.length<8?(e.consume(t),a+=String.fromCharCode(t),I):T(t)}function D(t){return 93===t?(e.consume(t),M):T(t)}function M(t){return 62===t?(e.consume(t),O):45===t&&2===r?(e.consume(t),M):T(t)}function O(t){return null===t||sl(t)?(e.exit("htmlFlowData"),R(t)):(e.consume(t),O)}function R(n){return e.exit("htmlFlow"),t(n)}}},61:ot,95:s9,96:sU,126:sU},oo={38:sB,92:sL},ol={[-5]:s6,[-4]:s6,[-3]:s6,33:s3,38:sB,42:sO,60:[{name:"autolink",tokenize:function(e,t,n){let r=0;return function(t){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(t),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),i};function i(t){return st(t)?(e.consume(t),a):64===t?n(t):o(t)}function a(t){return 43===t||45===t||46===t||sn(t)?(r=1,function t(n){return 58===n?(e.consume(n),r=0,s):(43===n||45===n||46===n||sn(n))&&r++<32?(e.consume(n),t):(r=0,o(n))}(t)):o(t)}function s(r){return 62===r?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(r),e.exit("autolinkMarker"),e.exit("autolink"),t):null===r||32===r||60===r||si(r)?n(r):(e.consume(r),s)}function o(t){return 64===t?(e.consume(t),l):sr(t)?(e.consume(t),o):n(t)}function l(i){return sn(i)?function i(a){return 46===a?(e.consume(a),r=0,l):62===a?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(a),e.exit("autolinkMarker"),e.exit("autolink"),t):function t(a){if((45===a||sn(a))&&r++<63){let n=45===a?t:i;return e.consume(a),n}return n(a)}(a)}(i):n(i)}}},{name:"htmlText",tokenize:function(e,t,n){let r,i,a,s=this;return function(t){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(t),o};function o(t){return 33===t?(e.consume(t),l):47===t?(e.consume(t),k):63===t?(e.consume(t),b):st(t)?(e.consume(t),_):n(t)}function l(t){return 45===t?(e.consume(t),c):91===t?(e.consume(t),i=0,p):st(t)?(e.consume(t),y):n(t)}function c(t){return 45===t?(e.consume(t),h):n(t)}function u(t){return null===t?n(t):45===t?(e.consume(t),d):sl(t)?(a=u,I(t)):(e.consume(t),u)}function d(t){return 45===t?(e.consume(t),h):u(t)}function h(e){return 62===e?N(e):45===e?d(e):u(e)}function p(t){let r="CDATA[";return t===r.charCodeAt(i++)?(e.consume(t),i===r.length?f:p):n(t)}function f(t){return null===t?n(t):93===t?(e.consume(t),m):sl(t)?(a=f,I(t)):(e.consume(t),f)}function m(t){return 93===t?(e.consume(t),g):f(t)}function g(t){return 62===t?N(t):93===t?(e.consume(t),g):f(t)}function y(t){return null===t||62===t?N(t):sl(t)?(a=y,I(t)):(e.consume(t),y)}function b(t){return null===t?n(t):63===t?(e.consume(t),v):sl(t)?(a=b,I(t)):(e.consume(t),b)}function v(e){return 62===e?N(e):b(e)}function k(t){return st(t)?(e.consume(t),x):n(t)}function x(t){return 45===t||sn(t)?(e.consume(t),x):function t(n){return sl(n)?(a=t,I(n)):su(n)?(e.consume(n),t):N(n)}(t)}function _(t){return 45===t||sn(t)?(e.consume(t),_):47===t||62===t||sc(t)?E(t):n(t)}function E(t){return 47===t?(e.consume(t),N):58===t||95===t||st(t)?(e.consume(t),T):sl(t)?(a=E,I(t)):su(t)?(e.consume(t),E):N(t)}function T(t){return 45===t||46===t||58===t||95===t||sn(t)?(e.consume(t),T):function t(n){return 61===n?(e.consume(n),S):sl(n)?(a=t,I(n)):su(n)?(e.consume(n),t):E(n)}(t)}function S(t){return null===t||60===t||61===t||62===t||96===t?n(t):34===t||39===t?(e.consume(t),r=t,w):sl(t)?(a=S,I(t)):su(t)?(e.consume(t),S):(e.consume(t),C)}function w(t){return t===r?(e.consume(t),r=void 0,A):null===t?n(t):sl(t)?(a=w,I(t)):(e.consume(t),w)}function C(t){return null===t||34===t||39===t||60===t||61===t||96===t?n(t):47===t||62===t||sc(t)?E(t):(e.consume(t),C)}function A(e){return 47===e||62===e||sc(e)?E(e):n(e)}function N(r){return 62===r?(e.consume(r),e.exit("htmlTextData"),e.exit("htmlText"),t):n(r)}function I(t){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),D}function D(t){return su(t)?sf(e,M,"linePrefix",s.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(t):M(t)}function M(t){return e.enter("htmlTextData"),a(t)}}}],91:s4,92:[{name:"hardBreakEscape",tokenize:function(e,t,n){return function(t){return e.enter("hardBreakEscape"),e.consume(t),r};function r(r){return sl(r)?(e.exit("hardBreakEscape"),t(r)):n(r)}}},sL],93:s0,95:sO,96:{name:"codeText",previous:function(e){return 96!==e||"characterEscape"===this.events[this.events.length-1][1].type},resolve:function(e){let t,n,r=e.length-4,i=3;if(("lineEnding"===e[3][1].type||"space"===e[i][1].type)&&("lineEnding"===e[r][1].type||"space"===e[r][1].type)){for(t=i;++t<r;)if("codeTextData"===e[t][1].type){e[i][1].type="codeTextPadding",e[r][1].type="codeTextPadding",i+=2,r-=2;break}}for(t=i-1,r++;++t<=r;)void 0===n?t!==r&&"lineEnding"!==e[t][1].type&&(n=t):(t===r||"lineEnding"===e[t][1].type)&&(e[n][1].type="codeTextData",t!==n+2&&(e[n][1].end=e[t-1][1].end,e.splice(n+2,t-n-2),r-=t-n-2,t=n+2),n=void 0);return e},tokenize:function(e,t,n){let r,i,a=0;return function(t){return e.enter("codeText"),e.enter("codeTextSequence"),function t(n){return 96===n?(e.consume(n),a++,t):(e.exit("codeTextSequence"),s(n))}(t)};function s(l){return null===l?n(l):32===l?(e.enter("space"),e.consume(l),e.exit("space"),s):96===l?(i=e.enter("codeTextSequence"),r=0,function n(s){return 96===s?(e.consume(s),r++,n):r===a?(e.exit("codeTextSequence"),e.exit("codeText"),t(s)):(i.type="codeTextData",o(s))}(l)):sl(l)?(e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),s):(e.enter("codeTextData"),o(l))}function o(t){return null===t||32===t||96===t||sl(t)?(e.exit("codeTextData"),s(t)):(e.consume(t),o)}}}},oc={null:[sO,sS]},ou={null:[42,95]},od={null:[]};var oh=e.i(304127);let op=/[\0\t\n\r]/g;function of(e,t){let n=Number.parseInt(e,t);return n<9||11===n||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(65535&n)==65535||(65535&n)==65534||n>1114111?"":String.fromCodePoint(n)}let om=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function og(e,t,n){if(t)return t;if(35===n.charCodeAt(0)){let e=n.charCodeAt(1),t=120===e||88===e;return of(n.slice(t?2:1),t?16:10)}return sj(n)||e}let oy={}.hasOwnProperty;function ob(e){return{line:e.line,column:e.column,offset:e.offset}}function ov(e,t){if(e)throw Error("Cannot close `"+e.type+"` ("+aj({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+aj({start:t.start,end:t.end})+") is open");throw Error("Cannot close document, a token (`"+t.type+"`, "+aj({start:t.start,end:t.end})+") is still open")}function ok(e){let t=this;t.parser=function(n){var r,i;let a,s,o,l;return"string"!=typeof(r={...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})&&(i=r,r=void 0),(function(e){let t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:r(y),autolinkProtocol:c,autolinkEmail:c,atxHeading:r(f),blockQuote:r(function(){return{type:"blockquote",children:[]}}),characterEscape:c,characterReference:c,codeFenced:r(p),codeFencedFenceInfo:i,codeFencedFenceMeta:i,codeIndented:r(p,i),codeText:r(function(){return{type:"inlineCode",value:""}},i),codeTextData:c,data:c,codeFlowValue:c,definition:r(function(){return{type:"definition",identifier:"",label:null,title:null,url:""}}),definitionDestinationString:i,definitionLabelString:i,definitionTitleString:i,emphasis:r(function(){return{type:"emphasis",children:[]}}),hardBreakEscape:r(m),hardBreakTrailing:r(m),htmlFlow:r(g,i),htmlFlowData:c,htmlText:r(g,i),htmlTextData:c,image:r(function(){return{type:"image",title:null,url:"",alt:null}}),label:i,link:r(y),listItem:r(function(e){return{type:"listItem",spread:e._spread,checked:null,children:[]}}),listItemValue:function(e){this.data.expectingFirstListItemValue&&(this.stack[this.stack.length-2].start=Number.parseInt(this.sliceSerialize(e),10),this.data.expectingFirstListItemValue=void 0)},listOrdered:r(b,function(){this.data.expectingFirstListItemValue=!0}),listUnordered:r(b),paragraph:r(function(){return{type:"paragraph",children:[]}}),reference:function(){this.data.referenceType="collapsed"},referenceString:i,resourceDestinationString:i,resourceTitleString:i,setextHeading:r(f),strong:r(function(){return{type:"strong",children:[]}}),thematicBreak:r(function(){return{type:"thematicBreak"}})},exit:{atxHeading:s(),atxHeadingSequence:function(e){let t=this.stack[this.stack.length-1];t.depth||(t.depth=this.sliceSerialize(e).length)},autolink:s(),autolinkEmail:function(e){u.call(this,e),this.stack[this.stack.length-1].url="mailto:"+this.sliceSerialize(e)},autolinkProtocol:function(e){u.call(this,e),this.stack[this.stack.length-1].url=this.sliceSerialize(e)},blockQuote:s(),characterEscapeValue:u,characterReferenceMarkerHexadecimal:h,characterReferenceMarkerNumeric:h,characterReferenceValue:function(e){let t,n=this.sliceSerialize(e),r=this.data.characterReferenceType;r?(t=of(n,"characterReferenceMarkerNumeric"===r?10:16),this.data.characterReferenceType=void 0):t=sj(n);let i=this.stack[this.stack.length-1];i.value+=t},characterReference:function(e){this.stack.pop().position.end=ob(e.end)},codeFenced:s(function(){let e=this.resume();this.stack[this.stack.length-1].value=e.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}),codeFencedFence:function(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)},codeFencedFenceInfo:function(){let e=this.resume();this.stack[this.stack.length-1].lang=e},codeFencedFenceMeta:function(){let e=this.resume();this.stack[this.stack.length-1].meta=e},codeFlowValue:u,codeIndented:s(function(){let e=this.resume();this.stack[this.stack.length-1].value=e.replace(/(\r?\n|\r)$/g,"")}),codeText:s(function(){let e=this.resume();this.stack[this.stack.length-1].value=e}),codeTextData:u,data:u,definition:s(),definitionDestinationString:function(){let e=this.resume();this.stack[this.stack.length-1].url=e},definitionLabelString:function(e){let t=this.resume(),n=this.stack[this.stack.length-1];n.label=t,n.identifier=sW(this.sliceSerialize(e)).toLowerCase()},definitionTitleString:function(){let e=this.resume();this.stack[this.stack.length-1].title=e},emphasis:s(),hardBreakEscape:s(d),hardBreakTrailing:s(d),htmlFlow:s(function(){let e=this.resume();this.stack[this.stack.length-1].value=e}),htmlFlowData:u,htmlText:s(function(){let e=this.resume();this.stack[this.stack.length-1].value=e}),htmlTextData:u,image:s(function(){let e=this.stack[this.stack.length-1];if(this.data.inReference){let t=this.data.referenceType||"shortcut";e.type+="Reference",e.referenceType=t,delete e.url,delete e.title}else delete e.identifier,delete e.label;this.data.referenceType=void 0}),label:function(){let e=this.stack[this.stack.length-1],t=this.resume(),n=this.stack[this.stack.length-1];this.data.inReference=!0,"link"===n.type?n.children=e.children:n.alt=t},labelText:function(e){let t=this.sliceSerialize(e),n=this.stack[this.stack.length-2];n.label=t.replace(om,og),n.identifier=sW(t).toLowerCase()},lineEnding:function(e){let n=this.stack[this.stack.length-1];if(this.data.atHardBreak){n.children[n.children.length-1].position.end=ob(e.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(n.type)&&(c.call(this,e),u.call(this,e))},link:s(function(){let e=this.stack[this.stack.length-1];if(this.data.inReference){let t=this.data.referenceType||"shortcut";e.type+="Reference",e.referenceType=t,delete e.url,delete e.title}else delete e.identifier,delete e.label;this.data.referenceType=void 0}),listItem:s(),listOrdered:s(),listUnordered:s(),paragraph:s(),referenceString:function(e){let t=this.resume(),n=this.stack[this.stack.length-1];n.label=t,n.identifier=sW(this.sliceSerialize(e)).toLowerCase(),this.data.referenceType="full"},resourceDestinationString:function(){let e=this.resume();this.stack[this.stack.length-1].url=e},resourceTitleString:function(){let e=this.resume();this.stack[this.stack.length-1].title=e},resource:function(){this.data.inReference=void 0},setextHeading:s(function(){this.data.setextHeadingSlurpLineEnding=void 0}),setextHeadingLineSequence:function(e){this.stack[this.stack.length-1].depth=61===this.sliceSerialize(e).codePointAt(0)?1:2},setextHeadingText:function(){this.data.setextHeadingSlurpLineEnding=!0},strong:s(),thematicBreak:s()}};!function e(t,n){let r=-1;for(;++r<n.length;){let i=n[r];Array.isArray(i)?e(t,i):function(e,t){let n;for(n in t)if(oy.call(t,n))switch(n){case"canContainEols":{let r=t[n];r&&e[n].push(...r);break}case"transforms":{let r=t[n];r&&e[n].push(...r);break}case"enter":case"exit":{let r=t[n];r&&Object.assign(e[n],r)}}}(t,i)}}(t,(e||{}).mdastExtensions||[]);let n={};return function(e){let r={type:"root",children:[]},s={stack:[r],tokenStack:[],config:t,enter:a,exit:o,buffer:i,resume:l,data:n},c=[],u=-1;for(;++u<e.length;)("listOrdered"===e[u][1].type||"listUnordered"===e[u][1].type)&&("enter"===e[u][0]?c.push(u):u=function(e,t,n){let r,i,a,s,o=t-1,l=-1,c=!1;for(;++o<=n;){let t=e[o];switch(t[1].type){case"listUnordered":case"listOrdered":case"blockQuote":"enter"===t[0]?l++:l--,s=void 0;break;case"lineEndingBlank":"enter"===t[0]&&(!r||s||l||a||(a=o),s=void 0);break;case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:s=void 0}if(!l&&"enter"===t[0]&&"listItemPrefix"===t[1].type||-1===l&&"exit"===t[0]&&("listUnordered"===t[1].type||"listOrdered"===t[1].type)){if(r){let s=o;for(i=void 0;s--;){let t=e[s];if("lineEnding"===t[1].type||"lineEndingBlank"===t[1].type){if("exit"===t[0])continue;i&&(e[i][1].type="lineEndingBlank",c=!0),t[1].type="lineEnding",i=s}else if("linePrefix"===t[1].type||"blockQuotePrefix"===t[1].type||"blockQuotePrefixWhitespace"===t[1].type||"blockQuoteMarker"===t[1].type||"listItemIndent"===t[1].type);else break}a&&(!i||a<i)&&(r._spread=!0),r.end=Object.assign({},i?e[i][1].start:t[1].end),e.splice(i||o,0,["exit",r,t[2]]),o++,n++}if("listItemPrefix"===t[1].type){let i={type:"listItem",_spread:!1,start:Object.assign({},t[1].start),end:void 0};r=i,e.splice(o,0,["enter",i,t[2]]),o++,n++,a=void 0,s=!0}}}return e[t][1]._spread=c,n}(e,c.pop(),u));for(u=-1;++u<e.length;){let n=t[e[u][0]];oy.call(n,e[u][1].type)&&n[e[u][1].type].call(Object.assign({sliceSerialize:e[u][2].sliceSerialize},s),e[u][1])}if(s.tokenStack.length>0){let e=s.tokenStack[s.tokenStack.length-1];(e[1]||ov).call(s,void 0,e[0])}for(r.position={start:ob(e.length>0?e[0][1].start:{line:1,column:1,offset:0}),end:ob(e.length>0?e[e.length-2][1].end:{line:1,column:1,offset:0})},u=-1;++u<t.transforms.length;)r=t.transforms[u](r)||r;return r};function r(e,t){return function(n){a.call(this,e(n),n),t&&t.call(this,n)}}function i(){this.stack.push({type:"fragment",children:[]})}function a(e,t,n){this.stack[this.stack.length-1].children.push(e),this.stack.push(e),this.tokenStack.push([t,n||void 0]),e.position={start:ob(t.start),end:void 0}}function s(e){return function(t){e&&e.call(this,t),o.call(this,t)}}function o(e,t){let n=this.stack.pop(),r=this.tokenStack.pop();if(r)r[0].type!==e.type&&(t?t.call(this,e,r[0]):(r[1]||ov).call(this,e,r[0]));else throw Error("Cannot close `"+e.type+"` ("+aj({start:e.start,end:e.end})+"): its not open");n.position.end=ob(e.end)}function l(){return a3(this.stack.pop())}function c(e){let t=this.stack[this.stack.length-1].children,n=t[t.length-1];n&&"text"===n.type||((n={type:"text",value:""}).position={start:ob(e.start),end:void 0},t.push(n)),this.stack.push(n)}function u(e){let t=this.stack.pop();t.value+=this.sliceSerialize(e),t.position.end=ob(e.end)}function d(){this.data.atHardBreak=!0}function h(e){this.data.characterReferenceType=e.type}function p(){return{type:"code",lang:null,meta:null,value:""}}function f(){return{type:"heading",depth:0,children:[]}}function m(){return{type:"break"}}function g(){return{type:"html",value:""}}function y(){return{type:"link",title:null,url:"",children:[]}}function b(e){return{type:"list",ordered:"listOrdered"===e.type,start:null,spread:e._spread,children:[]}}})(i)(function(e){for(;!sx(e););return e}((function(e){let t={constructs:se([oh,...(e||{}).extensions||[]]),content:n(sm),defined:[],document:n(sg),flow:n(sT),lazy:{},string:n(sw),text:n(sC)};return t;function n(e){return function(n){return function(e,t,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0},i={},a=[],s=[],o=[],l={attempt:f(function(e,t){m(e,t.from)}),check:f(p),consume:function(e){sl(e)?(r.line++,r.column=1,r.offset+=-3===e?2:1,g()):-1!==e&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===s[r._index].length&&(r._bufferIndex=-1,r._index++)),c.previous=e},enter:function(e,t){let n=t||{};return n.type=e,n.start=h(),c.events.push(["enter",n,c]),o.push(n),n},exit:function(e){let t=o.pop();return t.end=h(),c.events.push(["exit",t,c]),t},interrupt:f(p,{interrupt:!0})},c={code:null,containerState:{},defineSkip:function(e){i[e.line]=e.column,g()},events:[],now:h,parser:e,previous:null,sliceSerialize:function(e,t){return function(e,t){let n,r=-1,i=[];for(;++r<e.length;){let a,s=e[r];if("string"==typeof s)a=s;else switch(s){case -5:a="\r";break;case -4:a="\n";break;case -3:a="\r\n";break;case -2:a=t?" ":"	";break;case -1:if(!t&&n)continue;a=" ";break;default:a=String.fromCharCode(s)}n=-2===s,i.push(a)}return i.join("")}(d(e),t)},sliceStream:d,write:function(e){return(s=a8(s,e),function(){let e;for(;r._index<s.length;){let n=s[r._index];if("string"==typeof n)for(e=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===e&&r._bufferIndex<n.length;){var t;t=n.charCodeAt(r._bufferIndex),u=u(t)}else u=u(n)}}(),null!==s[s.length-1])?[]:(m(t,0),c.events=sM(a,c.events,c),c.events)}},u=t.tokenize.call(c,l);return t.resolveAll&&a.push(t),c;function d(e){return function(e,t){let n,r=t.start._index,i=t.start._bufferIndex,a=t.end._index,s=t.end._bufferIndex;if(r===a)n=[e[r].slice(i,s)];else{if(n=e.slice(r,a),i>-1){let e=n[0];"string"==typeof e?n[0]=e.slice(i):n.shift()}s>0&&n.push(e[a].slice(0,s))}return n}(s,e)}function h(){let{_bufferIndex:e,_index:t,line:n,column:i,offset:a}=r;return{_bufferIndex:e,_index:t,line:n,column:i,offset:a}}function p(e,t){t.restore()}function f(e,t){return function(n,i,a){var s;let u,d,p,f;return Array.isArray(n)?m(n):"tokenize"in n?m([n]):(s=n,function(e){let t=null!==e&&s[e],n=null!==e&&s.null;return m([...Array.isArray(t)?t:t?[t]:[],...Array.isArray(n)?n:n?[n]:[]])(e)});function m(e){return(u=e,d=0,0===e.length)?a:y(e[d])}function y(e){return function(n){return(f=function(){let e=h(),t=c.previous,n=c.currentConstruct,i=c.events.length,a=Array.from(o);return{from:i,restore:function(){r=e,c.previous=t,c.currentConstruct=n,c.events.length=i,o=a,g()}}}(),p=e,e.partial||(c.currentConstruct=e),e.name&&c.parser.constructs.disable.null.includes(e.name))?v(n):e.tokenize.call(t?Object.assign(Object.create(c),t):c,l,b,v)(n)}}function b(t){return e(p,f),i}function v(e){return(f.restore(),++d<u.length)?y(u[d]):a}}}function m(e,t){e.resolveAll&&!a.includes(e)&&a.push(e),e.resolve&&a9(c.events,t,c.events.length-t,e.resolve(c.events.slice(t),c)),e.resolveTo&&(c.events=e.resolveTo(c.events,c))}function g(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}(t,e,n)}}})(i).document().write((s=1,o="",l=!0,function(e,t,n){let r,i,c,u,d,h=[];for(e=o+("string"==typeof e?e.toString():new TextDecoder(t||void 0).decode(e)),c=0,o="",l&&(65279===e.charCodeAt(0)&&c++,l=void 0);c<e.length;){if(op.lastIndex=c,u=(r=op.exec(e))&&void 0!==r.index?r.index:e.length,d=e.charCodeAt(u),!r){o=e.slice(c);break}if(10===d&&c===u&&a)h.push(-3),a=void 0;else switch(a&&(h.push(-5),a=void 0),c<u&&(h.push(e.slice(c,u)),s+=u-c),d){case 0:h.push(65533),s++;break;case 9:for(i=4*Math.ceil(s/4),h.push(-2);s++<i;)h.push(-1);break;case 10:h.push(-4),s=1;break;default:a=!0,s=1}c=u+1}return n&&(a&&h.push(-5),o&&h.push(o),h.push(null)),h})(n,r,!0))))}}let ox="object"==typeof self?self:globalThis,o_=e=>((e,t)=>{let n=(t,n)=>(e.set(n,t),t),r=i=>{if(e.has(i))return e.get(i);let[a,s]=t[i];switch(a){case 0:case -1:return n(s,i);case 1:{let e=n([],i);for(let t of s)e.push(r(t));return e}case 2:{let e=n({},i);for(let[t,n]of s)e[r(t)]=r(n);return e}case 3:return n(new Date(s),i);case 4:{let{source:e,flags:t}=s;return n(new RegExp(e,t),i)}case 5:{let e=n(new Map,i);for(let[t,n]of s)e.set(r(t),r(n));return e}case 6:{let e=n(new Set,i);for(let t of s)e.add(r(t));return e}case 7:{let{name:e,message:t}=s;return n(new ox[e](t),i)}case 8:return n(BigInt(s),i);case"BigInt":return n(Object(BigInt(s)),i);case"ArrayBuffer":return n(new Uint8Array(s).buffer,s);case"DataView":{let{buffer:e}=new Uint8Array(s);return n(new DataView(e),s)}}return n(new ox[a](s),i)};return r})(new Map,e)(0),{toString:oE}={},{keys:oT}=Object,oS=e=>{let t=typeof e;if("object"!==t||!e)return[0,t];let n=oE.call(e).slice(8,-1);switch(n){case"Array":return[1,""];case"Object":return[2,""];case"Date":return[3,""];case"RegExp":return[4,""];case"Map":return[5,""];case"Set":return[6,""];case"DataView":return[1,n]}return n.includes("Array")?[1,n]:n.includes("Error")?[7,n]:[2,n]},ow=e=>{let[t,n]=e;return 0===t&&("function"===n||"symbol"===n)},oC=function(e){let{json:t,lossy:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=[];return((e,t,n,r)=>{let i=(e,t)=>{let i=r.push(e)-1;return n.set(t,i),i},a=r=>{if(n.has(r))return n.get(r);let[s,o]=oS(r);switch(s){case 0:{let t=r;switch(o){case"bigint":s=8,t=r.toString();break;case"function":case"symbol":if(e)throw TypeError("unable to serialize "+o);t=null;break;case"undefined":return i([-1],r)}return i([s,t],r)}case 1:{if(o){let e=r;return"DataView"===o?e=new Uint8Array(r.buffer):"ArrayBuffer"===o&&(e=new Uint8Array(r)),i([o,[...e]],r)}let e=[],t=i([s,e],r);for(let t of r)e.push(a(t));return t}case 2:{if(o)switch(o){case"BigInt":return i([o,r.toString()],r);case"Boolean":case"Number":case"String":return i([o,r.valueOf()],r)}if(t&&"toJSON"in r)return a(r.toJSON());let n=[],l=i([s,n],r);for(let t of oT(r))(e||!ow(oS(r[t])))&&n.push([a(t),a(r[t])]);return l}case 3:return i([s,r.toISOString()],r);case 4:{let{source:e,flags:t}=r;return i([s,{source:e,flags:t}],r)}case 5:{let t=[],n=i([s,t],r);for(let[n,i]of r)(e||!(ow(oS(n))||ow(oS(i))))&&t.push([a(n),a(i)]);return n}case 6:{let t=[],n=i([s,t],r);for(let n of r)(e||!ow(oS(n)))&&t.push(a(n));return n}}let{message:l}=r;return i([s,{name:o,message:l}],r)};return a})(!(t||n),!!t,new Map,r)(e),r},oA="function"==typeof structuredClone?(e,t)=>t&&("json"in t||"lossy"in t)?o_(oC(e,t)):structuredClone(e):(e,t)=>o_(oC(e,t));function oN(e){let t=[],n=-1,r=0,i=0;for(;++n<e.length;){let a=e.charCodeAt(n),s="";if(37===a&&sn(e.charCodeAt(n+1))&&sn(e.charCodeAt(n+2)))i=2;else if(a<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(a))||(s=String.fromCharCode(a));else if(a>55295&&a<57344){let t=e.charCodeAt(n+1);a<56320&&t>56319&&t<57344?(s=String.fromCharCode(a,t),i=1):s=""}else s=String.fromCharCode(a);s&&(t.push(e.slice(r,n),encodeURIComponent(s)),r=n+i+1,s=""),i&&(n+=i,i=0)}return t.join("")+e.slice(r)}function oI(e,t){let n=[{type:"text",value:""}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function oD(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}let oM=function(e){var t,n;if(null==e)return oR;if("function"==typeof e)return oO(e);if("object"==typeof e){return Array.isArray(e)?function(e){let t=[],n=-1;for(;++n<e.length;)t[n]=oM(e[n]);return oO(function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];let i=-1;for(;++i<t.length;)if(t[i].apply(this,n))return!0;return!1})}(e):(t=e,oO(function(e){let n;for(n in t)if(e[n]!==t[n])return!1;return!0}))}if("string"==typeof e){return n=e,oO(function(e){return e&&e.type===n})}throw Error("Expected function, string, or object as test")};function oO(e){return function(t,n,r){return!!(function(e){return null!==e&&"object"==typeof e&&"type"in e}(t)&&e.call(this,t,"number"==typeof n?n:void 0,r||void 0))}}function oR(){return!0}let oP=[],oL="skip";function oF(e,t,n,r){let i;"function"==typeof t&&"function"!=typeof n?(r=n,n=t):i=t;let a=oM(i),s=r?-1:1;(function e(i,o,l){let c=i&&"object"==typeof i?i:{};if("string"==typeof c.type){let e="string"==typeof c.tagName?c.tagName:"string"==typeof c.name?c.name:void 0;Object.defineProperty(u,"name",{value:"node ("+i.type+(e?"<"+e+">":"")+")"})}return u;function u(){var c;let u,d,h,p=oP;if((!t||a(i,o,l[l.length-1]||void 0))&&!1===(p=Array.isArray(c=n(i,l))?c:"number"==typeof c?[!0,c]:null==c?oP:[c])[0])return p;if("children"in i&&i.children&&i.children&&p[0]!==oL)for(d=(r?i.children.length:-1)+s,h=l.concat(i);d>-1&&d<i.children.length;){if(!1===(u=e(i.children[d],d,h)())[0])return u;d="number"==typeof u[1]?u[1]:d+s}return p}})(e,void 0,[])()}function oj(e,t,n,r){let i,a,s;"function"==typeof t&&"function"!=typeof n?(a=void 0,s=t,i=n):(a=t,s=n,i=r),oF(e,a,function(e,t){let n=t[t.length-1],r=n?n.children.indexOf(e):void 0;return s(e,r,n)},i)}function oB(e,t){let n=t.referenceType,r="]";if("collapsed"===n?r+="[]":"full"===n&&(r+="["+(t.label||t.identifier)+"]"),"imageReference"===t.type)return[{type:"text",value:"!["+t.alt+r}];let i=e.all(t),a=i[0];a&&"text"===a.type?a.value="["+a.value:i.unshift({type:"text",value:"["});let s=i[i.length-1];return s&&"text"===s.type?s.value+=r:i.push({type:"text",value:r}),i}function oH(e){let t=e.spread;return null==t?e.children.length>1:t}function oU(e,t,n){let r=0,i=e.length;if(t){let t=e.codePointAt(r);for(;9===t||32===t;)r++,t=e.codePointAt(r)}if(n){let t=e.codePointAt(i-1);for(;9===t||32===t;)i--,t=e.codePointAt(i-1)}return i>r?e.slice(r,i):""}let oz={blockquote:function(e,t){let n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)},break:function(e,t){let n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:"\n"}]},code:function(e,t){let n=t.value?t.value+"\n":"",r={};t.lang&&(r.className=["language-"+t.lang]);let i={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return t.meta&&(i.data={meta:t.meta}),e.patch(t,i),i={type:"element",tagName:"pre",properties:{},children:[i=e.applyData(t,i)]},e.patch(t,i),i},delete:function(e,t){let n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)},emphasis:function(e,t){let n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)},footnoteReference:function(e,t){let n,r="string"==typeof e.options.clobberPrefix?e.options.clobberPrefix:"user-content-",i=String(t.identifier).toUpperCase(),a=oN(i.toLowerCase()),s=e.footnoteOrder.indexOf(i),o=e.footnoteCounts.get(i);void 0===o?(o=0,e.footnoteOrder.push(i),n=e.footnoteOrder.length):n=s+1,o+=1,e.footnoteCounts.set(i,o);let l={type:"element",tagName:"a",properties:{href:"#"+r+"fn-"+a,id:r+"fnref-"+a+(o>1?"-"+o:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(n)}]};e.patch(t,l);let c={type:"element",tagName:"sup",properties:{},children:[l]};return e.patch(t,c),e.applyData(t,c)},heading:function(e,t){let n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)},html:function(e,t){if(e.options.allowDangerousHtml){let n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}},imageReference:function(e,t){let n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return oB(e,t);let i={src:oN(r.url||""),alt:t.alt};null!==r.title&&void 0!==r.title&&(i.title=r.title);let a={type:"element",tagName:"img",properties:i,children:[]};return e.patch(t,a),e.applyData(t,a)},image:function(e,t){let n={src:oN(t.url)};null!==t.alt&&void 0!==t.alt&&(n.alt=t.alt),null!==t.title&&void 0!==t.title&&(n.title=t.title);let r={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,r),e.applyData(t,r)},inlineCode:function(e,t){let n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);let r={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,r),e.applyData(t,r)},linkReference:function(e,t){let n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return oB(e,t);let i={href:oN(r.url||"")};null!==r.title&&void 0!==r.title&&(i.title=r.title);let a={type:"element",tagName:"a",properties:i,children:e.all(t)};return e.patch(t,a),e.applyData(t,a)},link:function(e,t){let n={href:oN(t.url)};null!==t.title&&void 0!==t.title&&(n.title=t.title);let r={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)},listItem:function(e,t,n){let r=e.all(t),i=n?function(e){let t=!1;if("list"===e.type){t=e.spread||!1;let n=e.children,r=-1;for(;!t&&++r<n.length;)t=oH(n[r])}return t}(n):oH(t),a={},s=[];if("boolean"==typeof t.checked){let e,n=r[0];n&&"element"===n.type&&"p"===n.tagName?e=n:(e={type:"element",tagName:"p",properties:{},children:[]},r.unshift(e)),e.children.length>0&&e.children.unshift({type:"text",value:" "}),e.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),a.className=["task-list-item"]}let o=-1;for(;++o<r.length;){let e=r[o];(i||0!==o||"element"!==e.type||"p"!==e.tagName)&&s.push({type:"text",value:"\n"}),"element"!==e.type||"p"!==e.tagName||i?s.push(e):s.push(...e.children)}let l=r[r.length-1];l&&(i||"element"!==l.type||"p"!==l.tagName)&&s.push({type:"text",value:"\n"});let c={type:"element",tagName:"li",properties:a,children:s};return e.patch(t,c),e.applyData(t,c)},list:function(e,t){let n={},r=e.all(t),i=-1;for("number"==typeof t.start&&1!==t.start&&(n.start=t.start);++i<r.length;){let e=r[i];if("element"===e.type&&"li"===e.tagName&&e.properties&&Array.isArray(e.properties.className)&&e.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}let a={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(r,!0)};return e.patch(t,a),e.applyData(t,a)},paragraph:function(e,t){let n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)},root:function(e,t){let n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)},strong:function(e,t){let n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)},table:function(e,t){let n=e.all(t),r=n.shift(),i=[];if(r){let n={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],n),i.push(n)}if(n.length>0){let r={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},a=aL(t.children[1]),s=aP(t.children[t.children.length-1]);a&&s&&(r.position={start:a,end:s}),i.push(r)}let a={type:"element",tagName:"table",properties:{},children:e.wrap(i,!0)};return e.patch(t,a),e.applyData(t,a)},tableCell:function(e,t){let n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)},tableRow:function(e,t,n){let r=n?n.children:void 0,i=0===(r?r.indexOf(t):1)?"th":"td",a=n&&"table"===n.type?n.align:void 0,s=a?a.length:t.children.length,o=-1,l=[];for(;++o<s;){let n=t.children[o],r={},s=a?a[o]:void 0;s&&(r.align=s);let c={type:"element",tagName:i,properties:r,children:[]};n&&(c.children=e.all(n),e.patch(n,c),c=e.applyData(n,c)),l.push(c)}let c={type:"element",tagName:"tr",properties:{},children:e.wrap(l,!0)};return e.patch(t,c),e.applyData(t,c)},text:function(e,t){let n={type:"text",value:function(e){let t=String(e),n=/\r?\n|\r/g,r=n.exec(t),i=0,a=[];for(;r;)a.push(oU(t.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(t);return a.push(oU(t.slice(i),i>0,!1)),a.join("")}(String(t.value))};return e.patch(t,n),e.applyData(t,n)},thematicBreak:function(e,t){let n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)},toml:oV,yaml:oV,definition:oV,footnoteDefinition:oV};function oV(){}let oG={}.hasOwnProperty,oq={};function oZ(e,t){e.position&&(t.position=function(e){let t=aL(e),n=aP(e);if(t&&n)return{start:t,end:n}}(e))}function o$(e,t){let n=t;if(e&&e.data){let t=e.data.hName,r=e.data.hChildren,i=e.data.hProperties;"string"==typeof t&&("element"===n.type?n.tagName=t:n={type:"element",tagName:t,properties:{},children:"children"in n?n.children:[n]}),"element"===n.type&&i&&Object.assign(n.properties,oA(i)),"children"in n&&n.children&&null!=r&&(n.children=r)}return n}function oW(e,t){let n=[],r=-1;for(t&&n.push({type:"text",value:"\n"});++r<e.length;)r&&n.push({type:"text",value:"\n"}),n.push(e[r]);return t&&e.length>0&&n.push({type:"text",value:"\n"}),n}function oY(e){let t=0,n=e.charCodeAt(t);for(;9===n||32===n;)t++,n=e.charCodeAt(t);return e.slice(t)}function oK(e,t){let n=function(e,t){let n=t||oq,r=new Map,i=new Map,a={all:function(e){let t=[];if("children"in e){let n=e.children,r=-1;for(;++r<n.length;){let i=a.one(n[r],e);if(i){if(r&&"break"===n[r-1].type&&(Array.isArray(i)||"text"!==i.type||(i.value=oY(i.value)),!Array.isArray(i)&&"element"===i.type)){let e=i.children[0];e&&"text"===e.type&&(e.value=oY(e.value))}Array.isArray(i)?t.push(...i):t.push(i)}}}return t},applyData:o$,definitionById:r,footnoteById:i,footnoteCounts:new Map,footnoteOrder:[],handlers:{...oz,...n.handlers},one:function(e,t){let n=e.type,r=a.handlers[n];if(oG.call(a.handlers,n)&&r)return r(a,e,t);if(a.options.passThrough&&a.options.passThrough.includes(n)){if("children"in e){let{children:t,...n}=e,r=oA(n);return r.children=a.all(e),r}return oA(e)}return(a.options.unknownHandler||function(e,t){let n=t.data||{},r="value"in t&&!(oG.call(n,"hProperties")||oG.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)})(a,e,t)},options:n,patch:oZ,wrap:oW};return oj(e,function(e){if("definition"===e.type||"footnoteDefinition"===e.type){let t="definition"===e.type?r:i,n=String(e.identifier).toUpperCase();t.has(n)||t.set(n,e)}}),a}(e,t),r=n.one(e,void 0),i=function(e){let t="string"==typeof e.options.clobberPrefix?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||oI,r=e.options.footnoteBackLabel||oD,i=e.options.footnoteLabel||"Footnotes",a=e.options.footnoteLabelTagName||"h2",s=e.options.footnoteLabelProperties||{className:["sr-only"]},o=[],l=-1;for(;++l<e.footnoteOrder.length;){let i=e.footnoteById.get(e.footnoteOrder[l]);if(!i)continue;let a=e.all(i),s=String(i.identifier).toUpperCase(),c=oN(s.toLowerCase()),u=0,d=[],h=e.footnoteCounts.get(s);for(;void 0!==h&&++u<=h;){d.length>0&&d.push({type:"text",value:" "});let e="string"==typeof n?n:n(l,u);"string"==typeof e&&(e={type:"text",value:e}),d.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+c+(u>1?"-"+u:""),dataFootnoteBackref:"",ariaLabel:"string"==typeof r?r:r(l,u),className:["data-footnote-backref"]},children:Array.isArray(e)?e:[e]})}let p=a[a.length-1];if(p&&"element"===p.type&&"p"===p.tagName){let e=p.children[p.children.length-1];e&&"text"===e.type?e.value+=" ":p.children.push({type:"text",value:" "}),p.children.push(...d)}else a.push(...d);let f={type:"element",tagName:"li",properties:{id:t+"fn-"+c},children:e.wrap(a,!0)};e.patch(i,f),o.push(f)}if(0!==o.length)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:a,properties:{...oA(s),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:"\n"},{type:"element",tagName:"ol",properties:{},children:e.wrap(o,!0)},{type:"text",value:"\n"}]}}(n),a=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return i&&(iJ("children"in a),a.children.push({type:"text",value:"\n"},i)),a}function oJ(e,t){return e&&"run"in e?async function(n,r){let i=oK(n,{file:r,...t});await e.run(i,r)}:function(n,r){return oK(n,{file:r,...e||t})}}function oQ(e){if(e)throw e}var oX=e.i(104100);function o0(e){if("object"!=typeof e||null===e)return!1;let t=Object.getPrototypeOf(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}let o1={basename:function(e,t){let n;if(void 0!==t&&"string"!=typeof t)throw TypeError('"ext" argument must be a string');o2(e);let r=0,i=-1,a=e.length;if(void 0===t||0===t.length||t.length>e.length){for(;a--;)if(47===e.codePointAt(a)){if(n){r=a+1;break}}else i<0&&(n=!0,i=a+1);return i<0?"":e.slice(r,i)}if(t===e)return"";let s=-1,o=t.length-1;for(;a--;)if(47===e.codePointAt(a)){if(n){r=a+1;break}}else s<0&&(n=!0,s=a+1),o>-1&&(e.codePointAt(a)===t.codePointAt(o--)?o<0&&(i=a):(o=-1,i=s));return r===i?i=s:i<0&&(i=e.length),e.slice(r,i)},dirname:function(e){let t;if(o2(e),0===e.length)return".";let n=-1,r=e.length;for(;--r;)if(47===e.codePointAt(r)){if(t){n=r;break}}else t||(t=!0);return n<0?47===e.codePointAt(0)?"/":".":1===n&&47===e.codePointAt(0)?"//":e.slice(0,n)},extname:function(e){let t;o2(e);let n=e.length,r=-1,i=0,a=-1,s=0;for(;n--;){let o=e.codePointAt(n);if(47===o){if(t){i=n+1;break}continue}r<0&&(t=!0,r=n+1),46===o?a<0?a=n:1!==s&&(s=1):a>-1&&(s=-1)}return a<0||r<0||0===s||1===s&&a===r-1&&a===i+1?"":e.slice(a,r)},join:function(){let e;for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];let i=-1;for(;++i<n.length;)o2(n[i]),n[i]&&(e=void 0===e?n[i]:e+"/"+n[i]);return void 0===e?".":function(e){o2(e);let t=47===e.codePointAt(0),n=function(e,t){let n,r,i="",a=0,s=-1,o=0,l=-1;for(;++l<=e.length;){if(l<e.length)n=e.codePointAt(l);else if(47===n)break;else n=47;if(47===n){if(s===l-1||1===o);else if(s!==l-1&&2===o){if(i.length<2||2!==a||46!==i.codePointAt(i.length-1)||46!==i.codePointAt(i.length-2)){if(i.length>2){if((r=i.lastIndexOf("/"))!==i.length-1){r<0?(i="",a=0):a=(i=i.slice(0,r)).length-1-i.lastIndexOf("/"),s=l,o=0;continue}}else if(i.length>0){i="",a=0,s=l,o=0;continue}}t&&(i=i.length>0?i+"/..":"..",a=2)}else i.length>0?i+="/"+e.slice(s+1,l):i=e.slice(s+1,l),a=l-s-1;s=l,o=0}else 46===n&&o>-1?o++:o=-1}return i}(e,!t);return 0!==n.length||t||(n="."),n.length>0&&47===e.codePointAt(e.length-1)&&(n+="/"),t?"/"+n:n}(e)},sep:"/"};function o2(e){if("string"!=typeof e)throw TypeError("Path must be a string. Received "+JSON.stringify(e))}let o5={cwd:function(){return"/"}};function o3(e){return!!(null!==e&&"object"==typeof e&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&void 0===e.auth)}let o4=["history","path","basename","stem","extname","dirname"];class o6{get basename(){return"string"==typeof this.path?o1.basename(this.path):void 0}set basename(e){o8(e,"basename"),o9(e,"basename"),this.path=o1.join(this.dirname||"",e)}get dirname(){return"string"==typeof this.path?o1.dirname(this.path):void 0}set dirname(e){o7(this.basename,"dirname"),this.path=o1.join(e||"",this.basename)}get extname(){return"string"==typeof this.path?o1.extname(this.path):void 0}set extname(e){if(o9(e,"extname"),o7(this.dirname,"extname"),e){if(46!==e.codePointAt(0))throw Error("`extname` must start with `.`");if(e.includes(".",1))throw Error("`extname` cannot contain multiple dots")}this.path=o1.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){o3(e)&&(e=function(e){if("string"==typeof e)e=new URL(e);else if(!o3(e)){let t=TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if("file:"!==e.protocol){let e=TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return function(e){if(""!==e.hostname){let e=TypeError('File URL host must be "localhost" or empty on darwin');throw e.code="ERR_INVALID_FILE_URL_HOST",e}let t=e.pathname,n=-1;for(;++n<t.length;)if(37===t.codePointAt(n)&&50===t.codePointAt(n+1)){let e=t.codePointAt(n+2);if(70===e||102===e){let e=TypeError("File URL path must not include encoded / characters");throw e.code="ERR_INVALID_FILE_URL_PATH",e}}return decodeURIComponent(t)}(e)}(e)),o8(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return"string"==typeof this.path?o1.basename(this.path,this.extname):void 0}set stem(e){o8(e,"stem"),o9(e,"stem"),this.path=o1.join(this.dirname||"",e+(this.extname||""))}fail(e,t,n){let r=this.message(e,t,n);throw r.fatal=!0,r}info(e,t,n){let r=this.message(e,t,n);return r.fatal=void 0,r}message(e,t,n){let r=new az(e,t,n);return this.path&&(r.name=this.path+":"+r.name,r.file=this.path),r.fatal=!1,this.messages.push(r),r}toString(e){return void 0===this.value?"":"string"==typeof this.value?this.value:new TextDecoder(e||void 0).decode(this.value)}constructor(e){let t,n;t=e?o3(e)?{path:e}:"string"==typeof e||function(e){return!!(e&&"object"==typeof e&&"byteLength"in e&&"byteOffset"in e)}(e)?{value:e}:e:{},this.cwd="cwd"in t?"":o5.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<o4.length;){let e=o4[r];e in t&&void 0!==t[e]&&null!==t[e]&&(this[e]="history"===e?[...t[e]]:t[e])}for(n in t)o4.includes(n)||(this[n]=t[n])}}function o9(e,t){if(e&&e.includes(o1.sep))throw Error("`"+t+"` cannot be a path: did not expect `"+o1.sep+"`")}function o8(e,t){if(!e)throw Error("`"+t+"` cannot be empty")}function o7(e,t){if(!e)throw Error("Setting `"+t+"` requires `path` to be set too")}let le=function(e){let t=this.constructor.prototype,n=t[e],r=function(){return n.apply(r,arguments)};return Object.setPrototypeOf(r,t),r},lt={}.hasOwnProperty;class ln extends le{copy(){let e=new ln,t=-1;for(;++t<this.attachers.length;){let n=this.attachers[t];e.use(...n)}return e.data((0,oX.default)(!0,{},this.namespace)),e}data(e,t){return"string"==typeof e?2==arguments.length?(ls("data",this.frozen),this.namespace[e]=t,this):lt.call(this.namespace,e)&&this.namespace[e]||void 0:e?(ls("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;for(;++this.freezeIndex<this.attachers.length;){let[e,...t]=this.attachers[this.freezeIndex];if(!1===t[0])continue;!0===t[0]&&(t[0]=void 0);let n=e.call(this,...t);"function"==typeof n&&this.transformers.use(n)}return this.frozen=!0,this.freezeIndex=1/0,this}parse(e){this.freeze();let t=lc(e),n=this.parser||this.Parser;return li("parse",n),n(String(t),t)}process(e,t){let n=this;return this.freeze(),li("process",this.parser||this.Parser),la("process",this.compiler||this.Compiler),t?r(void 0,t):new Promise(r);function r(r,i){let a=lc(e),s=n.parse(a);function o(e,n){e||!n?i(e):r?r(n):(iJ(t,"`done` is defined if `resolve` is not"),t(void 0,n))}n.run(s,a,function(e,t,r){var i,a;if(e||!t||!r)return o(e);let s=n.stringify(t,r);"string"==typeof(i=s)||(a=i)&&"object"==typeof a&&"byteLength"in a&&"byteOffset"in a?r.value=s:r.result=s,o(e,r)})}}processSync(e){let t,n=!1;return this.freeze(),li("processSync",this.parser||this.Parser),la("processSync",this.compiler||this.Compiler),this.process(e,function(e,r){n=!0,oQ(e),t=r}),ll("processSync","process",n),iJ(t,"we either bailed on an error or have a tree"),t}run(e,t,n){lo(e),this.freeze();let r=this.transformers;return n||"function"!=typeof t||(n=t,t=void 0),n?i(void 0,n):new Promise(i);function i(i,a){iJ("function"!=typeof t,"`file` cant be a `done` anymore, we checked");let s=lc(t);r.run(e,s,function(t,r,s){let o=r||e;t?a(t):i?i(o):(iJ(n,"`done` is defined if `resolve` is not"),n(void 0,o,s))})}}runSync(e,t){let n,r=!1;return this.run(e,t,function(e,t){oQ(e),n=t,r=!0}),ll("runSync","run",r),iJ(n,"we either bailed on an error or have a tree"),n}stringify(e,t){this.freeze();let n=lc(t),r=this.compiler||this.Compiler;return la("stringify",r),lo(e),r(e,n)}use(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];let i=this.attachers,a=this.namespace;if(ls("use",this.frozen),null==e);else if("function"==typeof e)l(e,n);else if("object"==typeof e)Array.isArray(e)?o(e):s(e);else throw TypeError("Expected usable value, not `"+e+"`");return this;function s(e){if(!("plugins"in e)&&!("settings"in e))throw Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");o(e.plugins),e.settings&&(a.settings=(0,oX.default)(!0,a.settings,e.settings))}function o(e){let t=-1;if(null==e);else if(Array.isArray(e))for(;++t<e.length;){var n=e[t];if("function"==typeof n)l(n,[]);else if("object"==typeof n)if(Array.isArray(n)){let[e,...t]=n;l(e,t)}else s(n);else throw TypeError("Expected usable value, not `"+n+"`")}else throw TypeError("Expected a list of plugins, not `"+e+"`")}function l(e,t){let n=-1,r=-1;for(;++n<i.length;)if(i[n][0]===e){r=n;break}if(-1===r)i.push([e,...t]);else if(t.length>0){let[n,...a]=t,s=i[r][1];o0(s)&&o0(n)&&(n=(0,oX.default)(!0,s,n)),i[r]=[e,n,...a]}}}constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=function(){let e=[],t={run:function(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];let i=-1,a=n.pop();if("function"!=typeof a)throw TypeError("Expected function as last argument, not "+a);!function t(r){for(var s=arguments.length,o=Array(s>1?s-1:0),l=1;l<s;l++)o[l-1]=arguments[l];let c=e[++i],u=-1;if(r)return void a(r);for(;++u<n.length;)(null===o[u]||void 0===o[u])&&(o[u]=n[u]);n=o,c?(function(e,t){let n;return function(){let t;for(var a=arguments.length,s=Array(a),o=0;o<a;o++)s[o]=arguments[o];let l=e.length>s.length;l&&s.push(r);try{t=e.apply(this,s)}catch(e){if(l&&n)throw e;return r(e)}l||(t&&t.then&&"function"==typeof t.then?t.then(i,r):t instanceof Error?r(t):i(t))};function r(e){for(var r=arguments.length,i=Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];n||(n=!0,t(e,...i))}function i(e){r(null,e)}})(c,t)(...o):a(null,...o)}(null,...n)},use:function(n){if("function"!=typeof n)throw TypeError("Expected `middelware` to be a function, not "+n);return e.push(n),t}};return t}()}}let lr=new ln().freeze();function li(e,t){if("function"!=typeof t)throw TypeError("Cannot `"+e+"` without `parser`")}function la(e,t){if("function"!=typeof t)throw TypeError("Cannot `"+e+"` without `compiler`")}function ls(e,t){if(t)throw Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function lo(e){if(!o0(e)||"string"!=typeof e.type)throw TypeError("Expected node, got `"+e+"`")}function ll(e,t,n){if(!n)throw Error("`"+e+"` finished async. Use `"+t+"` instead")}function lc(e){var t;return(t=e)&&"object"==typeof t&&"message"in t&&"messages"in t?e:new o6(e)}let lu=[],ld={allowDangerousHtml:!0},lh=/^(https?|ircs?|mailto|xmpp)$/i,lp=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function lf(e){let t=function(e){let t=e.rehypePlugins||lu,n=e.remarkPlugins||lu,r=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...ld}:ld;return lr().use(ok).use(n).use(oJ,r).use(t)}(e),n=function(e){let t=e.children||"",n=new o6;return"string"==typeof t?n.value=t:iQ("Unexpected value `"+t+"` for `children` prop, expected `string`"),n}(e);return function(e,t){let n=t.allowedElements,r=t.allowElement,i=t.components,a=t.disallowedElements,s=t.skipHtml,o=t.unwrapDisallowed,l=t.urlTransform||lm;for(let e of lp)Object.hasOwn(t,e.from)&&iQ("Unexpected `"+e.from+"` prop, "+(e.to?"use `"+e.to+"` instead":"remove it")+" (see <https://github.com/remarkjs/react-markdown/blob/main/changelog.md#"+e.id+"> for more info)");return n&&a&&iQ("Unexpected combined `allowedElements` and `disallowedElements`, expected one or the other"),oj(e,function(e,t,i){if("raw"===e.type&&i&&"number"==typeof t)return s?i.children.splice(t,1):i.children[t]={type:"text",value:e.value},t;if("element"===e.type){let t;for(t in a2)if(Object.hasOwn(a2,t)&&Object.hasOwn(e.properties,t)){let n=e.properties[t],r=a2[t];(null===r||r.includes(e.tagName))&&(e.properties[t]=l(String(n||""),t,e))}}if("element"===e.type){let s=n?!n.includes(e.tagName):!!a&&a.includes(e.tagName);if(!s&&r&&"number"==typeof t&&(s=!r(e,t,i)),s&&i&&"number"==typeof t)return o&&e.children?i.children.splice(t,1,...e.children):i.children.splice(t,1),t}}),function(e,t){var n,r,i,a;let s;if(!t||void 0===t.Fragment)throw TypeError("Expected `Fragment` in options");let o=t.filePath||void 0;if(t.development){if("function"!=typeof t.jsxDEV)throw TypeError("Expected `jsxDEV` in options when `development: true`");n=o,r=t.jsxDEV,s=function(e,t,i,a){let s=Array.isArray(i.children),o=aL(e);return r(t,i,a,s,{columnNumber:o?o.column-1:void 0,fileName:n,lineNumber:o?o.line:void 0},void 0)}}else{if("function"!=typeof t.jsx)throw TypeError("Expected `jsx` in production options");if("function"!=typeof t.jsxs)throw TypeError("Expected `jsxs` in production options");i=t.jsx,a=t.jsxs,s=function(e,t,n,r){let s=Array.isArray(n.children)?a:i;return r?s(t,n,r):s(t,n)}}let l={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:s,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:o,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:!1!==t.passKeys,passNode:t.passNode||!1,schema:"svg"===t.space?aD:aI,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:!1!==t.tableCellAlignToStyle},c=aY(l,e,void 0);return c&&"string"!=typeof c?c:l.create(e,l.Fragment,{children:c||void 0},void 0)}(e,{Fragment:ee.Fragment,components:i,ignoreInvalidStyle:!0,jsx:ee.jsx,jsxs:ee.jsxs,passKeys:!0,passNode:!0})}(t.runSync(t.parse(n),n),e)}function lm(e){let t=e.indexOf(":"),n=e.indexOf("?"),r=e.indexOf("#"),i=e.indexOf("/");return -1===t||-1!==i&&t>i||-1!==n&&t>n||-1!==r&&t>r||lh.test(e.slice(0,t))?e:""}let lg=/[#.]/g;function ly(e,t,n){let r=n?function(e){let t=new Map;for(let n of e)t.set(n.toLowerCase(),n);return t}(n):void 0;return function(n,i){let a;for(var s=arguments.length,o=Array(s>2?s-2:0),l=2;l<s;l++)o[l-2]=arguments[l];if(null==n)a={type:"root",children:[]},o.unshift(i);else{let s=(a=function(e,t){let n,r,i=e||"",a={},s=0;for(;s<i.length;){lg.lastIndex=s;let e=lg.exec(i),t=i.slice(s,e?e.index:i.length);t&&(n?"#"===n?a.id=t:Array.isArray(a.className)?a.className.push(t):a.className=[t]:r=t,s+=t.length),e&&(n=e[0],s++)}return{type:"element",tagName:r||t||"div",properties:a,children:[]}}(n,t)).tagName.toLowerCase(),l=r?r.get(s):void 0;if(a.tagName=l||s,function(e){if(null===e||"object"!=typeof e||Array.isArray(e))return!0;if("string"!=typeof e.type)return!1;for(let t of Object.keys(e)){let n=e[t];if(n&&"object"==typeof n){if(!Array.isArray(n))return!0;for(let e of n)if("number"!=typeof e&&"string"!=typeof e)return!0}}return!!("children"in e&&Array.isArray(e.children))}(i))o.unshift(i);else for(let[t,n]of Object.entries(i))!function(e,t,n,r){let i,a=am(e,n);if(null!=r){if("number"==typeof r){if(Number.isNaN(r))return;i=r}else i="boolean"==typeof r?r:"string"==typeof r?a.spaceSeparated?aM(r):a.commaSeparated?iX(r):a.commaOrSpaceSeparated?aM(iX(r).join(" ")):lb(a,a.property,r):Array.isArray(r)?[...r]:"style"===a.property?function(e){let t=[];for(let[n,r]of Object.entries(e))t.push([n,r].join(": "));return t.join("; ")}(r):String(r);if(Array.isArray(i)){let e=[];for(let t of i)e.push(lb(a,a.property,t));i=e}"className"===a.property&&Array.isArray(t.className)&&(i=t.className.concat(i)),t[a.property]=i}}(e,a.properties,t,n)}for(let e of o)!function e(t,n){if(null==n);else if("number"==typeof n||"string"==typeof n)t.push({type:"text",value:String(n)});else if(Array.isArray(n))for(let r of n)e(t,r);else if("object"==typeof n&&"type"in n)"root"===n.type?e(t,n.children):t.push(n);else throw Error("Expected node, nodes, or string, got `"+n+"`")}(a.children,e);return"element"===a.type&&"template"===a.tagName&&(a.content={type:"root",children:a.children},a.children=[]),a}}function lb(e,t,n){if("string"==typeof n){if(e.number&&n&&!Number.isNaN(Number(n)))return Number(n);if((e.boolean||e.overloadedBoolean)&&(""===n||ad(n)===ad(t)))return!0}return n}let lv=ly(aI,"div"),lk=ly(aD,"g",["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","solidColor","textArea","textPath"]),lx={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function l_(e,t){let n=function(e,t){switch(e.nodeType){case 1:return function(e,t){let n=e.namespaceURI,r=n===lx.svg?lk:lv,i=n===lx.html?e.tagName.toLowerCase():e.tagName,a=n===lx.html&&"template"===i?e.content:e,s=e.getAttributeNames(),o={},l=-1;for(;++l<s.length;)o[s[l]]=e.getAttribute(s[l])||"";return r(i,o,lE(a,t))}(e,t);case 3:return{type:"text",value:e.nodeValue||""};case 8:return{type:"comment",value:e.nodeValue||""};case 9:case 11:return function(e,t){return{type:"root",children:lE(e,t)}}(e,t);case 10:return{type:"doctype"};default:return}}(e,t);return n&&t.afterTransform&&t.afterTransform(e,n),n}function lE(e,t){let n=e.childNodes,r=[],i=-1;for(;++i<n.length;){let e=l_(n[i],t);void 0!==e&&r.push(e)}return r}let lT=new DOMParser,lS=function(e,t,n){let r=oM(n);if(!e||!e.type||!e.children)throw Error("Expected parent node");if("number"==typeof t){if(t<0||t===1/0)throw Error("Expected positive finite number as index")}else if((t=e.children.indexOf(t))<0)throw Error("Expected child node or index");for(;++t<e.children.length;)if(r(e.children[t],t,e))return e.children[t]},lw=function(e){if(null==e)return lA;if("string"==typeof e){var t;return t=e,lC(function(e){return e.tagName===t})}if("object"==typeof e){var n=e;let t=[],r=-1;for(;++r<n.length;)t[r]=lw(n[r]);return lC(function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];let i=-1;for(;++i<t.length;)if(t[i].apply(this,n))return!0;return!1})}if("function"==typeof e)return lC(e);throw Error("Expected function, string, or array as `test`")};function lC(e){return function(t,n,r){var i;return!!(null!==(i=t)&&"object"==typeof i&&"type"in i&&"tagName"in i&&e.call(this,t,"number"==typeof n?n:void 0,r||void 0))}}function lA(e){return!!(e&&"object"==typeof e&&"type"in e&&"element"===e.type&&"tagName"in e&&"string"==typeof e.tagName)}let lN=/\n/g,lI=/[\t ]+/g,lD=lw("br"),lM=lw(function(e){return"td"===e.tagName||"th"===e.tagName}),lO=lw("p"),lR=lw("tr"),lP=lw(["datalist","head","noembed","noframes","noscript","rp","script","style","template","title",function(e){return!!(e.properties||{}).hidden},function(e){return"dialog"===e.tagName&&!(e.properties||{}).open}]),lL=lw(["address","article","aside","blockquote","body","caption","center","dd","dialog","dir","dl","dt","div","figure","figcaption","footer","form,","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","legend","li","listing","main","menu","nav","ol","p","plaintext","pre","section","ul","xmp"]);function lF(e,t){let n,r=String(e.value),i=[],a=[],s=0;for(;s<=r.length;){lN.lastIndex=s;let e=lN.exec(r),n=e&&"index"in e?e.index:r.length;i.push(function(e,t,n){let r,i=[],a=0;for(;a<e.length;){lI.lastIndex=a;let n=lI.exec(e);r=n?n.index:e.length,a||r||!n||t||i.push(""),a!==r&&i.push(e.slice(a,r)),a=n?r+n[0].length:r}return a===r||n||i.push(""),i.join(" ")}(r.slice(s,n).replace(/[\u061C\u200E\u200F\u202A-\u202E\u2066-\u2069]/g,""),0!==s||t.breakBefore,n!==r.length||t.breakAfter)),s=n+1}let o=-1;for(;++o<i.length;)8203===i[o].charCodeAt(i[o].length-1)||o<i.length-1&&8203===i[o+1].charCodeAt(0)?(a.push(i[o]),n=void 0):i[o]?("number"==typeof n&&a.push(n),a.push(i[o]),n=0):(0===o||o===i.length-1)&&a.push(0);return a}function lj(e,t){if("element"===e.type){let n=e.properties||{};switch(e.tagName){case"listing":case"plaintext":case"xmp":return"pre";case"nobr":return"nowrap";case"pre":return n.wrap?"pre-wrap":"pre";case"td":case"th":return n.noWrap?"nowrap":t.whitespace;case"textarea":return"pre-wrap"}}return t.whitespace}var lB=e.i(716400);let lH={},lU=[];function lz(e,t){let n=e.indexOf("\r",t),r=e.indexOf("\n",t);return -1===r?n:-1===n||n+1===r?r:n<r?n:r}let lV={}.hasOwnProperty,lG=Object.prototype;function lq(e,t){let n;switch(t.nodeName){case"#comment":return n={type:"comment",value:t.data},l$(e,t,n),n;case"#document":case"#document-fragment":{let r="mode"in t&&("quirks"===t.mode||"limited-quirks"===t.mode);if(n={type:"root",children:lZ(e,t.childNodes),data:{quirksMode:r}},e.file&&e.location){let t=String(e.file),r=function(e){let t=String(e),n=[];return{toOffset:function(e){if(e&&"number"==typeof e.line&&"number"==typeof e.column&&!Number.isNaN(e.line)&&!Number.isNaN(e.column)){for(;n.length<e.line;){let e=n[n.length-1],r=lz(t,e),i=-1===r?t.length+1:r+1;if(e===i)break;n.push(i)}let r=(e.line>1?n[e.line-2]:0)+e.column-1;if(r<n[e.line-1])return r}},toPoint:function(e){if("number"==typeof e&&e>-1&&e<=t.length){let r=0;for(;;){let i=n[r];if(void 0===i){let e=lz(t,n[r-1]);i=-1===e?t.length+1:e+1,n[r]=i}if(i>e)return{line:r+1,column:e-(r>0?n[r-1]:0)+1,offset:e};r++}}}}}(t),i=r.toPoint(0),a=r.toPoint(t.length);iJ(i,"expected `start`"),iJ(a,"expected `end`"),n.position={start:i,end:a}}return n}case"#documentType":return l$(e,t,n={type:"doctype"}),n;case"#text":return n={type:"text",value:t.value},l$(e,t,n),n;default:return function(e,t){let n=e.schema;e.schema=t.namespaceURI===lx.svg?aD:aI;let r=-1,i={};for(;++r<t.attrs.length;){let e=t.attrs[r],n=(e.prefix?e.prefix+":":"")+e.name;lV.call(lG,n)||(i[n]=e.value)}let a=("svg"===e.schema.space?lk:lv)(t.tagName,i,lZ(e,t.childNodes));if(l$(e,t,a),"template"===a.tagName){let n=t.sourceCodeLocation,r=n&&n.startTag&&lW(n.startTag),i=n&&n.endTag&&lW(n.endTag),s=lq(e,t.content);r&&i&&e.file&&(s.position={start:r.end,end:i.start}),a.content=s}return e.schema=n,a}(e,t)}}function lZ(e,t){let n=-1,r=[];for(;++n<t.length;){let i=lq(e,t[n]);r.push(i)}return r}function l$(e,t,n){if("sourceCodeLocation"in t&&t.sourceCodeLocation&&e.file){let r=function(e,t,n){let r=lW(n);if("element"===t.type){let i=t.children[t.children.length-1];if(r&&!n.endTag&&i&&i.position&&i.position.end&&(r.end=Object.assign({},i.position.end)),e.verbose){let r,i={};if(n.attrs)for(r in n.attrs)lV.call(n.attrs,r)&&(i[am(e.schema,r).property]=lW(n.attrs[r]));iJ(n.startTag,"a start tag should exist");let a=lW(n.startTag),s=n.endTag?lW(n.endTag):void 0,o={opening:a};s&&(o.closing=s),o.properties=i,t.data={position:o}}}return r}(e,n,t.sourceCodeLocation);r&&(e.location=!0,n.position=r)}}function lW(e){let t=lY({line:e.startLine,column:e.startCol,offset:e.startOffset}),n=lY({line:e.endLine,column:e.endCol,offset:e.endOffset});return t||n?{start:t,end:n}:void 0}function lY(e){return e.line&&e.column?e:void 0}function lK(e){return e.toLowerCase()}class lJ{constructor(e,t){this.property=e,this.attribute=t}}lJ.prototype.space=null,lJ.prototype.boolean=!1,lJ.prototype.booleanish=!1,lJ.prototype.overloadedBoolean=!1,lJ.prototype.number=!1,lJ.prototype.commaSeparated=!1,lJ.prototype.spaceSeparated=!1,lJ.prototype.commaOrSpaceSeparated=!1,lJ.prototype.mustUseProperty=!1,lJ.prototype.defined=!1,e.s(["boolean",()=>lX,"booleanish",()=>l0,"commaOrSpaceSeparated",()=>l4,"commaSeparated",()=>l3,"number",()=>l2,"overloadedBoolean",()=>l1,"spaceSeparated",()=>l5],905091);let lQ=0,lX=l6(),l0=l6(),l1=l6(),l2=l6(),l5=l6(),l3=l6(),l4=l6();function l6(){return 2**++lQ}var l9=e.i(905091);let l8=Object.keys(l9);class l7 extends lJ{constructor(e,t,n,r){let i=-1;if(super(e,t),function(e,t,n){n&&(e[t]=n)}(this,"space",r),"number"==typeof n)for(;++i<l8.length;){let e=l8[i];!function(e,t,n){n&&(e[t]=n)}(this,l8[i],(n&l9[e])===l9[e])}}}l7.prototype.defined=!0;let ce=/^data[-\w.:]+$/i,ct=/-[a-z]/g,cn=/[A-Z]/g;function cr(e){return"-"+e.toLowerCase()}function ci(e){return e.charAt(1).toUpperCase()}class ca{constructor(e,t,n){this.property=e,this.normal=t,n&&(this.space=n)}}function cs(e,t){let n={},r={},i=-1;for(;++i<e.length;)Object.assign(n,e[i].property),Object.assign(r,e[i].normal);return new ca(n,r,t)}ca.prototype.property={},ca.prototype.normal={},ca.prototype.space=null;let co={}.hasOwnProperty;function cl(e){let t,n={},r={};for(t in e.properties)if(co.call(e.properties,t)){let i=e.properties[t],a=new l7(t,e.transform(e.attributes||{},t),i,e.space);e.mustUseProperty&&e.mustUseProperty.includes(t)&&(a.mustUseProperty=!0),n[t]=a,r[lK(t)]=t,r[lK(a.attribute)]=t}return new ca(n,r,e.space)}let cc=cl({space:"xlink",transform:(e,t)=>"xlink:"+t.slice(5).toLowerCase(),properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}}),cu=cl({space:"xml",transform:(e,t)=>"xml:"+t.slice(3).toLowerCase(),properties:{xmlLang:null,xmlBase:null,xmlSpace:null}});function cd(e,t){return t in e?e[t]:t}function ch(e,t){return cd(e,t.toLowerCase())}let cp=cl({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:ch,properties:{xmlns:null,xmlnsXLink:null}}),cf=cl({transform:(e,t)=>"role"===t?t:"aria-"+t.slice(4).toLowerCase(),properties:{ariaActiveDescendant:null,ariaAtomic:l0,ariaAutoComplete:null,ariaBusy:l0,ariaChecked:l0,ariaColCount:l2,ariaColIndex:l2,ariaColSpan:l2,ariaControls:l5,ariaCurrent:null,ariaDescribedBy:l5,ariaDetails:null,ariaDisabled:l0,ariaDropEffect:l5,ariaErrorMessage:null,ariaExpanded:l0,ariaFlowTo:l5,ariaGrabbed:l0,ariaHasPopup:null,ariaHidden:l0,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:l5,ariaLevel:l2,ariaLive:null,ariaModal:l0,ariaMultiLine:l0,ariaMultiSelectable:l0,ariaOrientation:null,ariaOwns:l5,ariaPlaceholder:null,ariaPosInSet:l2,ariaPressed:l0,ariaReadOnly:l0,ariaRelevant:null,ariaRequired:l0,ariaRoleDescription:l5,ariaRowCount:l2,ariaRowIndex:l2,ariaRowSpan:l2,ariaSelected:l0,ariaSetSize:l2,ariaSort:null,ariaValueMax:l2,ariaValueMin:l2,ariaValueNow:l2,ariaValueText:null,role:null}}),cm=cl({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:ch,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:l3,acceptCharset:l5,accessKey:l5,action:null,allow:null,allowFullScreen:lX,allowPaymentRequest:lX,allowUserMedia:lX,alt:null,as:null,async:lX,autoCapitalize:null,autoComplete:l5,autoFocus:lX,autoPlay:lX,blocking:l5,capture:null,charSet:null,checked:lX,cite:null,className:l5,cols:l2,colSpan:null,content:null,contentEditable:l0,controls:lX,controlsList:l5,coords:l2|l3,crossOrigin:null,data:null,dateTime:null,decoding:null,default:lX,defer:lX,dir:null,dirName:null,disabled:lX,download:l1,draggable:l0,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:lX,formTarget:null,headers:l5,height:l2,hidden:lX,high:l2,href:null,hrefLang:null,htmlFor:l5,httpEquiv:l5,id:null,imageSizes:null,imageSrcSet:null,inert:lX,inputMode:null,integrity:null,is:null,isMap:lX,itemId:null,itemProp:l5,itemRef:l5,itemScope:lX,itemType:l5,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:lX,low:l2,manifest:null,max:null,maxLength:l2,media:null,method:null,min:null,minLength:l2,multiple:lX,muted:lX,name:null,nonce:null,noModule:lX,noValidate:lX,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:lX,optimum:l2,pattern:null,ping:l5,placeholder:null,playsInline:lX,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:lX,referrerPolicy:null,rel:l5,required:lX,reversed:lX,rows:l2,rowSpan:l2,sandbox:l5,scope:null,scoped:lX,seamless:lX,selected:lX,shadowRootClonable:lX,shadowRootDelegatesFocus:lX,shadowRootMode:null,shape:null,size:l2,sizes:null,slot:null,span:l2,spellCheck:l0,src:null,srcDoc:null,srcLang:null,srcSet:null,start:l2,step:null,style:null,tabIndex:l2,target:null,title:null,translate:null,type:null,typeMustMatch:lX,useMap:null,value:l0,width:l2,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:l5,axis:null,background:null,bgColor:null,border:l2,borderColor:null,bottomMargin:l2,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:lX,declare:lX,event:null,face:null,frame:null,frameBorder:null,hSpace:l2,leftMargin:l2,link:null,longDesc:null,lowSrc:null,marginHeight:l2,marginWidth:l2,noResize:lX,noHref:lX,noShade:lX,noWrap:lX,object:null,profile:null,prompt:null,rev:null,rightMargin:l2,rules:null,scheme:null,scrolling:l0,standby:null,summary:null,text:null,topMargin:l2,valueType:null,version:null,vAlign:null,vLink:null,vSpace:l2,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:lX,disableRemotePlayback:lX,prefix:null,property:null,results:l2,security:null,unselectable:null}}),cg=cl({space:"svg",attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},transform:cd,properties:{about:l4,accentHeight:l2,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:l2,amplitude:l2,arabicForm:null,ascent:l2,attributeName:null,attributeType:null,azimuth:l2,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:l2,by:null,calcMode:null,capHeight:l2,className:l5,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:l2,diffuseConstant:l2,direction:null,display:null,dur:null,divisor:l2,dominantBaseline:null,download:lX,dx:null,dy:null,edgeMode:null,editable:null,elevation:l2,enableBackground:null,end:null,event:null,exponent:l2,externalResourcesRequired:null,fill:null,fillOpacity:l2,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:l3,g2:l3,glyphName:l3,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:l2,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:l2,horizOriginX:l2,horizOriginY:l2,id:null,ideographic:l2,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:l2,k:l2,k1:l2,k2:l2,k3:l2,k4:l2,kernelMatrix:l4,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:l2,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:l2,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:l2,overlineThickness:l2,paintOrder:null,panose1:null,path:null,pathLength:l2,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:l5,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:l2,pointsAtY:l2,pointsAtZ:l2,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:l4,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:l4,rev:l4,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:l4,requiredFeatures:l4,requiredFonts:l4,requiredFormats:l4,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:l2,specularExponent:l2,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:l2,strikethroughThickness:l2,string:null,stroke:null,strokeDashArray:l4,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:l2,strokeOpacity:l2,strokeWidth:null,style:null,surfaceScale:l2,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:l4,tabIndex:l2,tableValues:null,target:null,targetX:l2,targetY:l2,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:l4,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:l2,underlineThickness:l2,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:l2,values:null,vAlphabetic:l2,vMathematical:l2,vectorEffect:null,vHanging:l2,vIdeographic:l2,version:null,vertAdvY:l2,vertOriginX:l2,vertOriginY:l2,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:l2,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null}}),cy=cs([cu,cc,cp,cf,cm],"html"),cb=cs([cu,cc,cp,cf,cg],"svg"),cv={}.hasOwnProperty;function ck(e,t){let n=t||{};function r(t){for(var n=arguments.length,i=Array(n>1?n-1:0),a=1;a<n;a++)i[a-1]=arguments[a];let s=r.invalid,o=r.handlers;if(t&&cv.call(t,e)){let n=String(t[e]);s=cv.call(o,n)?o[n]:r.unknown}if(s)return s.call(this,t,...i)}return r.handlers=n.handlers||{},r.invalid=n.invalid,r.unknown=n.unknown,r}let cx={}.hasOwnProperty,c_=ck("type",{handlers:{root:function(e,t){let n={nodeName:"#document",mode:(e.data||{}).quirksMode?"quirks":"no-quirks",childNodes:[]};return n.childNodes=cE(e.children,n,t),cT(e,n),n},element:function(e,t){let n,r=t;"element"===e.type&&"svg"===e.tagName.toLowerCase()&&"html"===t.space&&(r=cb);let i=[];if(e.properties){for(n in e.properties)if("children"!==n&&cx.call(e.properties,n)){let t=function(e,t,n){let r=function(e,t){let n=lK(t),r=t,i=lJ;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&"data"===n.slice(0,4)&&ce.test(t)){if("-"===t.charAt(4)){let e=t.slice(5).replace(ct,ci);r="data"+e.charAt(0).toUpperCase()+e.slice(1)}else{let e=t.slice(4);if(!ct.test(e)){let n=e.replace(cn,cr);"-"!==n.charAt(0)&&(n="-"+n),t="data"+n}}i=l7}return new i(r,t)}(e,t);if(!1===n||null==n||"number"==typeof n&&Number.isNaN(n)||!n&&r.boolean)return;Array.isArray(n)&&(n=r.commaSeparated?i0(n):aO(n));let i={name:r.attribute,value:!0===n?"":String(n)};if(r.space&&"html"!==r.space&&"svg"!==r.space){let e=i.name.indexOf(":");e<0?i.prefix="":(i.name=i.name.slice(e+1),i.prefix=r.attribute.slice(0,e)),i.namespace=lx[r.space]}return i}(r,n,e.properties[n]);t&&i.push(t)}}let a=r.space;iJ(a);let s={nodeName:e.tagName,tagName:e.tagName,attrs:i,namespaceURI:lx[a],childNodes:[],parentNode:null};return s.childNodes=cE(e.children,s,r),cT(e,s),"template"===e.tagName&&e.content&&(s.content=function(e,t){let n={nodeName:"#document-fragment",childNodes:[]};return n.childNodes=cE(e.children,n,t),cT(e,n),n}(e.content,r)),s},text:function(e){let t={nodeName:"#text",value:e.value,parentNode:null};return cT(e,t),t},comment:function(e){let t={nodeName:"#comment",data:e.value,parentNode:null};return cT(e,t),t},doctype:function(e){let t={nodeName:"#documentType",name:"html",publicId:"",systemId:"",parentNode:null};return cT(e,t),t}}});function cE(e,t,n){let r=-1,i=[];if(e)for(;++r<e.length;){let a=c_(e[r],n);a.parentNode=t,i.push(a)}return i}function cT(e,t){let n=e.position;n&&n.start&&n.end&&(iJ("number"==typeof n.start.offset),iJ("number"==typeof n.end.offset),t.sourceCodeLocation={startLine:n.start.line,startCol:n.start.column,startOffset:n.start.offset,endLine:n.end.line,endCol:n.end.column,endOffset:n.end.offset})}let cS=["area","base","basefont","bgsound","br","col","command","embed","frame","hr","image","img","input","keygen","link","meta","param","source","track","wbr"],cw=new Set([65534,65535,131070,131071,196606,196607,262142,262143,327678,327679,393214,393215,458750,458751,524286,524287,589822,589823,655358,655359,720894,720895,786430,786431,851966,851967,917502,917503,983038,983039,1048574,1048575,1114110,1114111]);!function(e){e[e.EOF=-1]="EOF",e[e.NULL=0]="NULL",e[e.TABULATION=9]="TABULATION",e[e.CARRIAGE_RETURN=13]="CARRIAGE_RETURN",e[e.LINE_FEED=10]="LINE_FEED",e[e.FORM_FEED=12]="FORM_FEED",e[e.SPACE=32]="SPACE",e[e.EXCLAMATION_MARK=33]="EXCLAMATION_MARK",e[e.QUOTATION_MARK=34]="QUOTATION_MARK",e[e.AMPERSAND=38]="AMPERSAND",e[e.APOSTROPHE=39]="APOSTROPHE",e[e.HYPHEN_MINUS=45]="HYPHEN_MINUS",e[e.SOLIDUS=47]="SOLIDUS",e[e.DIGIT_0=48]="DIGIT_0",e[e.DIGIT_9=57]="DIGIT_9",e[e.SEMICOLON=59]="SEMICOLON",e[e.LESS_THAN_SIGN=60]="LESS_THAN_SIGN",e[e.EQUALS_SIGN=61]="EQUALS_SIGN",e[e.GREATER_THAN_SIGN=62]="GREATER_THAN_SIGN",e[e.QUESTION_MARK=63]="QUESTION_MARK",e[e.LATIN_CAPITAL_A=65]="LATIN_CAPITAL_A",e[e.LATIN_CAPITAL_Z=90]="LATIN_CAPITAL_Z",e[e.RIGHT_SQUARE_BRACKET=93]="RIGHT_SQUARE_BRACKET",e[e.GRAVE_ACCENT=96]="GRAVE_ACCENT",e[e.LATIN_SMALL_A=97]="LATIN_SMALL_A",e[e.LATIN_SMALL_Z=122]="LATIN_SMALL_Z"}(r||(r={}));let cC={DASH_DASH:"--",CDATA_START:"[CDATA[",DOCTYPE:"doctype",SCRIPT:"script",PUBLIC:"public",SYSTEM:"system"};function cA(e){return e>=55296&&e<=57343}function cN(e){return 32!==e&&10!==e&&13!==e&&9!==e&&12!==e&&e>=1&&e<=31||e>=127&&e<=159}function cI(e){return e>=64976&&e<=65007||cw.has(e)}!function(e){e.controlCharacterInInputStream="control-character-in-input-stream",e.noncharacterInInputStream="noncharacter-in-input-stream",e.surrogateInInputStream="surrogate-in-input-stream",e.nonVoidHtmlElementStartTagWithTrailingSolidus="non-void-html-element-start-tag-with-trailing-solidus",e.endTagWithAttributes="end-tag-with-attributes",e.endTagWithTrailingSolidus="end-tag-with-trailing-solidus",e.unexpectedSolidusInTag="unexpected-solidus-in-tag",e.unexpectedNullCharacter="unexpected-null-character",e.unexpectedQuestionMarkInsteadOfTagName="unexpected-question-mark-instead-of-tag-name",e.invalidFirstCharacterOfTagName="invalid-first-character-of-tag-name",e.unexpectedEqualsSignBeforeAttributeName="unexpected-equals-sign-before-attribute-name",e.missingEndTagName="missing-end-tag-name",e.unexpectedCharacterInAttributeName="unexpected-character-in-attribute-name",e.unknownNamedCharacterReference="unknown-named-character-reference",e.missingSemicolonAfterCharacterReference="missing-semicolon-after-character-reference",e.unexpectedCharacterAfterDoctypeSystemIdentifier="unexpected-character-after-doctype-system-identifier",e.unexpectedCharacterInUnquotedAttributeValue="unexpected-character-in-unquoted-attribute-value",e.eofBeforeTagName="eof-before-tag-name",e.eofInTag="eof-in-tag",e.missingAttributeValue="missing-attribute-value",e.missingWhitespaceBetweenAttributes="missing-whitespace-between-attributes",e.missingWhitespaceAfterDoctypePublicKeyword="missing-whitespace-after-doctype-public-keyword",e.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers="missing-whitespace-between-doctype-public-and-system-identifiers",e.missingWhitespaceAfterDoctypeSystemKeyword="missing-whitespace-after-doctype-system-keyword",e.missingQuoteBeforeDoctypePublicIdentifier="missing-quote-before-doctype-public-identifier",e.missingQuoteBeforeDoctypeSystemIdentifier="missing-quote-before-doctype-system-identifier",e.missingDoctypePublicIdentifier="missing-doctype-public-identifier",e.missingDoctypeSystemIdentifier="missing-doctype-system-identifier",e.abruptDoctypePublicIdentifier="abrupt-doctype-public-identifier",e.abruptDoctypeSystemIdentifier="abrupt-doctype-system-identifier",e.cdataInHtmlContent="cdata-in-html-content",e.incorrectlyOpenedComment="incorrectly-opened-comment",e.eofInScriptHtmlCommentLikeText="eof-in-script-html-comment-like-text",e.eofInDoctype="eof-in-doctype",e.nestedComment="nested-comment",e.abruptClosingOfEmptyComment="abrupt-closing-of-empty-comment",e.eofInComment="eof-in-comment",e.incorrectlyClosedComment="incorrectly-closed-comment",e.eofInCdata="eof-in-cdata",e.absenceOfDigitsInNumericCharacterReference="absence-of-digits-in-numeric-character-reference",e.nullCharacterReference="null-character-reference",e.surrogateCharacterReference="surrogate-character-reference",e.characterReferenceOutsideUnicodeRange="character-reference-outside-unicode-range",e.controlCharacterReference="control-character-reference",e.noncharacterCharacterReference="noncharacter-character-reference",e.missingWhitespaceBeforeDoctypeName="missing-whitespace-before-doctype-name",e.missingDoctypeName="missing-doctype-name",e.invalidCharacterSequenceAfterDoctypeName="invalid-character-sequence-after-doctype-name",e.duplicateAttribute="duplicate-attribute",e.nonConformingDoctype="non-conforming-doctype",e.missingDoctype="missing-doctype",e.misplacedDoctype="misplaced-doctype",e.endTagWithoutMatchingOpenElement="end-tag-without-matching-open-element",e.closingOfElementWithOpenChildElements="closing-of-element-with-open-child-elements",e.disallowedContentInNoscriptInHead="disallowed-content-in-noscript-in-head",e.openElementsLeftAfterEof="open-elements-left-after-eof",e.abandonedHeadElementChild="abandoned-head-element-child",e.misplacedStartTagForHeadElement="misplaced-start-tag-for-head-element",e.nestedNoscriptInHead="nested-noscript-in-head",e.eofInElementThatCanContainOnlyText="eof-in-element-that-can-contain-only-text"}(i||(i={}));class cD{get col(){return this.pos-this.lineStartPos+Number(this.lastGapPos!==this.pos)}get offset(){return this.droppedBufferSize+this.pos}getError(e,t){let{line:n,col:r,offset:i}=this,a=r+t,s=i+t;return{code:e,startLine:n,endLine:n,startCol:a,endCol:a,startOffset:s,endOffset:s}}_err(e){this.handler.onParseError&&this.lastErrOffset!==this.offset&&(this.lastErrOffset=this.offset,this.handler.onParseError(this.getError(e,0)))}_addGap(){this.gapStack.push(this.lastGapPos),this.lastGapPos=this.pos}_processSurrogate(e){if(this.pos!==this.html.length-1){let t=this.html.charCodeAt(this.pos+1);if(t>=56320&&t<=57343)return this.pos++,this._addGap(),(e-55296)*1024+9216+t}else if(!this.lastChunkWritten)return this.endOfChunkHit=!0,r.EOF;return this._err(i.surrogateInInputStream),e}willDropParsedChunk(){return this.pos>this.bufferWaterline}dropParsedChunk(){this.willDropParsedChunk()&&(this.html=this.html.substring(this.pos),this.lineStartPos-=this.pos,this.droppedBufferSize+=this.pos,this.pos=0,this.lastGapPos=-2,this.gapStack.length=0)}write(e,t){this.html.length>0?this.html+=e:this.html=e,this.endOfChunkHit=!1,this.lastChunkWritten=t}insertHtmlAtCurrentPos(e){this.html=this.html.substring(0,this.pos+1)+e+this.html.substring(this.pos+1),this.endOfChunkHit=!1}startsWith(e,t){if(this.pos+e.length>this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,!1;if(t)return this.html.startsWith(e,this.pos);for(let t=0;t<e.length;t++)if((32|this.html.charCodeAt(this.pos+t))!==e.charCodeAt(t))return!1;return!0}peek(e){let t=this.pos+e;if(t>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,r.EOF;let n=this.html.charCodeAt(t);return n===r.CARRIAGE_RETURN?r.LINE_FEED:n}advance(){if(this.pos++,this.isEol&&(this.isEol=!1,this.line++,this.lineStartPos=this.pos),this.pos>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,r.EOF;let e=this.html.charCodeAt(this.pos);return e===r.CARRIAGE_RETURN?(this.isEol=!0,this.skipNextNewLine=!0,r.LINE_FEED):e===r.LINE_FEED&&(this.isEol=!0,this.skipNextNewLine)?(this.line--,this.skipNextNewLine=!1,this._addGap(),this.advance()):(this.skipNextNewLine=!1,cA(e)&&(e=this._processSurrogate(e)),null===this.handler.onParseError||e>31&&e<127||e===r.LINE_FEED||e===r.CARRIAGE_RETURN||e>159&&e<64976||this._checkForProblematicCharacters(e),e)}_checkForProblematicCharacters(e){cN(e)?this._err(i.controlCharacterInInputStream):cI(e)&&this._err(i.noncharacterInInputStream)}retreat(e){for(this.pos-=e;this.pos<this.lastGapPos;)this.lastGapPos=this.gapStack.pop(),this.pos--;this.isEol=!1}constructor(e){this.handler=e,this.html="",this.pos=-1,this.lastGapPos=-2,this.gapStack=[],this.skipNextNewLine=!1,this.lastChunkWritten=!1,this.endOfChunkHit=!1,this.bufferWaterline=65536,this.isEol=!1,this.lineStartPos=0,this.droppedBufferSize=0,this.line=1,this.lastErrOffset=-1}}function cM(e,t){for(let n=e.attrs.length-1;n>=0;n--)if(e.attrs[n].name===t)return e.attrs[n].value;return null}e.s(["TokenType",()=>a,"getTokenAttr",()=>cM],382698),function(e){e[e.CHARACTER=0]="CHARACTER",e[e.NULL_CHARACTER=1]="NULL_CHARACTER",e[e.WHITESPACE_CHARACTER=2]="WHITESPACE_CHARACTER",e[e.START_TAG=3]="START_TAG",e[e.END_TAG=4]="END_TAG",e[e.COMMENT=5]="COMMENT",e[e.DOCTYPE=6]="DOCTYPE",e[e.EOF=7]="EOF",e[e.HIBERNATION=8]="HIBERNATION"}(a||(a={}));let cO=new Uint16Array('<\0\0\0\0\0\0EMabcfglmnoprstu\\bfmsligP&cutereve;iyx}rc;r;\ud835\udd04ravepha;acr;d;gpon;f;\ud835\udd38plyFunction;ingcsr;\ud835\udc9cign;ildemlaceforsucrkslash;;ed;y;crtause;noullis;a;r;\ud835\udd05pf;\ud835\udd39eve;cmpeq;HOacdefhilorsucy;PYcpyute;;italDifferentialD;leys;aeioron;dilrc;nint;ot;dnilla;terDot;i;rcleDMPTot;inus;lus;imes;ocskwiseContourIntegral;eCurlyDQoubleQuote;uote;lnpuon;e;gitruent;nt;ourIntegral;fr;oduct;nterClockwiseContourIntegral;oss;cr;\ud835\udc9ep;Cap;DJSZacefios;otrahd;cy;cy;cy;grsger;r;hv;ayron;;l;ta;r;\ud835\udd07afcmriticalADGTcute;o;bleAcute;rave;ilde;ond;ferentialD;\0\0\0\0f;\ud835\udd3b;DEot;qual;bleCDLRUVontourIntegrao\0\0nArrow;eoftARTrrow;ightArrow;engLReftARrrow;ightArrow;ightArrow;ightATrrow;ee;p\0\0rrow;ownArrow;erticalBar;nABLRTarrow;BUar;pArrow;reve;eft\0\0ightVector;eeVector;ector;Bar;ight\0eeVector;ector;Bar;ee;Arrow;ctr;\ud835\udc9frok;NTacdfglmopqstuxG;Hcuteaiyron;rc;ot;r;\ud835\udd08raveement;apcr;ty\0\0mallSquare;erySmallSquare;gpon;f;\ud835\udd3csilon;uail;Tilde;librium;cir;m;a;mlipsts;onentialE;cfiosy;r;\ud835\udd09lled\0\0mallSquare;erySmallSquare;\0\0\0f;\ud835\udd3dAll;riertrf;cJTabcdfgorstcy;>mma;d;reve;eiydil;rc;;ot;r;\ud835\udd0a;pf;\ud835\udd3eeaterEFGLSTqual;Less;ullEqual;reater;ess;lantEqual;ilde;cr;\ud835\udca2;AacfiosuRDcy;ctek;;irc;r;lbertSpace;\0f;izontalLine;ctrok;mpownHumqual;EJOacdfgmnostucy;lig;cy;cuteiyrc;ot;r;rave;apcgr;inaryI;lie\0;egrral;section;isibleCTomma;imes;gpton;f;\ud835\udd40a;cr;ilde;\0cy;lcfosuiyrc;;r;\ud835\udd0dpf;\ud835\udd41\0r;\ud835\udca5rcy;kcy;HJacfoscy;cy;ppa;eydil;;r;\ud835\udd0epf;\ud835\udd42cr;\ud835\udca6JTaceflmostcy;<cmnprute;bda;g;lacetrf;r;aeyron;dil;;fstACDFRTUVarnrgleBracket;row;BRar;ightArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ightAVrrow;ector;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;ightsEFGLSTqualGreater;ullEqual;reater;ess;lantEqual;ilde;r;\ud835\udd0f;eftarrow;idot;npwgLRlreftARrrow;ightArrow;ightArrow;eftarightightf;\ud835\udd43erLReftArrow;ightArrow;cht;rok;;acefiosup;y;dliumSpace;lintrf;r;\ud835\udd10nusPlus;pf;\ud835\udd44c;Jacefostucy;cute;aeyron;dil;;gswativeMTVediumSpace;hicneryThitedGLreaterGreateessLesLine;r;\ud835\udd11Bnptreak;BreakingSpace;f;;CDEGHLNPRSTVoungruent;pCap;oubleVerticalBar;lqxement;ual;Tilde;ists;reater;EFGLSTqual;ullEqual;reater;ess;lantEqual;ilde;umpownHump;qual;efstTriangle;BEar;qual;s;EGLSTqual;reater;ess;lantEqual;ilde;estedGLreaterGreater;essLess;recedes;ESqual;lantEqual;eiverseElement;ghtTriangle;BEar;qual;quuareSubpset;Equal;erset;Equal;bcpset;Equal;ceeds;ESTqual;lantEqual;ilde;erset;Equal;ilde;EFTqual;ullEqual;ilde;erticalBar;cr;\ud835\udca9ilde;Eacdfgmoprstuvlig;cuteiyrc;blac;r;\ud835\udd12raveaeicr;ga;cron;pf;\ud835\udd46enCurlyDQoubleQuote;uote;;clr;\ud835\udcaaashidees;mlerBParr;acek;et;arenthesis;acfhilorsrtialD;y;r;\ud835\udd13i;;usMinus;ipncareplanf;;eiocedes;ESTqual;lantEqual;ilde;me;dpuct;ortion;al;cir;\ud835\udcab;UfosOT"r;\ud835\udd14pf;cr;\ud835\udcacBEacefhiorsuarr;Gcnrute;g;r;tl;aeyron;dil;;;verseEUlqement;uilibrium;pEquilibrium;ro;ghtACDFTUVanrgleBracket;row;BLar;eftArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;puf;ndImplies;ightarrow;chr;;leDelayed;HOacfhimoqstuCcHcy;y;FTcy;cute;;aeiyron;dil;rc;;r;\ud835\udd16ortDLRUownArroweftArrowightArrowpArrow;gma;allCircle;pf;\ud835\udd4a\0\0t;are;ISUntersection;ubpset;Equal;erset;Equal;nion;cr;\ud835\udcaear;bcmp;set;Equal;cheeds;ESTqual;lantEqual;ilde;Th;;esrset;Equal;etHRSacfhiorsORNADE;Hccy;y;bu;;aeyron;dil;;r;\ud835\udd17ei\0efore;a;cnkSpace;Space;lde;EFTqual;ullEqual;ilde;pf;\ud835\udd4bipleDot;ctr;\ud835\udcafrok;\0\0\0\0\0\0\0cruter;ocir;r\0y;ve;iyrc;blac;r;\ud835\udd18raveacr;dierBParr;acek;et;arenthesis;on;Plus;gpon;f;\ud835\udd4cADETadpsrrow;BDar;ownArrow;ownArrow;quilibrium;ee;Arrow;ownerLReftArrow;ightArrow;i;lon;ing;cr;\ud835\udcb0ilde;mlDbcdefosvash;ar;y;ash;l;er;btyar;;icalBLSTar;ine;eparator;ilde;ThinSpace;r;\ud835\udd19pf;\ud835\udd4dcr;\ud835\udcb1dash;cefosirc;dge;r;\ud835\udd1apf;\ud835\udd4ecr;\ud835\udcb2fiosr;\ud835\udd1b;pf;\ud835\udd4fcr;\ud835\udcb3AIUacfosucy;cy;cy;cuteiyrc;;r;\ud835\udd1cpf;\ud835\udd50cr;\ud835\udcb4ml;Hacdefoscy;cute;ayron;;ot;\0oWidta;r;pf;cr;\ud835\udcb5\0\0\0\0\0\0\0cutereve;;Ediuy;;rcte;lig;r;\ud835\udd1eraveepfpsym;ha;apcclr;g;\0\0;adsvnd;;lope;;;elmrsz;esd;a;;;;;;;;t;vb;d;pth;arr;gpon;f;\ud835\udd52;Eaeiop;cir;;d;s;rox;eingctyr;\ud835\udcb6;mp;eildemlcioninnt;Nabcdefiklnoprsuot;crkcepsong;psilon;rime;im;eq;ee;ed;gerk;tbrk;oy;quo;cmprtaus;eptyv;snoahw;;een;r;\ud835\udd1fgcostuvwaiurc;pdptot;lus;imes;\0\0cup;ar;riangleduown;p;plus;earow;akocnklstozenge;riangle;dlrown;eft;ight;k;\0\0;;4;ck;eo;q=uiv;t;ptwxf;\ud835\udd53;tomtie;DHUVbdhmptuvLRlr;;;;;DUdu;;;;LRlr;;;;;HLRhlr;;;;;;ox;LRlr;;;;;DUdu;;;;inus;lus;imes;LRlr;;;;;HLRhlr;;;;;;evbarceior;\ud835\udcb7mi;m;el;bh;sub;l;etp;Ee;;q\0\0\0\0\0\0\0\0\0\0cprute;;abcdsnd;rcup;aup;p;ot;;eot;aeiu\0s;on;dilrc;ps;sm;ot;dmnilptyv;t;err;\ud835\udd20ceiy;ck;mark;r;Ecefms;;elq;e\0\0rrowlreft;ight;RSacd;st;irc;ash;nint;id;cir;ubs;uit\0on;e;q\0\0a;t;;flemxente\0;dot;nfry;\ud835\udd54o;sr;aorr;ss;cur;\ud835\udcb8bp;e;;e;dot;delprvwarrlr;;\0\0r;c;arr;p;;bcdosrcap;aup;p;ot;r;;alrvrr;m;yevwq\0\0reuee;edge;enearrowlreftightecioninnt;lcty;AHabcdefhijlorstuwzrar;glrsger;eth;h;varow;aayron;;;aogrr;tseq;glmta;ptyv;irsht;;\ud835\udd21arlraegsvm;osnd;suit;amma;in;;iode;ontimes;ncy;c\0\0rn;op;lptuwlar;f;\ud835\udd55;empsq;dot;inus;lus;quare;blebarwedgnadhownarrowarpoonlrefighkaro\0\0rn;op;cotry;\ud835\udcb9;l;rok;drot;i;fahraangle;ciy;grarr;DacdefglmnopqrstuxDoocsuteter;aioyron;r;clon;;ot;Drot;;\ud835\udd22;rsave;dot;;ilsnters;;;dot;apscr;ty;svetp1;;;gs;p;gpon;f;\ud835\udd56alsr;sl;us;i;lvon;csuviorc\0\0antgltressaeils;st;v;DD;parsl;Daot;rr;cdir;oah;mrlo;cipl;seoctationential\0\0\0\0\0\0\0llingdotsey;male;ilrlig;\0\0g;ig;;\ud835\udd23lig;lig;fjaltt;ig;ns;of;\0f;\ud835\udd57ak;v;artint;aocs\0\0;;;;\0;;\0\0;;5;\0;;8;l;wn;cr;\ud835\udcbbEabcdefgijlnorstv;l;cmpute;ma;d;reve;iyrc;;ot;;lqs;qslan;cdlc;ot;o;l;;es;r;\ud835\udd24;gmel;cy;;Eaj;;;Eaes;p;prox;q;qim;pf;\ud835\udd58cir;m;el;;>;cdlqrci;r;ot;Par;uest;adels\0pror;qlqlesienrtneqq;Aabcefkosyrilmrrsfildrcy;;cwir;;ar;irc;alrrts;uitlip;con;r;\ud835\udd25sewarow;arow;amoprrr;tht;klreftarrow;ightarrow;f;\ud835\udd59bar;cltr;\ud835\udcbdasrok;bpull;hen\0\0\0\0\0\0cute;iyrc;cxy;clfr;\ud835\udd26rave;inoinnt;t;fin;ta;lig;aopcgtr;elpinarh;f;ed;;cfotare;in;tie;do;celpal;grerarhk;rod;cgpty;on;f;\ud835\udd5aa;uestcir;\ud835\udcben;Edsv;ot;;v;;ilde;\0cy;lcfmosuiyrc;;r;\ud835\udd27ath;pf;\ud835\udd5b\0r;\ud835\udcbfrcy;kcy;acfghjosppa;v;eydil;;r;\ud835\udd28reen;cy;cy;pf;\ud835\udd5ccr;\ud835\udcc0ABEHabcdefghjlmnoprstuvartrail;arr;;g;ar;\0\0\0\0\0\0\0\0\0ute;mptyv;rabda;g;dl;;uor;bfhlpst;fs;s;p;l;im;l;;aeil;;s;abrrr;rk;akcek;;es;ldu;;aeuyron;diil;;cqrsa;uo;rduhar;shar;h;;fgqstahlrtrrow;taarpoonduownpeftarrows;ightahsrrow;sarpoonquigarrohreetimes;;qslan;cdgsc;ot;o;r;;es;adegspproot;qgqgtiilrsht;;\ud835\udd29;E;rdu;l;lk;cy;;achtrorneard;ri;iodot;ust;acheEaes;p;prox;q;qim;abnoptwznrg;r;rglmreftarightapsto;ightparrowlrefight;aflr;;\ud835\udd5dus;imes;st;;efngear;lt;achmtrornear;d;;ri;achiqtquo;r;\ud835\udcc1m;eg;;buo;r;rok;<;cdhilqrci;r;remes;arr;uest;Piar;;efrdushar;har;enrtneqq;DacdefhilnopsuDot;clprret;;ese;sto;dluowefker;oymma;;ash;asuredangler;\ud835\udd2ao;cdnro;acdsir;otus;bd;u;p;dpels;f;\ud835\udd5ectr;\ud835\udcc2pos;lmtimap;GLRVabcdefghijlmoprstuvwgt;;veltftarrrow;ightarrow;;;vightarrow;Ddash;ash;bcnptlaute;g;;Eiop;d;s;rour;al;s\0pmp;eaeouy\0;on;dil;ng;dot;p;;ash;;Aadqsxrr;rhrk;;oot;uieiar;ist;sr;\ud835\udd2bEest;qs;qslani;rAaprrr;ar;;sv;d;cy;AEadestr;rr;r;;fqstarrroightarro;qslan;si;ri;eiptf;\ud835\udd5f;inn;Edv;ot;;;i;v;;aorr;astllel;;lint;;ceu;c;eAaitrrr;cw;;ghtarrowri;echimpqu;ceru;\ud835\udcc3ort\0\0arm;e;qsubpbcp;Ees;et;eq;qc;e;Ees;et;eq;qgilrldeianglelreft;eight;e;m;esro;p;DHadgilrsash;arr;p;ash;et;;>nfin;Aetrr;;;r<ie;Atrr;rie;im;Aanrr;rhrk;;oear;\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0csuteiyr;c;abioslac;v;old;lig;crir;;\ud835\udd2c\0\0\0n;ave;bmar;acitrirr;oss;n;aeicr;ga;cdnron;;pf;\ud835\udd60aelr;rp;;adiosvr;efmr;ofgof;r;lope;;cloashl;idees;as;mlbar;\0\0\0\0\0\0\0\0\0r;ast;lle\0\0m;;y;rcimptnt;od;il;enk;r;\ud835\udd2dimo;v;mane;;tvchfork;aunckk;h;s;abcdemstcir;ir;ou;;nim;wo;ipuntint;f;\ud835\udd61nd;Eaceinosu;p;u;c;acenspprourlyeaespprox;qq;im;ime;sEasdfpalslar;ine;urf;;trel;cir;\ud835\udcc5;ncsp;fiopsur;\ud835\udd2epf;\ud835\udd62rime;cr;\ud835\udcc6aeoteirnionnt;st;eABHabcdefhilmnoprstuxartrail;arar;cdenqrteu;te;imptyv;g;del;;uor;abcfhlpstwp;;fs;;s;l;im;l;;aiil;o;nalabrrrk;akcek;;es;ldu;;aeuyron;diil;;clqsa;dhar;uo;rh;acgl;ipsnart;ilrsht;;\ud835\udd2faordu;l;;v;gnshtahlrstrrow;taarpoonduowpeftahrrowarpoonightarrows;quigarrohreetimes;g;ingdotseahmra;oust;achemid;abptnrg;r;raflr;;\ud835\udd63us;imes;apr;gt;olint;arachqquo;r;\ud835\udcc7buo;rhirremes;i;efltri;luhar;;\0\0\0\0\0\0\0cute;qu;Eaceinpsy;\0;on;u;dil;rc;Eas;p;im;olint;i;ot;be;Aacmstxrr;rhr;oti;war;minnut;r;o\ud835\udd30acoyrp;hycy;;rt\0\0iaragmma;fv;;deglnprot;;q;E;;E;e;lus;arr;araeitlslsetmhp;parsl;dle;;e;s;flptcy;;b;ar;f;\ud835\udd64adres;uitcsuaup;s;p;s;ubp;eset;e;eset;e;afrarcemtr;\ud835\udcc8tmiararr;fanighteppsilohsbcmnp;Edemnprs;ot;;dot;ult;Ee;;lus;arr;eiut;enq;qeq;qm;bp;;c;acenspprourlyeaespproqg;123;Edehlmnps;ost;ub;;dot;soul;b;arr;ult;Ee;;lus;eiut;enq;qeq;qm;bp;;Aanrr;rhr;owar;lig\0\0\0\0\0\0\0\0\0\0\0\0get;;raeyron;dil;;lrec;r;\ud835\udd31eiko\0e4fa;svym;cnkaspproimsasrnes;bd;ar;;eps;bcfot;ir;;o\ud835\udd65rk;rime;aipdadempstngle;dlqrowneft;e;ight;eot;inus;lus;b;ime;ezium;chtry;\ud835\udcc9;cy;rok;ioxheadlreftarroightarrowAHabcdfghlmoprstuwrar;cruter\0y;ve;iyrc;abhrlac;airsht;;\ud835\udd32raverlrlk;ct\0\0rn;erop;ri;alcr;gpon;f;\ud835\udd66adhlsuownarpoonlrefighi;hlonparrows;cit\0\0rn;erop;ng;ri;cr;\ud835\udccadirot;lde;i;famrlangle;ABDacdeflnoprszrar;v;asnrgrt;eknprstappothinhirop;hiugmbpsetneq;q;setneq;q;hretianglelreftighty;ashelr;bear;q;lip;btar;\ud835\udd33trsubppf;\ud835\udd67rotrcur;\ud835\udccbbpnEenEeigzag;cefoprsirc;dibgar;e;q;erp;r;\ud835\udd34pf;\ud835\udd68;eatcr;\ud835\udccc\0\0\0\0\0\0\0trr;\ud835\udd35Aarr;Aarrais;dptfl;\ud835\udd69imAarrcqr;\ud835\udccdptracefiosucuyte;iyrc;;nr;\ud835\udd36cy;pf;\ud835\udd6acr;\ud835\udccecmy;lacdefhioswcute;ayron;;ot;ettra;r;\ud835\udd37cy;grarr;pf;\ud835\udd6bcr;\ud835\udccfjn;j;'.split("").map(e=>e.charCodeAt(0))),cR=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]);function cP(e){return e>=o.ZERO&&e<=o.NINE}s=String.fromCodePoint,!function(e){e[e.NUM=35]="NUM",e[e.SEMI=59]="SEMI",e[e.EQUALS=61]="EQUALS",e[e.ZERO=48]="ZERO",e[e.NINE=57]="NINE",e[e.LOWER_A=97]="LOWER_A",e[e.LOWER_F=102]="LOWER_F",e[e.LOWER_X=120]="LOWER_X",e[e.LOWER_Z=122]="LOWER_Z",e[e.UPPER_A=65]="UPPER_A",e[e.UPPER_F=70]="UPPER_F",e[e.UPPER_Z=90]="UPPER_Z"}(o||(o={})),!function(e){e[e.VALUE_LENGTH=49152]="VALUE_LENGTH",e[e.BRANCH_LENGTH=16256]="BRANCH_LENGTH",e[e.JUMP_TABLE=127]="JUMP_TABLE"}(l||(l={})),!function(e){e[e.EntityStart=0]="EntityStart",e[e.NumericStart=1]="NumericStart",e[e.NumericDecimal=2]="NumericDecimal",e[e.NumericHex=3]="NumericHex",e[e.NamedEntity=4]="NamedEntity"}(c||(c={})),function(e){e[e.Legacy=0]="Legacy",e[e.Strict=1]="Strict",e[e.Attribute=2]="Attribute"}(u||(u={}));class cL{startEntity(e){this.decodeMode=e,this.state=c.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1}write(e,t){switch(this.state){case c.EntityStart:if(e.charCodeAt(t)===o.NUM)return this.state=c.NumericStart,this.consumed+=1,this.stateNumericStart(e,t+1);return this.state=c.NamedEntity,this.stateNamedEntity(e,t);case c.NumericStart:return this.stateNumericStart(e,t);case c.NumericDecimal:return this.stateNumericDecimal(e,t);case c.NumericHex:return this.stateNumericHex(e,t);case c.NamedEntity:return this.stateNamedEntity(e,t)}}stateNumericStart(e,t){return t>=e.length?-1:(32|e.charCodeAt(t))===o.LOWER_X?(this.state=c.NumericHex,this.consumed+=1,this.stateNumericHex(e,t+1)):(this.state=c.NumericDecimal,this.stateNumericDecimal(e,t))}addToNumericResult(e,t,n,r){if(t!==n){let i=n-t;this.result=this.result*Math.pow(r,i)+Number.parseInt(e.substr(t,i),r),this.consumed+=i}}stateNumericHex(e,t){let n=t;for(;t<e.length;){var r;let i=e.charCodeAt(t);if(!cP(i)&&(!((r=i)>=o.UPPER_A)||!(r<=o.UPPER_F))&&(!(r>=o.LOWER_A)||!(r<=o.LOWER_F)))return this.addToNumericResult(e,n,t,16),this.emitNumericEntity(i,3);t+=1}return this.addToNumericResult(e,n,t,16),-1}stateNumericDecimal(e,t){let n=t;for(;t<e.length;){let r=e.charCodeAt(t);if(!cP(r))return this.addToNumericResult(e,n,t,10),this.emitNumericEntity(r,2);t+=1}return this.addToNumericResult(e,n,t,10),-1}emitNumericEntity(e,t){var n,r,i;if(this.consumed<=t)return null==(n=this.errors)||n.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(e===o.SEMI)this.consumed+=1;else if(this.decodeMode===u.Strict)return 0;return this.emitCodePoint((r=this.result)>=55296&&r<=57343||r>1114111?65533:null!=(i=cR.get(r))?i:r,this.consumed),this.errors&&(e!==o.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed}stateNamedEntity(e,t){let{decodeTree:n}=this,r=n[this.treeIndex],i=(r&l.VALUE_LENGTH)>>14;for(;t<e.length;t++,this.excess++){let a=e.charCodeAt(t);if(this.treeIndex=function(e,t,n,r){let i=(t&l.BRANCH_LENGTH)>>7,a=t&l.JUMP_TABLE;if(0===i)return 0!==a&&r===a?n:-1;if(a){let t=r-a;return t<0||t>=i?-1:e[n+t]-1}let s=n,o=s+i-1;for(;s<=o;){let t=s+o>>>1,n=e[t];if(n<r)s=t+1;else{if(!(n>r))return e[t+i];o=t-1}}return -1}(n,r,this.treeIndex+Math.max(1,i),a),this.treeIndex<0)return 0===this.result||this.decodeMode===u.Attribute&&(0===i||function(e){var t;return e===o.EQUALS||(t=e)>=o.UPPER_A&&t<=o.UPPER_Z||t>=o.LOWER_A&&t<=o.LOWER_Z||cP(t)}(a))?0:this.emitNotTerminatedNamedEntity();if(0!=(i=((r=n[this.treeIndex])&l.VALUE_LENGTH)>>14)){if(a===o.SEMI)return this.emitNamedEntityData(this.treeIndex,i,this.consumed+this.excess);this.decodeMode!==u.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return -1}emitNotTerminatedNamedEntity(){var e;let{result:t,decodeTree:n}=this,r=(n[t]&l.VALUE_LENGTH)>>14;return this.emitNamedEntityData(t,r,this.consumed),null==(e=this.errors)||e.missingSemicolonAfterCharacterReference(),this.consumed}emitNamedEntityData(e,t,n){let{decodeTree:r}=this;return this.emitCodePoint(1===t?r[e]&~l.VALUE_LENGTH:r[e+1],n),3===t&&this.emitCodePoint(r[e+2],n),n}end(){var e;switch(this.state){case c.NamedEntity:return 0!==this.result&&(this.decodeMode!==u.Attribute||this.result===this.treeIndex)?this.emitNotTerminatedNamedEntity():0;case c.NumericDecimal:return this.emitNumericEntity(0,2);case c.NumericHex:return this.emitNumericEntity(0,3);case c.NumericStart:return null==(e=this.errors)||e.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case c.EntityStart:return 0}}constructor(e,t,n){this.decodeTree=e,this.emitCodePoint=t,this.errors=n,this.state=c.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=u.Strict}}e.s(["ATTRS",()=>h,"DOCUMENT_MODE",()=>p,"NS",()=>d,"NUMBERED_HEADERS",()=>cU,"SPECIAL_ELEMENTS",()=>cH,"TAG_ID",()=>m,"TAG_NAMES",()=>f,"getTagID",()=>cj,"hasUnescapedText",()=>cV],615473),function(e){e.HTML="http://www.w3.org/1999/xhtml",e.MATHML="http://www.w3.org/1998/Math/MathML",e.SVG="http://www.w3.org/2000/svg",e.XLINK="http://www.w3.org/1999/xlink",e.XML="http://www.w3.org/XML/1998/namespace",e.XMLNS="http://www.w3.org/2000/xmlns/"}(d||(d={})),function(e){e.TYPE="type",e.ACTION="action",e.ENCODING="encoding",e.PROMPT="prompt",e.NAME="name",e.COLOR="color",e.FACE="face",e.SIZE="size"}(h||(h={})),function(e){e.NO_QUIRKS="no-quirks",e.QUIRKS="quirks",e.LIMITED_QUIRKS="limited-quirks"}(p||(p={})),function(e){e.A="a",e.ADDRESS="address",e.ANNOTATION_XML="annotation-xml",e.APPLET="applet",e.AREA="area",e.ARTICLE="article",e.ASIDE="aside",e.B="b",e.BASE="base",e.BASEFONT="basefont",e.BGSOUND="bgsound",e.BIG="big",e.BLOCKQUOTE="blockquote",e.BODY="body",e.BR="br",e.BUTTON="button",e.CAPTION="caption",e.CENTER="center",e.CODE="code",e.COL="col",e.COLGROUP="colgroup",e.DD="dd",e.DESC="desc",e.DETAILS="details",e.DIALOG="dialog",e.DIR="dir",e.DIV="div",e.DL="dl",e.DT="dt",e.EM="em",e.EMBED="embed",e.FIELDSET="fieldset",e.FIGCAPTION="figcaption",e.FIGURE="figure",e.FONT="font",e.FOOTER="footer",e.FOREIGN_OBJECT="foreignObject",e.FORM="form",e.FRAME="frame",e.FRAMESET="frameset",e.H1="h1",e.H2="h2",e.H3="h3",e.H4="h4",e.H5="h5",e.H6="h6",e.HEAD="head",e.HEADER="header",e.HGROUP="hgroup",e.HR="hr",e.HTML="html",e.I="i",e.IMG="img",e.IMAGE="image",e.INPUT="input",e.IFRAME="iframe",e.KEYGEN="keygen",e.LABEL="label",e.LI="li",e.LINK="link",e.LISTING="listing",e.MAIN="main",e.MALIGNMARK="malignmark",e.MARQUEE="marquee",e.MATH="math",e.MENU="menu",e.META="meta",e.MGLYPH="mglyph",e.MI="mi",e.MO="mo",e.MN="mn",e.MS="ms",e.MTEXT="mtext",e.NAV="nav",e.NOBR="nobr",e.NOFRAMES="noframes",e.NOEMBED="noembed",e.NOSCRIPT="noscript",e.OBJECT="object",e.OL="ol",e.OPTGROUP="optgroup",e.OPTION="option",e.P="p",e.PARAM="param",e.PLAINTEXT="plaintext",e.PRE="pre",e.RB="rb",e.RP="rp",e.RT="rt",e.RTC="rtc",e.RUBY="ruby",e.S="s",e.SCRIPT="script",e.SEARCH="search",e.SECTION="section",e.SELECT="select",e.SOURCE="source",e.SMALL="small",e.SPAN="span",e.STRIKE="strike",e.STRONG="strong",e.STYLE="style",e.SUB="sub",e.SUMMARY="summary",e.SUP="sup",e.TABLE="table",e.TBODY="tbody",e.TEMPLATE="template",e.TEXTAREA="textarea",e.TFOOT="tfoot",e.TD="td",e.TH="th",e.THEAD="thead",e.TITLE="title",e.TR="tr",e.TRACK="track",e.TT="tt",e.U="u",e.UL="ul",e.SVG="svg",e.VAR="var",e.WBR="wbr",e.XMP="xmp"}(f||(f={})),function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.A=1]="A",e[e.ADDRESS=2]="ADDRESS",e[e.ANNOTATION_XML=3]="ANNOTATION_XML",e[e.APPLET=4]="APPLET",e[e.AREA=5]="AREA",e[e.ARTICLE=6]="ARTICLE",e[e.ASIDE=7]="ASIDE",e[e.B=8]="B",e[e.BASE=9]="BASE",e[e.BASEFONT=10]="BASEFONT",e[e.BGSOUND=11]="BGSOUND",e[e.BIG=12]="BIG",e[e.BLOCKQUOTE=13]="BLOCKQUOTE",e[e.BODY=14]="BODY",e[e.BR=15]="BR",e[e.BUTTON=16]="BUTTON",e[e.CAPTION=17]="CAPTION",e[e.CENTER=18]="CENTER",e[e.CODE=19]="CODE",e[e.COL=20]="COL",e[e.COLGROUP=21]="COLGROUP",e[e.DD=22]="DD",e[e.DESC=23]="DESC",e[e.DETAILS=24]="DETAILS",e[e.DIALOG=25]="DIALOG",e[e.DIR=26]="DIR",e[e.DIV=27]="DIV",e[e.DL=28]="DL",e[e.DT=29]="DT",e[e.EM=30]="EM",e[e.EMBED=31]="EMBED",e[e.FIELDSET=32]="FIELDSET",e[e.FIGCAPTION=33]="FIGCAPTION",e[e.FIGURE=34]="FIGURE",e[e.FONT=35]="FONT",e[e.FOOTER=36]="FOOTER",e[e.FOREIGN_OBJECT=37]="FOREIGN_OBJECT",e[e.FORM=38]="FORM",e[e.FRAME=39]="FRAME",e[e.FRAMESET=40]="FRAMESET",e[e.H1=41]="H1",e[e.H2=42]="H2",e[e.H3=43]="H3",e[e.H4=44]="H4",e[e.H5=45]="H5",e[e.H6=46]="H6",e[e.HEAD=47]="HEAD",e[e.HEADER=48]="HEADER",e[e.HGROUP=49]="HGROUP",e[e.HR=50]="HR",e[e.HTML=51]="HTML",e[e.I=52]="I",e[e.IMG=53]="IMG",e[e.IMAGE=54]="IMAGE",e[e.INPUT=55]="INPUT",e[e.IFRAME=56]="IFRAME",e[e.KEYGEN=57]="KEYGEN",e[e.LABEL=58]="LABEL",e[e.LI=59]="LI",e[e.LINK=60]="LINK",e[e.LISTING=61]="LISTING",e[e.MAIN=62]="MAIN",e[e.MALIGNMARK=63]="MALIGNMARK",e[e.MARQUEE=64]="MARQUEE",e[e.MATH=65]="MATH",e[e.MENU=66]="MENU",e[e.META=67]="META",e[e.MGLYPH=68]="MGLYPH",e[e.MI=69]="MI",e[e.MO=70]="MO",e[e.MN=71]="MN",e[e.MS=72]="MS",e[e.MTEXT=73]="MTEXT",e[e.NAV=74]="NAV",e[e.NOBR=75]="NOBR",e[e.NOFRAMES=76]="NOFRAMES",e[e.NOEMBED=77]="NOEMBED",e[e.NOSCRIPT=78]="NOSCRIPT",e[e.OBJECT=79]="OBJECT",e[e.OL=80]="OL",e[e.OPTGROUP=81]="OPTGROUP",e[e.OPTION=82]="OPTION",e[e.P=83]="P",e[e.PARAM=84]="PARAM",e[e.PLAINTEXT=85]="PLAINTEXT",e[e.PRE=86]="PRE",e[e.RB=87]="RB",e[e.RP=88]="RP",e[e.RT=89]="RT",e[e.RTC=90]="RTC",e[e.RUBY=91]="RUBY",e[e.S=92]="S",e[e.SCRIPT=93]="SCRIPT",e[e.SEARCH=94]="SEARCH",e[e.SECTION=95]="SECTION",e[e.SELECT=96]="SELECT",e[e.SOURCE=97]="SOURCE",e[e.SMALL=98]="SMALL",e[e.SPAN=99]="SPAN",e[e.STRIKE=100]="STRIKE",e[e.STRONG=101]="STRONG",e[e.STYLE=102]="STYLE",e[e.SUB=103]="SUB",e[e.SUMMARY=104]="SUMMARY",e[e.SUP=105]="SUP",e[e.TABLE=106]="TABLE",e[e.TBODY=107]="TBODY",e[e.TEMPLATE=108]="TEMPLATE",e[e.TEXTAREA=109]="TEXTAREA",e[e.TFOOT=110]="TFOOT",e[e.TD=111]="TD",e[e.TH=112]="TH",e[e.THEAD=113]="THEAD",e[e.TITLE=114]="TITLE",e[e.TR=115]="TR",e[e.TRACK=116]="TRACK",e[e.TT=117]="TT",e[e.U=118]="U",e[e.UL=119]="UL",e[e.SVG=120]="SVG",e[e.VAR=121]="VAR",e[e.WBR=122]="WBR",e[e.XMP=123]="XMP"}(m||(m={}));let cF=new Map([[f.A,m.A],[f.ADDRESS,m.ADDRESS],[f.ANNOTATION_XML,m.ANNOTATION_XML],[f.APPLET,m.APPLET],[f.AREA,m.AREA],[f.ARTICLE,m.ARTICLE],[f.ASIDE,m.ASIDE],[f.B,m.B],[f.BASE,m.BASE],[f.BASEFONT,m.BASEFONT],[f.BGSOUND,m.BGSOUND],[f.BIG,m.BIG],[f.BLOCKQUOTE,m.BLOCKQUOTE],[f.BODY,m.BODY],[f.BR,m.BR],[f.BUTTON,m.BUTTON],[f.CAPTION,m.CAPTION],[f.CENTER,m.CENTER],[f.CODE,m.CODE],[f.COL,m.COL],[f.COLGROUP,m.COLGROUP],[f.DD,m.DD],[f.DESC,m.DESC],[f.DETAILS,m.DETAILS],[f.DIALOG,m.DIALOG],[f.DIR,m.DIR],[f.DIV,m.DIV],[f.DL,m.DL],[f.DT,m.DT],[f.EM,m.EM],[f.EMBED,m.EMBED],[f.FIELDSET,m.FIELDSET],[f.FIGCAPTION,m.FIGCAPTION],[f.FIGURE,m.FIGURE],[f.FONT,m.FONT],[f.FOOTER,m.FOOTER],[f.FOREIGN_OBJECT,m.FOREIGN_OBJECT],[f.FORM,m.FORM],[f.FRAME,m.FRAME],[f.FRAMESET,m.FRAMESET],[f.H1,m.H1],[f.H2,m.H2],[f.H3,m.H3],[f.H4,m.H4],[f.H5,m.H5],[f.H6,m.H6],[f.HEAD,m.HEAD],[f.HEADER,m.HEADER],[f.HGROUP,m.HGROUP],[f.HR,m.HR],[f.HTML,m.HTML],[f.I,m.I],[f.IMG,m.IMG],[f.IMAGE,m.IMAGE],[f.INPUT,m.INPUT],[f.IFRAME,m.IFRAME],[f.KEYGEN,m.KEYGEN],[f.LABEL,m.LABEL],[f.LI,m.LI],[f.LINK,m.LINK],[f.LISTING,m.LISTING],[f.MAIN,m.MAIN],[f.MALIGNMARK,m.MALIGNMARK],[f.MARQUEE,m.MARQUEE],[f.MATH,m.MATH],[f.MENU,m.MENU],[f.META,m.META],[f.MGLYPH,m.MGLYPH],[f.MI,m.MI],[f.MO,m.MO],[f.MN,m.MN],[f.MS,m.MS],[f.MTEXT,m.MTEXT],[f.NAV,m.NAV],[f.NOBR,m.NOBR],[f.NOFRAMES,m.NOFRAMES],[f.NOEMBED,m.NOEMBED],[f.NOSCRIPT,m.NOSCRIPT],[f.OBJECT,m.OBJECT],[f.OL,m.OL],[f.OPTGROUP,m.OPTGROUP],[f.OPTION,m.OPTION],[f.P,m.P],[f.PARAM,m.PARAM],[f.PLAINTEXT,m.PLAINTEXT],[f.PRE,m.PRE],[f.RB,m.RB],[f.RP,m.RP],[f.RT,m.RT],[f.RTC,m.RTC],[f.RUBY,m.RUBY],[f.S,m.S],[f.SCRIPT,m.SCRIPT],[f.SEARCH,m.SEARCH],[f.SECTION,m.SECTION],[f.SELECT,m.SELECT],[f.SOURCE,m.SOURCE],[f.SMALL,m.SMALL],[f.SPAN,m.SPAN],[f.STRIKE,m.STRIKE],[f.STRONG,m.STRONG],[f.STYLE,m.STYLE],[f.SUB,m.SUB],[f.SUMMARY,m.SUMMARY],[f.SUP,m.SUP],[f.TABLE,m.TABLE],[f.TBODY,m.TBODY],[f.TEMPLATE,m.TEMPLATE],[f.TEXTAREA,m.TEXTAREA],[f.TFOOT,m.TFOOT],[f.TD,m.TD],[f.TH,m.TH],[f.THEAD,m.THEAD],[f.TITLE,m.TITLE],[f.TR,m.TR],[f.TRACK,m.TRACK],[f.TT,m.TT],[f.U,m.U],[f.UL,m.UL],[f.SVG,m.SVG],[f.VAR,m.VAR],[f.WBR,m.WBR],[f.XMP,m.XMP]]);function cj(e){var t;return null!=(t=cF.get(e))?t:m.UNKNOWN}let cB=m,cH={[d.HTML]:new Set([cB.ADDRESS,cB.APPLET,cB.AREA,cB.ARTICLE,cB.ASIDE,cB.BASE,cB.BASEFONT,cB.BGSOUND,cB.BLOCKQUOTE,cB.BODY,cB.BR,cB.BUTTON,cB.CAPTION,cB.CENTER,cB.COL,cB.COLGROUP,cB.DD,cB.DETAILS,cB.DIR,cB.DIV,cB.DL,cB.DT,cB.EMBED,cB.FIELDSET,cB.FIGCAPTION,cB.FIGURE,cB.FOOTER,cB.FORM,cB.FRAME,cB.FRAMESET,cB.H1,cB.H2,cB.H3,cB.H4,cB.H5,cB.H6,cB.HEAD,cB.HEADER,cB.HGROUP,cB.HR,cB.HTML,cB.IFRAME,cB.IMG,cB.INPUT,cB.LI,cB.LINK,cB.LISTING,cB.MAIN,cB.MARQUEE,cB.MENU,cB.META,cB.NAV,cB.NOEMBED,cB.NOFRAMES,cB.NOSCRIPT,cB.OBJECT,cB.OL,cB.P,cB.PARAM,cB.PLAINTEXT,cB.PRE,cB.SCRIPT,cB.SECTION,cB.SELECT,cB.SOURCE,cB.STYLE,cB.SUMMARY,cB.TABLE,cB.TBODY,cB.TD,cB.TEMPLATE,cB.TEXTAREA,cB.TFOOT,cB.TH,cB.THEAD,cB.TITLE,cB.TR,cB.TRACK,cB.UL,cB.WBR,cB.XMP]),[d.MATHML]:new Set([cB.MI,cB.MO,cB.MN,cB.MS,cB.MTEXT,cB.ANNOTATION_XML]),[d.SVG]:new Set([cB.TITLE,cB.FOREIGN_OBJECT,cB.DESC]),[d.XLINK]:new Set,[d.XML]:new Set,[d.XMLNS]:new Set},cU=new Set([cB.H1,cB.H2,cB.H3,cB.H4,cB.H5,cB.H6]),cz=new Set([f.STYLE,f.SCRIPT,f.XMP,f.IFRAME,f.NOEMBED,f.NOFRAMES,f.PLAINTEXT]);function cV(e,t){return cz.has(e)||t&&e===f.NOSCRIPT}!function(e){e[e.DATA=0]="DATA",e[e.RCDATA=1]="RCDATA",e[e.RAWTEXT=2]="RAWTEXT",e[e.SCRIPT_DATA=3]="SCRIPT_DATA",e[e.PLAINTEXT=4]="PLAINTEXT",e[e.TAG_OPEN=5]="TAG_OPEN",e[e.END_TAG_OPEN=6]="END_TAG_OPEN",e[e.TAG_NAME=7]="TAG_NAME",e[e.RCDATA_LESS_THAN_SIGN=8]="RCDATA_LESS_THAN_SIGN",e[e.RCDATA_END_TAG_OPEN=9]="RCDATA_END_TAG_OPEN",e[e.RCDATA_END_TAG_NAME=10]="RCDATA_END_TAG_NAME",e[e.RAWTEXT_LESS_THAN_SIGN=11]="RAWTEXT_LESS_THAN_SIGN",e[e.RAWTEXT_END_TAG_OPEN=12]="RAWTEXT_END_TAG_OPEN",e[e.RAWTEXT_END_TAG_NAME=13]="RAWTEXT_END_TAG_NAME",e[e.SCRIPT_DATA_LESS_THAN_SIGN=14]="SCRIPT_DATA_LESS_THAN_SIGN",e[e.SCRIPT_DATA_END_TAG_OPEN=15]="SCRIPT_DATA_END_TAG_OPEN",e[e.SCRIPT_DATA_END_TAG_NAME=16]="SCRIPT_DATA_END_TAG_NAME",e[e.SCRIPT_DATA_ESCAPE_START=17]="SCRIPT_DATA_ESCAPE_START",e[e.SCRIPT_DATA_ESCAPE_START_DASH=18]="SCRIPT_DATA_ESCAPE_START_DASH",e[e.SCRIPT_DATA_ESCAPED=19]="SCRIPT_DATA_ESCAPED",e[e.SCRIPT_DATA_ESCAPED_DASH=20]="SCRIPT_DATA_ESCAPED_DASH",e[e.SCRIPT_DATA_ESCAPED_DASH_DASH=21]="SCRIPT_DATA_ESCAPED_DASH_DASH",e[e.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN=22]="SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN",e[e.SCRIPT_DATA_ESCAPED_END_TAG_OPEN=23]="SCRIPT_DATA_ESCAPED_END_TAG_OPEN",e[e.SCRIPT_DATA_ESCAPED_END_TAG_NAME=24]="SCRIPT_DATA_ESCAPED_END_TAG_NAME",e[e.SCRIPT_DATA_DOUBLE_ESCAPE_START=25]="SCRIPT_DATA_DOUBLE_ESCAPE_START",e[e.SCRIPT_DATA_DOUBLE_ESCAPED=26]="SCRIPT_DATA_DOUBLE_ESCAPED",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_DASH=27]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH=28]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN=29]="SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN",e[e.SCRIPT_DATA_DOUBLE_ESCAPE_END=30]="SCRIPT_DATA_DOUBLE_ESCAPE_END",e[e.BEFORE_ATTRIBUTE_NAME=31]="BEFORE_ATTRIBUTE_NAME",e[e.ATTRIBUTE_NAME=32]="ATTRIBUTE_NAME",e[e.AFTER_ATTRIBUTE_NAME=33]="AFTER_ATTRIBUTE_NAME",e[e.BEFORE_ATTRIBUTE_VALUE=34]="BEFORE_ATTRIBUTE_VALUE",e[e.ATTRIBUTE_VALUE_DOUBLE_QUOTED=35]="ATTRIBUTE_VALUE_DOUBLE_QUOTED",e[e.ATTRIBUTE_VALUE_SINGLE_QUOTED=36]="ATTRIBUTE_VALUE_SINGLE_QUOTED",e[e.ATTRIBUTE_VALUE_UNQUOTED=37]="ATTRIBUTE_VALUE_UNQUOTED",e[e.AFTER_ATTRIBUTE_VALUE_QUOTED=38]="AFTER_ATTRIBUTE_VALUE_QUOTED",e[e.SELF_CLOSING_START_TAG=39]="SELF_CLOSING_START_TAG",e[e.BOGUS_COMMENT=40]="BOGUS_COMMENT",e[e.MARKUP_DECLARATION_OPEN=41]="MARKUP_DECLARATION_OPEN",e[e.COMMENT_START=42]="COMMENT_START",e[e.COMMENT_START_DASH=43]="COMMENT_START_DASH",e[e.COMMENT=44]="COMMENT",e[e.COMMENT_LESS_THAN_SIGN=45]="COMMENT_LESS_THAN_SIGN",e[e.COMMENT_LESS_THAN_SIGN_BANG=46]="COMMENT_LESS_THAN_SIGN_BANG",e[e.COMMENT_LESS_THAN_SIGN_BANG_DASH=47]="COMMENT_LESS_THAN_SIGN_BANG_DASH",e[e.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH=48]="COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH",e[e.COMMENT_END_DASH=49]="COMMENT_END_DASH",e[e.COMMENT_END=50]="COMMENT_END",e[e.COMMENT_END_BANG=51]="COMMENT_END_BANG",e[e.DOCTYPE=52]="DOCTYPE",e[e.BEFORE_DOCTYPE_NAME=53]="BEFORE_DOCTYPE_NAME",e[e.DOCTYPE_NAME=54]="DOCTYPE_NAME",e[e.AFTER_DOCTYPE_NAME=55]="AFTER_DOCTYPE_NAME",e[e.AFTER_DOCTYPE_PUBLIC_KEYWORD=56]="AFTER_DOCTYPE_PUBLIC_KEYWORD",e[e.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER=57]="BEFORE_DOCTYPE_PUBLIC_IDENTIFIER",e[e.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED=58]="DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED",e[e.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED=59]="DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED",e[e.AFTER_DOCTYPE_PUBLIC_IDENTIFIER=60]="AFTER_DOCTYPE_PUBLIC_IDENTIFIER",e[e.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS=61]="BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS",e[e.AFTER_DOCTYPE_SYSTEM_KEYWORD=62]="AFTER_DOCTYPE_SYSTEM_KEYWORD",e[e.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER=63]="BEFORE_DOCTYPE_SYSTEM_IDENTIFIER",e[e.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED=64]="DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED",e[e.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED=65]="DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED",e[e.AFTER_DOCTYPE_SYSTEM_IDENTIFIER=66]="AFTER_DOCTYPE_SYSTEM_IDENTIFIER",e[e.BOGUS_DOCTYPE=67]="BOGUS_DOCTYPE",e[e.CDATA_SECTION=68]="CDATA_SECTION",e[e.CDATA_SECTION_BRACKET=69]="CDATA_SECTION_BRACKET",e[e.CDATA_SECTION_END=70]="CDATA_SECTION_END",e[e.CHARACTER_REFERENCE=71]="CHARACTER_REFERENCE",e[e.AMBIGUOUS_AMPERSAND=72]="AMBIGUOUS_AMPERSAND"}(g||(g={}));let cG={DATA:g.DATA,RCDATA:g.RCDATA,RAWTEXT:g.RAWTEXT,SCRIPT_DATA:g.SCRIPT_DATA,PLAINTEXT:g.PLAINTEXT,CDATA_SECTION:g.CDATA_SECTION};function cq(e){return e>=r.LATIN_CAPITAL_A&&e<=r.LATIN_CAPITAL_Z}function cZ(e){return e>=r.LATIN_SMALL_A&&e<=r.LATIN_SMALL_Z||cq(e)}function c$(e){return cZ(e)||e>=r.DIGIT_0&&e<=r.DIGIT_9}function cW(e){return e===r.SPACE||e===r.LINE_FEED||e===r.TABULATION||e===r.FORM_FEED}function cY(e){return cW(e)||e===r.SOLIDUS||e===r.GREATER_THAN_SIGN}class cK{_err(e){var t,n;let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;null==(n=(t=this.handler).onParseError)||n.call(t,this.preprocessor.getError(e,r))}getCurrentLocation(e){return this.options.sourceCodeLocationInfo?{startLine:this.preprocessor.line,startCol:this.preprocessor.col-e,startOffset:this.preprocessor.offset-e,endLine:-1,endCol:-1,endOffset:-1}:null}_runParsingLoop(){if(!this.inLoop){for(this.inLoop=!0;this.active&&!this.paused;){this.consumedAfterSnapshot=0;let e=this._consume();this._ensureHibernation()||this._callState(e)}this.inLoop=!1}}pause(){this.paused=!0}resume(e){if(!this.paused)throw Error("Parser was already resumed");this.paused=!1,!this.inLoop&&(this._runParsingLoop(),this.paused||null==e||e())}write(e,t,n){this.active=!0,this.preprocessor.write(e,t),this._runParsingLoop(),this.paused||null==n||n()}insertHtmlAtCurrentPos(e){this.active=!0,this.preprocessor.insertHtmlAtCurrentPos(e),this._runParsingLoop()}_ensureHibernation(){return!!this.preprocessor.endOfChunkHit&&(this.preprocessor.retreat(this.consumedAfterSnapshot),this.consumedAfterSnapshot=0,this.active=!1,!0)}_consume(){return this.consumedAfterSnapshot++,this.preprocessor.advance()}_advanceBy(e){this.consumedAfterSnapshot+=e;for(let t=0;t<e;t++)this.preprocessor.advance()}_consumeSequenceIfMatch(e,t){return!!this.preprocessor.startsWith(e,t)&&(this._advanceBy(e.length-1),!0)}_createStartTagToken(){this.currentToken={type:a.START_TAG,tagName:"",tagID:m.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(1)}}_createEndTagToken(){this.currentToken={type:a.END_TAG,tagName:"",tagID:m.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(2)}}_createCommentToken(e){this.currentToken={type:a.COMMENT,data:"",location:this.getCurrentLocation(e)}}_createDoctypeToken(e){this.currentToken={type:a.DOCTYPE,name:e,forceQuirks:!1,publicId:null,systemId:null,location:this.currentLocation}}_createCharacterToken(e,t){this.currentCharacterToken={type:e,chars:t,location:this.currentLocation}}_createAttr(e){this.currentAttr={name:e,value:""},this.currentLocation=this.getCurrentLocation(0)}_leaveAttrName(){var e,t;let n=this.currentToken;null===cM(n,this.currentAttr.name)?(n.attrs.push(this.currentAttr),n.location&&this.currentLocation&&((null!=(e=(t=n.location).attrs)?e:t.attrs=Object.create(null))[this.currentAttr.name]=this.currentLocation,this._leaveAttrValue())):this._err(i.duplicateAttribute)}_leaveAttrValue(){this.currentLocation&&(this.currentLocation.endLine=this.preprocessor.line,this.currentLocation.endCol=this.preprocessor.col,this.currentLocation.endOffset=this.preprocessor.offset)}prepareToken(e){this._emitCurrentCharacterToken(e.location),this.currentToken=null,e.location&&(e.location.endLine=this.preprocessor.line,e.location.endCol=this.preprocessor.col+1,e.location.endOffset=this.preprocessor.offset+1),this.currentLocation=this.getCurrentLocation(-1)}emitCurrentTagToken(){let e=this.currentToken;this.prepareToken(e),e.tagID=cj(e.tagName),e.type===a.START_TAG?(this.lastStartTagName=e.tagName,this.handler.onStartTag(e)):(e.attrs.length>0&&this._err(i.endTagWithAttributes),e.selfClosing&&this._err(i.endTagWithTrailingSolidus),this.handler.onEndTag(e)),this.preprocessor.dropParsedChunk()}emitCurrentComment(e){this.prepareToken(e),this.handler.onComment(e),this.preprocessor.dropParsedChunk()}emitCurrentDoctype(e){this.prepareToken(e),this.handler.onDoctype(e),this.preprocessor.dropParsedChunk()}_emitCurrentCharacterToken(e){if(this.currentCharacterToken){switch(e&&this.currentCharacterToken.location&&(this.currentCharacterToken.location.endLine=e.startLine,this.currentCharacterToken.location.endCol=e.startCol,this.currentCharacterToken.location.endOffset=e.startOffset),this.currentCharacterToken.type){case a.CHARACTER:this.handler.onCharacter(this.currentCharacterToken);break;case a.NULL_CHARACTER:this.handler.onNullCharacter(this.currentCharacterToken);break;case a.WHITESPACE_CHARACTER:this.handler.onWhitespaceCharacter(this.currentCharacterToken)}this.currentCharacterToken=null}}_emitEOFToken(){let e=this.getCurrentLocation(0);e&&(e.endLine=e.startLine,e.endCol=e.startCol,e.endOffset=e.startOffset),this._emitCurrentCharacterToken(e),this.handler.onEof({type:a.EOF,location:e}),this.active=!1}_appendCharToCurrentCharacterToken(e,t){if(this.currentCharacterToken)if(this.currentCharacterToken.type===e){this.currentCharacterToken.chars+=t;return}else this.currentLocation=this.getCurrentLocation(0),this._emitCurrentCharacterToken(this.currentLocation),this.preprocessor.dropParsedChunk();this._createCharacterToken(e,t)}_emitCodePoint(e){let t=cW(e)?a.WHITESPACE_CHARACTER:e===r.NULL?a.NULL_CHARACTER:a.CHARACTER;this._appendCharToCurrentCharacterToken(t,String.fromCodePoint(e))}_emitChars(e){this._appendCharToCurrentCharacterToken(a.CHARACTER,e)}_startCharacterReference(){this.returnState=this.state,this.state=g.CHARACTER_REFERENCE,this.entityStartPos=this.preprocessor.pos,this.entityDecoder.startEntity(this._isCharacterReferenceInAttribute()?u.Attribute:u.Legacy)}_isCharacterReferenceInAttribute(){return this.returnState===g.ATTRIBUTE_VALUE_DOUBLE_QUOTED||this.returnState===g.ATTRIBUTE_VALUE_SINGLE_QUOTED||this.returnState===g.ATTRIBUTE_VALUE_UNQUOTED}_flushCodePointConsumedAsCharacterReference(e){this._isCharacterReferenceInAttribute()?this.currentAttr.value+=String.fromCodePoint(e):this._emitCodePoint(e)}_callState(e){switch(this.state){case g.DATA:this._stateData(e);break;case g.RCDATA:this._stateRcdata(e);break;case g.RAWTEXT:this._stateRawtext(e);break;case g.SCRIPT_DATA:this._stateScriptData(e);break;case g.PLAINTEXT:this._statePlaintext(e);break;case g.TAG_OPEN:this._stateTagOpen(e);break;case g.END_TAG_OPEN:this._stateEndTagOpen(e);break;case g.TAG_NAME:this._stateTagName(e);break;case g.RCDATA_LESS_THAN_SIGN:this._stateRcdataLessThanSign(e);break;case g.RCDATA_END_TAG_OPEN:this._stateRcdataEndTagOpen(e);break;case g.RCDATA_END_TAG_NAME:this._stateRcdataEndTagName(e);break;case g.RAWTEXT_LESS_THAN_SIGN:this._stateRawtextLessThanSign(e);break;case g.RAWTEXT_END_TAG_OPEN:this._stateRawtextEndTagOpen(e);break;case g.RAWTEXT_END_TAG_NAME:this._stateRawtextEndTagName(e);break;case g.SCRIPT_DATA_LESS_THAN_SIGN:this._stateScriptDataLessThanSign(e);break;case g.SCRIPT_DATA_END_TAG_OPEN:this._stateScriptDataEndTagOpen(e);break;case g.SCRIPT_DATA_END_TAG_NAME:this._stateScriptDataEndTagName(e);break;case g.SCRIPT_DATA_ESCAPE_START:this._stateScriptDataEscapeStart(e);break;case g.SCRIPT_DATA_ESCAPE_START_DASH:this._stateScriptDataEscapeStartDash(e);break;case g.SCRIPT_DATA_ESCAPED:this._stateScriptDataEscaped(e);break;case g.SCRIPT_DATA_ESCAPED_DASH:this._stateScriptDataEscapedDash(e);break;case g.SCRIPT_DATA_ESCAPED_DASH_DASH:this._stateScriptDataEscapedDashDash(e);break;case g.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN:this._stateScriptDataEscapedLessThanSign(e);break;case g.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:this._stateScriptDataEscapedEndTagOpen(e);break;case g.SCRIPT_DATA_ESCAPED_END_TAG_NAME:this._stateScriptDataEscapedEndTagName(e);break;case g.SCRIPT_DATA_DOUBLE_ESCAPE_START:this._stateScriptDataDoubleEscapeStart(e);break;case g.SCRIPT_DATA_DOUBLE_ESCAPED:this._stateScriptDataDoubleEscaped(e);break;case g.SCRIPT_DATA_DOUBLE_ESCAPED_DASH:this._stateScriptDataDoubleEscapedDash(e);break;case g.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH:this._stateScriptDataDoubleEscapedDashDash(e);break;case g.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN:this._stateScriptDataDoubleEscapedLessThanSign(e);break;case g.SCRIPT_DATA_DOUBLE_ESCAPE_END:this._stateScriptDataDoubleEscapeEnd(e);break;case g.BEFORE_ATTRIBUTE_NAME:this._stateBeforeAttributeName(e);break;case g.ATTRIBUTE_NAME:this._stateAttributeName(e);break;case g.AFTER_ATTRIBUTE_NAME:this._stateAfterAttributeName(e);break;case g.BEFORE_ATTRIBUTE_VALUE:this._stateBeforeAttributeValue(e);break;case g.ATTRIBUTE_VALUE_DOUBLE_QUOTED:this._stateAttributeValueDoubleQuoted(e);break;case g.ATTRIBUTE_VALUE_SINGLE_QUOTED:this._stateAttributeValueSingleQuoted(e);break;case g.ATTRIBUTE_VALUE_UNQUOTED:this._stateAttributeValueUnquoted(e);break;case g.AFTER_ATTRIBUTE_VALUE_QUOTED:this._stateAfterAttributeValueQuoted(e);break;case g.SELF_CLOSING_START_TAG:this._stateSelfClosingStartTag(e);break;case g.BOGUS_COMMENT:this._stateBogusComment(e);break;case g.MARKUP_DECLARATION_OPEN:this._stateMarkupDeclarationOpen(e);break;case g.COMMENT_START:this._stateCommentStart(e);break;case g.COMMENT_START_DASH:this._stateCommentStartDash(e);break;case g.COMMENT:this._stateComment(e);break;case g.COMMENT_LESS_THAN_SIGN:this._stateCommentLessThanSign(e);break;case g.COMMENT_LESS_THAN_SIGN_BANG:this._stateCommentLessThanSignBang(e);break;case g.COMMENT_LESS_THAN_SIGN_BANG_DASH:this._stateCommentLessThanSignBangDash(e);break;case g.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:this._stateCommentLessThanSignBangDashDash(e);break;case g.COMMENT_END_DASH:this._stateCommentEndDash(e);break;case g.COMMENT_END:this._stateCommentEnd(e);break;case g.COMMENT_END_BANG:this._stateCommentEndBang(e);break;case g.DOCTYPE:this._stateDoctype(e);break;case g.BEFORE_DOCTYPE_NAME:this._stateBeforeDoctypeName(e);break;case g.DOCTYPE_NAME:this._stateDoctypeName(e);break;case g.AFTER_DOCTYPE_NAME:this._stateAfterDoctypeName(e);break;case g.AFTER_DOCTYPE_PUBLIC_KEYWORD:this._stateAfterDoctypePublicKeyword(e);break;case g.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER:this._stateBeforeDoctypePublicIdentifier(e);break;case g.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED:this._stateDoctypePublicIdentifierDoubleQuoted(e);break;case g.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED:this._stateDoctypePublicIdentifierSingleQuoted(e);break;case g.AFTER_DOCTYPE_PUBLIC_IDENTIFIER:this._stateAfterDoctypePublicIdentifier(e);break;case g.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS:this._stateBetweenDoctypePublicAndSystemIdentifiers(e);break;case g.AFTER_DOCTYPE_SYSTEM_KEYWORD:this._stateAfterDoctypeSystemKeyword(e);break;case g.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER:this._stateBeforeDoctypeSystemIdentifier(e);break;case g.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED:this._stateDoctypeSystemIdentifierDoubleQuoted(e);break;case g.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED:this._stateDoctypeSystemIdentifierSingleQuoted(e);break;case g.AFTER_DOCTYPE_SYSTEM_IDENTIFIER:this._stateAfterDoctypeSystemIdentifier(e);break;case g.BOGUS_DOCTYPE:this._stateBogusDoctype(e);break;case g.CDATA_SECTION:this._stateCdataSection(e);break;case g.CDATA_SECTION_BRACKET:this._stateCdataSectionBracket(e);break;case g.CDATA_SECTION_END:this._stateCdataSectionEnd(e);break;case g.CHARACTER_REFERENCE:this._stateCharacterReference();break;case g.AMBIGUOUS_AMPERSAND:this._stateAmbiguousAmpersand(e);break;default:throw Error("Unknown state")}}_stateData(e){switch(e){case r.LESS_THAN_SIGN:this.state=g.TAG_OPEN;break;case r.AMPERSAND:this._startCharacterReference();break;case r.NULL:this._err(i.unexpectedNullCharacter),this._emitCodePoint(e);break;case r.EOF:this._emitEOFToken();break;default:this._emitCodePoint(e)}}_stateRcdata(e){switch(e){case r.AMPERSAND:this._startCharacterReference();break;case r.LESS_THAN_SIGN:this.state=g.RCDATA_LESS_THAN_SIGN;break;case r.NULL:this._err(i.unexpectedNullCharacter),this._emitChars("");break;case r.EOF:this._emitEOFToken();break;default:this._emitCodePoint(e)}}_stateRawtext(e){switch(e){case r.LESS_THAN_SIGN:this.state=g.RAWTEXT_LESS_THAN_SIGN;break;case r.NULL:this._err(i.unexpectedNullCharacter),this._emitChars("");break;case r.EOF:this._emitEOFToken();break;default:this._emitCodePoint(e)}}_stateScriptData(e){switch(e){case r.LESS_THAN_SIGN:this.state=g.SCRIPT_DATA_LESS_THAN_SIGN;break;case r.NULL:this._err(i.unexpectedNullCharacter),this._emitChars("");break;case r.EOF:this._emitEOFToken();break;default:this._emitCodePoint(e)}}_statePlaintext(e){switch(e){case r.NULL:this._err(i.unexpectedNullCharacter),this._emitChars("");break;case r.EOF:this._emitEOFToken();break;default:this._emitCodePoint(e)}}_stateTagOpen(e){if(cZ(e))this._createStartTagToken(),this.state=g.TAG_NAME,this._stateTagName(e);else switch(e){case r.EXCLAMATION_MARK:this.state=g.MARKUP_DECLARATION_OPEN;break;case r.SOLIDUS:this.state=g.END_TAG_OPEN;break;case r.QUESTION_MARK:this._err(i.unexpectedQuestionMarkInsteadOfTagName),this._createCommentToken(1),this.state=g.BOGUS_COMMENT,this._stateBogusComment(e);break;case r.EOF:this._err(i.eofBeforeTagName),this._emitChars("<"),this._emitEOFToken();break;default:this._err(i.invalidFirstCharacterOfTagName),this._emitChars("<"),this.state=g.DATA,this._stateData(e)}}_stateEndTagOpen(e){if(cZ(e))this._createEndTagToken(),this.state=g.TAG_NAME,this._stateTagName(e);else switch(e){case r.GREATER_THAN_SIGN:this._err(i.missingEndTagName),this.state=g.DATA;break;case r.EOF:this._err(i.eofBeforeTagName),this._emitChars("</"),this._emitEOFToken();break;default:this._err(i.invalidFirstCharacterOfTagName),this._createCommentToken(2),this.state=g.BOGUS_COMMENT,this._stateBogusComment(e)}}_stateTagName(e){let t=this.currentToken;switch(e){case r.SPACE:case r.LINE_FEED:case r.TABULATION:case r.FORM_FEED:this.state=g.BEFORE_ATTRIBUTE_NAME;break;case r.SOLIDUS:this.state=g.SELF_CLOSING_START_TAG;break;case r.GREATER_THAN_SIGN:this.state=g.DATA,this.emitCurrentTagToken();break;case r.NULL:this._err(i.unexpectedNullCharacter),t.tagName+="";break;case r.EOF:this._err(i.eofInTag),this._emitEOFToken();break;default:t.tagName+=String.fromCodePoint(cq(e)?e+32:e)}}_stateRcdataLessThanSign(e){e===r.SOLIDUS?this.state=g.RCDATA_END_TAG_OPEN:(this._emitChars("<"),this.state=g.RCDATA,this._stateRcdata(e))}_stateRcdataEndTagOpen(e){cZ(e)?(this.state=g.RCDATA_END_TAG_NAME,this._stateRcdataEndTagName(e)):(this._emitChars("</"),this.state=g.RCDATA,this._stateRcdata(e))}handleSpecialEndTag(e){if(!this.preprocessor.startsWith(this.lastStartTagName,!1))return!this._ensureHibernation();switch(this._createEndTagToken(),this.currentToken.tagName=this.lastStartTagName,this.preprocessor.peek(this.lastStartTagName.length)){case r.SPACE:case r.LINE_FEED:case r.TABULATION:case r.FORM_FEED:return this._advanceBy(this.lastStartTagName.length),this.state=g.BEFORE_ATTRIBUTE_NAME,!1;case r.SOLIDUS:return this._advanceBy(this.lastStartTagName.length),this.state=g.SELF_CLOSING_START_TAG,!1;case r.GREATER_THAN_SIGN:return this._advanceBy(this.lastStartTagName.length),this.emitCurrentTagToken(),this.state=g.DATA,!1;default:return!this._ensureHibernation()}}_stateRcdataEndTagName(e){this.handleSpecialEndTag(e)&&(this._emitChars("</"),this.state=g.RCDATA,this._stateRcdata(e))}_stateRawtextLessThanSign(e){e===r.SOLIDUS?this.state=g.RAWTEXT_END_TAG_OPEN:(this._emitChars("<"),this.state=g.RAWTEXT,this._stateRawtext(e))}_stateRawtextEndTagOpen(e){cZ(e)?(this.state=g.RAWTEXT_END_TAG_NAME,this._stateRawtextEndTagName(e)):(this._emitChars("</"),this.state=g.RAWTEXT,this._stateRawtext(e))}_stateRawtextEndTagName(e){this.handleSpecialEndTag(e)&&(this._emitChars("</"),this.state=g.RAWTEXT,this._stateRawtext(e))}_stateScriptDataLessThanSign(e){switch(e){case r.SOLIDUS:this.state=g.SCRIPT_DATA_END_TAG_OPEN;break;case r.EXCLAMATION_MARK:this.state=g.SCRIPT_DATA_ESCAPE_START,this._emitChars("<!");break;default:this._emitChars("<"),this.state=g.SCRIPT_DATA,this._stateScriptData(e)}}_stateScriptDataEndTagOpen(e){cZ(e)?(this.state=g.SCRIPT_DATA_END_TAG_NAME,this._stateScriptDataEndTagName(e)):(this._emitChars("</"),this.state=g.SCRIPT_DATA,this._stateScriptData(e))}_stateScriptDataEndTagName(e){this.handleSpecialEndTag(e)&&(this._emitChars("</"),this.state=g.SCRIPT_DATA,this._stateScriptData(e))}_stateScriptDataEscapeStart(e){e===r.HYPHEN_MINUS?(this.state=g.SCRIPT_DATA_ESCAPE_START_DASH,this._emitChars("-")):(this.state=g.SCRIPT_DATA,this._stateScriptData(e))}_stateScriptDataEscapeStartDash(e){e===r.HYPHEN_MINUS?(this.state=g.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-")):(this.state=g.SCRIPT_DATA,this._stateScriptData(e))}_stateScriptDataEscaped(e){switch(e){case r.HYPHEN_MINUS:this.state=g.SCRIPT_DATA_ESCAPED_DASH,this._emitChars("-");break;case r.LESS_THAN_SIGN:this.state=g.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break;case r.NULL:this._err(i.unexpectedNullCharacter),this._emitChars("");break;case r.EOF:this._err(i.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break;default:this._emitCodePoint(e)}}_stateScriptDataEscapedDash(e){switch(e){case r.HYPHEN_MINUS:this.state=g.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-");break;case r.LESS_THAN_SIGN:this.state=g.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break;case r.NULL:this._err(i.unexpectedNullCharacter),this.state=g.SCRIPT_DATA_ESCAPED,this._emitChars("");break;case r.EOF:this._err(i.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break;default:this.state=g.SCRIPT_DATA_ESCAPED,this._emitCodePoint(e)}}_stateScriptDataEscapedDashDash(e){switch(e){case r.HYPHEN_MINUS:this._emitChars("-");break;case r.LESS_THAN_SIGN:this.state=g.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break;case r.GREATER_THAN_SIGN:this.state=g.SCRIPT_DATA,this._emitChars(">");break;case r.NULL:this._err(i.unexpectedNullCharacter),this.state=g.SCRIPT_DATA_ESCAPED,this._emitChars("");break;case r.EOF:this._err(i.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break;default:this.state=g.SCRIPT_DATA_ESCAPED,this._emitCodePoint(e)}}_stateScriptDataEscapedLessThanSign(e){e===r.SOLIDUS?this.state=g.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:cZ(e)?(this._emitChars("<"),this.state=g.SCRIPT_DATA_DOUBLE_ESCAPE_START,this._stateScriptDataDoubleEscapeStart(e)):(this._emitChars("<"),this.state=g.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(e))}_stateScriptDataEscapedEndTagOpen(e){cZ(e)?(this.state=g.SCRIPT_DATA_ESCAPED_END_TAG_NAME,this._stateScriptDataEscapedEndTagName(e)):(this._emitChars("</"),this.state=g.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(e))}_stateScriptDataEscapedEndTagName(e){this.handleSpecialEndTag(e)&&(this._emitChars("</"),this.state=g.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(e))}_stateScriptDataDoubleEscapeStart(e){if(this.preprocessor.startsWith(cC.SCRIPT,!1)&&cY(this.preprocessor.peek(cC.SCRIPT.length))){this._emitCodePoint(e);for(let e=0;e<cC.SCRIPT.length;e++)this._emitCodePoint(this._consume());this.state=g.SCRIPT_DATA_DOUBLE_ESCAPED}else this._ensureHibernation()||(this.state=g.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(e))}_stateScriptDataDoubleEscaped(e){switch(e){case r.HYPHEN_MINUS:this.state=g.SCRIPT_DATA_DOUBLE_ESCAPED_DASH,this._emitChars("-");break;case r.LESS_THAN_SIGN:this.state=g.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break;case r.NULL:this._err(i.unexpectedNullCharacter),this._emitChars("");break;case r.EOF:this._err(i.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break;default:this._emitCodePoint(e)}}_stateScriptDataDoubleEscapedDash(e){switch(e){case r.HYPHEN_MINUS:this.state=g.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH,this._emitChars("-");break;case r.LESS_THAN_SIGN:this.state=g.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break;case r.NULL:this._err(i.unexpectedNullCharacter),this.state=g.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars("");break;case r.EOF:this._err(i.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break;default:this.state=g.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(e)}}_stateScriptDataDoubleEscapedDashDash(e){switch(e){case r.HYPHEN_MINUS:this._emitChars("-");break;case r.LESS_THAN_SIGN:this.state=g.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break;case r.GREATER_THAN_SIGN:this.state=g.SCRIPT_DATA,this._emitChars(">");break;case r.NULL:this._err(i.unexpectedNullCharacter),this.state=g.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars("");break;case r.EOF:this._err(i.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break;default:this.state=g.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(e)}}_stateScriptDataDoubleEscapedLessThanSign(e){e===r.SOLIDUS?(this.state=g.SCRIPT_DATA_DOUBLE_ESCAPE_END,this._emitChars("/")):(this.state=g.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(e))}_stateScriptDataDoubleEscapeEnd(e){if(this.preprocessor.startsWith(cC.SCRIPT,!1)&&cY(this.preprocessor.peek(cC.SCRIPT.length))){this._emitCodePoint(e);for(let e=0;e<cC.SCRIPT.length;e++)this._emitCodePoint(this._consume());this.state=g.SCRIPT_DATA_ESCAPED}else this._ensureHibernation()||(this.state=g.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(e))}_stateBeforeAttributeName(e){switch(e){case r.SPACE:case r.LINE_FEED:case r.TABULATION:case r.FORM_FEED:break;case r.SOLIDUS:case r.GREATER_THAN_SIGN:case r.EOF:this.state=g.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(e);break;case r.EQUALS_SIGN:this._err(i.unexpectedEqualsSignBeforeAttributeName),this._createAttr("="),this.state=g.ATTRIBUTE_NAME;break;default:this._createAttr(""),this.state=g.ATTRIBUTE_NAME,this._stateAttributeName(e)}}_stateAttributeName(e){switch(e){case r.SPACE:case r.LINE_FEED:case r.TABULATION:case r.FORM_FEED:case r.SOLIDUS:case r.GREATER_THAN_SIGN:case r.EOF:this._leaveAttrName(),this.state=g.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(e);break;case r.EQUALS_SIGN:this._leaveAttrName(),this.state=g.BEFORE_ATTRIBUTE_VALUE;break;case r.QUOTATION_MARK:case r.APOSTROPHE:case r.LESS_THAN_SIGN:this._err(i.unexpectedCharacterInAttributeName),this.currentAttr.name+=String.fromCodePoint(e);break;case r.NULL:this._err(i.unexpectedNullCharacter),this.currentAttr.name+="";break;default:this.currentAttr.name+=String.fromCodePoint(cq(e)?e+32:e)}}_stateAfterAttributeName(e){switch(e){case r.SPACE:case r.LINE_FEED:case r.TABULATION:case r.FORM_FEED:break;case r.SOLIDUS:this.state=g.SELF_CLOSING_START_TAG;break;case r.EQUALS_SIGN:this.state=g.BEFORE_ATTRIBUTE_VALUE;break;case r.GREATER_THAN_SIGN:this.state=g.DATA,this.emitCurrentTagToken();break;case r.EOF:this._err(i.eofInTag),this._emitEOFToken();break;default:this._createAttr(""),this.state=g.ATTRIBUTE_NAME,this._stateAttributeName(e)}}_stateBeforeAttributeValue(e){switch(e){case r.SPACE:case r.LINE_FEED:case r.TABULATION:case r.FORM_FEED:break;case r.QUOTATION_MARK:this.state=g.ATTRIBUTE_VALUE_DOUBLE_QUOTED;break;case r.APOSTROPHE:this.state=g.ATTRIBUTE_VALUE_SINGLE_QUOTED;break;case r.GREATER_THAN_SIGN:this._err(i.missingAttributeValue),this.state=g.DATA,this.emitCurrentTagToken();break;default:this.state=g.ATTRIBUTE_VALUE_UNQUOTED,this._stateAttributeValueUnquoted(e)}}_stateAttributeValueDoubleQuoted(e){switch(e){case r.QUOTATION_MARK:this.state=g.AFTER_ATTRIBUTE_VALUE_QUOTED;break;case r.AMPERSAND:this._startCharacterReference();break;case r.NULL:this._err(i.unexpectedNullCharacter),this.currentAttr.value+="";break;case r.EOF:this._err(i.eofInTag),this._emitEOFToken();break;default:this.currentAttr.value+=String.fromCodePoint(e)}}_stateAttributeValueSingleQuoted(e){switch(e){case r.APOSTROPHE:this.state=g.AFTER_ATTRIBUTE_VALUE_QUOTED;break;case r.AMPERSAND:this._startCharacterReference();break;case r.NULL:this._err(i.unexpectedNullCharacter),this.currentAttr.value+="";break;case r.EOF:this._err(i.eofInTag),this._emitEOFToken();break;default:this.currentAttr.value+=String.fromCodePoint(e)}}_stateAttributeValueUnquoted(e){switch(e){case r.SPACE:case r.LINE_FEED:case r.TABULATION:case r.FORM_FEED:this._leaveAttrValue(),this.state=g.BEFORE_ATTRIBUTE_NAME;break;case r.AMPERSAND:this._startCharacterReference();break;case r.GREATER_THAN_SIGN:this._leaveAttrValue(),this.state=g.DATA,this.emitCurrentTagToken();break;case r.NULL:this._err(i.unexpectedNullCharacter),this.currentAttr.value+="";break;case r.QUOTATION_MARK:case r.APOSTROPHE:case r.LESS_THAN_SIGN:case r.EQUALS_SIGN:case r.GRAVE_ACCENT:this._err(i.unexpectedCharacterInUnquotedAttributeValue),this.currentAttr.value+=String.fromCodePoint(e);break;case r.EOF:this._err(i.eofInTag),this._emitEOFToken();break;default:this.currentAttr.value+=String.fromCodePoint(e)}}_stateAfterAttributeValueQuoted(e){switch(e){case r.SPACE:case r.LINE_FEED:case r.TABULATION:case r.FORM_FEED:this._leaveAttrValue(),this.state=g.BEFORE_ATTRIBUTE_NAME;break;case r.SOLIDUS:this._leaveAttrValue(),this.state=g.SELF_CLOSING_START_TAG;break;case r.GREATER_THAN_SIGN:this._leaveAttrValue(),this.state=g.DATA,this.emitCurrentTagToken();break;case r.EOF:this._err(i.eofInTag),this._emitEOFToken();break;default:this._err(i.missingWhitespaceBetweenAttributes),this.state=g.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(e)}}_stateSelfClosingStartTag(e){switch(e){case r.GREATER_THAN_SIGN:this.currentToken.selfClosing=!0,this.state=g.DATA,this.emitCurrentTagToken();break;case r.EOF:this._err(i.eofInTag),this._emitEOFToken();break;default:this._err(i.unexpectedSolidusInTag),this.state=g.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(e)}}_stateBogusComment(e){let t=this.currentToken;switch(e){case r.GREATER_THAN_SIGN:this.state=g.DATA,this.emitCurrentComment(t);break;case r.EOF:this.emitCurrentComment(t),this._emitEOFToken();break;case r.NULL:this._err(i.unexpectedNullCharacter),t.data+="";break;default:t.data+=String.fromCodePoint(e)}}_stateMarkupDeclarationOpen(e){this._consumeSequenceIfMatch(cC.DASH_DASH,!0)?(this._createCommentToken(cC.DASH_DASH.length+1),this.state=g.COMMENT_START):this._consumeSequenceIfMatch(cC.DOCTYPE,!1)?(this.currentLocation=this.getCurrentLocation(cC.DOCTYPE.length+1),this.state=g.DOCTYPE):this._consumeSequenceIfMatch(cC.CDATA_START,!0)?this.inForeignNode?this.state=g.CDATA_SECTION:(this._err(i.cdataInHtmlContent),this._createCommentToken(cC.CDATA_START.length+1),this.currentToken.data="[CDATA[",this.state=g.BOGUS_COMMENT):this._ensureHibernation()||(this._err(i.incorrectlyOpenedComment),this._createCommentToken(2),this.state=g.BOGUS_COMMENT,this._stateBogusComment(e))}_stateCommentStart(e){switch(e){case r.HYPHEN_MINUS:this.state=g.COMMENT_START_DASH;break;case r.GREATER_THAN_SIGN:{this._err(i.abruptClosingOfEmptyComment),this.state=g.DATA;let e=this.currentToken;this.emitCurrentComment(e);break}default:this.state=g.COMMENT,this._stateComment(e)}}_stateCommentStartDash(e){let t=this.currentToken;switch(e){case r.HYPHEN_MINUS:this.state=g.COMMENT_END;break;case r.GREATER_THAN_SIGN:this._err(i.abruptClosingOfEmptyComment),this.state=g.DATA,this.emitCurrentComment(t);break;case r.EOF:this._err(i.eofInComment),this.emitCurrentComment(t),this._emitEOFToken();break;default:t.data+="-",this.state=g.COMMENT,this._stateComment(e)}}_stateComment(e){let t=this.currentToken;switch(e){case r.HYPHEN_MINUS:this.state=g.COMMENT_END_DASH;break;case r.LESS_THAN_SIGN:t.data+="<",this.state=g.COMMENT_LESS_THAN_SIGN;break;case r.NULL:this._err(i.unexpectedNullCharacter),t.data+="";break;case r.EOF:this._err(i.eofInComment),this.emitCurrentComment(t),this._emitEOFToken();break;default:t.data+=String.fromCodePoint(e)}}_stateCommentLessThanSign(e){let t=this.currentToken;switch(e){case r.EXCLAMATION_MARK:t.data+="!",this.state=g.COMMENT_LESS_THAN_SIGN_BANG;break;case r.LESS_THAN_SIGN:t.data+="<";break;default:this.state=g.COMMENT,this._stateComment(e)}}_stateCommentLessThanSignBang(e){e===r.HYPHEN_MINUS?this.state=g.COMMENT_LESS_THAN_SIGN_BANG_DASH:(this.state=g.COMMENT,this._stateComment(e))}_stateCommentLessThanSignBangDash(e){e===r.HYPHEN_MINUS?this.state=g.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:(this.state=g.COMMENT_END_DASH,this._stateCommentEndDash(e))}_stateCommentLessThanSignBangDashDash(e){e!==r.GREATER_THAN_SIGN&&e!==r.EOF&&this._err(i.nestedComment),this.state=g.COMMENT_END,this._stateCommentEnd(e)}_stateCommentEndDash(e){let t=this.currentToken;switch(e){case r.HYPHEN_MINUS:this.state=g.COMMENT_END;break;case r.EOF:this._err(i.eofInComment),this.emitCurrentComment(t),this._emitEOFToken();break;default:t.data+="-",this.state=g.COMMENT,this._stateComment(e)}}_stateCommentEnd(e){let t=this.currentToken;switch(e){case r.GREATER_THAN_SIGN:this.state=g.DATA,this.emitCurrentComment(t);break;case r.EXCLAMATION_MARK:this.state=g.COMMENT_END_BANG;break;case r.HYPHEN_MINUS:t.data+="-";break;case r.EOF:this._err(i.eofInComment),this.emitCurrentComment(t),this._emitEOFToken();break;default:t.data+="--",this.state=g.COMMENT,this._stateComment(e)}}_stateCommentEndBang(e){let t=this.currentToken;switch(e){case r.HYPHEN_MINUS:t.data+="--!",this.state=g.COMMENT_END_DASH;break;case r.GREATER_THAN_SIGN:this._err(i.incorrectlyClosedComment),this.state=g.DATA,this.emitCurrentComment(t);break;case r.EOF:this._err(i.eofInComment),this.emitCurrentComment(t),this._emitEOFToken();break;default:t.data+="--!",this.state=g.COMMENT,this._stateComment(e)}}_stateDoctype(e){switch(e){case r.SPACE:case r.LINE_FEED:case r.TABULATION:case r.FORM_FEED:this.state=g.BEFORE_DOCTYPE_NAME;break;case r.GREATER_THAN_SIGN:this.state=g.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(e);break;case r.EOF:{this._err(i.eofInDoctype),this._createDoctypeToken(null);let e=this.currentToken;e.forceQuirks=!0,this.emitCurrentDoctype(e),this._emitEOFToken();break}default:this._err(i.missingWhitespaceBeforeDoctypeName),this.state=g.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(e)}}_stateBeforeDoctypeName(e){if(cq(e))this._createDoctypeToken(String.fromCharCode(e+32)),this.state=g.DOCTYPE_NAME;else switch(e){case r.SPACE:case r.LINE_FEED:case r.TABULATION:case r.FORM_FEED:break;case r.NULL:this._err(i.unexpectedNullCharacter),this._createDoctypeToken(""),this.state=g.DOCTYPE_NAME;break;case r.GREATER_THAN_SIGN:{this._err(i.missingDoctypeName),this._createDoctypeToken(null);let e=this.currentToken;e.forceQuirks=!0,this.emitCurrentDoctype(e),this.state=g.DATA;break}case r.EOF:{this._err(i.eofInDoctype),this._createDoctypeToken(null);let e=this.currentToken;e.forceQuirks=!0,this.emitCurrentDoctype(e),this._emitEOFToken();break}default:this._createDoctypeToken(String.fromCodePoint(e)),this.state=g.DOCTYPE_NAME}}_stateDoctypeName(e){let t=this.currentToken;switch(e){case r.SPACE:case r.LINE_FEED:case r.TABULATION:case r.FORM_FEED:this.state=g.AFTER_DOCTYPE_NAME;break;case r.GREATER_THAN_SIGN:this.state=g.DATA,this.emitCurrentDoctype(t);break;case r.NULL:this._err(i.unexpectedNullCharacter),t.name+="";break;case r.EOF:this._err(i.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break;default:t.name+=String.fromCodePoint(cq(e)?e+32:e)}}_stateAfterDoctypeName(e){let t=this.currentToken;switch(e){case r.SPACE:case r.LINE_FEED:case r.TABULATION:case r.FORM_FEED:break;case r.GREATER_THAN_SIGN:this.state=g.DATA,this.emitCurrentDoctype(t);break;case r.EOF:this._err(i.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break;default:this._consumeSequenceIfMatch(cC.PUBLIC,!1)?this.state=g.AFTER_DOCTYPE_PUBLIC_KEYWORD:this._consumeSequenceIfMatch(cC.SYSTEM,!1)?this.state=g.AFTER_DOCTYPE_SYSTEM_KEYWORD:this._ensureHibernation()||(this._err(i.invalidCharacterSequenceAfterDoctypeName),t.forceQuirks=!0,this.state=g.BOGUS_DOCTYPE,this._stateBogusDoctype(e))}}_stateAfterDoctypePublicKeyword(e){let t=this.currentToken;switch(e){case r.SPACE:case r.LINE_FEED:case r.TABULATION:case r.FORM_FEED:this.state=g.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER;break;case r.QUOTATION_MARK:this._err(i.missingWhitespaceAfterDoctypePublicKeyword),t.publicId="",this.state=g.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break;case r.APOSTROPHE:this._err(i.missingWhitespaceAfterDoctypePublicKeyword),t.publicId="",this.state=g.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break;case r.GREATER_THAN_SIGN:this._err(i.missingDoctypePublicIdentifier),t.forceQuirks=!0,this.state=g.DATA,this.emitCurrentDoctype(t);break;case r.EOF:this._err(i.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break;default:this._err(i.missingQuoteBeforeDoctypePublicIdentifier),t.forceQuirks=!0,this.state=g.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateBeforeDoctypePublicIdentifier(e){let t=this.currentToken;switch(e){case r.SPACE:case r.LINE_FEED:case r.TABULATION:case r.FORM_FEED:break;case r.QUOTATION_MARK:t.publicId="",this.state=g.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break;case r.APOSTROPHE:t.publicId="",this.state=g.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break;case r.GREATER_THAN_SIGN:this._err(i.missingDoctypePublicIdentifier),t.forceQuirks=!0,this.state=g.DATA,this.emitCurrentDoctype(t);break;case r.EOF:this._err(i.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break;default:this._err(i.missingQuoteBeforeDoctypePublicIdentifier),t.forceQuirks=!0,this.state=g.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateDoctypePublicIdentifierDoubleQuoted(e){let t=this.currentToken;switch(e){case r.QUOTATION_MARK:this.state=g.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break;case r.NULL:this._err(i.unexpectedNullCharacter),t.publicId+="";break;case r.GREATER_THAN_SIGN:this._err(i.abruptDoctypePublicIdentifier),t.forceQuirks=!0,this.emitCurrentDoctype(t),this.state=g.DATA;break;case r.EOF:this._err(i.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break;default:t.publicId+=String.fromCodePoint(e)}}_stateDoctypePublicIdentifierSingleQuoted(e){let t=this.currentToken;switch(e){case r.APOSTROPHE:this.state=g.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break;case r.NULL:this._err(i.unexpectedNullCharacter),t.publicId+="";break;case r.GREATER_THAN_SIGN:this._err(i.abruptDoctypePublicIdentifier),t.forceQuirks=!0,this.emitCurrentDoctype(t),this.state=g.DATA;break;case r.EOF:this._err(i.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break;default:t.publicId+=String.fromCodePoint(e)}}_stateAfterDoctypePublicIdentifier(e){let t=this.currentToken;switch(e){case r.SPACE:case r.LINE_FEED:case r.TABULATION:case r.FORM_FEED:this.state=g.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS;break;case r.GREATER_THAN_SIGN:this.state=g.DATA,this.emitCurrentDoctype(t);break;case r.QUOTATION_MARK:this._err(i.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),t.systemId="",this.state=g.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break;case r.APOSTROPHE:this._err(i.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),t.systemId="",this.state=g.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break;case r.EOF:this._err(i.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break;default:this._err(i.missingQuoteBeforeDoctypeSystemIdentifier),t.forceQuirks=!0,this.state=g.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateBetweenDoctypePublicAndSystemIdentifiers(e){let t=this.currentToken;switch(e){case r.SPACE:case r.LINE_FEED:case r.TABULATION:case r.FORM_FEED:break;case r.GREATER_THAN_SIGN:this.emitCurrentDoctype(t),this.state=g.DATA;break;case r.QUOTATION_MARK:t.systemId="",this.state=g.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break;case r.APOSTROPHE:t.systemId="",this.state=g.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break;case r.EOF:this._err(i.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break;default:this._err(i.missingQuoteBeforeDoctypeSystemIdentifier),t.forceQuirks=!0,this.state=g.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateAfterDoctypeSystemKeyword(e){let t=this.currentToken;switch(e){case r.SPACE:case r.LINE_FEED:case r.TABULATION:case r.FORM_FEED:this.state=g.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER;break;case r.QUOTATION_MARK:this._err(i.missingWhitespaceAfterDoctypeSystemKeyword),t.systemId="",this.state=g.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break;case r.APOSTROPHE:this._err(i.missingWhitespaceAfterDoctypeSystemKeyword),t.systemId="",this.state=g.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break;case r.GREATER_THAN_SIGN:this._err(i.missingDoctypeSystemIdentifier),t.forceQuirks=!0,this.state=g.DATA,this.emitCurrentDoctype(t);break;case r.EOF:this._err(i.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break;default:this._err(i.missingQuoteBeforeDoctypeSystemIdentifier),t.forceQuirks=!0,this.state=g.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateBeforeDoctypeSystemIdentifier(e){let t=this.currentToken;switch(e){case r.SPACE:case r.LINE_FEED:case r.TABULATION:case r.FORM_FEED:break;case r.QUOTATION_MARK:t.systemId="",this.state=g.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break;case r.APOSTROPHE:t.systemId="",this.state=g.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break;case r.GREATER_THAN_SIGN:this._err(i.missingDoctypeSystemIdentifier),t.forceQuirks=!0,this.state=g.DATA,this.emitCurrentDoctype(t);break;case r.EOF:this._err(i.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break;default:this._err(i.missingQuoteBeforeDoctypeSystemIdentifier),t.forceQuirks=!0,this.state=g.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateDoctypeSystemIdentifierDoubleQuoted(e){let t=this.currentToken;switch(e){case r.QUOTATION_MARK:this.state=g.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break;case r.NULL:this._err(i.unexpectedNullCharacter),t.systemId+="";break;case r.GREATER_THAN_SIGN:this._err(i.abruptDoctypeSystemIdentifier),t.forceQuirks=!0,this.emitCurrentDoctype(t),this.state=g.DATA;break;case r.EOF:this._err(i.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break;default:t.systemId+=String.fromCodePoint(e)}}_stateDoctypeSystemIdentifierSingleQuoted(e){let t=this.currentToken;switch(e){case r.APOSTROPHE:this.state=g.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break;case r.NULL:this._err(i.unexpectedNullCharacter),t.systemId+="";break;case r.GREATER_THAN_SIGN:this._err(i.abruptDoctypeSystemIdentifier),t.forceQuirks=!0,this.emitCurrentDoctype(t),this.state=g.DATA;break;case r.EOF:this._err(i.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break;default:t.systemId+=String.fromCodePoint(e)}}_stateAfterDoctypeSystemIdentifier(e){let t=this.currentToken;switch(e){case r.SPACE:case r.LINE_FEED:case r.TABULATION:case r.FORM_FEED:break;case r.GREATER_THAN_SIGN:this.emitCurrentDoctype(t),this.state=g.DATA;break;case r.EOF:this._err(i.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break;default:this._err(i.unexpectedCharacterAfterDoctypeSystemIdentifier),this.state=g.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateBogusDoctype(e){let t=this.currentToken;switch(e){case r.GREATER_THAN_SIGN:this.emitCurrentDoctype(t),this.state=g.DATA;break;case r.NULL:this._err(i.unexpectedNullCharacter);break;case r.EOF:this.emitCurrentDoctype(t),this._emitEOFToken()}}_stateCdataSection(e){switch(e){case r.RIGHT_SQUARE_BRACKET:this.state=g.CDATA_SECTION_BRACKET;break;case r.EOF:this._err(i.eofInCdata),this._emitEOFToken();break;default:this._emitCodePoint(e)}}_stateCdataSectionBracket(e){e===r.RIGHT_SQUARE_BRACKET?this.state=g.CDATA_SECTION_END:(this._emitChars("]"),this.state=g.CDATA_SECTION,this._stateCdataSection(e))}_stateCdataSectionEnd(e){switch(e){case r.GREATER_THAN_SIGN:this.state=g.DATA;break;case r.RIGHT_SQUARE_BRACKET:this._emitChars("]");break;default:this._emitChars("]]"),this.state=g.CDATA_SECTION,this._stateCdataSection(e)}}_stateCharacterReference(){let e=this.entityDecoder.write(this.preprocessor.html,this.preprocessor.pos);if(e<0)if(this.preprocessor.lastChunkWritten)e=this.entityDecoder.end();else{this.active=!1,this.preprocessor.pos=this.preprocessor.html.length-1,this.consumedAfterSnapshot=0,this.preprocessor.endOfChunkHit=!0;return}0===e?(this.preprocessor.pos=this.entityStartPos,this._flushCodePointConsumedAsCharacterReference(r.AMPERSAND),this.state=!this._isCharacterReferenceInAttribute()&&c$(this.preprocessor.peek(1))?g.AMBIGUOUS_AMPERSAND:this.returnState):this.state=this.returnState}_stateAmbiguousAmpersand(e){c$(e)?this._flushCodePointConsumedAsCharacterReference(e):(e===r.SEMICOLON&&this._err(i.unknownNamedCharacterReference),this.state=this.returnState,this._callState(e))}constructor(e,t){this.options=e,this.handler=t,this.paused=!1,this.inLoop=!1,this.inForeignNode=!1,this.lastStartTagName="",this.active=!1,this.state=g.DATA,this.returnState=g.DATA,this.entityStartPos=0,this.consumedAfterSnapshot=-1,this.currentCharacterToken=null,this.currentToken=null,this.currentAttr={name:"",value:""},this.preprocessor=new cD(t),this.currentLocation=this.getCurrentLocation(-1),this.entityDecoder=new cL(cO,(e,t)=>{this.preprocessor.pos=this.entityStartPos+t-1,this._flushCodePointConsumedAsCharacterReference(e)},t.onParseError?{missingSemicolonAfterCharacterReference:()=>{this._err(i.missingSemicolonAfterCharacterReference,1)},absenceOfDigitsInNumericCharacterReference:e=>{this._err(i.absenceOfDigitsInNumericCharacterReference,this.entityStartPos-this.preprocessor.pos+e)},validateNumericCharacterReference:e=>{let t=function(e){if(e===r.NULL)return i.nullCharacterReference;if(e>1114111)return i.characterReferenceOutsideUnicodeRange;if(cA(e))return i.surrogateCharacterReference;if(cI(e))return i.noncharacterCharacterReference;if(cN(e)||e===r.CARRIAGE_RETURN)return i.controlCharacterReference;return null}(e);t&&this._err(t,1)}}:void 0)}}let cJ=new Set([m.DD,m.DT,m.LI,m.OPTGROUP,m.OPTION,m.P,m.RB,m.RP,m.RT,m.RTC]),cQ=new Set([...cJ,m.CAPTION,m.COLGROUP,m.TBODY,m.TD,m.TFOOT,m.TH,m.THEAD,m.TR]),cX=new Set([m.APPLET,m.CAPTION,m.HTML,m.MARQUEE,m.OBJECT,m.TABLE,m.TD,m.TEMPLATE,m.TH]),c0=new Set([...cX,m.OL,m.UL]),c1=new Set([...cX,m.BUTTON]),c2=new Set([m.ANNOTATION_XML,m.MI,m.MN,m.MO,m.MS,m.MTEXT]),c5=new Set([m.DESC,m.FOREIGN_OBJECT,m.TITLE]),c3=new Set([m.TR,m.TEMPLATE,m.HTML]),c4=new Set([m.TBODY,m.TFOOT,m.THEAD,m.TEMPLATE,m.HTML]),c6=new Set([m.TABLE,m.TEMPLATE,m.HTML]),c9=new Set([m.TD,m.TH]);class c8{get currentTmplContentOrNode(){return this._isInTemplate()?this.treeAdapter.getTemplateContent(this.current):this.current}_indexOf(e){return this.items.lastIndexOf(e,this.stackTop)}_isInTemplate(){return this.currentTagId===m.TEMPLATE&&this.treeAdapter.getNamespaceURI(this.current)===d.HTML}_updateCurrentElement(){this.current=this.items[this.stackTop],this.currentTagId=this.tagIDs[this.stackTop]}push(e,t){this.stackTop++,this.items[this.stackTop]=e,this.current=e,this.tagIDs[this.stackTop]=t,this.currentTagId=t,this._isInTemplate()&&this.tmplCount++,this.handler.onItemPush(e,t,!0)}pop(){let e=this.current;this.tmplCount>0&&this._isInTemplate()&&this.tmplCount--,this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(e,!0)}replace(e,t){let n=this._indexOf(e);this.items[n]=t,n===this.stackTop&&(this.current=t)}insertAfter(e,t,n){let r=this._indexOf(e)+1;this.items.splice(r,0,t),this.tagIDs.splice(r,0,n),this.stackTop++,r===this.stackTop&&this._updateCurrentElement(),this.current&&void 0!==this.currentTagId&&this.handler.onItemPush(this.current,this.currentTagId,r===this.stackTop)}popUntilTagNamePopped(e){let t=this.stackTop+1;do t=this.tagIDs.lastIndexOf(e,t-1);while(t>0&&this.treeAdapter.getNamespaceURI(this.items[t])!==d.HTML)this.shortenToLength(Math.max(t,0))}shortenToLength(e){for(;this.stackTop>=e;){let t=this.current;this.tmplCount>0&&this._isInTemplate()&&(this.tmplCount-=1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(t,this.stackTop<e)}}popUntilElementPopped(e){let t=this._indexOf(e);this.shortenToLength(Math.max(t,0))}popUntilPopped(e,t){let n=this._indexOfTagNames(e,t);this.shortenToLength(Math.max(n,0))}popUntilNumberedHeaderPopped(){this.popUntilPopped(cU,d.HTML)}popUntilTableCellPopped(){this.popUntilPopped(c9,d.HTML)}popAllUpToHtmlElement(){this.tmplCount=0,this.shortenToLength(1)}_indexOfTagNames(e,t){for(let n=this.stackTop;n>=0;n--)if(e.has(this.tagIDs[n])&&this.treeAdapter.getNamespaceURI(this.items[n])===t)return n;return -1}clearBackTo(e,t){let n=this._indexOfTagNames(e,t);this.shortenToLength(n+1)}clearBackToTableContext(){this.clearBackTo(c6,d.HTML)}clearBackToTableBodyContext(){this.clearBackTo(c4,d.HTML)}clearBackToTableRowContext(){this.clearBackTo(c3,d.HTML)}remove(e){let t=this._indexOf(e);t>=0&&(t===this.stackTop?this.pop():(this.items.splice(t,1),this.tagIDs.splice(t,1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(e,!1)))}tryPeekProperlyNestedBodyElement(){return this.stackTop>=1&&this.tagIDs[1]===m.BODY?this.items[1]:null}contains(e){return this._indexOf(e)>-1}getCommonAncestor(e){let t=this._indexOf(e)-1;return t>=0?this.items[t]:null}isRootHtmlElementCurrent(){return 0===this.stackTop&&this.tagIDs[0]===m.HTML}hasInDynamicScope(e,t){for(let n=this.stackTop;n>=0;n--){let r=this.tagIDs[n];switch(this.treeAdapter.getNamespaceURI(this.items[n])){case d.HTML:if(r===e)return!0;if(t.has(r))return!1;break;case d.SVG:if(c5.has(r))return!1;break;case d.MATHML:if(c2.has(r))return!1}}return!0}hasInScope(e){return this.hasInDynamicScope(e,cX)}hasInListItemScope(e){return this.hasInDynamicScope(e,c0)}hasInButtonScope(e){return this.hasInDynamicScope(e,c1)}hasNumberedHeaderInScope(){for(let e=this.stackTop;e>=0;e--){let t=this.tagIDs[e];switch(this.treeAdapter.getNamespaceURI(this.items[e])){case d.HTML:if(cU.has(t))return!0;if(cX.has(t))return!1;break;case d.SVG:if(c5.has(t))return!1;break;case d.MATHML:if(c2.has(t))return!1}}return!0}hasInTableScope(e){for(let t=this.stackTop;t>=0;t--)if(this.treeAdapter.getNamespaceURI(this.items[t])===d.HTML)switch(this.tagIDs[t]){case e:return!0;case m.TABLE:case m.HTML:return!1}return!0}hasTableBodyContextInTableScope(){for(let e=this.stackTop;e>=0;e--)if(this.treeAdapter.getNamespaceURI(this.items[e])===d.HTML)switch(this.tagIDs[e]){case m.TBODY:case m.THEAD:case m.TFOOT:return!0;case m.TABLE:case m.HTML:return!1}return!0}hasInSelectScope(e){for(let t=this.stackTop;t>=0;t--)if(this.treeAdapter.getNamespaceURI(this.items[t])===d.HTML)switch(this.tagIDs[t]){case e:return!0;case m.OPTION:case m.OPTGROUP:break;default:return!1}return!0}generateImpliedEndTags(){for(;void 0!==this.currentTagId&&cJ.has(this.currentTagId);)this.pop()}generateImpliedEndTagsThoroughly(){for(;void 0!==this.currentTagId&&cQ.has(this.currentTagId);)this.pop()}generateImpliedEndTagsWithExclusion(e){for(;void 0!==this.currentTagId&&this.currentTagId!==e&&cQ.has(this.currentTagId);)this.pop()}constructor(e,t,n){this.treeAdapter=t,this.handler=n,this.items=[],this.tagIDs=[],this.stackTop=-1,this.tmplCount=0,this.currentTagId=m.UNKNOWN,this.current=e}}!function(e){e[e.Marker=0]="Marker",e[e.Element=1]="Element"}(y||(y={}));let c7={type:y.Marker};class ue{_getNoahArkConditionCandidates(e,t){let n=[],r=t.length,i=this.treeAdapter.getTagName(e),a=this.treeAdapter.getNamespaceURI(e);for(let e=0;e<this.entries.length;e++){let t=this.entries[e];if(t.type===y.Marker)break;let{element:s}=t;if(this.treeAdapter.getTagName(s)===i&&this.treeAdapter.getNamespaceURI(s)===a){let t=this.treeAdapter.getAttrList(s);t.length===r&&n.push({idx:e,attrs:t})}}return n}_ensureNoahArkCondition(e){if(this.entries.length<3)return;let t=this.treeAdapter.getAttrList(e),n=this._getNoahArkConditionCandidates(e,t);if(n.length<3)return;let r=new Map(t.map(e=>[e.name,e.value])),i=0;for(let e=0;e<n.length;e++){let t=n[e];t.attrs.every(e=>r.get(e.name)===e.value)&&(i+=1)>=3&&this.entries.splice(t.idx,1)}}insertMarker(){this.entries.unshift(c7)}pushElement(e,t){this._ensureNoahArkCondition(e),this.entries.unshift({type:y.Element,element:e,token:t})}insertElementAfterBookmark(e,t){let n=this.entries.indexOf(this.bookmark);this.entries.splice(n,0,{type:y.Element,element:e,token:t})}removeEntry(e){let t=this.entries.indexOf(e);-1!==t&&this.entries.splice(t,1)}clearToLastMarker(){let e=this.entries.indexOf(c7);-1===e?this.entries.length=0:this.entries.splice(0,e+1)}getElementEntryInScopeWithTagName(e){let t=this.entries.find(t=>t.type===y.Marker||this.treeAdapter.getTagName(t.element)===e);return t&&t.type===y.Element?t:null}getElementEntry(e){return this.entries.find(t=>t.type===y.Element&&t.element===e)}constructor(e){this.treeAdapter=e,this.entries=[],this.bookmark=null}}let ut={createDocument:()=>({nodeName:"#document",mode:p.NO_QUIRKS,childNodes:[]}),createDocumentFragment:()=>({nodeName:"#document-fragment",childNodes:[]}),createElement:(e,t,n)=>({nodeName:e,tagName:e,attrs:n,namespaceURI:t,childNodes:[],parentNode:null}),createCommentNode:e=>({nodeName:"#comment",data:e,parentNode:null}),createTextNode:e=>({nodeName:"#text",value:e,parentNode:null}),appendChild(e,t){e.childNodes.push(t),t.parentNode=e},insertBefore(e,t,n){let r=e.childNodes.indexOf(n);e.childNodes.splice(r,0,t),t.parentNode=e},setTemplateContent(e,t){e.content=t},getTemplateContent:e=>e.content,setDocumentType(e,t,n,r){let i=e.childNodes.find(e=>"#documentType"===e.nodeName);i?(i.name=t,i.publicId=n,i.systemId=r):ut.appendChild(e,{nodeName:"#documentType",name:t,publicId:n,systemId:r,parentNode:null})},setDocumentMode(e,t){e.mode=t},getDocumentMode:e=>e.mode,detachNode(e){if(e.parentNode){let t=e.parentNode.childNodes.indexOf(e);e.parentNode.childNodes.splice(t,1),e.parentNode=null}},insertText(e,t){if(e.childNodes.length>0){let n=e.childNodes[e.childNodes.length-1];if(ut.isTextNode(n)){n.value+=t;return}}ut.appendChild(e,ut.createTextNode(t))},insertTextBefore(e,t,n){let r=e.childNodes[e.childNodes.indexOf(n)-1];r&&ut.isTextNode(r)?r.value+=t:ut.insertBefore(e,ut.createTextNode(t),n)},adoptAttributes(e,t){let n=new Set(e.attrs.map(e=>e.name));for(let r=0;r<t.length;r++)n.has(t[r].name)||e.attrs.push(t[r])},getFirstChild:e=>e.childNodes[0],getChildNodes:e=>e.childNodes,getParentNode:e=>e.parentNode,getAttrList:e=>e.attrs,getTagName:e=>e.tagName,getNamespaceURI:e=>e.namespaceURI,getTextNodeContent:e=>e.value,getCommentNodeContent:e=>e.data,getDocumentTypeNodeName:e=>e.name,getDocumentTypeNodePublicId:e=>e.publicId,getDocumentTypeNodeSystemId:e=>e.systemId,isTextNode:e=>"#text"===e.nodeName,isCommentNode:e=>"#comment"===e.nodeName,isDocumentTypeNode:e=>"#documentType"===e.nodeName,isElementNode:e=>Object.prototype.hasOwnProperty.call(e,"tagName"),setNodeSourceCodeLocation(e,t){e.sourceCodeLocation=t},getNodeSourceCodeLocation:e=>e.sourceCodeLocation,updateNodeSourceCodeLocation(e,t){e.sourceCodeLocation={...e.sourceCodeLocation,...t}}},un="html",ur=["+//silmaril//dtd html pro v0r11 19970101//","-//as//dtd html 3.0 aswedit + extensions//","-//advasoft ltd//dtd html 3.0 aswedit + extensions//","-//ietf//dtd html 2.0 level 1//","-//ietf//dtd html 2.0 level 2//","-//ietf//dtd html 2.0 strict level 1//","-//ietf//dtd html 2.0 strict level 2//","-//ietf//dtd html 2.0 strict//","-//ietf//dtd html 2.0//","-//ietf//dtd html 2.1e//","-//ietf//dtd html 3.0//","-//ietf//dtd html 3.2 final//","-//ietf//dtd html 3.2//","-//ietf//dtd html 3//","-//ietf//dtd html level 0//","-//ietf//dtd html level 1//","-//ietf//dtd html level 2//","-//ietf//dtd html level 3//","-//ietf//dtd html strict level 0//","-//ietf//dtd html strict level 1//","-//ietf//dtd html strict level 2//","-//ietf//dtd html strict level 3//","-//ietf//dtd html strict//","-//ietf//dtd html//","-//metrius//dtd metrius presentational//","-//microsoft//dtd internet explorer 2.0 html strict//","-//microsoft//dtd internet explorer 2.0 html//","-//microsoft//dtd internet explorer 2.0 tables//","-//microsoft//dtd internet explorer 3.0 html strict//","-//microsoft//dtd internet explorer 3.0 html//","-//microsoft//dtd internet explorer 3.0 tables//","-//netscape comm. corp.//dtd html//","-//netscape comm. corp.//dtd strict html//","-//o'reilly and associates//dtd html 2.0//","-//o'reilly and associates//dtd html extended 1.0//","-//o'reilly and associates//dtd html extended relaxed 1.0//","-//sq//dtd html 2.0 hotmetal + extensions//","-//softquad software//dtd hotmetal pro 6.0::19990601::extensions to html 4.0//","-//softquad//dtd hotmetal pro 4.0::19971010::extensions to html 4.0//","-//spyglass//dtd html 2.0 extended//","-//sun microsystems corp.//dtd hotjava html//","-//sun microsystems corp.//dtd hotjava strict html//","-//w3c//dtd html 3 1995-03-24//","-//w3c//dtd html 3.2 draft//","-//w3c//dtd html 3.2 final//","-//w3c//dtd html 3.2//","-//w3c//dtd html 3.2s draft//","-//w3c//dtd html 4.0 frameset//","-//w3c//dtd html 4.0 transitional//","-//w3c//dtd html experimental 19960712//","-//w3c//dtd html experimental 970421//","-//w3c//dtd w3 html//","-//w3o//dtd w3 html 3.0//","-//webtechs//dtd mozilla html 2.0//","-//webtechs//dtd mozilla html//"],ui=[...ur,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"],ua=new Set(["-//w3o//dtd w3 html strict 3.0//en//","-/w3c/dtd html 4.0 transitional/en","html"]),us=["-//w3c//dtd xhtml 1.0 frameset//","-//w3c//dtd xhtml 1.0 transitional//"],uo=[...us,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"];function ul(e,t){return t.some(t=>e.startsWith(t))}e.s(["SVG_TAG_NAMES_ADJUSTMENT_MAP",()=>uh,"adjustTokenMathMLAttrs",()=>um,"adjustTokenSVGAttrs",()=>ug,"adjustTokenSVGTagName",()=>ub,"adjustTokenXMLAttrs",()=>uy,"causesExit",()=>uf,"isIntegrationPoint",()=>uv],983401);let uc={TEXT_HTML:"text/html",APPLICATION_XML:"application/xhtml+xml"},uu=new Map(["attributeName","attributeType","baseFrequency","baseProfile","calcMode","clipPathUnits","diffuseConstant","edgeMode","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].map(e=>[e.toLowerCase(),e])),ud=new Map([["xlink:actuate",{prefix:"xlink",name:"actuate",namespace:d.XLINK}],["xlink:arcrole",{prefix:"xlink",name:"arcrole",namespace:d.XLINK}],["xlink:href",{prefix:"xlink",name:"href",namespace:d.XLINK}],["xlink:role",{prefix:"xlink",name:"role",namespace:d.XLINK}],["xlink:show",{prefix:"xlink",name:"show",namespace:d.XLINK}],["xlink:title",{prefix:"xlink",name:"title",namespace:d.XLINK}],["xlink:type",{prefix:"xlink",name:"type",namespace:d.XLINK}],["xml:lang",{prefix:"xml",name:"lang",namespace:d.XML}],["xml:space",{prefix:"xml",name:"space",namespace:d.XML}],["xmlns",{prefix:"",name:"xmlns",namespace:d.XMLNS}],["xmlns:xlink",{prefix:"xmlns",name:"xlink",namespace:d.XMLNS}]]),uh=new Map(["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","textPath"].map(e=>[e.toLowerCase(),e])),up=new Set([m.B,m.BIG,m.BLOCKQUOTE,m.BODY,m.BR,m.CENTER,m.CODE,m.DD,m.DIV,m.DL,m.DT,m.EM,m.EMBED,m.H1,m.H2,m.H3,m.H4,m.H5,m.H6,m.HEAD,m.HR,m.I,m.IMG,m.LI,m.LISTING,m.MENU,m.META,m.NOBR,m.OL,m.P,m.PRE,m.RUBY,m.S,m.SMALL,m.SPAN,m.STRONG,m.STRIKE,m.SUB,m.SUP,m.TABLE,m.TT,m.U,m.UL,m.VAR]);function uf(e){let t=e.tagID;return t===m.FONT&&e.attrs.some(e=>{let{name:t}=e;return t===h.COLOR||t===h.SIZE||t===h.FACE})||up.has(t)}function um(e){for(let t=0;t<e.attrs.length;t++)if("definitionurl"===e.attrs[t].name){e.attrs[t].name="definitionURL";break}}function ug(e){for(let t=0;t<e.attrs.length;t++){let n=uu.get(e.attrs[t].name);null!=n&&(e.attrs[t].name=n)}}function uy(e){for(let t=0;t<e.attrs.length;t++){let n=ud.get(e.attrs[t].name);n&&(e.attrs[t].prefix=n.prefix,e.attrs[t].name=n.name,e.attrs[t].namespace=n.namespace)}}function ub(e){let t=uh.get(e.tagName);null!=t&&(e.tagName=t,e.tagID=cj(e.tagName))}function uv(e,t,n,r){return(!r||r===d.HTML)&&function(e,t,n){if(t===d.MATHML&&e===m.ANNOTATION_XML){for(let e=0;e<n.length;e++)if(n[e].name===h.ENCODING){let t=n[e].value.toLowerCase();return t===uc.TEXT_HTML||t===uc.APPLICATION_XML}}return t===d.SVG&&(e===m.FOREIGN_OBJECT||e===m.DESC||e===m.TITLE)}(e,t,n)||(!r||r===d.MATHML)&&t===d.MATHML&&(e===m.MI||e===m.MO||e===m.MN||e===m.MS||e===m.MTEXT)}!function(e){e[e.INITIAL=0]="INITIAL",e[e.BEFORE_HTML=1]="BEFORE_HTML",e[e.BEFORE_HEAD=2]="BEFORE_HEAD",e[e.IN_HEAD=3]="IN_HEAD",e[e.IN_HEAD_NO_SCRIPT=4]="IN_HEAD_NO_SCRIPT",e[e.AFTER_HEAD=5]="AFTER_HEAD",e[e.IN_BODY=6]="IN_BODY",e[e.TEXT=7]="TEXT",e[e.IN_TABLE=8]="IN_TABLE",e[e.IN_TABLE_TEXT=9]="IN_TABLE_TEXT",e[e.IN_CAPTION=10]="IN_CAPTION",e[e.IN_COLUMN_GROUP=11]="IN_COLUMN_GROUP",e[e.IN_TABLE_BODY=12]="IN_TABLE_BODY",e[e.IN_ROW=13]="IN_ROW",e[e.IN_CELL=14]="IN_CELL",e[e.IN_SELECT=15]="IN_SELECT",e[e.IN_SELECT_IN_TABLE=16]="IN_SELECT_IN_TABLE",e[e.IN_TEMPLATE=17]="IN_TEMPLATE",e[e.AFTER_BODY=18]="AFTER_BODY",e[e.IN_FRAMESET=19]="IN_FRAMESET",e[e.AFTER_FRAMESET=20]="AFTER_FRAMESET",e[e.AFTER_AFTER_BODY=21]="AFTER_AFTER_BODY",e[e.AFTER_AFTER_FRAMESET=22]="AFTER_AFTER_FRAMESET"}(b||(b={}));let uk={startLine:-1,startCol:-1,startOffset:-1,endLine:-1,endCol:-1,endOffset:-1},ux=new Set([m.TABLE,m.TBODY,m.TFOOT,m.THEAD,m.TR]),u_={scriptingEnabled:!0,sourceCodeLocationInfo:!1,treeAdapter:ut,onParseError:null};class uE{static parse(e,t){let n=new this(t);return n.tokenizer.write(e,!0),n.document}static getFragmentParser(e,t){let n={...u_,...t};null!=e||(e=n.treeAdapter.createElement(f.TEMPLATE,d.HTML,[]));let r=n.treeAdapter.createElement("documentmock",d.HTML,[]),i=new this(n,r,e);return i.fragmentContextID===m.TEMPLATE&&i.tmplInsertionModeStack.unshift(b.IN_TEMPLATE),i._initTokenizerForFragmentParsing(),i._insertFakeRootElement(),i._resetInsertionMode(),i._findFormInFragmentContext(),i}getFragment(){let e=this.treeAdapter.getFirstChild(this.document),t=this.treeAdapter.createDocumentFragment();return this._adoptNodes(e,t),t}_err(e,t,n){var r;if(!this.onParseError)return;let i=null!=(r=e.location)?r:uk,a={code:t,startLine:i.startLine,startCol:i.startCol,startOffset:i.startOffset,endLine:n?i.startLine:i.endLine,endCol:n?i.startCol:i.endCol,endOffset:n?i.startOffset:i.endOffset};this.onParseError(a)}onItemPush(e,t,n){var r,i;null==(i=(r=this.treeAdapter).onItemPush)||i.call(r,e),n&&this.openElements.stackTop>0&&this._setContextModes(e,t)}onItemPop(e,t){var n,r;if(this.options.sourceCodeLocationInfo&&this._setEndLocation(e,this.currentToken),null==(r=(n=this.treeAdapter).onItemPop)||r.call(n,e,this.openElements.current),t){let e,t;0===this.openElements.stackTop&&this.fragmentContext?(e=this.fragmentContext,t=this.fragmentContextID):{current:e,currentTagId:t}=this.openElements,this._setContextModes(e,t)}}_setContextModes(e,t){let n=e===this.document||e&&this.treeAdapter.getNamespaceURI(e)===d.HTML;this.currentNotInHTML=!n,this.tokenizer.inForeignNode=!n&&void 0!==e&&void 0!==t&&!this._isIntegrationPoint(t,e)}_switchToTextParsing(e,t){this._insertElement(e,d.HTML),this.tokenizer.state=t,this.originalInsertionMode=this.insertionMode,this.insertionMode=b.TEXT}switchToPlaintextParsing(){this.insertionMode=b.TEXT,this.originalInsertionMode=b.IN_BODY,this.tokenizer.state=cG.PLAINTEXT}_getAdjustedCurrentElement(){return 0===this.openElements.stackTop&&this.fragmentContext?this.fragmentContext:this.openElements.current}_findFormInFragmentContext(){let e=this.fragmentContext;for(;e;){if(this.treeAdapter.getTagName(e)===f.FORM){this.formElement=e;break}e=this.treeAdapter.getParentNode(e)}}_initTokenizerForFragmentParsing(){if(this.fragmentContext&&this.treeAdapter.getNamespaceURI(this.fragmentContext)===d.HTML)switch(this.fragmentContextID){case m.TITLE:case m.TEXTAREA:this.tokenizer.state=cG.RCDATA;break;case m.STYLE:case m.XMP:case m.IFRAME:case m.NOEMBED:case m.NOFRAMES:case m.NOSCRIPT:this.tokenizer.state=cG.RAWTEXT;break;case m.SCRIPT:this.tokenizer.state=cG.SCRIPT_DATA;break;case m.PLAINTEXT:this.tokenizer.state=cG.PLAINTEXT}}_setDocumentType(e){let t=e.name||"",n=e.publicId||"",r=e.systemId||"";if(this.treeAdapter.setDocumentType(this.document,t,n,r),e.location){let t=this.treeAdapter.getChildNodes(this.document).find(e=>this.treeAdapter.isDocumentTypeNode(e));t&&this.treeAdapter.setNodeSourceCodeLocation(t,e.location)}}_attachElementToTree(e,t){if(this.options.sourceCodeLocationInfo){let n=t&&{...t,startTag:t};this.treeAdapter.setNodeSourceCodeLocation(e,n)}if(this._shouldFosterParentOnInsertion())this._fosterParentElement(e);else{let t=this.openElements.currentTmplContentOrNode;this.treeAdapter.appendChild(null!=t?t:this.document,e)}}_appendElement(e,t){let n=this.treeAdapter.createElement(e.tagName,t,e.attrs);this._attachElementToTree(n,e.location)}_insertElement(e,t){let n=this.treeAdapter.createElement(e.tagName,t,e.attrs);this._attachElementToTree(n,e.location),this.openElements.push(n,e.tagID)}_insertFakeElement(e,t){let n=this.treeAdapter.createElement(e,d.HTML,[]);this._attachElementToTree(n,null),this.openElements.push(n,t)}_insertTemplate(e){let t=this.treeAdapter.createElement(e.tagName,d.HTML,e.attrs),n=this.treeAdapter.createDocumentFragment();this.treeAdapter.setTemplateContent(t,n),this._attachElementToTree(t,e.location),this.openElements.push(t,e.tagID),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(n,null)}_insertFakeRootElement(){let e=this.treeAdapter.createElement(f.HTML,d.HTML,[]);this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(e,null),this.treeAdapter.appendChild(this.openElements.current,e),this.openElements.push(e,m.HTML)}_appendCommentNode(e,t){let n=this.treeAdapter.createCommentNode(e.data);this.treeAdapter.appendChild(t,n),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(n,e.location)}_insertCharacters(e){let t,n;if(this._shouldFosterParentOnInsertion()?({parent:t,beforeElement:n}=this._findFosterParentingLocation(),n?this.treeAdapter.insertTextBefore(t,e.chars,n):this.treeAdapter.insertText(t,e.chars)):(t=this.openElements.currentTmplContentOrNode,this.treeAdapter.insertText(t,e.chars)),!e.location)return;let r=this.treeAdapter.getChildNodes(t),i=n?r.lastIndexOf(n):r.length,a=r[i-1];if(this.treeAdapter.getNodeSourceCodeLocation(a)){let{endLine:t,endCol:n,endOffset:r}=e.location;this.treeAdapter.updateNodeSourceCodeLocation(a,{endLine:t,endCol:n,endOffset:r})}else this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(a,e.location)}_adoptNodes(e,t){for(let n=this.treeAdapter.getFirstChild(e);n;n=this.treeAdapter.getFirstChild(e))this.treeAdapter.detachNode(n),this.treeAdapter.appendChild(t,n)}_setEndLocation(e,t){if(this.treeAdapter.getNodeSourceCodeLocation(e)&&t.location){let n=t.location,r=this.treeAdapter.getTagName(e),i=t.type===a.END_TAG&&r===t.tagName?{endTag:{...n},endLine:n.endLine,endCol:n.endCol,endOffset:n.endOffset}:{endLine:n.startLine,endCol:n.startCol,endOffset:n.startOffset};this.treeAdapter.updateNodeSourceCodeLocation(e,i)}}shouldProcessStartTagTokenInForeignContent(e){let t,n;return!!this.currentNotInHTML&&(0===this.openElements.stackTop&&this.fragmentContext?(t=this.fragmentContext,n=this.fragmentContextID):{current:t,currentTagId:n}=this.openElements,(e.tagID!==m.SVG||this.treeAdapter.getTagName(t)!==f.ANNOTATION_XML||this.treeAdapter.getNamespaceURI(t)!==d.MATHML)&&(this.tokenizer.inForeignNode||(e.tagID===m.MGLYPH||e.tagID===m.MALIGNMARK)&&void 0!==n&&!this._isIntegrationPoint(n,t,d.HTML)))}_processToken(e){switch(e.type){case a.CHARACTER:this.onCharacter(e);break;case a.NULL_CHARACTER:this.onNullCharacter(e);break;case a.COMMENT:this.onComment(e);break;case a.DOCTYPE:this.onDoctype(e);break;case a.START_TAG:this._processStartTag(e);break;case a.END_TAG:this.onEndTag(e);break;case a.EOF:this.onEof(e);break;case a.WHITESPACE_CHARACTER:this.onWhitespaceCharacter(e)}}_isIntegrationPoint(e,t,n){return uv(e,this.treeAdapter.getNamespaceURI(t),this.treeAdapter.getAttrList(t),n)}_reconstructActiveFormattingElements(){let e=this.activeFormattingElements.entries.length;if(e){let t=this.activeFormattingElements.entries.findIndex(e=>e.type===y.Marker||this.openElements.contains(e.element)),n=-1===t?e-1:t-1;for(let e=n;e>=0;e--){let t=this.activeFormattingElements.entries[e];this._insertElement(t.token,this.treeAdapter.getNamespaceURI(t.element)),t.element=this.openElements.current}}}_closeTableCell(){this.openElements.generateImpliedEndTags(),this.openElements.popUntilTableCellPopped(),this.activeFormattingElements.clearToLastMarker(),this.insertionMode=b.IN_ROW}_closePElement(){this.openElements.generateImpliedEndTagsWithExclusion(m.P),this.openElements.popUntilTagNamePopped(m.P)}_resetInsertionMode(){for(let e=this.openElements.stackTop;e>=0;e--)switch(0===e&&this.fragmentContext?this.fragmentContextID:this.openElements.tagIDs[e]){case m.TR:this.insertionMode=b.IN_ROW;return;case m.TBODY:case m.THEAD:case m.TFOOT:this.insertionMode=b.IN_TABLE_BODY;return;case m.CAPTION:this.insertionMode=b.IN_CAPTION;return;case m.COLGROUP:this.insertionMode=b.IN_COLUMN_GROUP;return;case m.TABLE:this.insertionMode=b.IN_TABLE;return;case m.BODY:this.insertionMode=b.IN_BODY;return;case m.FRAMESET:this.insertionMode=b.IN_FRAMESET;return;case m.SELECT:return void this._resetInsertionModeForSelect(e);case m.TEMPLATE:this.insertionMode=this.tmplInsertionModeStack[0];return;case m.HTML:this.insertionMode=this.headElement?b.AFTER_HEAD:b.BEFORE_HEAD;return;case m.TD:case m.TH:if(e>0){this.insertionMode=b.IN_CELL;return}break;case m.HEAD:if(e>0){this.insertionMode=b.IN_HEAD;return}}this.insertionMode=b.IN_BODY}_resetInsertionModeForSelect(e){if(e>0)for(let t=e-1;t>0;t--){let e=this.openElements.tagIDs[t];if(e===m.TEMPLATE)break;if(e===m.TABLE){this.insertionMode=b.IN_SELECT_IN_TABLE;return}}this.insertionMode=b.IN_SELECT}_isElementCausesFosterParenting(e){return ux.has(e)}_shouldFosterParentOnInsertion(){return this.fosterParentingEnabled&&void 0!==this.openElements.currentTagId&&this._isElementCausesFosterParenting(this.openElements.currentTagId)}_findFosterParentingLocation(){for(let e=this.openElements.stackTop;e>=0;e--){let t=this.openElements.items[e];switch(this.openElements.tagIDs[e]){case m.TEMPLATE:if(this.treeAdapter.getNamespaceURI(t)===d.HTML)return{parent:this.treeAdapter.getTemplateContent(t),beforeElement:null};break;case m.TABLE:{let n=this.treeAdapter.getParentNode(t);if(n)return{parent:n,beforeElement:t};return{parent:this.openElements.items[e-1],beforeElement:null}}}}return{parent:this.openElements.items[0],beforeElement:null}}_fosterParentElement(e){let t=this._findFosterParentingLocation();t.beforeElement?this.treeAdapter.insertBefore(t.parent,e,t.beforeElement):this.treeAdapter.appendChild(t.parent,e)}_isSpecialElement(e,t){return cH[this.treeAdapter.getNamespaceURI(e)].has(t)}onCharacter(e){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){var t,n;return void(t=this,n=e,t._insertCharacters(n),t.framesetOk=!1)}switch(this.insertionMode){case b.INITIAL:uC(this,e);break;case b.BEFORE_HTML:uA(this,e);break;case b.BEFORE_HEAD:uN(this,e);break;case b.IN_HEAD:uM(this,e);break;case b.IN_HEAD_NO_SCRIPT:uO(this,e);break;case b.AFTER_HEAD:uR(this,e);break;case b.IN_BODY:case b.IN_CAPTION:case b.IN_CELL:case b.IN_TEMPLATE:uF(this,e);break;case b.TEXT:case b.IN_SELECT:case b.IN_SELECT_IN_TABLE:this._insertCharacters(e);break;case b.IN_TABLE:case b.IN_TABLE_BODY:case b.IN_ROW:uZ(this,e);break;case b.IN_TABLE_TEXT:uJ(this,e);break;case b.IN_COLUMN_GROUP:u1(this,e);break;case b.AFTER_BODY:de(this,e);break;case b.AFTER_AFTER_BODY:dt(this,e)}}onNullCharacter(e){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){var t,n;return void(t=this,(n=e).chars="",t._insertCharacters(n))}switch(this.insertionMode){case b.INITIAL:uC(this,e);break;case b.BEFORE_HTML:uA(this,e);break;case b.BEFORE_HEAD:uN(this,e);break;case b.IN_HEAD:uM(this,e);break;case b.IN_HEAD_NO_SCRIPT:uO(this,e);break;case b.AFTER_HEAD:uR(this,e);break;case b.TEXT:this._insertCharacters(e);break;case b.IN_TABLE:case b.IN_TABLE_BODY:case b.IN_ROW:uZ(this,e);break;case b.IN_COLUMN_GROUP:u1(this,e);break;case b.AFTER_BODY:de(this,e);break;case b.AFTER_AFTER_BODY:dt(this,e)}}onComment(e){var t,n,r,i;if(this.skipNextNewLine=!1,this.currentNotInHTML)return void uS(this,e);switch(this.insertionMode){case b.INITIAL:case b.BEFORE_HTML:case b.BEFORE_HEAD:case b.IN_HEAD:case b.IN_HEAD_NO_SCRIPT:case b.AFTER_HEAD:case b.IN_BODY:case b.IN_TABLE:case b.IN_CAPTION:case b.IN_COLUMN_GROUP:case b.IN_TABLE_BODY:case b.IN_ROW:case b.IN_CELL:case b.IN_SELECT:case b.IN_SELECT_IN_TABLE:case b.IN_TEMPLATE:case b.IN_FRAMESET:case b.AFTER_FRAMESET:uS(this,e);break;case b.IN_TABLE_TEXT:uQ(this,e);break;case b.AFTER_BODY:t=this,n=e,t._appendCommentNode(n,t.openElements.items[0]);break;case b.AFTER_AFTER_BODY:case b.AFTER_AFTER_FRAMESET:r=this,i=e,r._appendCommentNode(i,r.document)}}onDoctype(e){switch(this.skipNextNewLine=!1,this.insertionMode){case b.INITIAL:!function(e,t){e._setDocumentType(t);let n=t.forceQuirks?p.QUIRKS:function(e){if(e.name!==un)return p.QUIRKS;let{systemId:t}=e;if(t&&"http://www.ibm.com/data/dtd/v11/ibmxhtml1-transitional.dtd"===t.toLowerCase())return p.QUIRKS;let{publicId:n}=e;if(null!==n){if(n=n.toLowerCase(),ua.has(n))return p.QUIRKS;let e=null===t?ui:ur;if(ul(n,e))return p.QUIRKS;if(ul(n,e=null===t?us:uo))return p.LIMITED_QUIRKS}return p.NO_QUIRKS}(t);(t.name!==un||null!==t.publicId||null!==t.systemId&&"about:legacy-compat"!==t.systemId)&&e._err(t,i.nonConformingDoctype),e.treeAdapter.setDocumentMode(e.document,n),e.insertionMode=b.BEFORE_HTML}(this,e);break;case b.BEFORE_HEAD:case b.IN_HEAD:case b.IN_HEAD_NO_SCRIPT:case b.AFTER_HEAD:this._err(e,i.misplacedDoctype);break;case b.IN_TABLE_TEXT:uQ(this,e)}}onStartTag(e){this.skipNextNewLine=!1,this.currentToken=e,this._processStartTag(e),e.selfClosing&&!e.ackSelfClosing&&this._err(e,i.nonVoidHtmlElementStartTagWithTrailingSolidus)}_processStartTag(e){this.shouldProcessStartTagTokenInForeignContent(e)?function(e,t){if(uf(t))dn(e),e._startTagOutsideForeignContent(t);else{let n=e._getAdjustedCurrentElement(),r=e.treeAdapter.getNamespaceURI(n);r===d.MATHML?um(t):r===d.SVG&&(ub(t),ug(t)),uy(t),t.selfClosing?e._appendElement(t,r):e._insertElement(t,r),t.ackSelfClosing=!0}}(this,e):this._startTagOutsideForeignContent(e)}_startTagOutsideForeignContent(e){switch(this.insertionMode){case b.INITIAL:uC(this,e);break;case b.BEFORE_HTML:t=this,(n=e).tagID===m.HTML?(t._insertElement(n,d.HTML),t.insertionMode=b.BEFORE_HEAD):uA(t,n);break;case b.BEFORE_HEAD:var t,n,r,a,s,o,l=this,c=e;switch(c.tagID){case m.HTML:uz(l,c);break;case m.HEAD:l._insertElement(c,d.HTML),l.headElement=l.openElements.current,l.insertionMode=b.IN_HEAD;break;default:uN(l,c)}break;case b.IN_HEAD:uI(this,e);break;case b.IN_HEAD_NO_SCRIPT:var u=this,h=e;switch(h.tagID){case m.HTML:uz(u,h);break;case m.BASEFONT:case m.BGSOUND:case m.HEAD:case m.LINK:case m.META:case m.NOFRAMES:case m.STYLE:uI(u,h);break;case m.NOSCRIPT:u._err(h,i.nestedNoscriptInHead);break;default:uO(u,h)}break;case b.AFTER_HEAD:var p=this,f=e;switch(f.tagID){case m.HTML:uz(p,f);break;case m.BODY:p._insertElement(f,d.HTML),p.framesetOk=!1,p.insertionMode=b.IN_BODY;break;case m.FRAMESET:p._insertElement(f,d.HTML),p.insertionMode=b.IN_FRAMESET;break;case m.BASE:case m.BASEFONT:case m.BGSOUND:case m.LINK:case m.META:case m.NOFRAMES:case m.SCRIPT:case m.STYLE:case m.TEMPLATE:case m.TITLE:p._err(f,i.abandonedHeadElementChild),p.openElements.push(p.headElement,m.HEAD),uI(p,f),p.openElements.remove(p.headElement);break;case m.HEAD:p._err(f,i.misplacedStartTagForHeadElement);break;default:uR(p,f)}break;case b.IN_BODY:uz(this,e);break;case b.IN_TABLE:u$(this,e);break;case b.IN_TABLE_TEXT:uQ(this,e);break;case b.IN_CAPTION:var g=this,y=e;let v=y.tagID;uX.has(v)?g.openElements.hasInTableScope(m.CAPTION)&&(g.openElements.generateImpliedEndTags(),g.openElements.popUntilTagNamePopped(m.CAPTION),g.activeFormattingElements.clearToLastMarker(),g.insertionMode=b.IN_TABLE,u$(g,y)):uz(g,y);break;case b.IN_COLUMN_GROUP:u0(this,e);break;case b.IN_TABLE_BODY:u2(this,e);break;case b.IN_ROW:u3(this,e);break;case b.IN_CELL:var k=this,x=e;let _=x.tagID;uX.has(_)?(k.openElements.hasInTableScope(m.TD)||k.openElements.hasInTableScope(m.TH))&&(k._closeTableCell(),u3(k,x)):uz(k,x);break;case b.IN_SELECT:u6(this,e);break;case b.IN_SELECT_IN_TABLE:var E=this,T=e;let S=T.tagID;S===m.CAPTION||S===m.TABLE||S===m.TBODY||S===m.TFOOT||S===m.THEAD||S===m.TR||S===m.TD||S===m.TH?(E.openElements.popUntilTagNamePopped(m.SELECT),E._resetInsertionMode(),E._processStartTag(T)):u6(E,T);break;case b.IN_TEMPLATE:var w=this,C=e;switch(C.tagID){case m.BASE:case m.BASEFONT:case m.BGSOUND:case m.LINK:case m.META:case m.NOFRAMES:case m.SCRIPT:case m.STYLE:case m.TEMPLATE:case m.TITLE:uI(w,C);break;case m.CAPTION:case m.COLGROUP:case m.TBODY:case m.TFOOT:case m.THEAD:w.tmplInsertionModeStack[0]=b.IN_TABLE,w.insertionMode=b.IN_TABLE,u$(w,C);break;case m.COL:w.tmplInsertionModeStack[0]=b.IN_COLUMN_GROUP,w.insertionMode=b.IN_COLUMN_GROUP,u0(w,C);break;case m.TR:w.tmplInsertionModeStack[0]=b.IN_TABLE_BODY,w.insertionMode=b.IN_TABLE_BODY,u2(w,C);break;case m.TD:case m.TH:w.tmplInsertionModeStack[0]=b.IN_ROW,w.insertionMode=b.IN_ROW,u3(w,C);break;default:w.tmplInsertionModeStack[0]=b.IN_BODY,w.insertionMode=b.IN_BODY,uz(w,C)}break;case b.AFTER_BODY:r=this,(a=e).tagID===m.HTML?uz(r,a):de(r,a);break;case b.IN_FRAMESET:var A=this,N=e;switch(N.tagID){case m.HTML:uz(A,N);break;case m.FRAMESET:A._insertElement(N,d.HTML);break;case m.FRAME:A._appendElement(N,d.HTML),N.ackSelfClosing=!0;break;case m.NOFRAMES:uI(A,N)}break;case b.AFTER_FRAMESET:var I=this,D=e;switch(D.tagID){case m.HTML:uz(I,D);break;case m.NOFRAMES:uI(I,D)}break;case b.AFTER_AFTER_BODY:s=this,(o=e).tagID===m.HTML?uz(s,o):dt(s,o);break;case b.AFTER_AFTER_FRAMESET:var M=this,O=e;switch(O.tagID){case m.HTML:uz(M,O);break;case m.NOFRAMES:uI(M,O)}}}onEndTag(e){this.skipNextNewLine=!1,this.currentToken=e,this.currentNotInHTML?function(e,t){if(t.tagID===m.P||t.tagID===m.BR){dn(e),e._endTagOutsideForeignContent(t);return}for(let n=e.openElements.stackTop;n>0;n--){let r=e.openElements.items[n];if(e.treeAdapter.getNamespaceURI(r)===d.HTML){e._endTagOutsideForeignContent(t);break}let i=e.treeAdapter.getTagName(r);if(i.toLowerCase()===t.tagName){t.tagName=i,e.openElements.shortenToLength(n);break}}}(this,e):this._endTagOutsideForeignContent(e)}_endTagOutsideForeignContent(e){switch(this.insertionMode){case b.INITIAL:uC(this,e);break;case b.BEFORE_HTML:var t,n,r,a,s,o,l=this,c=e;let u=c.tagID;(u===m.HTML||u===m.HEAD||u===m.BODY||u===m.BR)&&uA(l,c);break;case b.BEFORE_HEAD:var d=this,h=e;let p=h.tagID;p===m.HEAD||p===m.BODY||p===m.HTML||p===m.BR?uN(d,h):d._err(h,i.endTagWithoutMatchingOpenElement);break;case b.IN_HEAD:var f=this,g=e;switch(g.tagID){case m.HEAD:f.openElements.pop(),f.insertionMode=b.AFTER_HEAD;break;case m.BODY:case m.BR:case m.HTML:uM(f,g);break;case m.TEMPLATE:uD(f,g);break;default:f._err(g,i.endTagWithoutMatchingOpenElement)}break;case b.IN_HEAD_NO_SCRIPT:var y=this,v=e;switch(v.tagID){case m.NOSCRIPT:y.openElements.pop(),y.insertionMode=b.IN_HEAD;break;case m.BR:uO(y,v);break;default:y._err(v,i.endTagWithoutMatchingOpenElement)}break;case b.AFTER_HEAD:var k=this,x=e;switch(x.tagID){case m.BODY:case m.HTML:case m.BR:uR(k,x);break;case m.TEMPLATE:uD(k,x);break;default:k._err(x,i.endTagWithoutMatchingOpenElement)}break;case b.IN_BODY:uG(this,e);break;case b.TEXT:t=this,e.tagID===m.SCRIPT&&(null==(n=t.scriptHandler)||n.call(t,t.openElements.current)),t.openElements.pop(),t.insertionMode=t.originalInsertionMode;break;case b.IN_TABLE:uW(this,e);break;case b.IN_TABLE_TEXT:uQ(this,e);break;case b.IN_CAPTION:var _=this,E=e;let T=E.tagID;switch(T){case m.CAPTION:case m.TABLE:_.openElements.hasInTableScope(m.CAPTION)&&(_.openElements.generateImpliedEndTags(),_.openElements.popUntilTagNamePopped(m.CAPTION),_.activeFormattingElements.clearToLastMarker(),_.insertionMode=b.IN_TABLE,T===m.TABLE&&uW(_,E));break;case m.BODY:case m.COL:case m.COLGROUP:case m.HTML:case m.TBODY:case m.TD:case m.TFOOT:case m.TH:case m.THEAD:case m.TR:break;default:uG(_,E)}break;case b.IN_COLUMN_GROUP:var S=this,w=e;switch(w.tagID){case m.COLGROUP:S.openElements.currentTagId===m.COLGROUP&&(S.openElements.pop(),S.insertionMode=b.IN_TABLE);break;case m.TEMPLATE:uD(S,w);break;case m.COL:break;default:u1(S,w)}break;case b.IN_TABLE_BODY:u5(this,e);break;case b.IN_ROW:u4(this,e);break;case b.IN_CELL:var C=this,A=e;let N=A.tagID;switch(N){case m.TD:case m.TH:C.openElements.hasInTableScope(N)&&(C.openElements.generateImpliedEndTags(),C.openElements.popUntilTagNamePopped(N),C.activeFormattingElements.clearToLastMarker(),C.insertionMode=b.IN_ROW);break;case m.TABLE:case m.TBODY:case m.TFOOT:case m.THEAD:case m.TR:C.openElements.hasInTableScope(N)&&(C._closeTableCell(),u4(C,A));break;case m.BODY:case m.CAPTION:case m.COL:case m.COLGROUP:case m.HTML:break;default:uG(C,A)}break;case b.IN_SELECT:u9(this,e);break;case b.IN_SELECT_IN_TABLE:var I=this,D=e;let M=D.tagID;M===m.CAPTION||M===m.TABLE||M===m.TBODY||M===m.TFOOT||M===m.THEAD||M===m.TR||M===m.TD||M===m.TH?I.openElements.hasInTableScope(M)&&(I.openElements.popUntilTagNamePopped(m.SELECT),I._resetInsertionMode(),I.onEndTag(D)):u9(I,D);break;case b.IN_TEMPLATE:r=this,(a=e).tagID===m.TEMPLATE&&uD(r,a);break;case b.AFTER_BODY:u7(this,e);break;case b.IN_FRAMESET:s=this,e.tagID===m.FRAMESET&&!s.openElements.isRootHtmlElementCurrent()&&(s.openElements.pop(),s.fragmentContext||s.openElements.currentTagId===m.FRAMESET||(s.insertionMode=b.AFTER_FRAMESET));break;case b.AFTER_FRAMESET:o=this,e.tagID===m.HTML&&(o.insertionMode=b.AFTER_AFTER_FRAMESET);break;case b.AFTER_AFTER_BODY:dt(this,e)}}onEof(e){switch(this.insertionMode){case b.INITIAL:uC(this,e);break;case b.BEFORE_HTML:uA(this,e);break;case b.BEFORE_HEAD:uN(this,e);break;case b.IN_HEAD:uM(this,e);break;case b.IN_HEAD_NO_SCRIPT:uO(this,e);break;case b.AFTER_HEAD:uR(this,e);break;case b.IN_BODY:case b.IN_TABLE:case b.IN_CAPTION:case b.IN_COLUMN_GROUP:case b.IN_TABLE_BODY:case b.IN_ROW:case b.IN_CELL:case b.IN_SELECT:case b.IN_SELECT_IN_TABLE:uq(this,e);break;case b.TEXT:var t,n;t=this,n=e,t._err(n,i.eofInElementThatCanContainOnlyText),t.openElements.pop(),t.insertionMode=t.originalInsertionMode,t.onEof(n);break;case b.IN_TABLE_TEXT:uQ(this,e);break;case b.IN_TEMPLATE:u8(this,e);break;case b.AFTER_BODY:case b.IN_FRAMESET:case b.AFTER_FRAMESET:case b.AFTER_AFTER_BODY:case b.AFTER_AFTER_FRAMESET:uw(this,e)}}onWhitespaceCharacter(e){if(this.skipNextNewLine&&(this.skipNextNewLine=!1,e.chars.charCodeAt(0)===r.LINE_FEED)){if(1===e.chars.length)return;e.chars=e.chars.substr(1)}if(this.tokenizer.inForeignNode)return void this._insertCharacters(e);switch(this.insertionMode){case b.IN_HEAD:case b.IN_HEAD_NO_SCRIPT:case b.AFTER_HEAD:case b.TEXT:case b.IN_COLUMN_GROUP:case b.IN_SELECT:case b.IN_SELECT_IN_TABLE:case b.IN_FRAMESET:case b.AFTER_FRAMESET:this._insertCharacters(e);break;case b.IN_BODY:case b.IN_CAPTION:case b.IN_CELL:case b.IN_TEMPLATE:case b.AFTER_BODY:case b.AFTER_AFTER_BODY:case b.AFTER_AFTER_FRAMESET:uL(this,e);break;case b.IN_TABLE:case b.IN_TABLE_BODY:case b.IN_ROW:uZ(this,e);break;case b.IN_TABLE_TEXT:uK(this,e)}}constructor(e,t,n=null,r=null){this.fragmentContext=n,this.scriptHandler=r,this.currentToken=null,this.stopped=!1,this.insertionMode=b.INITIAL,this.originalInsertionMode=b.INITIAL,this.headElement=null,this.formElement=null,this.currentNotInHTML=!1,this.tmplInsertionModeStack=[],this.pendingCharacterTokens=[],this.hasNonWhitespacePendingCharacterToken=!1,this.framesetOk=!0,this.skipNextNewLine=!1,this.fosterParentingEnabled=!1,this.options={...u_,...e},this.treeAdapter=this.options.treeAdapter,this.onParseError=this.options.onParseError,this.onParseError&&(this.options.sourceCodeLocationInfo=!0),this.document=null!=t?t:this.treeAdapter.createDocument(),this.tokenizer=new cK(this.options,this),this.activeFormattingElements=new ue(this.treeAdapter),this.fragmentContextID=n?cj(this.treeAdapter.getTagName(n)):m.UNKNOWN,this._setContextModes(null!=n?n:this.document,this.fragmentContextID),this.openElements=new c8(this.document,this.treeAdapter,this)}}function uT(e,t){for(let n=0;n<8;n++){let n=function(e,t){let n=e.activeFormattingElements.getElementEntryInScopeWithTagName(t.tagName);return n?e.openElements.contains(n.element)?e.openElements.hasInScope(t.tagID)||(n=null):(e.activeFormattingElements.removeEntry(n),n=null):uV(e,t),n}(e,t);if(!n)break;let r=function(e,t){let n=null,r=e.openElements.stackTop;for(;r>=0;r--){let i=e.openElements.items[r];if(i===t.element)break;e._isSpecialElement(i,e.openElements.tagIDs[r])&&(n=i)}return n||(e.openElements.shortenToLength(Math.max(r,0)),e.activeFormattingElements.removeEntry(t)),n}(e,n);if(!r)break;e.activeFormattingElements.bookmark=n;let i=function(e,t,n){let r=t,i=e.openElements.getCommonAncestor(t);for(let a=0,s=i;s!==n;a++,s=i){i=e.openElements.getCommonAncestor(s);let n=e.activeFormattingElements.getElementEntry(s),o=n&&a>=3;!n||o?(o&&e.activeFormattingElements.removeEntry(n),e.openElements.remove(s)):(s=function(e,t){let n=e.treeAdapter.getNamespaceURI(t.element),r=e.treeAdapter.createElement(t.token.tagName,n,t.token.attrs);return e.openElements.replace(t.element,r),t.element=r,r}(e,n),r===t&&(e.activeFormattingElements.bookmark=n),e.treeAdapter.detachNode(r),e.treeAdapter.appendChild(s,r),r=s)}return r}(e,r,n.element),a=e.openElements.getCommonAncestor(n.element);e.treeAdapter.detachNode(i),a&&function(e,t,n){let r=cj(e.treeAdapter.getTagName(t));if(e._isElementCausesFosterParenting(r))e._fosterParentElement(n);else{let i=e.treeAdapter.getNamespaceURI(t);r===m.TEMPLATE&&i===d.HTML&&(t=e.treeAdapter.getTemplateContent(t)),e.treeAdapter.appendChild(t,n)}}(e,a,i);let s=e.treeAdapter.getNamespaceURI(n.element),{token:o}=n,l=e.treeAdapter.createElement(o.tagName,s,o.attrs);e._adoptNodes(r,l),e.treeAdapter.appendChild(r,l),e.activeFormattingElements.insertElementAfterBookmark(l,o),e.activeFormattingElements.removeEntry(n),e.openElements.remove(n.element),e.openElements.insertAfter(r,l,o.tagID)}}function uS(e,t){e._appendCommentNode(t,e.openElements.currentTmplContentOrNode)}function uw(e,t){if(e.stopped=!0,t.location){let n=2*!e.fragmentContext;for(let r=e.openElements.stackTop;r>=n;r--)e._setEndLocation(e.openElements.items[r],t);if(!e.fragmentContext&&e.openElements.stackTop>=0){let n=e.openElements.items[0],r=e.treeAdapter.getNodeSourceCodeLocation(n);if(r&&!r.endTag&&(e._setEndLocation(n,t),e.openElements.stackTop>=1)){let n=e.openElements.items[1],r=e.treeAdapter.getNodeSourceCodeLocation(n);r&&!r.endTag&&e._setEndLocation(n,t)}}}}function uC(e,t){e._err(t,i.missingDoctype,!0),e.treeAdapter.setDocumentMode(e.document,p.QUIRKS),e.insertionMode=b.BEFORE_HTML,e._processToken(t)}function uA(e,t){e._insertFakeRootElement(),e.insertionMode=b.BEFORE_HEAD,e._processToken(t)}function uN(e,t){e._insertFakeElement(f.HEAD,m.HEAD),e.headElement=e.openElements.current,e.insertionMode=b.IN_HEAD,e._processToken(t)}function uI(e,t){switch(t.tagID){case m.HTML:uz(e,t);break;case m.BASE:case m.BASEFONT:case m.BGSOUND:case m.LINK:case m.META:e._appendElement(t,d.HTML),t.ackSelfClosing=!0;break;case m.TITLE:e._switchToTextParsing(t,cG.RCDATA);break;case m.NOSCRIPT:e.options.scriptingEnabled?e._switchToTextParsing(t,cG.RAWTEXT):(e._insertElement(t,d.HTML),e.insertionMode=b.IN_HEAD_NO_SCRIPT);break;case m.NOFRAMES:case m.STYLE:e._switchToTextParsing(t,cG.RAWTEXT);break;case m.SCRIPT:e._switchToTextParsing(t,cG.SCRIPT_DATA);break;case m.TEMPLATE:e._insertTemplate(t),e.activeFormattingElements.insertMarker(),e.framesetOk=!1,e.insertionMode=b.IN_TEMPLATE,e.tmplInsertionModeStack.unshift(b.IN_TEMPLATE);break;case m.HEAD:e._err(t,i.misplacedStartTagForHeadElement);break;default:uM(e,t)}}function uD(e,t){e.openElements.tmplCount>0?(e.openElements.generateImpliedEndTagsThoroughly(),e.openElements.currentTagId!==m.TEMPLATE&&e._err(t,i.closingOfElementWithOpenChildElements),e.openElements.popUntilTagNamePopped(m.TEMPLATE),e.activeFormattingElements.clearToLastMarker(),e.tmplInsertionModeStack.shift(),e._resetInsertionMode()):e._err(t,i.endTagWithoutMatchingOpenElement)}function uM(e,t){e.openElements.pop(),e.insertionMode=b.AFTER_HEAD,e._processToken(t)}function uO(e,t){let n=t.type===a.EOF?i.openElementsLeftAfterEof:i.disallowedContentInNoscriptInHead;e._err(t,n),e.openElements.pop(),e.insertionMode=b.IN_HEAD,e._processToken(t)}function uR(e,t){e._insertFakeElement(f.BODY,m.BODY),e.insertionMode=b.IN_BODY,uP(e,t)}function uP(e,t){switch(t.type){case a.CHARACTER:uF(e,t);break;case a.WHITESPACE_CHARACTER:uL(e,t);break;case a.COMMENT:uS(e,t);break;case a.START_TAG:uz(e,t);break;case a.END_TAG:uG(e,t);break;case a.EOF:uq(e,t)}}function uL(e,t){e._reconstructActiveFormattingElements(),e._insertCharacters(t)}function uF(e,t){e._reconstructActiveFormattingElements(),e._insertCharacters(t),e.framesetOk=!1}function uj(e,t){e._reconstructActiveFormattingElements(),e._appendElement(t,d.HTML),e.framesetOk=!1,t.ackSelfClosing=!0}function uB(e){let t=cM(e,h.TYPE);return null!=t&&"hidden"===t.toLowerCase()}function uH(e,t){e._switchToTextParsing(t,cG.RAWTEXT)}function uU(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,d.HTML)}function uz(e,t){switch(t.tagID){case m.I:case m.S:case m.B:case m.U:case m.EM:case m.TT:case m.BIG:case m.CODE:case m.FONT:case m.SMALL:case m.STRIKE:case m.STRONG:e._reconstructActiveFormattingElements(),e._insertElement(t,d.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t);break;case m.A:let n=e.activeFormattingElements.getElementEntryInScopeWithTagName(f.A);n&&(uT(e,t),e.openElements.remove(n.element),e.activeFormattingElements.removeEntry(n)),e._reconstructActiveFormattingElements(),e._insertElement(t,d.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t);break;case m.H1:case m.H2:case m.H3:case m.H4:case m.H5:case m.H6:e.openElements.hasInButtonScope(m.P)&&e._closePElement(),void 0!==e.openElements.currentTagId&&cU.has(e.openElements.currentTagId)&&e.openElements.pop(),e._insertElement(t,d.HTML);break;case m.P:case m.DL:case m.OL:case m.UL:case m.DIV:case m.DIR:case m.NAV:case m.MAIN:case m.MENU:case m.ASIDE:case m.CENTER:case m.FIGURE:case m.FOOTER:case m.HEADER:case m.HGROUP:case m.DIALOG:case m.DETAILS:case m.ADDRESS:case m.ARTICLE:case m.SEARCH:case m.SECTION:case m.SUMMARY:case m.FIELDSET:case m.BLOCKQUOTE:case m.FIGCAPTION:e.openElements.hasInButtonScope(m.P)&&e._closePElement(),e._insertElement(t,d.HTML);break;case m.LI:case m.DD:case m.DT:e.framesetOk=!1;let r=t.tagID;for(let t=e.openElements.stackTop;t>=0;t--){let n=e.openElements.tagIDs[t];if(r===m.LI&&n===m.LI||(r===m.DD||r===m.DT)&&(n===m.DD||n===m.DT)){e.openElements.generateImpliedEndTagsWithExclusion(n),e.openElements.popUntilTagNamePopped(n);break}if(n!==m.ADDRESS&&n!==m.DIV&&n!==m.P&&e._isSpecialElement(e.openElements.items[t],n))break}e.openElements.hasInButtonScope(m.P)&&e._closePElement(),e._insertElement(t,d.HTML);break;case m.BR:case m.IMG:case m.WBR:case m.AREA:case m.EMBED:case m.KEYGEN:uj(e,t);break;case m.HR:e.openElements.hasInButtonScope(m.P)&&e._closePElement(),e._appendElement(t,d.HTML),e.framesetOk=!1,t.ackSelfClosing=!0;break;case m.RB:case m.RTC:e.openElements.hasInScope(m.RUBY)&&e.openElements.generateImpliedEndTags(),e._insertElement(t,d.HTML);break;case m.RT:case m.RP:e.openElements.hasInScope(m.RUBY)&&e.openElements.generateImpliedEndTagsWithExclusion(m.RTC),e._insertElement(t,d.HTML);break;case m.PRE:case m.LISTING:e.openElements.hasInButtonScope(m.P)&&e._closePElement(),e._insertElement(t,d.HTML),e.skipNextNewLine=!0,e.framesetOk=!1;break;case m.XMP:e.openElements.hasInButtonScope(m.P)&&e._closePElement(),e._reconstructActiveFormattingElements(),e.framesetOk=!1,e._switchToTextParsing(t,cG.RAWTEXT);break;case m.SVG:e._reconstructActiveFormattingElements(),ug(t),uy(t),t.selfClosing?e._appendElement(t,d.SVG):e._insertElement(t,d.SVG),t.ackSelfClosing=!0;break;case m.HTML:0===e.openElements.tmplCount&&e.treeAdapter.adoptAttributes(e.openElements.items[0],t.attrs);break;case m.BASE:case m.LINK:case m.META:case m.STYLE:case m.TITLE:case m.SCRIPT:case m.BGSOUND:case m.BASEFONT:case m.TEMPLATE:uI(e,t);break;case m.BODY:let i=e.openElements.tryPeekProperlyNestedBodyElement();i&&0===e.openElements.tmplCount&&(e.framesetOk=!1,e.treeAdapter.adoptAttributes(i,t.attrs));break;case m.FORM:let a=e.openElements.tmplCount>0;(!e.formElement||a)&&(e.openElements.hasInButtonScope(m.P)&&e._closePElement(),e._insertElement(t,d.HTML),a||(e.formElement=e.openElements.current));break;case m.NOBR:e._reconstructActiveFormattingElements(),e.openElements.hasInScope(m.NOBR)&&(uT(e,t),e._reconstructActiveFormattingElements()),e._insertElement(t,d.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t);break;case m.MATH:e._reconstructActiveFormattingElements(),um(t),uy(t),t.selfClosing?e._appendElement(t,d.MATHML):e._insertElement(t,d.MATHML),t.ackSelfClosing=!0;break;case m.TABLE:e.treeAdapter.getDocumentMode(e.document)!==p.QUIRKS&&e.openElements.hasInButtonScope(m.P)&&e._closePElement(),e._insertElement(t,d.HTML),e.framesetOk=!1,e.insertionMode=b.IN_TABLE;break;case m.INPUT:e._reconstructActiveFormattingElements(),e._appendElement(t,d.HTML),uB(t)||(e.framesetOk=!1),t.ackSelfClosing=!0;break;case m.PARAM:case m.TRACK:case m.SOURCE:e._appendElement(t,d.HTML),t.ackSelfClosing=!0;break;case m.IMAGE:t.tagName=f.IMG,t.tagID=m.IMG,uj(e,t);break;case m.BUTTON:e.openElements.hasInScope(m.BUTTON)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(m.BUTTON)),e._reconstructActiveFormattingElements(),e._insertElement(t,d.HTML),e.framesetOk=!1;break;case m.APPLET:case m.OBJECT:case m.MARQUEE:e._reconstructActiveFormattingElements(),e._insertElement(t,d.HTML),e.activeFormattingElements.insertMarker(),e.framesetOk=!1;break;case m.IFRAME:e.framesetOk=!1,e._switchToTextParsing(t,cG.RAWTEXT);break;case m.SELECT:e._reconstructActiveFormattingElements(),e._insertElement(t,d.HTML),e.framesetOk=!1,e.insertionMode=e.insertionMode===b.IN_TABLE||e.insertionMode===b.IN_CAPTION||e.insertionMode===b.IN_TABLE_BODY||e.insertionMode===b.IN_ROW||e.insertionMode===b.IN_CELL?b.IN_SELECT_IN_TABLE:b.IN_SELECT;break;case m.OPTION:case m.OPTGROUP:e.openElements.currentTagId===m.OPTION&&e.openElements.pop(),e._reconstructActiveFormattingElements(),e._insertElement(t,d.HTML);break;case m.NOEMBED:case m.NOFRAMES:uH(e,t);break;case m.FRAMESET:let s=e.openElements.tryPeekProperlyNestedBodyElement();e.framesetOk&&s&&(e.treeAdapter.detachNode(s),e.openElements.popAllUpToHtmlElement(),e._insertElement(t,d.HTML),e.insertionMode=b.IN_FRAMESET);break;case m.TEXTAREA:e._insertElement(t,d.HTML),e.skipNextNewLine=!0,e.tokenizer.state=cG.RCDATA,e.originalInsertionMode=e.insertionMode,e.framesetOk=!1,e.insertionMode=b.TEXT;break;case m.NOSCRIPT:e.options.scriptingEnabled?uH(e,t):uU(e,t);break;case m.PLAINTEXT:e.openElements.hasInButtonScope(m.P)&&e._closePElement(),e._insertElement(t,d.HTML),e.tokenizer.state=cG.PLAINTEXT;break;case m.COL:case m.TH:case m.TD:case m.TR:case m.HEAD:case m.FRAME:case m.TBODY:case m.TFOOT:case m.THEAD:case m.CAPTION:case m.COLGROUP:break;default:uU(e,t)}}function uV(e,t){let n=t.tagName,r=t.tagID;for(let t=e.openElements.stackTop;t>0;t--){let i=e.openElements.items[t],a=e.openElements.tagIDs[t];if(r===a&&(r!==m.UNKNOWN||e.treeAdapter.getTagName(i)===n)){e.openElements.generateImpliedEndTagsWithExclusion(r),e.openElements.stackTop>=t&&e.openElements.shortenToLength(t);break}if(e._isSpecialElement(i,a))break}}function uG(e,t){switch(t.tagID){case m.A:case m.B:case m.I:case m.S:case m.U:case m.EM:case m.TT:case m.BIG:case m.CODE:case m.FONT:case m.NOBR:case m.SMALL:case m.STRIKE:case m.STRONG:uT(e,t);break;case m.P:e.openElements.hasInButtonScope(m.P)||e._insertFakeElement(f.P,m.P),e._closePElement();break;case m.DL:case m.UL:case m.OL:case m.DIR:case m.DIV:case m.NAV:case m.PRE:case m.MAIN:case m.MENU:case m.ASIDE:case m.BUTTON:case m.CENTER:case m.FIGURE:case m.FOOTER:case m.HEADER:case m.HGROUP:case m.DIALOG:case m.ADDRESS:case m.ARTICLE:case m.DETAILS:case m.SEARCH:case m.SECTION:case m.SUMMARY:case m.LISTING:case m.FIELDSET:case m.BLOCKQUOTE:case m.FIGCAPTION:let n=t.tagID;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n));break;case m.LI:e.openElements.hasInListItemScope(m.LI)&&(e.openElements.generateImpliedEndTagsWithExclusion(m.LI),e.openElements.popUntilTagNamePopped(m.LI));break;case m.DD:case m.DT:let r=t.tagID;e.openElements.hasInScope(r)&&(e.openElements.generateImpliedEndTagsWithExclusion(r),e.openElements.popUntilTagNamePopped(r));break;case m.H1:case m.H2:case m.H3:case m.H4:case m.H5:case m.H6:e.openElements.hasNumberedHeaderInScope()&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilNumberedHeaderPopped());break;case m.BR:e._reconstructActiveFormattingElements(),e._insertFakeElement(f.BR,m.BR),e.openElements.pop(),e.framesetOk=!1;break;case m.BODY:if(e.openElements.hasInScope(m.BODY)&&(e.insertionMode=b.AFTER_BODY,e.options.sourceCodeLocationInfo)){let n=e.openElements.tryPeekProperlyNestedBodyElement();n&&e._setEndLocation(n,t)}break;case m.HTML:e.openElements.hasInScope(m.BODY)&&(e.insertionMode=b.AFTER_BODY,u7(e,t));break;case m.FORM:let i=e.openElements.tmplCount>0,{formElement:a}=e;i||(e.formElement=null),(a||i)&&e.openElements.hasInScope(m.FORM)&&(e.openElements.generateImpliedEndTags(),i?e.openElements.popUntilTagNamePopped(m.FORM):a&&e.openElements.remove(a));break;case m.APPLET:case m.OBJECT:case m.MARQUEE:let s=t.tagID;e.openElements.hasInScope(s)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(s),e.activeFormattingElements.clearToLastMarker());break;case m.TEMPLATE:uD(e,t);break;default:uV(e,t)}}function uq(e,t){e.tmplInsertionModeStack.length>0?u8(e,t):uw(e,t)}function uZ(e,t){if(void 0!==e.openElements.currentTagId&&ux.has(e.openElements.currentTagId))switch(e.pendingCharacterTokens.length=0,e.hasNonWhitespacePendingCharacterToken=!1,e.originalInsertionMode=e.insertionMode,e.insertionMode=b.IN_TABLE_TEXT,t.type){case a.CHARACTER:uJ(e,t);break;case a.WHITESPACE_CHARACTER:uK(e,t)}else uY(e,t)}function u$(e,t){switch(t.tagID){case m.TD:case m.TH:case m.TR:e.openElements.clearBackToTableContext(),e._insertFakeElement(f.TBODY,m.TBODY),e.insertionMode=b.IN_TABLE_BODY,u2(e,t);break;case m.STYLE:case m.SCRIPT:case m.TEMPLATE:uI(e,t);break;case m.COL:e.openElements.clearBackToTableContext(),e._insertFakeElement(f.COLGROUP,m.COLGROUP),e.insertionMode=b.IN_COLUMN_GROUP,u0(e,t);break;case m.FORM:e.formElement||0!==e.openElements.tmplCount||(e._insertElement(t,d.HTML),e.formElement=e.openElements.current,e.openElements.pop());break;case m.TABLE:e.openElements.hasInTableScope(m.TABLE)&&(e.openElements.popUntilTagNamePopped(m.TABLE),e._resetInsertionMode(),e._processStartTag(t));break;case m.TBODY:case m.TFOOT:case m.THEAD:e.openElements.clearBackToTableContext(),e._insertElement(t,d.HTML),e.insertionMode=b.IN_TABLE_BODY;break;case m.INPUT:uB(t)?e._appendElement(t,d.HTML):uY(e,t),t.ackSelfClosing=!0;break;case m.CAPTION:e.openElements.clearBackToTableContext(),e.activeFormattingElements.insertMarker(),e._insertElement(t,d.HTML),e.insertionMode=b.IN_CAPTION;break;case m.COLGROUP:e.openElements.clearBackToTableContext(),e._insertElement(t,d.HTML),e.insertionMode=b.IN_COLUMN_GROUP;break;default:uY(e,t)}}function uW(e,t){switch(t.tagID){case m.TABLE:e.openElements.hasInTableScope(m.TABLE)&&(e.openElements.popUntilTagNamePopped(m.TABLE),e._resetInsertionMode());break;case m.TEMPLATE:uD(e,t);break;case m.BODY:case m.CAPTION:case m.COL:case m.COLGROUP:case m.HTML:case m.TBODY:case m.TD:case m.TFOOT:case m.TH:case m.THEAD:case m.TR:break;default:uY(e,t)}}function uY(e,t){let n=e.fosterParentingEnabled;e.fosterParentingEnabled=!0,uP(e,t),e.fosterParentingEnabled=n}function uK(e,t){e.pendingCharacterTokens.push(t)}function uJ(e,t){e.pendingCharacterTokens.push(t),e.hasNonWhitespacePendingCharacterToken=!0}function uQ(e,t){let n=0;if(e.hasNonWhitespacePendingCharacterToken)for(;n<e.pendingCharacterTokens.length;n++)uY(e,e.pendingCharacterTokens[n]);else for(;n<e.pendingCharacterTokens.length;n++)e._insertCharacters(e.pendingCharacterTokens[n]);e.insertionMode=e.originalInsertionMode,e._processToken(t)}let uX=new Set([m.CAPTION,m.COL,m.COLGROUP,m.TBODY,m.TD,m.TFOOT,m.TH,m.THEAD,m.TR]);function u0(e,t){switch(t.tagID){case m.HTML:uz(e,t);break;case m.COL:e._appendElement(t,d.HTML),t.ackSelfClosing=!0;break;case m.TEMPLATE:uI(e,t);break;default:u1(e,t)}}function u1(e,t){e.openElements.currentTagId===m.COLGROUP&&(e.openElements.pop(),e.insertionMode=b.IN_TABLE,e._processToken(t))}function u2(e,t){switch(t.tagID){case m.TR:e.openElements.clearBackToTableBodyContext(),e._insertElement(t,d.HTML),e.insertionMode=b.IN_ROW;break;case m.TH:case m.TD:e.openElements.clearBackToTableBodyContext(),e._insertFakeElement(f.TR,m.TR),e.insertionMode=b.IN_ROW,u3(e,t);break;case m.CAPTION:case m.COL:case m.COLGROUP:case m.TBODY:case m.TFOOT:case m.THEAD:e.openElements.hasTableBodyContextInTableScope()&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=b.IN_TABLE,u$(e,t));break;default:u$(e,t)}}function u5(e,t){let n=t.tagID;switch(t.tagID){case m.TBODY:case m.TFOOT:case m.THEAD:e.openElements.hasInTableScope(n)&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=b.IN_TABLE);break;case m.TABLE:e.openElements.hasTableBodyContextInTableScope()&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=b.IN_TABLE,uW(e,t));break;case m.BODY:case m.CAPTION:case m.COL:case m.COLGROUP:case m.HTML:case m.TD:case m.TH:case m.TR:break;default:uW(e,t)}}function u3(e,t){switch(t.tagID){case m.TH:case m.TD:e.openElements.clearBackToTableRowContext(),e._insertElement(t,d.HTML),e.insertionMode=b.IN_CELL,e.activeFormattingElements.insertMarker();break;case m.CAPTION:case m.COL:case m.COLGROUP:case m.TBODY:case m.TFOOT:case m.THEAD:case m.TR:e.openElements.hasInTableScope(m.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=b.IN_TABLE_BODY,u2(e,t));break;default:u$(e,t)}}function u4(e,t){switch(t.tagID){case m.TR:e.openElements.hasInTableScope(m.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=b.IN_TABLE_BODY);break;case m.TABLE:e.openElements.hasInTableScope(m.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=b.IN_TABLE_BODY,u5(e,t));break;case m.TBODY:case m.TFOOT:case m.THEAD:(e.openElements.hasInTableScope(t.tagID)||e.openElements.hasInTableScope(m.TR))&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=b.IN_TABLE_BODY,u5(e,t));break;case m.BODY:case m.CAPTION:case m.COL:case m.COLGROUP:case m.HTML:case m.TD:case m.TH:break;default:uW(e,t)}}function u6(e,t){switch(t.tagID){case m.HTML:uz(e,t);break;case m.OPTION:e.openElements.currentTagId===m.OPTION&&e.openElements.pop(),e._insertElement(t,d.HTML);break;case m.OPTGROUP:e.openElements.currentTagId===m.OPTION&&e.openElements.pop(),e.openElements.currentTagId===m.OPTGROUP&&e.openElements.pop(),e._insertElement(t,d.HTML);break;case m.HR:e.openElements.currentTagId===m.OPTION&&e.openElements.pop(),e.openElements.currentTagId===m.OPTGROUP&&e.openElements.pop(),e._appendElement(t,d.HTML),t.ackSelfClosing=!0;break;case m.INPUT:case m.KEYGEN:case m.TEXTAREA:case m.SELECT:e.openElements.hasInSelectScope(m.SELECT)&&(e.openElements.popUntilTagNamePopped(m.SELECT),e._resetInsertionMode(),t.tagID!==m.SELECT&&e._processStartTag(t));break;case m.SCRIPT:case m.TEMPLATE:uI(e,t)}}function u9(e,t){switch(t.tagID){case m.OPTGROUP:e.openElements.stackTop>0&&e.openElements.currentTagId===m.OPTION&&e.openElements.tagIDs[e.openElements.stackTop-1]===m.OPTGROUP&&e.openElements.pop(),e.openElements.currentTagId===m.OPTGROUP&&e.openElements.pop();break;case m.OPTION:e.openElements.currentTagId===m.OPTION&&e.openElements.pop();break;case m.SELECT:e.openElements.hasInSelectScope(m.SELECT)&&(e.openElements.popUntilTagNamePopped(m.SELECT),e._resetInsertionMode());break;case m.TEMPLATE:uD(e,t)}}function u8(e,t){e.openElements.tmplCount>0?(e.openElements.popUntilTagNamePopped(m.TEMPLATE),e.activeFormattingElements.clearToLastMarker(),e.tmplInsertionModeStack.shift(),e._resetInsertionMode(),e.onEof(t)):uw(e,t)}function u7(e,t){var n;if(t.tagID===m.HTML){if(e.fragmentContext||(e.insertionMode=b.AFTER_AFTER_BODY),e.options.sourceCodeLocationInfo&&e.openElements.tagIDs[0]===m.HTML){e._setEndLocation(e.openElements.items[0],t);let r=e.openElements.items[1];!r||(null==(n=e.treeAdapter.getNodeSourceCodeLocation(r))?void 0:n.endTag)||e._setEndLocation(r,t)}}else de(e,t)}function de(e,t){e.insertionMode=b.IN_BODY,uP(e,t)}function dt(e,t){e.insertionMode=b.IN_BODY,uP(e,t)}function dn(e){for(;e.treeAdapter.getNamespaceURI(e.openElements.current)!==d.HTML&&void 0!==e.openElements.currentTagId&&!e._isIntegrationPoint(e.openElements.currentTagId,e.openElements.current);)e.openElements.pop()}null==String.prototype.codePointAt||((e,t)=>e.codePointAt(t)),f.AREA,f.BASE,f.BASEFONT,f.BGSOUND,f.BR,f.COL,f.EMBED,f.FRAME,f.HR,f.IMG,f.INPUT,f.KEYGEN,f.LINK,f.META,f.PARAM,f.SOURCE,f.TRACK,f.WBR,e.i(983401);var dr=e.i(615473),di=e.i(382698);let da=/<(\/?)(iframe|noembed|noframes|plaintext|script|style|textarea|title|xmp)(?=[\t\n\f\r />])/gi,ds=new Set(["mdxFlowExpression","mdxJsxFlowElement","mdxJsxTextElement","mdxTextExpression","mdxjsEsm"]),dl={sourceCodeLocationInfo:!0,scriptingEnabled:!1};function dc(e,t){let n=function(e){let t="root"===e.type?e.children[0]:e;return!!(t&&("doctype"===t.type||"element"===t.type&&"html"===t.tagName.toLowerCase()))}(e),r=ck("type",{handlers:{root:dd,element:dh,text:dp,comment:dm,doctype:df,raw:dg},unknown:dy}),i={parser:n?new uE(dl):uE.getFragmentParser(void 0,dl),handle(e){r(e,i)},stitches:!1,options:t||{}};r(e,i),db(i,aL());let a=function(e,t){let n=t||{};return lq({file:n.file||void 0,location:!1,schema:"svg"===n.space?aD:aI,verbose:n.verbose||!1},e)}(n?i.parser.document:i.parser.getFragment(),{file:i.options.file});return(i.stitches&&oj(a,"comment",function(e,t,n){if(e.value.stitch&&n&&void 0!==t)return n.children[t]=e.value.stitch,t}),"root"===a.type&&1===a.children.length&&a.children[0].type===e.type)?a.children[0]:a}function du(e,t){let n=-1;if(e)for(;++n<e.length;)t.handle(e[n])}function dd(e,t){du(e.children,t)}function dh(e,t){(function(e,t){let n=e.tagName.toLowerCase();if(t.parser.tokenizer.state===cG.PLAINTEXT)return;db(t,aL(e));let r=t.parser.openElements.current,i="namespaceURI"in r?r.namespaceURI:lx.html;i===lx.html&&"svg"===n&&(i=lx.svg);let a=c_({...e,children:[]},"svg"===({space:i===lx.svg?"svg":"html"}).space?cb:cy),s={type:di.TokenType.START_TAG,tagName:n,tagID:dr.getTagID(n),selfClosing:!1,ackSelfClosing:!1,attrs:"attrs"in a?a.attrs:[],location:dk(e)};t.parser.currentToken=s,t.parser._processToken(t.parser.currentToken),t.parser.tokenizer.lastStartTagName=n})(e,t),du(e.children,t),function(e,t){let n=e.tagName.toLowerCase();if(!t.parser.tokenizer.inForeignNode&&cS.includes(n)||t.parser.tokenizer.state===cG.PLAINTEXT)return;db(t,aP(e));let r={type:di.TokenType.END_TAG,tagName:n,tagID:dr.getTagID(n),selfClosing:!1,ackSelfClosing:!1,attrs:[],location:dk(e)};t.parser.currentToken=r,t.parser._processToken(t.parser.currentToken),n===t.parser.tokenizer.lastStartTagName&&(t.parser.tokenizer.state===cG.RCDATA||t.parser.tokenizer.state===cG.RAWTEXT||t.parser.tokenizer.state===cG.SCRIPT_DATA)&&(t.parser.tokenizer.state=cG.DATA)}(e,t)}function dp(e,t){t.parser.tokenizer.state>4&&(t.parser.tokenizer.state=0);let n={type:di.TokenType.CHARACTER,chars:e.value,location:dk(e)};db(t,aL(e)),t.parser.currentToken=n,t.parser._processToken(t.parser.currentToken)}function df(e,t){let n={type:di.TokenType.DOCTYPE,name:"html",forceQuirks:!1,publicId:"",systemId:"",location:dk(e)};db(t,aL(e)),t.parser.currentToken=n,t.parser._processToken(t.parser.currentToken)}function dm(e,t){let n=e.value,r={type:di.TokenType.COMMENT,data:n,location:dk(e)};db(t,aL(e)),t.parser.currentToken=r,t.parser._processToken(t.parser.currentToken)}function dg(e,t){if(t.parser.tokenizer.preprocessor.html="",t.parser.tokenizer.preprocessor.pos=-1,t.parser.tokenizer.preprocessor.lastGapPos=-2,t.parser.tokenizer.preprocessor.gapStack=[],t.parser.tokenizer.preprocessor.skipNextNewLine=!1,t.parser.tokenizer.preprocessor.lastChunkWritten=!1,t.parser.tokenizer.preprocessor.endOfChunkHit=!1,t.parser.tokenizer.preprocessor.isEol=!1,dv(t,aL(e)),t.parser.tokenizer.write(t.options.tagfilter?e.value.replace(da,"&lt;$1$2"):e.value,!1),t.parser.tokenizer._runParsingLoop(),72===t.parser.tokenizer.state||78===t.parser.tokenizer.state){t.parser.tokenizer.preprocessor.lastChunkWritten=!0;let e=t.parser.tokenizer._consume();t.parser.tokenizer._callState(e)}}function dy(e,t){if(t.options.passThrough&&t.options.passThrough.includes(e.type)){var n;t.stitches=!0;let r="children"in(n=e)?oA({...n,children:[]}):oA(n);"children"in e&&"children"in r&&(r.children=dc({type:"root",children:e.children},t.options).children),dm({type:"comment",value:{stitch:r}},t)}else{let t="";throw ds.has(e.type)&&(t=". It looks like you are using MDX nodes with `hast-util-raw` (or `rehype-raw`). If you use this because you are using remark or rehype plugins that inject `'html'` nodes, then please raise an issue with that plugin, as its a bad and slow idea. If you use this because you are using markdown syntax, then you have to configure this utility (or plugin) to pass through these nodes (see `passThrough` in docs), but you can also migrate to use the MDX syntax"),Error("Cannot compile `"+e.type+"` node"+t)}}function db(e,t){dv(e,t);let n=e.parser.tokenizer.currentCharacterToken;n&&n.location&&(n.location.endLine=e.parser.tokenizer.preprocessor.line,n.location.endCol=e.parser.tokenizer.preprocessor.col+1,n.location.endOffset=e.parser.tokenizer.preprocessor.offset+1,e.parser.currentToken=n,e.parser._processToken(e.parser.currentToken)),e.parser.tokenizer.paused=!1,e.parser.tokenizer.inLoop=!1,e.parser.tokenizer.active=!1,e.parser.tokenizer.returnState=cG.DATA,e.parser.tokenizer.charRefCode=-1,e.parser.tokenizer.consumedAfterSnapshot=-1,e.parser.tokenizer.currentLocation=null,e.parser.tokenizer.currentCharacterToken=null,e.parser.tokenizer.currentToken=null,e.parser.tokenizer.currentAttr={name:"",value:""}}function dv(e,t){if(t&&void 0!==t.offset){let n={startLine:t.line,startCol:t.column,startOffset:t.offset,endLine:-1,endCol:-1,endOffset:-1};e.parser.tokenizer.preprocessor.lineStartPos=-t.column+1,e.parser.tokenizer.preprocessor.droppedBufferSize=t.offset,e.parser.tokenizer.preprocessor.line=t.line,e.parser.tokenizer.currentLocation=n}}function dk(e){let t=aL(e)||{line:void 0,column:void 0,offset:void 0},n=aP(e)||{line:void 0,column:void 0,offset:void 0};return{startLine:t.line,startCol:t.column,startOffset:t.offset,endLine:n.line,endCol:n.column,endOffset:n.offset}}function dx(e,t){let n=String(e);if("string"!=typeof t)throw TypeError("Expected character");let r=0,i=n.indexOf(t);for(;-1!==i;)r++,i=n.indexOf(t,i+t.length);return r}let d_="phrasing",dE=["autolink","link","image","label"];function dT(e){this.enter({type:"link",title:null,url:"",children:[]},e)}function dS(e){this.config.enter.autolinkProtocol.call(this,e)}function dw(e){this.config.exit.autolinkProtocol.call(this,e)}function dC(e){this.config.exit.data.call(this,e);let t=this.stack[this.stack.length-1];iJ("link"===t.type),t.url="http://"+this.sliceSerialize(e)}function dA(e){this.config.exit.autolinkEmail.call(this,e)}function dN(e){this.exit(e)}function dI(e){!function(e,t,n){let r=oM((n||{}).ignore||[]),i=function(e){let t=[];if(!Array.isArray(e))throw TypeError("Expected find and replace tuple or list of tuples");let n=!e[0]||Array.isArray(e[0])?e:[e],r=-1;for(;++r<n.length;){var i;let e=n[r];t.push(["string"==typeof(i=e[0])?RegExp(function(e){if("string"!=typeof e)throw TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}(i),"g"):i,function(e){return"function"==typeof e?e:function(){return e}}(e[1])])}return t}(t),a=-1;for(;++a<i.length;)oF(e,"text",s);function s(e,t){let n,s=-1;for(;++s<t.length;){let e=t[s],i=n?n.children:void 0;if(r(e,i?i.indexOf(e):void 0,n))return;n=e}if(n)return function(e,t){let n=t[t.length-1],r=i[a][0],s=i[a][1],o=0,l=n.children.indexOf(e),c=!1,u=[];r.lastIndex=0;let d=r.exec(e.value);for(;d;){let n=d.index,i={index:d.index,input:d.input,stack:[...t,e]},a=s(...d,i);if("string"==typeof a&&(a=a.length>0?{type:"text",value:a}:void 0),!1===a?r.lastIndex=n+1:(o!==n&&u.push({type:"text",value:e.value.slice(o,n)}),Array.isArray(a)?u.push(...a):a&&u.push(a),o=n+d[0].length,c=!0),!r.global)break;d=r.exec(e.value)}return c?(o<e.value.length&&u.push({type:"text",value:e.value.slice(o)}),n.children.splice(l,1,...u)):u=[e],l+u.length}(e,t)}}(e,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,dD],[RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),dM]],{ignore:["link","linkReference"]})}function dD(e,t,n,r,i){let a="";if(!dO(i)||(/^w/i.test(t)&&(n=t+n,t="",a="http://"),!function(e){let t=e.split(".");return!(t.length<2||t[t.length-1]&&(/_/.test(t[t.length-1])||!/[a-zA-Z\d]/.test(t[t.length-1]))||t[t.length-2]&&(/_/.test(t[t.length-2])||!/[a-zA-Z\d]/.test(t[t.length-2])))}(n)))return!1;let s=function(e){let t=/[!"&'),.:;<>?\]}]+$/.exec(e);if(!t)return[e,void 0];e=e.slice(0,t.index);let n=t[0],r=n.indexOf(")"),i=dx(e,"("),a=dx(e,")");for(;-1!==r&&i>a;)e+=n.slice(0,r+1),r=(n=n.slice(r+1)).indexOf(")"),a++;return[e,n]}(n+r);if(!s[0])return!1;let o={type:"link",title:null,url:a+t+s[0],children:[{type:"text",value:t+s[0]}]};return s[1]?[o,{type:"text",value:s[1]}]:o}function dM(e,t,n,r){return!(!dO(r,!0)||/[-\d_]$/.test(n))&&{type:"link",title:null,url:"mailto:"+t+"@"+n,children:[{type:"text",value:t+"@"+n}]}}function dO(e,t){let n=e.input.charCodeAt(e.index-1);return(0===e.index||sh(n)||sd(n))&&(!t||47!==n)}function dR(){this.buffer()}function dP(e){this.enter({type:"footnoteReference",identifier:"",label:""},e)}function dL(){this.buffer()}function dF(e){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},e)}function dj(e){let t=this.resume(),n=this.stack[this.stack.length-1];iJ("footnoteReference"===n.type),n.identifier=sW(this.sliceSerialize(e)).toLowerCase(),n.label=t}function dB(e){this.exit(e)}function dH(e){let t=this.resume(),n=this.stack[this.stack.length-1];iJ("footnoteDefinition"===n.type),n.identifier=sW(this.sliceSerialize(e)).toLowerCase(),n.label=t}function dU(e){this.exit(e)}function dz(e,t,n,r){let i=n.createTracker(r),a=i.move("[^"),s=n.enter("footnoteReference"),o=n.enter("reference");return a+=i.move(n.safe(n.associationId(e),{after:"]",before:a})),o(),s(),a+=i.move("]")}function dV(e,t,n){return 0===t?e:dG(e,t,n)}function dG(e,t,n){return(n?"":"    ")+e}dz.peek=function(){return"["};let dq=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];function dZ(e){this.enter({type:"delete",children:[]},e)}function d$(e){this.exit(e)}function dW(e,t,n,r){let i=n.createTracker(r),a=n.enter("strikethrough"),s=i.move("~~");return s+=n.containerPhrasing(e,{...i.current(),before:s,after:"~"}),s+=i.move("~~"),a(),s}function dY(e){return e.length}function dK(e){let t="string"==typeof e?e.codePointAt(0):0;return 67===t||99===t?99:76===t||108===t?108:114*(82===t||114===t)}dW.peek=function(){return"~"};function dJ(e,t,n){let r=e.value||"",i="`",a=-1;for(;RegExp("(^|[^`])"+i+"([^`]|$)").test(r);)i+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++a<n.unsafe.length;){let e,t=n.unsafe[a],i=n.compilePattern(t);if(t.atBreak)for(;e=i.exec(r);){let t=e.index;10===r.charCodeAt(t)&&13===r.charCodeAt(t-1)&&t--,r=r.slice(0,t)+" "+r.slice(e.index+1)}}return i+r+i}dJ.peek=function(){return"`"};oM(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);let dQ={inlineCode:dJ,listItem:function(e,t,n,r){let i=function(e){let t=e.options.listItemIndent||"one";if("tab"!==t&&"one"!==t&&"mixed"!==t)throw Error("Cannot serialize items with `"+t+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return t}(n),a=n.bulletCurrent||function(e){let t=e.options.bullet||"*";if("*"!==t&&"+"!==t&&"-"!==t)throw Error("Cannot serialize items with `"+t+"` for `options.bullet`, expected `*`, `+`, or `-`");return t}(n);t&&"list"===t.type&&t.ordered&&(a=("number"==typeof t.start&&t.start>-1?t.start:1)+(!1===n.options.incrementListMarker?0:t.children.indexOf(e))+a);let s=a.length+1;("tab"===i||"mixed"===i&&(t&&"list"===t.type&&t.spread||e.spread))&&(s=4*Math.ceil(s/4));let o=n.createTracker(r);o.move(a+" ".repeat(s-a.length)),o.shift(s);let l=n.enter("listItem"),c=n.indentLines(n.containerFlow(e,o.current()),function(e,t,n){return t?(n?"":" ".repeat(s))+e:(n?a:a+" ".repeat(s-a.length))+e});return l(),c}};function dX(e){let t=e._align;iJ(t,"expected `_align` on table"),this.enter({type:"table",align:t.map(function(e){return"none"===e?null:e}),children:[]},e),this.data.inTable=!0}function d0(e){this.exit(e),this.data.inTable=void 0}function d1(e){this.enter({type:"tableRow",children:[]},e)}function d2(e){this.exit(e)}function d5(e){this.enter({type:"tableCell",children:[]},e)}function d3(e){let t=this.resume();this.data.inTable&&(t=t.replace(/\\([\\|])/g,d4));let n=this.stack[this.stack.length-1];iJ("inlineCode"===n.type),n.value=t,this.exit(e)}function d4(e,t){return"|"===t?t:e}function d6(e){let t=this.stack[this.stack.length-2];iJ("listItem"===t.type),t.checked="taskListCheckValueChecked"===e.type}function d9(e){let t=this.stack[this.stack.length-2];if(t&&"listItem"===t.type&&"boolean"==typeof t.checked){let e=this.stack[this.stack.length-1];iJ("paragraph"===e.type);let n=e.children[0];if(n&&"text"===n.type){let r,i=t.children,a=-1;for(;++a<i.length;){let e=i[a];if("paragraph"===e.type){r=e;break}}r===e&&(n.value=n.value.slice(1),0===n.value.length?e.children.shift():e.position&&n.position&&"number"==typeof n.position.start.offset&&(n.position.start.column++,n.position.start.offset++,e.position.start=Object.assign({},n.position.start)))}}this.exit(e)}function d8(e,t,n,r){let i=e.children[0],a="boolean"==typeof e.checked&&i&&"paragraph"===i.type,s="["+(e.checked?"x":" ")+"] ",o=n.createTracker(r);a&&o.move(s);let l=dQ.listItem(e,t,n,{...r,...o.current()});return a&&(l=l.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,function(e){return e+s})),l}let d7={tokenize:function(e,t,n){let r=0;return function t(a){return(87===a||119===a)&&r<3?(r++,e.consume(a),t):46===a&&3===r?(e.consume(a),i):n(a)};function i(e){return null===e?n(e):t(e)}},partial:!0},he={tokenize:function(e,t,n){let r,i,a;return s;function s(t){return 46===t||95===t?e.check(hn,l,o)(t):null===t||sc(t)||sh(t)||45!==t&&sd(t)?l(t):(a=!0,e.consume(t),s)}function o(t){return 95===t?r=!0:(i=r,r=void 0),e.consume(t),s}function l(e){return i||r||!a?n(e):t(e)}},partial:!0},ht={tokenize:function(e,t){let n=0,r=0;return i;function i(s){return 40===s?(n++,e.consume(s),i):41===s&&r<n?a(s):33===s||34===s||38===s||39===s||41===s||42===s||44===s||46===s||58===s||59===s||60===s||63===s||93===s||95===s||126===s?e.check(hn,t,a)(s):null===s||sc(s)||sh(s)?t(s):(e.consume(s),i)}function a(t){return 41===t&&r++,e.consume(t),i}},partial:!0},hn={tokenize:function(e,t,n){return r;function r(s){return 33===s||34===s||39===s||41===s||42===s||44===s||46===s||58===s||59===s||63===s||95===s||126===s?(e.consume(s),r):38===s?(e.consume(s),a):93===s?(e.consume(s),i):60===s||null===s||sc(s)||sh(s)?t(s):n(s)}function i(e){return null===e||40===e||91===e||sc(e)||sh(e)?t(e):r(e)}function a(t){return st(t)?function t(i){return 59===i?(e.consume(i),r):st(i)?(e.consume(i),t):n(i)}(t):n(t)}},partial:!0},hr={tokenize:function(e,t,n){return function(t){return e.consume(t),r};function r(e){return sn(e)?n(e):t(e)}},partial:!0},hi={name:"wwwAutolink",tokenize:function(e,t,n){let r=this;return function(t){return 87!==t&&119!==t||!hc.call(r,r.previous)||hp(r.events)?n(t):(e.enter("literalAutolink"),e.enter("literalAutolinkWww"),e.check(d7,e.attempt(he,e.attempt(ht,i),n),n)(t))};function i(n){return e.exit("literalAutolinkWww"),e.exit("literalAutolink"),t(n)}},previous:hc},ha={name:"protocolAutolink",tokenize:function(e,t,n){let r=this,i="",a=!1;return function(t){return(72===t||104===t)&&hu.call(r,r.previous)&&!hp(r.events)?(e.enter("literalAutolink"),e.enter("literalAutolinkHttp"),i+=String.fromCodePoint(t),e.consume(t),s):n(t)};function s(t){if(st(t)&&i.length<5)return i+=String.fromCodePoint(t),e.consume(t),s;if(58===t){let n=i.toLowerCase();if("http"===n||"https"===n)return e.consume(t),o}return n(t)}function o(t){return 47===t?(e.consume(t),a)?l:(a=!0,o):n(t)}function l(t){return null===t||si(t)||sc(t)||sh(t)||sd(t)?n(t):e.attempt(he,e.attempt(ht,c),n)(t)}function c(n){return e.exit("literalAutolinkHttp"),e.exit("literalAutolink"),t(n)}},previous:hu},hs={name:"emailAutolink",tokenize:function(e,t,n){let r,i,a=this;return function(t){return!hh(t)||!hd.call(a,a.previous)||hp(a.events)?n(t):(e.enter("literalAutolink"),e.enter("literalAutolinkEmail"),function t(r){return hh(r)?(e.consume(r),t):64===r?(e.consume(r),s):n(r)}(t))};function s(t){return 46===t?e.check(hr,l,o)(t):45===t||95===t||sn(t)?(i=!0,e.consume(t),s):l(t)}function o(t){return e.consume(t),r=!0,s}function l(s){return i&&r&&st(a.previous)?(e.exit("literalAutolinkEmail"),e.exit("literalAutolink"),t(s)):n(s)}},previous:hd},ho={},hl=48;for(;hl<123;)ho[hl]=hs,58==++hl?hl=65:91===hl&&(hl=97);function hc(e){return null===e||40===e||42===e||95===e||91===e||93===e||126===e||sc(e)}function hu(e){return!st(e)}function hd(e){return!(47===e||hh(e))}function hh(e){return 43===e||45===e||46===e||95===e||sn(e)}function hp(e){let t=e.length,n=!1;for(;t--;){let r=e[t][1];if(("labelLink"===r.type||"labelImage"===r.type)&&!r._balanced){n=!0;break}if(r._gfmAutolinkLiteralWalkedInto){n=!1;break}}return e.length>0&&!n&&(e[e.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}ho[43]=hs,ho[45]=hs,ho[46]=hs,ho[95]=hs,ho[72]=[hs,ha],ho[104]=[hs,ha],ho[87]=[hs,hi],ho[119]=[hs,hi];let hf={tokenize:function(e,t,n){let r=this;return sf(e,function(e){let i=r.events[r.events.length-1];return i&&"gfmFootnoteDefinitionIndent"===i[1].type&&4===i[2].sliceSerialize(i[1],!0).length?t(e):n(e)},"gfmFootnoteDefinitionIndent",5)},partial:!0};function hm(e,t,n){let r,i=this,a=i.events.length,s=i.parser.gfmFootnotes||(i.parser.gfmFootnotes=[]);for(;a--;){let e=i.events[a][1];if("labelImage"===e.type){r=e;break}if("gfmFootnoteCall"===e.type||"labelLink"===e.type||"label"===e.type||"image"===e.type||"link"===e.type)break}return function(a){if(!r||!r._balanced)return n(a);let o=sW(i.sliceSerialize({start:r.end,end:i.now()}));return 94===o.codePointAt(0)&&s.includes(o.slice(1))?(e.enter("gfmFootnoteCallLabelMarker"),e.consume(a),e.exit("gfmFootnoteCallLabelMarker"),t(a)):n(a)}}function hg(e,t){let n=e.length;for(;n--;)if("labelImage"===e[n][1].type&&"enter"===e[n][0]){e[n][1];break}e[n+1][1].type="data",e[n+3][1].type="gfmFootnoteCallLabelMarker";let r={type:"gfmFootnoteCall",start:Object.assign({},e[n+3][1].start),end:Object.assign({},e[e.length-1][1].end)},i={type:"gfmFootnoteCallMarker",start:Object.assign({},e[n+3][1].end),end:Object.assign({},e[n+3][1].end)};i.end.column++,i.end.offset++,i.end._bufferIndex++;let a={type:"gfmFootnoteCallString",start:Object.assign({},i.end),end:Object.assign({},e[e.length-1][1].start)},s={type:"chunkString",contentType:"string",start:Object.assign({},a.start),end:Object.assign({},a.end)},o=[e[n+1],e[n+2],["enter",r,t],e[n+3],e[n+4],["enter",i,t],["exit",i,t],["enter",a,t],["enter",s,t],["exit",s,t],["exit",a,t],e[e.length-2],e[e.length-1],["exit",r,t]];return e.splice(n,e.length-n+1,...o),e}function hy(e,t,n){let r,i=this,a=i.parser.gfmFootnotes||(i.parser.gfmFootnotes=[]),s=0;return function(t){return e.enter("gfmFootnoteCall"),e.enter("gfmFootnoteCallLabelMarker"),e.consume(t),e.exit("gfmFootnoteCallLabelMarker"),o};function o(t){return 94!==t?n(t):(e.enter("gfmFootnoteCallMarker"),e.consume(t),e.exit("gfmFootnoteCallMarker"),e.enter("gfmFootnoteCallString"),e.enter("chunkString").contentType="string",l)}function l(o){if(s>999||93===o&&!r||null===o||91===o||sc(o))return n(o);if(93===o){e.exit("chunkString");let r=e.exit("gfmFootnoteCallString");return a.includes(sW(i.sliceSerialize(r)))?(e.enter("gfmFootnoteCallLabelMarker"),e.consume(o),e.exit("gfmFootnoteCallLabelMarker"),e.exit("gfmFootnoteCall"),t):n(o)}return sc(o)||(r=!0),s++,e.consume(o),92===o?c:l}function c(t){return 91===t||92===t||93===t?(e.consume(t),s++,l):l(t)}}function hb(e,t,n){let r,i,a=this,s=a.parser.gfmFootnotes||(a.parser.gfmFootnotes=[]),o=0;return function(t){return e.enter("gfmFootnoteDefinition")._container=!0,e.enter("gfmFootnoteDefinitionLabel"),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(t),e.exit("gfmFootnoteDefinitionLabelMarker"),l};function l(t){return 94===t?(e.enter("gfmFootnoteDefinitionMarker"),e.consume(t),e.exit("gfmFootnoteDefinitionMarker"),e.enter("gfmFootnoteDefinitionLabelString"),e.enter("chunkString").contentType="string",c):n(t)}function c(t){if(o>999||93===t&&!i||null===t||91===t||sc(t))return n(t);if(93===t){e.exit("chunkString");let n=e.exit("gfmFootnoteDefinitionLabelString");return r=sW(a.sliceSerialize(n)),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(t),e.exit("gfmFootnoteDefinitionLabelMarker"),e.exit("gfmFootnoteDefinitionLabel"),d}return sc(t)||(i=!0),o++,e.consume(t),92===t?u:c}function u(t){return 91===t||92===t||93===t?(e.consume(t),o++,c):c(t)}function d(t){return 58===t?(e.enter("definitionMarker"),e.consume(t),e.exit("definitionMarker"),s.includes(r)||s.push(r),sf(e,h,"gfmFootnoteDefinitionWhitespace")):n(t)}function h(e){return t(e)}}function hv(e,t,n){return e.check(sb,t,e.attempt(hf,t,n))}function hk(e){e.exit("gfmFootnoteDefinition")}class hx{add(e,t,n){!function(e,t,n,r){let i=0;if(0!==n||0!==r.length){for(;i<e.map.length;){if(e.map[i][0]===t){e.map[i][1]+=n,e.map[i][2].push(...r);return}i+=1}e.map.push([t,n,r])}}(this,e,t,n)}consume(e){if(this.map.sort(function(e,t){return e[0]-t[0]}),0===this.map.length)return;let t=this.map.length,n=[];for(;t>0;)t-=1,n.push(e.slice(this.map[t][0]+this.map[t][1]),this.map[t][2]),e.length=this.map[t][0];n.push(e.slice()),e.length=0;let r=n.pop();for(;r;){for(let t of r)e.push(t);r=n.pop()}this.map.length=0}constructor(){this.map=[]}}function h_(e,t,n){let r,i=this,a=0,s=0;return function(e){let t=i.events.length-1;for(;t>-1;){let e=i.events[t][1].type;if("lineEnding"===e||"linePrefix"===e)t--;else break}let r=t>-1?i.events[t][1].type:null,a="tableHead"===r||"tableRow"===r?b:o;return a===b&&i.parser.lazy[i.now().line]?n(e):a(e)};function o(t){var n;return e.enter("tableHead"),e.enter("tableRow"),124===(n=t)||(r=!0,s+=1),l(n)}function l(t){return null===t?n(t):sl(t)?s>1?(s=0,i.interrupt=!0,e.exit("tableRow"),e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),d):n(t):su(t)?sf(e,l,"whitespace")(t):(s+=1,r&&(r=!1,a+=1),124===t)?(e.enter("tableCellDivider"),e.consume(t),e.exit("tableCellDivider"),r=!0,l):(e.enter("data"),c(t))}function c(t){return null===t||124===t||sc(t)?(e.exit("data"),l(t)):(e.consume(t),92===t?u:c)}function u(t){return 92===t||124===t?(e.consume(t),c):c(t)}function d(t){return(i.interrupt=!1,i.parser.lazy[i.now().line])?n(t):(e.enter("tableDelimiterRow"),r=!1,su(t))?sf(e,h,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(t):h(t)}function h(t){return 45===t||58===t?f(t):124===t?(r=!0,e.enter("tableCellDivider"),e.consume(t),e.exit("tableCellDivider"),p):n(t)}function p(t){return su(t)?sf(e,f,"whitespace")(t):f(t)}function f(t){return 58===t?(s+=1,r=!0,e.enter("tableDelimiterMarker"),e.consume(t),e.exit("tableDelimiterMarker"),m):45===t?(s+=1,m(t)):null===t||sl(t)?y(t):n(t)}function m(t){return 45===t?(e.enter("tableDelimiterFiller"),function t(n){return 45===n?(e.consume(n),t):58===n?(r=!0,e.exit("tableDelimiterFiller"),e.enter("tableDelimiterMarker"),e.consume(n),e.exit("tableDelimiterMarker"),g):(e.exit("tableDelimiterFiller"),g(n))}(t)):n(t)}function g(t){return su(t)?sf(e,y,"whitespace")(t):y(t)}function y(i){if(124===i)return h(i);if(null===i||sl(i))return r&&a===s?(e.exit("tableDelimiterRow"),e.exit("tableHead"),t(i)):n(i);return n(i)}function b(t){return e.enter("tableRow"),v(t)}function v(n){return 124===n?(e.enter("tableCellDivider"),e.consume(n),e.exit("tableCellDivider"),v):null===n||sl(n)?(e.exit("tableRow"),t(n)):su(n)?sf(e,v,"whitespace")(n):(e.enter("data"),k(n))}function k(t){return null===t||124===t||sc(t)?(e.exit("data"),v(t)):(e.consume(t),92===t?x:k)}function x(t){return 92===t||124===t?(e.consume(t),k):k(t)}}function hE(e,t){let n,r,i,a=-1,s=!0,o=0,l=[0,0,0,0],c=[0,0,0,0],u=!1,d=0,h=new hx;for(;++a<e.length;){let p=e[a],f=p[1];"enter"===p[0]?"tableHead"===f.type?(u=!1,0!==d&&(hS(h,t,d,n,r),r=void 0,d=0),n={type:"table",start:Object.assign({},f.start),end:Object.assign({},f.end)},h.add(a,0,[["enter",n,t]])):"tableRow"===f.type||"tableDelimiterRow"===f.type?(s=!0,i=void 0,l=[0,0,0,0],c=[0,a+1,0,0],u&&(u=!1,r={type:"tableBody",start:Object.assign({},f.start),end:Object.assign({},f.end)},h.add(a,0,[["enter",r,t]])),o="tableDelimiterRow"===f.type?2:r?3:1):o&&("data"===f.type||"tableDelimiterMarker"===f.type||"tableDelimiterFiller"===f.type)?(s=!1,0===c[2]&&(0!==l[1]&&(c[0]=c[1],i=hT(h,t,l,o,void 0,i),l=[0,0,0,0]),c[2]=a)):"tableCellDivider"===f.type&&(s?s=!1:(0!==l[1]&&(c[0]=c[1],i=hT(h,t,l,o,void 0,i)),c=[(l=c)[1],a,0,0])):"tableHead"===f.type?(u=!0,d=a):"tableRow"===f.type||"tableDelimiterRow"===f.type?(d=a,0!==l[1]?(c[0]=c[1],i=hT(h,t,l,o,a,i)):0!==c[1]&&(i=hT(h,t,c,o,a,i)),o=0):o&&("data"===f.type||"tableDelimiterMarker"===f.type||"tableDelimiterFiller"===f.type)&&(c[3]=a)}for(0!==d&&hS(h,t,d,n,r),h.consume(t.events),a=-1;++a<t.events.length;){let e=t.events[a];"enter"===e[0]&&"table"===e[1].type&&(e[1]._align=function(e,t){let n=!1,r=[];for(;t<e.length;){let i=e[t];if(n){if("enter"===i[0])"tableContent"===i[1].type&&r.push("tableDelimiterMarker"===e[t+1][1].type?"left":"none");else if("tableContent"===i[1].type){if("tableDelimiterMarker"===e[t-1][1].type){let e=r.length-1;r[e]="left"===r[e]?"center":"right"}}else if("tableDelimiterRow"===i[1].type)break}else"enter"===i[0]&&"tableDelimiterRow"===i[1].type&&(n=!0);t+=1}return r}(t.events,a))}return e}function hT(e,t,n,r,i,a){0!==n[0]&&(a.end=Object.assign({},hw(t.events,n[0])),e.add(n[0],0,[["exit",a,t]]));let s=hw(t.events,n[1]);if(a={type:1===r?"tableHeader":2===r?"tableDelimiter":"tableData",start:Object.assign({},s),end:Object.assign({},s)},e.add(n[1],0,[["enter",a,t]]),0!==n[2]){let i=hw(t.events,n[2]),a=hw(t.events,n[3]),s={type:"tableContent",start:Object.assign({},i),end:Object.assign({},a)};if(e.add(n[2],0,[["enter",s,t]]),2!==r){let r=t.events[n[2]],i=t.events[n[3]];if(r[1].end=Object.assign({},i[1].end),r[1].type="chunkText",r[1].contentType="text",n[3]>n[2]+1){let t=n[2]+1,r=n[3]-n[2]-1;e.add(t,r,[])}}e.add(n[3]+1,0,[["exit",s,t]])}return void 0!==i&&(a.end=Object.assign({},hw(t.events,i)),e.add(i,0,[["exit",a,t]]),a=void 0),a}function hS(e,t,n,r,i){let a=[],s=hw(t.events,n);i&&(i.end=Object.assign({},s),a.push(["exit",i,t])),r.end=Object.assign({},s),a.push(["exit",r,t]),e.add(n+1,0,a)}function hw(e,t){let n=e[t],r="enter"===n[0]?"start":"end";return n[1][r]}RegExp("^"+/<(\/?)(iframe|noembed|noframes|plaintext|script|style|title|textarea|xmp)(?=[\t\n\f\r />])/gi.source,"i");let hC={name:"tasklistCheck",tokenize:function(e,t,n){let r=this;return function(t){return null===r.previous&&r._gfmTasklistFirstContentOfListItem?(e.enter("taskListCheck"),e.enter("taskListCheckMarker"),e.consume(t),e.exit("taskListCheckMarker"),i):n(t)};function i(t){return sc(t)?(e.enter("taskListCheckValueUnchecked"),e.consume(t),e.exit("taskListCheckValueUnchecked"),a):88===t||120===t?(e.enter("taskListCheckValueChecked"),e.consume(t),e.exit("taskListCheckValueChecked"),a):n(t)}function a(t){return 93===t?(e.enter("taskListCheckMarker"),e.consume(t),e.exit("taskListCheckMarker"),e.exit("taskListCheck"),s):n(t)}function s(r){return sl(r)?t(r):su(r)?e.check({tokenize:hA},t,n)(r):n(r)}}};function hA(e,t,n){return sf(e,function(e){return null===e?n(e):t(e)},"whitespace")}let hN={},hI={tokenize:function(e,t,n){let r=this,i=r.events[r.events.length-1],a=i&&"linePrefix"===i[1].type?i[2].sliceSerialize(i[1],!0).length:0,s=0;return function(t){return e.enter("mathFlow"),e.enter("mathFlowFence"),e.enter("mathFlowFenceSequence"),function t(r){return 36===r?(e.consume(r),s++,t):s<2?n(r):(e.exit("mathFlowFenceSequence"),sf(e,o,"whitespace")(r))}(t)};function o(t){return null===t||sl(t)?l(t):(e.enter("mathFlowFenceMeta"),e.enter("chunkString",{contentType:"string"}),function t(r){return null===r||sl(r)?(e.exit("chunkString"),e.exit("mathFlowFenceMeta"),l(r)):36===r?n(r):(e.consume(r),t)}(t))}function l(n){return(e.exit("mathFlowFence"),r.interrupt)?t(n):e.attempt(hD,c,h)(n)}function c(t){return e.attempt({tokenize:p,partial:!0},h,u)(t)}function u(t){return(a?sf(e,d,"linePrefix",a+1):d)(t)}function d(t){return null===t?h(t):sl(t)?e.attempt(hD,c,h)(t):(e.enter("mathFlowValue"),function t(n){return null===n||sl(n)?(e.exit("mathFlowValue"),d(n)):(e.consume(n),t)}(t))}function h(n){return e.exit("mathFlow"),t(n)}function p(e,t,n){let i=0;return sf(e,function(t){return e.enter("mathFlowFence"),e.enter("mathFlowFenceSequence"),function t(r){return 36===r?(i++,e.consume(r),t):i<s?n(r):(e.exit("mathFlowFenceSequence"),sf(e,a,"whitespace")(r))}(t)},"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4);function a(r){return null===r||sl(r)?(e.exit("mathFlowFence"),t(r)):n(r)}}},concrete:!0,name:"mathFlow"},hD={tokenize:function(e,t,n){let r=this;return function(n){return null===n?t(n):(e.enter("lineEnding"),e.consume(n),e.exit("lineEnding"),i)};function i(e){return r.parser.lazy[r.now().line]?n(e):t(e)}},partial:!0};function hM(e){let t,n,r=e.length-4,i=3;if(("lineEnding"===e[3][1].type||"space"===e[i][1].type)&&("lineEnding"===e[r][1].type||"space"===e[r][1].type)){for(t=i;++t<r;)if("mathTextData"===e[t][1].type){e[r][1].type="mathTextPadding",e[i][1].type="mathTextPadding",i+=2,r-=2;break}}for(t=i-1,r++;++t<=r;)void 0===n?t!==r&&"lineEnding"!==e[t][1].type&&(n=t):(t===r||"lineEnding"===e[t][1].type)&&(e[n][1].type="mathTextData",t!==n+2&&(e[n][1].end=e[t-1][1].end,e.splice(n+2,t-n-2),r-=t-n-2,t=n+2),n=void 0);return e}function hO(e){return 36!==e||"characterEscape"===this.events[this.events.length-1][1].type}let hR={};function hP(e,t){if("string"!=typeof e)return null;try{return new URL(e)}catch(n){if(t)try{return new URL(e,t)}catch(e){}return null}}let hL=new Set(["https:","http:","irc:","ircs:","mailto:","xmpp:"]);function hF(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(!e)return null;if("string"==typeof e&&e.startsWith("#")&&!i)try{if(new URL(e,"http://example.com").hash===e)return e}catch(e){}if("string"==typeof e&&e.startsWith("data:"))return i&&r&&e.startsWith("data:image/")?e:null;let a=hP(e,n);if(!a||!hL.has(a.protocol))return null;if("mailto:"===a.protocol)return a.href;let s="string"==typeof e&&e.startsWith("/");return a&&t.some(e=>{let t=hP(e,n);return!!t&&t.origin===a.origin&&a.href.startsWith(t.href)})?s?a.pathname+a.search+a.hash:a.href:t.includes("*")?"https:"!==a.protocol&&"http:"!==a.protocol?null:s?a.pathname+a.search+a.hash:a.href:null}let hj=Symbol("node-seen"),hB=e=>{let t=e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,n)=>n?n.toUpperCase():t.toLowerCase());return t.charAt(0).toUpperCase()+t.slice(1)},hH=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((e,t,n)=>!!e&&""!==e.trim()&&n.indexOf(e)===t).join(" ").trim()};var hU={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let hz=(0,P.forwardRef)((e,t)=>{let{color:n="currentColor",size:r=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:s="",children:o,iconNode:l,...c}=e;return(0,P.createElement)("svg",{ref:t,...hU,width:r,height:r,stroke:n,strokeWidth:a?24*Number(i)/Number(r):i,className:hH("lucide",s),...!o&&!(e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0})(c)&&{"aria-hidden":"true"},...c},[...l.map(e=>{let[t,n]=e;return(0,P.createElement)(t,n)}),...Array.isArray(o)?o:[o]])}),hV=(e,t)=>{let n=(0,P.forwardRef)((n,r)=>{let{className:i,...a}=n;return(0,P.createElement)(hz,{ref:r,iconNode:t,className:hH("lucide-".concat(hB(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()),"lucide-".concat(e),i),...a})});return n.displayName=hB(e),n},hG=hV("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),hq=hV("copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]),hZ=hV("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]]),h$=[{id:"abap",name:"ABAP",import:()=>e.A(516690)},{id:"actionscript-3",name:"ActionScript",import:()=>e.A(274435)},{id:"ada",name:"Ada",import:()=>e.A(796339)},{id:"angular-html",name:"Angular HTML",import:()=>e.A(196546)},{id:"angular-ts",name:"Angular TypeScript",import:()=>e.A(60308)},{id:"apache",name:"Apache Conf",import:()=>e.A(608734)},{id:"apex",name:"Apex",import:()=>e.A(902952)},{id:"apl",name:"APL",import:()=>e.A(814026)},{id:"applescript",name:"AppleScript",import:()=>e.A(210042)},{id:"ara",name:"Ara",import:()=>e.A(327701)},{id:"asciidoc",name:"AsciiDoc",aliases:["adoc"],import:()=>e.A(864940)},{id:"asm",name:"Assembly",import:()=>e.A(581996)},{id:"astro",name:"Astro",import:()=>e.A(185223)},{id:"awk",name:"AWK",import:()=>e.A(577689)},{id:"ballerina",name:"Ballerina",import:()=>e.A(887861)},{id:"bat",name:"Batch File",aliases:["batch"],import:()=>e.A(769047)},{id:"beancount",name:"Beancount",import:()=>e.A(566005)},{id:"berry",name:"Berry",aliases:["be"],import:()=>e.A(64129)},{id:"bibtex",name:"BibTeX",import:()=>e.A(686785)},{id:"bicep",name:"Bicep",import:()=>e.A(234475)},{id:"blade",name:"Blade",import:()=>e.A(184291)},{id:"bsl",name:"1C (Enterprise)",aliases:["1c"],import:()=>e.A(254810)},{id:"c",name:"C",import:()=>e.A(715630)},{id:"cadence",name:"Cadence",aliases:["cdc"],import:()=>e.A(928418)},{id:"cairo",name:"Cairo",import:()=>e.A(496018)},{id:"clarity",name:"Clarity",import:()=>e.A(268805)},{id:"clojure",name:"Clojure",aliases:["clj"],import:()=>e.A(885670)},{id:"cmake",name:"CMake",import:()=>e.A(850277)},{id:"cobol",name:"COBOL",import:()=>e.A(608435)},{id:"codeowners",name:"CODEOWNERS",import:()=>e.A(677655)},{id:"codeql",name:"CodeQL",aliases:["ql"],import:()=>e.A(393919)},{id:"coffee",name:"CoffeeScript",aliases:["coffeescript"],import:()=>e.A(499510)},{id:"common-lisp",name:"Common Lisp",aliases:["lisp"],import:()=>e.A(314583)},{id:"coq",name:"Coq",import:()=>e.A(138305)},{id:"cpp",name:"C++",aliases:["c++"],import:()=>e.A(162895)},{id:"crystal",name:"Crystal",import:()=>e.A(715822)},{id:"csharp",name:"C#",aliases:["c#","cs"],import:()=>e.A(156548)},{id:"css",name:"CSS",import:()=>e.A(68853)},{id:"csv",name:"CSV",import:()=>e.A(508072)},{id:"cue",name:"CUE",import:()=>e.A(379420)},{id:"cypher",name:"Cypher",aliases:["cql"],import:()=>e.A(901081)},{id:"d",name:"D",import:()=>e.A(732086)},{id:"dart",name:"Dart",import:()=>e.A(8814)},{id:"dax",name:"DAX",import:()=>e.A(706010)},{id:"desktop",name:"Desktop",import:()=>e.A(611671)},{id:"diff",name:"Diff",import:()=>e.A(499264)},{id:"docker",name:"Dockerfile",aliases:["dockerfile"],import:()=>e.A(964927)},{id:"dotenv",name:"dotEnv",import:()=>e.A(86855)},{id:"dream-maker",name:"Dream Maker",import:()=>e.A(955357)},{id:"edge",name:"Edge",import:()=>e.A(40814)},{id:"elixir",name:"Elixir",import:()=>e.A(534593)},{id:"elm",name:"Elm",import:()=>e.A(80402)},{id:"emacs-lisp",name:"Emacs Lisp",aliases:["elisp"],import:()=>e.A(659962)},{id:"erb",name:"ERB",import:()=>e.A(655306)},{id:"erlang",name:"Erlang",aliases:["erl"],import:()=>e.A(379291)},{id:"fennel",name:"Fennel",import:()=>e.A(56334)},{id:"fish",name:"Fish",import:()=>e.A(955953)},{id:"fluent",name:"Fluent",aliases:["ftl"],import:()=>e.A(372286)},{id:"fortran-fixed-form",name:"Fortran (Fixed Form)",aliases:["f","for","f77"],import:()=>e.A(709599)},{id:"fortran-free-form",name:"Fortran (Free Form)",aliases:["f90","f95","f03","f08","f18"],import:()=>e.A(417187)},{id:"fsharp",name:"F#",aliases:["f#","fs"],import:()=>e.A(106583)},{id:"gdresource",name:"GDResource",import:()=>e.A(600350)},{id:"gdscript",name:"GDScript",import:()=>e.A(718592)},{id:"gdshader",name:"GDShader",import:()=>e.A(964292)},{id:"genie",name:"Genie",import:()=>e.A(251227)},{id:"gherkin",name:"Gherkin",import:()=>e.A(781674)},{id:"git-commit",name:"Git Commit Message",import:()=>e.A(765886)},{id:"git-rebase",name:"Git Rebase Message",import:()=>e.A(643635)},{id:"gleam",name:"Gleam",import:()=>e.A(469752)},{id:"glimmer-js",name:"Glimmer JS",aliases:["gjs"],import:()=>e.A(220210)},{id:"glimmer-ts",name:"Glimmer TS",aliases:["gts"],import:()=>e.A(952204)},{id:"glsl",name:"GLSL",import:()=>e.A(615932)},{id:"gnuplot",name:"Gnuplot",import:()=>e.A(334810)},{id:"go",name:"Go",import:()=>e.A(518233)},{id:"graphql",name:"GraphQL",aliases:["gql"],import:()=>e.A(527502)},{id:"groovy",name:"Groovy",import:()=>e.A(783131)},{id:"hack",name:"Hack",import:()=>e.A(866363)},{id:"haml",name:"Ruby Haml",import:()=>e.A(936482)},{id:"handlebars",name:"Handlebars",aliases:["hbs"],import:()=>e.A(219104)},{id:"haskell",name:"Haskell",aliases:["hs"],import:()=>e.A(982274)},{id:"haxe",name:"Haxe",import:()=>e.A(843593)},{id:"hcl",name:"HashiCorp HCL",import:()=>e.A(392582)},{id:"hjson",name:"Hjson",import:()=>e.A(32395)},{id:"hlsl",name:"HLSL",import:()=>e.A(336975)},{id:"html",name:"HTML",import:()=>e.A(615475)},{id:"html-derivative",name:"HTML (Derivative)",import:()=>e.A(736812)},{id:"http",name:"HTTP",import:()=>e.A(722332)},{id:"hurl",name:"Hurl",import:()=>e.A(77996)},{id:"hxml",name:"HXML",import:()=>e.A(412671)},{id:"hy",name:"Hy",import:()=>e.A(98975)},{id:"imba",name:"Imba",import:()=>e.A(221794)},{id:"ini",name:"INI",aliases:["properties"],import:()=>e.A(712237)},{id:"java",name:"Java",import:()=>e.A(25004)},{id:"javascript",name:"JavaScript",aliases:["js","cjs","mjs"],import:()=>e.A(792799)},{id:"jinja",name:"Jinja",import:()=>e.A(300535)},{id:"jison",name:"Jison",import:()=>e.A(299868)},{id:"json",name:"JSON",import:()=>e.A(692658)},{id:"json5",name:"JSON5",import:()=>e.A(145390)},{id:"jsonc",name:"JSON with Comments",import:()=>e.A(459901)},{id:"jsonl",name:"JSON Lines",import:()=>e.A(844018)},{id:"jsonnet",name:"Jsonnet",import:()=>e.A(932597)},{id:"jssm",name:"JSSM",aliases:["fsl"],import:()=>e.A(386493)},{id:"jsx",name:"JSX",import:()=>e.A(287672)},{id:"julia",name:"Julia",aliases:["jl"],import:()=>e.A(148045)},{id:"kdl",name:"KDL",import:()=>e.A(522051)},{id:"kotlin",name:"Kotlin",aliases:["kt","kts"],import:()=>e.A(278014)},{id:"kusto",name:"Kusto",aliases:["kql"],import:()=>e.A(511938)},{id:"latex",name:"LaTeX",import:()=>e.A(382697)},{id:"lean",name:"Lean 4",aliases:["lean4"],import:()=>e.A(106774)},{id:"less",name:"Less",import:()=>e.A(657069)},{id:"liquid",name:"Liquid",import:()=>e.A(133954)},{id:"llvm",name:"LLVM IR",import:()=>e.A(969445)},{id:"log",name:"Log file",import:()=>e.A(532210)},{id:"logo",name:"Logo",import:()=>e.A(917136)},{id:"lua",name:"Lua",import:()=>e.A(147287)},{id:"luau",name:"Luau",import:()=>e.A(298173)},{id:"make",name:"Makefile",aliases:["makefile"],import:()=>e.A(418877)},{id:"markdown",name:"Markdown",aliases:["md"],import:()=>e.A(468242)},{id:"marko",name:"Marko",import:()=>e.A(644609)},{id:"matlab",name:"MATLAB",import:()=>e.A(323845)},{id:"mdc",name:"MDC",import:()=>e.A(367535)},{id:"mdx",name:"MDX",import:()=>e.A(659189)},{id:"mermaid",name:"Mermaid",aliases:["mmd"],import:()=>e.A(457619)},{id:"mipsasm",name:"MIPS Assembly",aliases:["mips"],import:()=>e.A(401626)},{id:"mojo",name:"Mojo",import:()=>e.A(524176)},{id:"move",name:"Move",import:()=>e.A(847969)},{id:"narrat",name:"Narrat Language",aliases:["nar"],import:()=>e.A(755902)},{id:"nextflow",name:"Nextflow",aliases:["nf"],import:()=>e.A(557638)},{id:"nginx",name:"Nginx",import:()=>e.A(47723)},{id:"nim",name:"Nim",import:()=>e.A(446820)},{id:"nix",name:"Nix",import:()=>e.A(565220)},{id:"nushell",name:"nushell",aliases:["nu"],import:()=>e.A(821908)},{id:"objective-c",name:"Objective-C",aliases:["objc"],import:()=>e.A(205624)},{id:"objective-cpp",name:"Objective-C++",import:()=>e.A(953213)},{id:"ocaml",name:"OCaml",import:()=>e.A(357016)},{id:"pascal",name:"Pascal",import:()=>e.A(494584)},{id:"perl",name:"Perl",import:()=>e.A(590087)},{id:"php",name:"PHP",import:()=>e.A(753525)},{id:"pkl",name:"Pkl",import:()=>e.A(506695)},{id:"plsql",name:"PL/SQL",import:()=>e.A(985641)},{id:"po",name:"Gettext PO",aliases:["pot","potx"],import:()=>e.A(215520)},{id:"polar",name:"Polar",import:()=>e.A(579736)},{id:"postcss",name:"PostCSS",import:()=>e.A(344743)},{id:"powerquery",name:"PowerQuery",import:()=>e.A(69901)},{id:"powershell",name:"PowerShell",aliases:["ps","ps1"],import:()=>e.A(849765)},{id:"prisma",name:"Prisma",import:()=>e.A(925840)},{id:"prolog",name:"Prolog",import:()=>e.A(678110)},{id:"proto",name:"Protocol Buffer 3",aliases:["protobuf"],import:()=>e.A(710002)},{id:"pug",name:"Pug",aliases:["jade"],import:()=>e.A(753456)},{id:"puppet",name:"Puppet",import:()=>e.A(328116)},{id:"purescript",name:"PureScript",import:()=>e.A(762792)},{id:"python",name:"Python",aliases:["py"],import:()=>e.A(548436)},{id:"qml",name:"QML",import:()=>e.A(985774)},{id:"qmldir",name:"QML Directory",import:()=>e.A(822682)},{id:"qss",name:"Qt Style Sheets",import:()=>e.A(29273)},{id:"r",name:"R",import:()=>e.A(917431)},{id:"racket",name:"Racket",import:()=>e.A(127184)},{id:"raku",name:"Raku",aliases:["perl6"],import:()=>e.A(402999)},{id:"razor",name:"ASP.NET Razor",import:()=>e.A(22510)},{id:"reg",name:"Windows Registry Script",import:()=>e.A(392914)},{id:"regexp",name:"RegExp",aliases:["regex"],import:()=>e.A(864980)},{id:"rel",name:"Rel",import:()=>e.A(362249)},{id:"riscv",name:"RISC-V",import:()=>e.A(919686)},{id:"rosmsg",name:"ROS Interface",import:()=>e.A(866973)},{id:"rst",name:"reStructuredText",import:()=>e.A(580357)},{id:"ruby",name:"Ruby",aliases:["rb"],import:()=>e.A(660137)},{id:"rust",name:"Rust",aliases:["rs"],import:()=>e.A(225837)},{id:"sas",name:"SAS",import:()=>e.A(559154)},{id:"sass",name:"Sass",import:()=>e.A(428160)},{id:"scala",name:"Scala",import:()=>e.A(679226)},{id:"scheme",name:"Scheme",import:()=>e.A(95554)},{id:"scss",name:"SCSS",import:()=>e.A(256229)},{id:"sdbl",name:"1C (Query)",aliases:["1c-query"],import:()=>e.A(257294)},{id:"shaderlab",name:"ShaderLab",aliases:["shader"],import:()=>e.A(287646)},{id:"shellscript",name:"Shell",aliases:["bash","sh","shell","zsh"],import:()=>e.A(77876)},{id:"shellsession",name:"Shell Session",aliases:["console"],import:()=>e.A(702789)},{id:"smalltalk",name:"Smalltalk",import:()=>e.A(105404)},{id:"solidity",name:"Solidity",import:()=>e.A(664050)},{id:"soy",name:"Closure Templates",aliases:["closure-templates"],import:()=>e.A(423766)},{id:"sparql",name:"SPARQL",import:()=>e.A(471095)},{id:"splunk",name:"Splunk Query Language",aliases:["spl"],import:()=>e.A(713125)},{id:"sql",name:"SQL",import:()=>e.A(347760)},{id:"ssh-config",name:"SSH Config",import:()=>e.A(525380)},{id:"stata",name:"Stata",import:()=>e.A(927772)},{id:"stylus",name:"Stylus",aliases:["styl"],import:()=>e.A(131592)},{id:"svelte",name:"Svelte",import:()=>e.A(209551)},{id:"swift",name:"Swift",import:()=>e.A(174099)},{id:"system-verilog",name:"SystemVerilog",import:()=>e.A(401250)},{id:"systemd",name:"Systemd Units",import:()=>e.A(944475)},{id:"talonscript",name:"TalonScript",aliases:["talon"],import:()=>e.A(600538)},{id:"tasl",name:"Tasl",import:()=>e.A(336651)},{id:"tcl",name:"Tcl",import:()=>e.A(709948)},{id:"templ",name:"Templ",import:()=>e.A(340336)},{id:"terraform",name:"Terraform",aliases:["tf","tfvars"],import:()=>e.A(508436)},{id:"tex",name:"TeX",import:()=>e.A(155636)},{id:"toml",name:"TOML",import:()=>e.A(351979)},{id:"ts-tags",name:"TypeScript with Tags",aliases:["lit"],import:()=>e.A(65678)},{id:"tsv",name:"TSV",import:()=>e.A(841727)},{id:"tsx",name:"TSX",import:()=>e.A(557754)},{id:"turtle",name:"Turtle",import:()=>e.A(670454)},{id:"twig",name:"Twig",import:()=>e.A(670515)},{id:"typescript",name:"TypeScript",aliases:["ts","cts","mts"],import:()=>e.A(48460)},{id:"typespec",name:"TypeSpec",aliases:["tsp"],import:()=>e.A(744538)},{id:"typst",name:"Typst",aliases:["typ"],import:()=>e.A(963321)},{id:"v",name:"V",import:()=>e.A(43837)},{id:"vala",name:"Vala",import:()=>e.A(830536)},{id:"vb",name:"Visual Basic",aliases:["cmd"],import:()=>e.A(785051)},{id:"verilog",name:"Verilog",import:()=>e.A(586017)},{id:"vhdl",name:"VHDL",import:()=>e.A(495694)},{id:"viml",name:"Vim Script",aliases:["vim","vimscript"],import:()=>e.A(404547)},{id:"vue",name:"Vue",import:()=>e.A(934329)},{id:"vue-html",name:"Vue HTML",import:()=>e.A(160550)},{id:"vue-vine",name:"Vue Vine",import:()=>e.A(109)},{id:"vyper",name:"Vyper",aliases:["vy"],import:()=>e.A(834235)},{id:"wasm",name:"WebAssembly",import:()=>e.A(879931)},{id:"wenyan",name:"Wenyan",aliases:[""],import:()=>e.A(738463)},{id:"wgsl",name:"WGSL",import:()=>e.A(464547)},{id:"wikitext",name:"Wikitext",aliases:["mediawiki","wiki"],import:()=>e.A(74196)},{id:"wit",name:"WebAssembly Interface Types",import:()=>e.A(926245)},{id:"wolfram",name:"Wolfram",aliases:["wl"],import:()=>e.A(998654)},{id:"xml",name:"XML",import:()=>e.A(160115)},{id:"xsl",name:"XSL",import:()=>e.A(656841)},{id:"yaml",name:"YAML",aliases:["yml"],import:()=>e.A(291412)},{id:"zenscript",name:"ZenScript",import:()=>e.A(441270)},{id:"zig",name:"Zig",import:()=>e.A(332344)}],hW=Object.fromEntries(h$.map(e=>[e.id,e.import])),hY=Object.fromEntries(h$.flatMap(e=>{var t;return(null==(t=e.aliases)?void 0:t.map(t=>[t,e.import]))||[]})),hK={...hW,...hY};class hJ extends Error{constructor(e){super(e),this.name="ShikiError"}}var hQ=e.i(247167);function hX(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return n.forEach(t=>{for(let n in t)e[n]=t[n]}),e}var h0=/\$(\d+)|\${(\d+):\/(downcase|upcase)}/g,h1=class{static hasCaptures(e){return null!==e&&(h0.lastIndex=0,h0.test(e))}static replaceCaptures(e,t,n){return e.replace(h0,(e,r,i,a)=>{let s=n[parseInt(r||i,10)];if(!s)return e;{let e=t.substring(s.start,s.end);for(;"."===e[0];)e=e.substring(1);switch(a){case"downcase":return e.toLowerCase();case"upcase":return e.toUpperCase();default:return e}}})}};function h2(e,t){if(null===e&&null===t)return 0;if(!e)return -1;if(!t)return 1;let n=e.length,r=t.length;if(n===r){for(let r=0;r<n;r++){var i,a;let n=(i=e[r],i<(a=t[r])?-1:+(i>a));if(0!==n)return n}return 0}return n-r}function h5(e){return!!(/^#[0-9a-f]{6}$/i.test(e)||/^#[0-9a-f]{8}$/i.test(e)||/^#[0-9a-f]{3}$/i.test(e)||/^#[0-9a-f]{4}$/i.test(e))}function h3(e){return e.replace(/[\-\\\{\}\*\+\?\|\^\$\.\,\[\]\(\)\#\s]/g,"\\$&")}var h4=class{get(e){if(this.cache.has(e))return this.cache.get(e);let t=this.fn(e);return this.cache.set(e,t),t}constructor(e){(0,H._)(this,"cache",new Map),this.fn=e}},h6=class{static createFromRawTheme(e,t){return this.createFromParsedTheme(function(e){if(!e||!e.settings||!Array.isArray(e.settings))return[];let t=e.settings,n=[],r=0;for(let e=0,i=t.length;e<i;e++){let i,a=t[e];if(!a.settings)continue;if("string"==typeof a.scope){let e=a.scope;i=(e=(e=e.replace(/^[,]+/,"")).replace(/[,]+$/,"")).split(",")}else i=Array.isArray(a.scope)?a.scope:[""];let s=-1;if("string"==typeof a.settings.fontStyle){s=0;let e=a.settings.fontStyle.split(" ");for(let t=0,n=e.length;t<n;t++)switch(e[t]){case"italic":s|=1;break;case"bold":s|=2;break;case"underline":s|=4;break;case"strikethrough":s|=8}}let o=null;"string"==typeof a.settings.foreground&&h5(a.settings.foreground)&&(o=a.settings.foreground);let l=null;"string"==typeof a.settings.background&&h5(a.settings.background)&&(l=a.settings.background);for(let t=0,a=i.length;t<a;t++){let a=i[t].trim().split(" "),c=a[a.length-1],u=null;a.length>1&&(u=a.slice(0,a.length-1)).reverse(),n[r++]=new h7(c,u,e,s,o,l)}}return n}(e),t)}static createFromParsedTheme(e,t){return function(e,t){e.sort((e,t)=>{var n,r;let i=(n=e.scope,n<(r=t.scope)?-1:+(n>r));return 0!==i||0!==(i=h2(e.parentScopes,t.parentScopes))?i:e.index-t.index});let n=0,r="#000000",i="#ffffff";for(;e.length>=1&&""===e[0].scope;){let t=e.shift();-1!==t.fontStyle&&(n=t.fontStyle),null!==t.foreground&&(r=t.foreground),null!==t.background&&(i=t.background)}let a=new pt(t),s=new h8(n,a.getId(r),a.getId(i)),o=new pi(new pr(0,null,-1,0,0),[]);for(let t=0,n=e.length;t<n;t++){let n=e[t];o.insert(0,n.scope,n.parentScopes,n.fontStyle,a.getId(n.foreground),a.getId(n.background))}return new h6(a,s,o)}(e,t)}getColorMap(){return this._colorMap.getColorMap()}getDefaults(){return this._defaults}match(e){if(null===e)return this._defaults;let t=e.scopeName,n=this._cachedMatchRoot.get(t).find(t=>(function(e,t){if(0===t.length)return!0;for(let i=0;i<t.length;i++){var n,r;let a=t[i],s=!1;if(">"===a){if(i===t.length-1)return!1;a=t[++i],s=!0}for(;e&&(n=e.scopeName,!((r=a)===n||n.startsWith(r)&&"."===n[r.length]));){if(s)return!1;e=e.parent}if(!e)return!1;e=e.parent}return!0})(e.parent,t.parentScopes));return n?new h8(n.fontStyle,n.foreground,n.background):null}constructor(e,t,n){(0,H._)(this,"_cachedMatchRoot",new h4(e=>this._root.match(e))),this._colorMap=e,this._defaults=t,this._root=n}},h9=class e{static push(t,n){for(let r of n)t=new e(t,r);return t}static from(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];let i=null;for(let t=0;t<n.length;t++)i=new e(i,n[t]);return i}push(t){return new e(this,t)}getSegments(){let e=this,t=[];for(;e;)t.push(e.scopeName),e=e.parent;return t.reverse(),t}toString(){return this.getSegments().join(" ")}extends(e){return this===e||null!==this.parent&&this.parent.extends(e)}getExtensionIfDefined(e){let t=[],n=this;for(;n&&n!==e;)t.push(n.scopeName),n=n.parent;return n===e?t.reverse():void 0}constructor(e,t){this.parent=e,this.scopeName=t}},h8=class{constructor(e,t,n){this.fontStyle=e,this.foregroundId=t,this.backgroundId=n}},h7=class{constructor(e,t,n,r,i,a){this.scope=e,this.parentScopes=t,this.index=n,this.fontStyle=r,this.foreground=i,this.background=a}},pe=(e=>(e[e.NotSet=-1]="NotSet",e[e.None=0]="None",e[e.Italic=1]="Italic",e[e.Bold=2]="Bold",e[e.Underline=4]="Underline",e[e.Strikethrough=8]="Strikethrough",e))(pe||{}),pt=class{getId(e){if(null===e)return 0;e=e.toUpperCase();let t=this._color2id[e];if(t)return t;if(this._isFrozen)throw Error("Missing color in color map - ".concat(e));return t=++this._lastColorId,this._color2id[e]=t,this._id2color[t]=e,t}getColorMap(){return this._id2color.slice(0)}constructor(e){if((0,H._)(this,"_isFrozen",void 0),(0,H._)(this,"_lastColorId",void 0),(0,H._)(this,"_id2color",void 0),(0,H._)(this,"_color2id",void 0),this._lastColorId=0,this._id2color=[],this._color2id=Object.create(null),Array.isArray(e)){this._isFrozen=!0;for(let t=0,n=e.length;t<n;t++)this._color2id[e[t]]=t,this._id2color[t]=e[t]}else this._isFrozen=!1}},pn=Object.freeze([]),pr=class e{clone(){return new e(this.scopeDepth,this.parentScopes,this.fontStyle,this.foreground,this.background)}static cloneArr(e){let t=[];for(let n=0,r=e.length;n<r;n++)t[n]=e[n].clone();return t}acceptOverwrite(e,t,n,r){this.scopeDepth>e?console.log("how did this happen?"):this.scopeDepth=e,-1!==t&&(this.fontStyle=t),0!==n&&(this.foreground=n),0!==r&&(this.background=r)}constructor(e,t,n,r,i){(0,H._)(this,"scopeDepth",void 0),(0,H._)(this,"parentScopes",void 0),(0,H._)(this,"fontStyle",void 0),(0,H._)(this,"foreground",void 0),(0,H._)(this,"background",void 0),this.scopeDepth=e,this.parentScopes=t||pn,this.fontStyle=n,this.foreground=r,this.background=i}},pi=class e{static _cmpBySpecificity(e,t){if(e.scopeDepth!==t.scopeDepth)return t.scopeDepth-e.scopeDepth;let n=0,r=0;for(;">"===e.parentScopes[n]&&n++,">"===t.parentScopes[r]&&r++,!(n>=e.parentScopes.length)&&!(r>=t.parentScopes.length);){let i=t.parentScopes[r].length-e.parentScopes[n].length;if(0!==i)return i;n++,r++}return t.parentScopes.length-e.parentScopes.length}match(t){if(""!==t){let e,n,r=t.indexOf(".");if(-1===r?(e=t,n=""):(e=t.substring(0,r),n=t.substring(r+1)),this._children.hasOwnProperty(e))return this._children[e].match(n)}let n=this._rulesWithParentScopes.concat(this._mainRule);return n.sort(e._cmpBySpecificity),n}insert(t,n,r,i,a,s){let o,l,c;if(""===n)return void this._doInsertHere(t,r,i,a,s);let u=n.indexOf(".");-1===u?(o=n,l=""):(o=n.substring(0,u),l=n.substring(u+1)),this._children.hasOwnProperty(o)?c=this._children[o]:(c=new e(this._mainRule.clone(),pr.cloneArr(this._rulesWithParentScopes)),this._children[o]=c),c.insert(t+1,l,r,i,a,s)}_doInsertHere(e,t,n,r,i){if(null===t)return void this._mainRule.acceptOverwrite(e,n,r,i);for(let a=0,s=this._rulesWithParentScopes.length;a<s;a++){let s=this._rulesWithParentScopes[a];if(0===h2(s.parentScopes,t))return void s.acceptOverwrite(e,n,r,i)}-1===n&&(n=this._mainRule.fontStyle),0===r&&(r=this._mainRule.foreground),0===i&&(i=this._mainRule.background),this._rulesWithParentScopes.push(new pr(e,t,n,r,i))}constructor(e,t=[],n={}){(0,H._)(this,"_rulesWithParentScopes",void 0),this._mainRule=e,this._children=n,this._rulesWithParentScopes=t}},pa=class e{static toBinaryStr(e){return e.toString(2).padStart(32,"0")}static print(t){let n=e.getLanguageId(t),r=e.getTokenType(t),i=e.getFontStyle(t);console.log({languageId:n,tokenType:r,fontStyle:i,foreground:e.getForeground(t),background:e.getBackground(t)})}static getLanguageId(e){return(255&e)>>>0}static getTokenType(e){return(768&e)>>>8}static containsBalancedBrackets(e){return(1024&e)!=0}static getFontStyle(e){return(30720&e)>>>11}static getForeground(e){return(0xff8000&e)>>>15}static getBackground(e){return(0xff000000&e)>>>24}static set(t,n,r,i,a,s,o){let l=e.getLanguageId(t),c=e.getTokenType(t),u=+!!e.containsBalancedBrackets(t),d=e.getFontStyle(t),h=e.getForeground(t),p=e.getBackground(t);return 0!==n&&(l=n),8!==r&&(c=r),null!==i&&(u=+!!i),-1!==a&&(d=a),0!==s&&(h=s),0!==o&&(p=o),(0|l|c<<8|u<<10|d<<11|h<<15|p<<24)>>>0}};function ps(e,t){var n;let r,i,a=[],s=(n=e,i=(r=/([LR]:|[\w\.:][\w\.:\-]*|[\,\|\-\(\)])/g).exec(n),{next:()=>{if(!i)return null;let e=i[0];return i=r.exec(n),e}}),o=s.next();for(;null!==o;){let e=0;if(2===o.length&&":"===o.charAt(1)){switch(o.charAt(0)){case"R":e=1;break;case"L":e=-1;break;default:console.log("Unknown priority ".concat(o," in scope selector"))}o=s.next()}let t=c();if(a.push({matcher:t,priority:e}),","!==o)break;o=s.next()}return a;function l(){if("-"===o){o=s.next();let e=l();return t=>!!e&&!e(t)}if("("===o){o=s.next();let e=function(){let e=[],t=c();for(;t&&(e.push(t),"|"===o||","===o);){do o=s.next();while("|"===o||","===o)t=c()}return t=>e.some(e=>e(t))}();return")"===o&&(o=s.next()),e}if(po(o)){let e=[];do e.push(o),o=s.next();while(po(o))return n=>t(e,n)}return null}function c(){let e=[],t=l();for(;t;)e.push(t),t=l();return t=>e.every(e=>e(t))}}function po(e){return!!e&&!!e.match(/[\w\.:]+/)}var pl=(e=>(e[e.None=0]="None",e[e.NotBeginString=1]="NotBeginString",e[e.NotEndString=2]="NotEndString",e[e.NotBeginPosition=4]="NotBeginPosition",e[e.DebugCall=8]="DebugCall",e))(pl||{});function pc(e){"function"==typeof e.dispose&&e.dispose()}var pu=class{toKey(){return this.scopeName}constructor(e){this.scopeName=e}},pd=class{toKey(){return"".concat(this.scopeName,"#").concat(this.ruleName)}constructor(e,t){this.scopeName=e,this.ruleName=t}},ph=class{get references(){return this._references}add(e){let t=e.toKey();this._seenReferenceKeys.has(t)||(this._seenReferenceKeys.add(t),this._references.push(e))}constructor(){(0,H._)(this,"_references",[]),(0,H._)(this,"_seenReferenceKeys",new Set),(0,H._)(this,"visitedRule",new Set)}},pp=class{processQueue(){let e=this.Q;this.Q=[];let t=new ph;for(let n of e)!function(e,t,n,r){let i=n.lookup(e.scopeName);if(!i){if(e.scopeName===t)throw Error("No grammar provided for <".concat(t,">"));return}let a=n.lookup(t);e instanceof pu?pm({baseGrammar:a,selfGrammar:i},r):pf(e.ruleName,{baseGrammar:a,selfGrammar:i,repository:i.repository},r);let s=n.injections(e.scopeName);if(s)for(let e of s)r.add(new pu(e))}(n,this.initialScopeName,this.repo,t);for(let e of t.references)if(e instanceof pu){if(this.seenFullScopeRequests.has(e.scopeName))continue;this.seenFullScopeRequests.add(e.scopeName),this.Q.push(e)}else{if(this.seenFullScopeRequests.has(e.scopeName)||this.seenPartialScopeRequests.has(e.toKey()))continue;this.seenPartialScopeRequests.add(e.toKey()),this.Q.push(e)}}constructor(e,t){(0,H._)(this,"seenFullScopeRequests",new Set),(0,H._)(this,"seenPartialScopeRequests",new Set),(0,H._)(this,"Q",void 0),this.repo=e,this.initialScopeName=t,this.seenFullScopeRequests.add(this.initialScopeName),this.Q=[new pu(this.initialScopeName)]}};function pf(e,t,n){t.repository&&t.repository[e]&&pg([t.repository[e]],t,n)}function pm(e,t){e.selfGrammar.patterns&&Array.isArray(e.selfGrammar.patterns)&&pg(e.selfGrammar.patterns,{...e,repository:e.selfGrammar.repository},t),e.selfGrammar.injections&&pg(Object.values(e.selfGrammar.injections),{...e,repository:e.selfGrammar.repository},t)}function pg(e,t,n){for(let r of e){if(n.visitedRule.has(r))continue;n.visitedRule.add(r);let e=r.repository?hX({},t.repository,r.repository):t.repository;Array.isArray(r.patterns)&&pg(r.patterns,{...t,repository:e},n);let i=r.include;if(!i)continue;let a=p_(i);switch(a.kind){case 0:pm({...t,selfGrammar:t.baseGrammar},n);break;case 1:pm(t,n);break;case 2:pf(a.ruleName,{...t,repository:e},n);break;case 3:case 4:let s=a.scopeName===t.selfGrammar.scopeName?t.selfGrammar:a.scopeName===t.baseGrammar.scopeName?t.baseGrammar:void 0;if(s){let r={baseGrammar:t.baseGrammar,selfGrammar:s,repository:e};4===a.kind?pf(a.ruleName,r,n):pm(r,n)}else 4===a.kind?n.add(new pd(a.scopeName,a.ruleName)):n.add(new pu(a.scopeName))}}}var py=class{constructor(){(0,H._)(this,"kind",0)}},pb=class{constructor(){(0,H._)(this,"kind",1)}},pv=class{constructor(e){(0,H._)(this,"kind",2),this.ruleName=e}},pk=class{constructor(e){(0,H._)(this,"kind",3),this.scopeName=e}},px=class{constructor(e,t){(0,H._)(this,"kind",4),this.scopeName=e,this.ruleName=t}};function p_(e){if("$base"===e)return new py;if("$self"===e)return new pb;let t=e.indexOf("#");return -1===t?new pk(e):0===t?new pv(e.substring(1)):new px(e.substring(0,t),e.substring(t+1))}var pE=/\\(\d+)/,pT=/\\(\d+)/g;Symbol("RuleId");var pS=class{get debugName(){let e=this.$location?"".concat(function e(t){let n=~t.lastIndexOf("/")||~t.lastIndexOf("\\");return 0===n?t:~n==t.length-1?e(t.substring(0,t.length-1)):t.substr(~n+1)}(this.$location.filename),":").concat(this.$location.line):"unknown";return"".concat(this.constructor.name,"#").concat(this.id," @ ").concat(e)}getName(e,t){return this._nameIsCapturing&&null!==this._name&&null!==e&&null!==t?h1.replaceCaptures(this._name,e,t):this._name}getContentName(e,t){return this._contentNameIsCapturing&&null!==this._contentName?h1.replaceCaptures(this._contentName,e,t):this._contentName}constructor(e,t,n,r){(0,H._)(this,"$location",void 0),(0,H._)(this,"id",void 0),(0,H._)(this,"_nameIsCapturing",void 0),(0,H._)(this,"_name",void 0),(0,H._)(this,"_contentNameIsCapturing",void 0),(0,H._)(this,"_contentName",void 0),this.$location=e,this.id=t,this._name=n||null,this._nameIsCapturing=h1.hasCaptures(this._name),this._contentName=r||null,this._contentNameIsCapturing=h1.hasCaptures(this._contentName)}},pw=class extends pS{dispose(){}collectPatterns(e,t){throw Error("Not supported!")}compile(e,t){throw Error("Not supported!")}compileAG(e,t,n,r){throw Error("Not supported!")}constructor(e,t,n,r,i){super(e,t,n,r),(0,H._)(this,"retokenizeCapturedWithRuleId",void 0),this.retokenizeCapturedWithRuleId=i}},pC=class extends pS{dispose(){this._cachedCompiledPatterns&&(this._cachedCompiledPatterns.dispose(),this._cachedCompiledPatterns=null)}get debugMatchRegExp(){return"".concat(this._match.source)}collectPatterns(e,t){t.push(this._match)}compile(e,t){return this._getCachedCompiledPatterns(e).compile(e)}compileAG(e,t,n,r){return this._getCachedCompiledPatterns(e).compileAG(e,n,r)}_getCachedCompiledPatterns(e){return this._cachedCompiledPatterns||(this._cachedCompiledPatterns=new pO,this.collectPatterns(e,this._cachedCompiledPatterns)),this._cachedCompiledPatterns}constructor(e,t,n,r,i){super(e,t,n,null),(0,H._)(this,"_match",void 0),(0,H._)(this,"captures",void 0),(0,H._)(this,"_cachedCompiledPatterns",void 0),this._match=new pM(r,this.id),this.captures=i,this._cachedCompiledPatterns=null}},pA=class extends pS{dispose(){this._cachedCompiledPatterns&&(this._cachedCompiledPatterns.dispose(),this._cachedCompiledPatterns=null)}collectPatterns(e,t){for(let n of this.patterns)e.getRule(n).collectPatterns(e,t)}compile(e,t){return this._getCachedCompiledPatterns(e).compile(e)}compileAG(e,t,n,r){return this._getCachedCompiledPatterns(e).compileAG(e,n,r)}_getCachedCompiledPatterns(e){return this._cachedCompiledPatterns||(this._cachedCompiledPatterns=new pO,this.collectPatterns(e,this._cachedCompiledPatterns)),this._cachedCompiledPatterns}constructor(e,t,n,r,i){super(e,t,n,r),(0,H._)(this,"hasMissingPatterns",void 0),(0,H._)(this,"patterns",void 0),(0,H._)(this,"_cachedCompiledPatterns",void 0),this.patterns=i.patterns,this.hasMissingPatterns=i.hasMissingPatterns,this._cachedCompiledPatterns=null}},pN=class extends pS{dispose(){this._cachedCompiledPatterns&&(this._cachedCompiledPatterns.dispose(),this._cachedCompiledPatterns=null)}get debugBeginRegExp(){return"".concat(this._begin.source)}get debugEndRegExp(){return"".concat(this._end.source)}getEndWithResolvedBackReferences(e,t){return this._end.resolveBackReferences(e,t)}collectPatterns(e,t){t.push(this._begin)}compile(e,t){return this._getCachedCompiledPatterns(e,t).compile(e)}compileAG(e,t,n,r){return this._getCachedCompiledPatterns(e,t).compileAG(e,n,r)}_getCachedCompiledPatterns(e,t){if(!this._cachedCompiledPatterns){for(let t of(this._cachedCompiledPatterns=new pO,this.patterns))e.getRule(t).collectPatterns(e,this._cachedCompiledPatterns);this.applyEndPatternLast?this._cachedCompiledPatterns.push(this._end.hasBackReferences?this._end.clone():this._end):this._cachedCompiledPatterns.unshift(this._end.hasBackReferences?this._end.clone():this._end)}return this._end.hasBackReferences&&(this.applyEndPatternLast?this._cachedCompiledPatterns.setSource(this._cachedCompiledPatterns.length()-1,t):this._cachedCompiledPatterns.setSource(0,t)),this._cachedCompiledPatterns}constructor(e,t,n,r,i,a,s,o,l,c){super(e,t,n,r),(0,H._)(this,"_begin",void 0),(0,H._)(this,"beginCaptures",void 0),(0,H._)(this,"_end",void 0),(0,H._)(this,"endHasBackReferences",void 0),(0,H._)(this,"endCaptures",void 0),(0,H._)(this,"applyEndPatternLast",void 0),(0,H._)(this,"hasMissingPatterns",void 0),(0,H._)(this,"patterns",void 0),(0,H._)(this,"_cachedCompiledPatterns",void 0),this._begin=new pM(i,this.id),this.beginCaptures=a,this._end=new pM(s||"",-1),this.endHasBackReferences=this._end.hasBackReferences,this.endCaptures=o,this.applyEndPatternLast=l||!1,this.patterns=c.patterns,this.hasMissingPatterns=c.hasMissingPatterns,this._cachedCompiledPatterns=null}},pI=class extends pS{dispose(){this._cachedCompiledPatterns&&(this._cachedCompiledPatterns.dispose(),this._cachedCompiledPatterns=null),this._cachedCompiledWhilePatterns&&(this._cachedCompiledWhilePatterns.dispose(),this._cachedCompiledWhilePatterns=null)}get debugBeginRegExp(){return"".concat(this._begin.source)}get debugWhileRegExp(){return"".concat(this._while.source)}getWhileWithResolvedBackReferences(e,t){return this._while.resolveBackReferences(e,t)}collectPatterns(e,t){t.push(this._begin)}compile(e,t){return this._getCachedCompiledPatterns(e).compile(e)}compileAG(e,t,n,r){return this._getCachedCompiledPatterns(e).compileAG(e,n,r)}_getCachedCompiledPatterns(e){if(!this._cachedCompiledPatterns)for(let t of(this._cachedCompiledPatterns=new pO,this.patterns))e.getRule(t).collectPatterns(e,this._cachedCompiledPatterns);return this._cachedCompiledPatterns}compileWhile(e,t){return this._getCachedCompiledWhilePatterns(e,t).compile(e)}compileWhileAG(e,t,n,r){return this._getCachedCompiledWhilePatterns(e,t).compileAG(e,n,r)}_getCachedCompiledWhilePatterns(e,t){return this._cachedCompiledWhilePatterns||(this._cachedCompiledWhilePatterns=new pO,this._cachedCompiledWhilePatterns.push(this._while.hasBackReferences?this._while.clone():this._while)),this._while.hasBackReferences&&this._cachedCompiledWhilePatterns.setSource(0,t||""),this._cachedCompiledWhilePatterns}constructor(e,t,n,r,i,a,s,o,l){super(e,t,n,r),(0,H._)(this,"_begin",void 0),(0,H._)(this,"beginCaptures",void 0),(0,H._)(this,"whileCaptures",void 0),(0,H._)(this,"_while",void 0),(0,H._)(this,"whileHasBackReferences",void 0),(0,H._)(this,"hasMissingPatterns",void 0),(0,H._)(this,"patterns",void 0),(0,H._)(this,"_cachedCompiledPatterns",void 0),(0,H._)(this,"_cachedCompiledWhilePatterns",void 0),this._begin=new pM(i,this.id),this.beginCaptures=a,this.whileCaptures=o,this._while=new pM(s,-2),this.whileHasBackReferences=this._while.hasBackReferences,this.patterns=l.patterns,this.hasMissingPatterns=l.hasMissingPatterns,this._cachedCompiledPatterns=null,this._cachedCompiledWhilePatterns=null}},pD=class e{static createCaptureRule(e,t,n,r,i){return e.registerRule(e=>new pw(t,e,n,r,i))}static getCompiledRuleId(t,n,r){return t.id||n.registerRule(i=>{if(t.id=i,t.match)return new pC(t.$vscodeTextmateLocation,t.id,t.name,t.match,e._compileCaptures(t.captures,n,r));if(void 0===t.begin){t.repository&&(r=hX({},r,t.repository));let i=t.patterns;return void 0===i&&t.include&&(i=[{include:t.include}]),new pA(t.$vscodeTextmateLocation,t.id,t.name,t.contentName,e._compilePatterns(i,n,r))}return t.while?new pI(t.$vscodeTextmateLocation,t.id,t.name,t.contentName,t.begin,e._compileCaptures(t.beginCaptures||t.captures,n,r),t.while,e._compileCaptures(t.whileCaptures||t.captures,n,r),e._compilePatterns(t.patterns,n,r)):new pN(t.$vscodeTextmateLocation,t.id,t.name,t.contentName,t.begin,e._compileCaptures(t.beginCaptures||t.captures,n,r),t.end,e._compileCaptures(t.endCaptures||t.captures,n,r),t.applyEndPatternLast,e._compilePatterns(t.patterns,n,r))}),t.id}static _compileCaptures(t,n,r){let i=[];if(t){let a=0;for(let e in t){if("$vscodeTextmateLocation"===e)continue;let t=parseInt(e,10);t>a&&(a=t)}for(let e=0;e<=a;e++)i[e]=null;for(let a in t){if("$vscodeTextmateLocation"===a)continue;let s=parseInt(a,10),o=0;t[a].patterns&&(o=e.getCompiledRuleId(t[a],n,r)),i[s]=e.createCaptureRule(n,t[a].$vscodeTextmateLocation,t[a].name,t[a].contentName,o)}}return i}static _compilePatterns(t,n,r){let i=[];if(t)for(let a=0,s=t.length;a<s;a++){let s=t[a],o=-1;if(s.include){let t=p_(s.include);switch(t.kind){case 0:case 1:o=e.getCompiledRuleId(r[s.include],n,r);break;case 2:let i=r[t.ruleName];i&&(o=e.getCompiledRuleId(i,n,r));break;case 3:case 4:let a=t.scopeName,l=4===t.kind?t.ruleName:null,c=n.getExternalGrammar(a,r);if(c)if(l){let t=c.repository[l];t&&(o=e.getCompiledRuleId(t,n,c.repository))}else o=e.getCompiledRuleId(c.repository.$self,n,c.repository)}}else o=e.getCompiledRuleId(s,n,r);if(-1!==o){let e=n.getRule(o),t=!1;if((e instanceof pA||e instanceof pN||e instanceof pI)&&e.hasMissingPatterns&&0===e.patterns.length&&(t=!0),t)continue;i.push(o)}}return{patterns:i,hasMissingPatterns:(t?t.length:0)!==i.length}}},pM=class e{clone(){return new e(this.source,this.ruleId)}setSource(e){this.source!==e&&(this.source=e,this.hasAnchor&&(this._anchorCache=this._buildAnchorCache()))}resolveBackReferences(e,t){if("string"!=typeof this.source)throw Error("This method should only be called if the source is a string");let n=t.map(t=>e.substring(t.start,t.end));return pT.lastIndex=0,this.source.replace(pT,(e,t)=>h3(n[parseInt(t,10)]||""))}_buildAnchorCache(){let e,t,n,r;if("string"!=typeof this.source)throw Error("This method should only be called if the source is a string");let i=[],a=[],s=[],o=[];for(e=0,t=this.source.length;e<t;e++)n=this.source.charAt(e),i[e]=n,a[e]=n,s[e]=n,o[e]=n,"\\"===n&&e+1<t&&("A"===(r=this.source.charAt(e+1))?(i[e+1]="",a[e+1]="",s[e+1]="A",o[e+1]="A"):"G"===r?(i[e+1]="",a[e+1]="G",s[e+1]="",o[e+1]="G"):(i[e+1]=r,a[e+1]=r,s[e+1]=r,o[e+1]=r),e++);return{A0_G0:i.join(""),A0_G1:a.join(""),A1_G0:s.join(""),A1_G1:o.join("")}}resolveAnchors(e,t){if(!this.hasAnchor||!this._anchorCache||"string"!=typeof this.source)return this.source;if(e)if(t)return this._anchorCache.A1_G1;else return this._anchorCache.A1_G0;return t?this._anchorCache.A0_G1:this._anchorCache.A0_G0}constructor(e,t){if((0,H._)(this,"source",void 0),(0,H._)(this,"ruleId",void 0),(0,H._)(this,"hasAnchor",void 0),(0,H._)(this,"hasBackReferences",void 0),(0,H._)(this,"_anchorCache",void 0),e&&"string"==typeof e){let t=e.length,n=0,r=[],i=!1;for(let a=0;a<t;a++)if("\\"===e.charAt(a)&&a+1<t){let t=e.charAt(a+1);"z"===t?(r.push(e.substring(n,a)),r.push("$(?!\\n)(?<!\\n)"),n=a+2):("A"===t||"G"===t)&&(i=!0),a++}this.hasAnchor=i,0===n?this.source=e:(r.push(e.substring(n,t)),this.source=r.join(""))}else this.hasAnchor=!1,this.source=e;this.hasAnchor?this._anchorCache=this._buildAnchorCache():this._anchorCache=null,this.ruleId=t,"string"==typeof this.source?this.hasBackReferences=pE.test(this.source):this.hasBackReferences=!1}},pO=class{dispose(){this._disposeCaches()}_disposeCaches(){this._cached&&(this._cached.dispose(),this._cached=null),this._anchorCache.A0_G0&&(this._anchorCache.A0_G0.dispose(),this._anchorCache.A0_G0=null),this._anchorCache.A0_G1&&(this._anchorCache.A0_G1.dispose(),this._anchorCache.A0_G1=null),this._anchorCache.A1_G0&&(this._anchorCache.A1_G0.dispose(),this._anchorCache.A1_G0=null),this._anchorCache.A1_G1&&(this._anchorCache.A1_G1.dispose(),this._anchorCache.A1_G1=null)}push(e){this._items.push(e),this._hasAnchors=this._hasAnchors||e.hasAnchor}unshift(e){this._items.unshift(e),this._hasAnchors=this._hasAnchors||e.hasAnchor}length(){return this._items.length}setSource(e,t){this._items[e].source!==t&&(this._disposeCaches(),this._items[e].setSource(t))}compile(e){if(!this._cached){let t=this._items.map(e=>e.source);this._cached=new pR(e,t,this._items.map(e=>e.ruleId))}return this._cached}compileAG(e,t,n){if(!this._hasAnchors)return this.compile(e);if(t)if(n)return this._anchorCache.A1_G1||(this._anchorCache.A1_G1=this._resolveAnchors(e,t,n)),this._anchorCache.A1_G1;else return this._anchorCache.A1_G0||(this._anchorCache.A1_G0=this._resolveAnchors(e,t,n)),this._anchorCache.A1_G0;return n?(this._anchorCache.A0_G1||(this._anchorCache.A0_G1=this._resolveAnchors(e,t,n)),this._anchorCache.A0_G1):(this._anchorCache.A0_G0||(this._anchorCache.A0_G0=this._resolveAnchors(e,t,n)),this._anchorCache.A0_G0)}_resolveAnchors(e,t,n){return new pR(e,this._items.map(e=>e.resolveAnchors(t,n)),this._items.map(e=>e.ruleId))}constructor(){(0,H._)(this,"_items",void 0),(0,H._)(this,"_hasAnchors",void 0),(0,H._)(this,"_cached",void 0),(0,H._)(this,"_anchorCache",void 0),this._items=[],this._hasAnchors=!1,this._cached=null,this._anchorCache={A0_G0:null,A0_G1:null,A1_G0:null,A1_G1:null}}},pR=class{dispose(){"function"==typeof this.scanner.dispose&&this.scanner.dispose()}toString(){let e=[];for(let t=0,n=this.rules.length;t<n;t++)e.push("   - "+this.rules[t]+": "+this.regExps[t]);return e.join("\n")}findNextMatchSync(e,t,n){let r=this.scanner.findNextMatchSync(e,t,n);return r?{ruleId:this.rules[r.index],captureIndices:r.captureIndices}:null}constructor(e,t,n){(0,H._)(this,"scanner",void 0),this.regExps=t,this.rules=n,this.scanner=e.createOnigScanner(t)}},pP=class{constructor(e,t){this.languageId=e,this.tokenType=t}},pL=(v=class e{getDefaultAttributes(){return this._defaultAttributes}getBasicScopeAttributes(t){return null===t?e._NULL_SCOPE_METADATA:this._getBasicScopeAttributes.get(t)}_scopeToLanguage(e){return this._embeddedLanguagesMatcher.match(e)||0}_toStandardTokenType(t){let n=t.match(e.STANDARD_TOKEN_TYPE_REGEXP);if(!n)return 8;switch(n[1]){case"comment":return 1;case"string":return 2;case"regex":return 3;case"meta.embedded":return 0}throw Error("Unexpected match for standard token type!")}constructor(e,t){(0,H._)(this,"_defaultAttributes",void 0),(0,H._)(this,"_embeddedLanguagesMatcher",void 0),(0,H._)(this,"_getBasicScopeAttributes",new h4(e=>new pP(this._scopeToLanguage(e),this._toStandardTokenType(e)))),this._defaultAttributes=new pP(e,8),this._embeddedLanguagesMatcher=new pF(Object.entries(t||{}))}},(0,H._)(v,"_NULL_SCOPE_METADATA",new pP(0,0)),(0,H._)(v,"STANDARD_TOKEN_TYPE_REGEXP",/\b(comment|string|regex|meta\.embedded)\b/),v),pF=class{match(e){if(!this.scopesRegExp)return;let t=e.match(this.scopesRegExp);if(t)return this.values.get(t[1])}constructor(e){if((0,H._)(this,"values",void 0),(0,H._)(this,"scopesRegExp",void 0),0===e.length)this.values=null,this.scopesRegExp=null;else{this.values=new Map(e);let t=e.map(e=>{let[t,n]=e;return h3(t)});t.sort(),t.reverse(),this.scopesRegExp=RegExp("^((".concat(t.join(")|("),"))($|\\.)"),"")}}};void 0!==hQ.default&&hQ.default.env.VSCODE_TEXTMATE_DEBUG;var pj=class{constructor(e,t){this.stack=e,this.stoppedEarly=t}};function pB(e,t,n,r,i,a,s,o){let l=t.content.length,c=!1,u=-1;if(s){let s=function(e,t,n,r,i,a){let s=i.beginRuleCapturedEOL?0:-1,o=[];for(let t=i;t;t=t.pop()){let n=t.getRule(e);n instanceof pI&&o.push({rule:n,stack:t})}for(let p=o.pop();p;p=o.pop()){var l,c,u,d,h;let{ruleScanner:o,findOptions:f}=(l=p.rule,c=e,u=p.stack.endRule,d=n,h=r===s,{ruleScanner:l.compileWhileAG(c,u,d,h),findOptions:0}),m=o.findNextMatchSync(t,r,f);if(m){if(-2!==m.ruleId){i=p.stack.pop();break}m.captureIndices&&m.captureIndices.length&&(a.produce(p.stack,m.captureIndices[0].start),pU(e,t,n,p.stack,a,p.rule.whileCaptures,m.captureIndices),a.produce(p.stack,m.captureIndices[0].end),s=m.captureIndices[0].end,m.captureIndices[0].end>r&&(r=m.captureIndices[0].end,n=!1))}else{i=p.stack.pop();break}}return{stack:i,linePos:r,anchorPosition:s,isFirstLine:n}}(e,t,n,r,i,a);i=s.stack,r=s.linePos,n=s.isFirstLine,u=s.anchorPosition}let d=Date.now();for(;!c;){if(0!==o&&Date.now()-d>o)return new pj(i,!0);!function(){let s=function(e,t,n,r,i,a){let s=function(e,t,n,r,i,a){let{ruleScanner:s,findOptions:o}=pH(i.getRule(e),e,i.endRule,n,r===a),l=s.findNextMatchSync(t,r,o);return l?{captureIndices:l.captureIndices,matchedRuleId:l.ruleId}:null}(e,t,n,r,i,a),o=e.getInjections();if(0===o.length)return s;let l=function(e,t,n,r,i,a,s){let o,l=Number.MAX_VALUE,c=null,u=0,d=a.contentNameScopesList.getScopeNames();for(let a=0,h=e.length;a<h;a++){let h=e[a];if(!h.matcher(d))continue;let{ruleScanner:p,findOptions:f}=pH(t.getRule(h.ruleId),t,null,r,i===s),m=p.findNextMatchSync(n,i,f);if(!m)continue;let g=m.captureIndices[0].start;if(!(g>=l)&&(l=g,c=m.captureIndices,o=m.ruleId,u=h.priority,l===i))break}return c?{priorityMatch:-1===u,captureIndices:c,matchedRuleId:o}:null}(o,e,t,n,r,i,a);if(!l)return s;if(!s)return l;let c=s.captureIndices[0].start,u=l.captureIndices[0].start;return u<c||l.priorityMatch&&u===c?l:s}(e,t,n,r,i,u);if(!s){a.produce(i,l),c=!0;return}let o=s.captureIndices,d=s.matchedRuleId,h=!!o&&o.length>0&&o[0].end>r;if(-1===d){let s=i.getRule(e);a.produce(i,o[0].start),i=i.withContentNameScopesList(i.nameScopesList),pU(e,t,n,i,a,s.endCaptures,o),a.produce(i,o[0].end);let d=i;if(i=i.parent,u=d.getAnchorPos(),!h&&d.getEnterPos()===r){i=d,a.produce(i,l),c=!0;return}}else{let s=e.getRule(d);a.produce(i,o[0].start);let p=i,f=s.getName(t.content,o),m=i.contentNameScopesList.pushAttributed(f,e);if(i=i.push(d,r,u,o[0].end===l,null,m,m),s instanceof pN){pU(e,t,n,i,a,s.beginCaptures,o),a.produce(i,o[0].end),u=o[0].end;let r=s.getContentName(t.content,o),d=m.pushAttributed(r,e);if(i=i.withContentNameScopesList(d),s.endHasBackReferences&&(i=i.withEndRule(s.getEndWithResolvedBackReferences(t.content,o))),!h&&p.hasSameRuleAs(i)){i=i.pop(),a.produce(i,l),c=!0;return}}else if(s instanceof pI){pU(e,t,n,i,a,s.beginCaptures,o),a.produce(i,o[0].end),u=o[0].end;let r=s.getContentName(t.content,o),d=m.pushAttributed(r,e);if(i=i.withContentNameScopesList(d),s.whileHasBackReferences&&(i=i.withEndRule(s.getWhileWithResolvedBackReferences(t.content,o))),!h&&p.hasSameRuleAs(i)){i=i.pop(),a.produce(i,l),c=!0;return}}else if(pU(e,t,n,i,a,s.captures,o),a.produce(i,o[0].end),i=i.pop(),!h){i=i.safePop(),a.produce(i,l),c=!0;return}}o[0].end>r&&(r=o[0].end,n=!1)}()}return new pj(i,!1)}function pH(e,t,n,r,i){return{ruleScanner:e.compileAG(t,n,r,i),findOptions:0}}function pU(e,t,n,r,i,a,s){if(0===a.length)return;let o=t.content,l=Math.min(a.length,s.length),c=[],u=s[0].end;for(let t=0;t<l;t++){let l=a[t];if(null===l)continue;let d=s[t];if(0===d.length)continue;if(d.start>u)break;for(;c.length>0&&c[c.length-1].endPos<=d.start;)i.produceFromScopes(c[c.length-1].scopes,c[c.length-1].endPos),c.pop();if(c.length>0?i.produceFromScopes(c[c.length-1].scopes,d.start):i.produce(r,d.start),l.retokenizeCapturedWithRuleId){let t=l.getName(o,s),a=r.contentNameScopesList.pushAttributed(t,e),c=l.getContentName(o,s),u=a.pushAttributed(c,e),h=r.push(l.retokenizeCapturedWithRuleId,d.start,-1,!1,null,a,u),p=e.createOnigString(o.substring(0,d.end));pB(e,p,n&&0===d.start,d.start,h,i,!1,0),pc(p);continue}let h=l.getName(o,s);if(null!==h){let t=(c.length>0?c[c.length-1].scopes:r.contentNameScopesList).pushAttributed(h,e);c.push(new pz(t,d.end))}}for(;c.length>0;)i.produceFromScopes(c[c.length-1].scopes,c[c.length-1].endPos),c.pop()}var pz=class{constructor(e,t){(0,H._)(this,"scopes",void 0),(0,H._)(this,"endPos",void 0),this.scopes=e,this.endPos=t}};function pV(e,t,n,r,i){let a=ps(t,pG),s=pD.getCompiledRuleId(n,r,i.repository);for(let n of a)e.push({debugSelector:t,matcher:n.matcher,ruleId:s,grammar:i,priority:n.priority})}function pG(e,t){if(t.length<e.length)return!1;let n=0;return e.every(e=>{for(let r=n;r<t.length;r++)if(function(e,t){if(!e)return!1;if(e===t)return!0;let n=t.length;return e.length>n&&e.substr(0,n)===t&&"."===e[n]}(t[r],e))return n=r+1,!0;return!1})}var pq=class{get themeProvider(){return this._grammarRepository}dispose(){for(let e of this._ruleId2desc)e&&e.dispose()}createOnigScanner(e){return this._onigLib.createOnigScanner(e)}createOnigString(e){return this._onigLib.createOnigString(e)}getMetadataForScope(e){return this._basicScopeAttributesProvider.getBasicScopeAttributes(e)}_collectInjections(){let e=[],t=this._rootScopeName,n=({lookup:e=>e===this._rootScopeName?this._grammar:this.getExternalGrammar(e),injections:e=>this._grammarRepository.injections(e)}).lookup(t);if(n){let r=n.injections;if(r)for(let t in r)pV(e,t,r[t],this,n);let i=this._grammarRepository.injections(t);i&&i.forEach(t=>{let n=this.getExternalGrammar(t);if(n){let t=n.injectionSelector;t&&pV(e,t,n,this,n)}})}return e.sort((e,t)=>e.priority-t.priority),e}getInjections(){return null===this._injections&&(this._injections=this._collectInjections()),this._injections}registerRule(e){let t=++this._lastRuleId,n=e(t);return this._ruleId2desc[t]=n,n}getRule(e){return this._ruleId2desc[e]}getExternalGrammar(e,t){if(this._includedGrammars[e])return this._includedGrammars[e];if(this._grammarRepository){let n=this._grammarRepository.lookup(e);if(n)return this._includedGrammars[e]=pZ(n,t&&t.$base),this._includedGrammars[e]}}tokenizeLine(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=this._tokenize(e,t,!1,n);return{tokens:r.lineTokens.getResult(r.ruleStack,r.lineLength),ruleStack:r.ruleStack,stoppedEarly:r.stoppedEarly}}tokenizeLine2(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=this._tokenize(e,t,!0,n);return{tokens:r.lineTokens.getBinaryResult(r.ruleStack,r.lineLength),ruleStack:r.ruleStack,stoppedEarly:r.stoppedEarly}}_tokenize(e,t,n,r){let i;if(-1===this._rootId&&(this._rootId=pD.getCompiledRuleId(this._grammar.repository.$self,this,this._grammar.repository),this.getInjections()),t&&t!==pW.NULL)i=!1,t.reset();else{let e;i=!0;let n=this._basicScopeAttributesProvider.getDefaultAttributes(),r=this.themeProvider.getDefaults(),a=pa.set(0,n.languageId,n.tokenType,null,r.fontStyle,r.foregroundId,r.backgroundId),s=this.getRule(this._rootId).getName(null,null);e=s?p$.createRootAndLookUpScopeName(s,a,this):p$.createRoot("unknown",a),t=new pW(null,this._rootId,-1,-1,!1,null,e,e)}e+="\n";let a=this.createOnigString(e),s=a.content.length,o=new pK(n,e,this._tokenTypeMatchers,this.balancedBracketSelectors),l=pB(this,a,i,0,t,o,!0,r);return pc(a),{lineLength:s,lineTokens:o,ruleStack:l.stack,stoppedEarly:l.stoppedEarly}}constructor(e,t,n,r,i,a,s,o){if((0,H._)(this,"_rootId",void 0),(0,H._)(this,"_lastRuleId",void 0),(0,H._)(this,"_ruleId2desc",void 0),(0,H._)(this,"_includedGrammars",void 0),(0,H._)(this,"_grammarRepository",void 0),(0,H._)(this,"_grammar",void 0),(0,H._)(this,"_injections",void 0),(0,H._)(this,"_basicScopeAttributesProvider",void 0),(0,H._)(this,"_tokenTypeMatchers",void 0),this._rootScopeName=e,this.balancedBracketSelectors=a,this._onigLib=o,this._basicScopeAttributesProvider=new pL(n,r),this._rootId=-1,this._lastRuleId=0,this._ruleId2desc=[null],this._includedGrammars={},this._grammarRepository=s,this._grammar=pZ(t,null),this._injections=null,this._tokenTypeMatchers=[],i)for(let e of Object.keys(i))for(let t of ps(e,pG))this._tokenTypeMatchers.push({matcher:t.matcher,type:i[e]})}};function pZ(e,t){return(e=function e(t){return Array.isArray(t)?function(t){let n=[];for(let r=0,i=t.length;r<i;r++)n[r]=e(t[r]);return n}(t):t instanceof RegExp?t:"object"==typeof t?function(t){let n={};for(let r in t)n[r]=e(t[r]);return n}(t):t}(e)).repository=e.repository||{},e.repository.$self={$vscodeTextmateLocation:e.$vscodeTextmateLocation,patterns:e.patterns,name:e.scopeName},e.repository.$base=t||e.repository.$self,e}var p$=class e{static fromExtension(t,n){var r;let i=t,a=null!=(r=null==t?void 0:t.scopePath)?r:null;for(let t of n)i=new e(i,a=h9.push(a,t.scopeNames),t.encodedTokenAttributes);return i}static createRoot(t,n){return new e(null,new h9(null,t),n)}static createRootAndLookUpScopeName(t,n,r){let i=r.getMetadataForScope(t),a=new h9(null,t),s=r.themeProvider.themeMatch(a),o=e.mergeAttributes(n,i,s);return new e(null,a,o)}get scopeName(){return this.scopePath.scopeName}toString(){return this.getScopeNames().join(" ")}equals(t){return e.equals(this,t)}static equals(e,t){for(;;){if(e===t||!e&&!t)return!0;if(!e||!t||e.scopeName!==t.scopeName||e.tokenAttributes!==t.tokenAttributes)return!1;e=e.parent,t=t.parent}}static mergeAttributes(e,t,n){let r=-1,i=0,a=0;return null!==n&&(r=n.fontStyle,i=n.foregroundId,a=n.backgroundId),pa.set(e,t.languageId,t.tokenType,null,r,i,a)}pushAttributed(t,n){if(null===t)return this;if(-1===t.indexOf(" "))return e._pushAttributed(this,t,n);let r=t.split(/ /g),i=this;for(let t of r)i=e._pushAttributed(i,t,n);return i}static _pushAttributed(t,n,r){let i=r.getMetadataForScope(n),a=t.scopePath.push(n),s=r.themeProvider.themeMatch(a),o=e.mergeAttributes(t.tokenAttributes,i,s);return new e(t,a,o)}getScopeNames(){return this.scopePath.getSegments()}getExtensionIfDefined(e){let t=[],n=this;for(;n&&n!==e;){var r,i;t.push({encodedTokenAttributes:n.tokenAttributes,scopeNames:n.scopePath.getExtensionIfDefined(null!=(i=null==(r=n.parent)?void 0:r.scopePath)?i:null)}),n=n.parent}return n===e?t.reverse():void 0}constructor(e,t,n){this.parent=e,this.scopePath=t,this.tokenAttributes=n}},pW=(k=class e{equals(t){return null!==t&&e._equals(this,t)}static _equals(e,t){return e===t||!!this._structuralEquals(e,t)&&p$.equals(e.contentNameScopesList,t.contentNameScopesList)}static _structuralEquals(e,t){for(;;){if(e===t||!e&&!t)return!0;if(!e||!t||e.depth!==t.depth||e.ruleId!==t.ruleId||e.endRule!==t.endRule)return!1;e=e.parent,t=t.parent}}clone(){return this}static _reset(e){for(;e;)e._enterPos=-1,e._anchorPos=-1,e=e.parent}reset(){e._reset(this)}pop(){return this.parent}safePop(){return this.parent?this.parent:this}push(t,n,r,i,a,s,o){return new e(this,t,n,r,i,a,s,o)}getEnterPos(){return this._enterPos}getAnchorPos(){return this._anchorPos}getRule(e){return e.getRule(this.ruleId)}toString(){let e=[];return this._writeString(e,0),"["+e.join(",")+"]"}_writeString(e,t){var n,r;return this.parent&&(t=this.parent._writeString(e,t)),e[t++]="(".concat(this.ruleId,", ").concat(null==(n=this.nameScopesList)?void 0:n.toString(),", ").concat(null==(r=this.contentNameScopesList)?void 0:r.toString(),")"),t}withContentNameScopesList(e){return this.contentNameScopesList===e?this:this.parent.push(this.ruleId,this._enterPos,this._anchorPos,this.beginRuleCapturedEOL,this.endRule,this.nameScopesList,e)}withEndRule(t){return this.endRule===t?this:new e(this.parent,this.ruleId,this._enterPos,this._anchorPos,this.beginRuleCapturedEOL,t,this.nameScopesList,this.contentNameScopesList)}hasSameRuleAs(e){let t=this;for(;t&&t._enterPos===e._enterPos;){if(t.ruleId===e.ruleId)return!0;t=t.parent}return!1}toStateStackFrame(){var e,t,n,r,i,a;return{ruleId:this.ruleId,beginRuleCapturedEOL:this.beginRuleCapturedEOL,endRule:this.endRule,nameScopesList:null!=(i=null==(t=this.nameScopesList)?void 0:t.getExtensionIfDefined(null!=(r=null==(e=this.parent)?void 0:e.nameScopesList)?r:null))?i:[],contentNameScopesList:null!=(a=null==(n=this.contentNameScopesList)?void 0:n.getExtensionIfDefined(this.nameScopesList))?a:[]}}static pushFrame(t,n){var r,i,a;let s=p$.fromExtension(null!=(r=null==t?void 0:t.nameScopesList)?r:null,n.nameScopesList);return new e(t,n.ruleId,null!=(i=n.enterPos)?i:-1,null!=(a=n.anchorPos)?a:-1,n.beginRuleCapturedEOL,n.endRule,s,p$.fromExtension(s,n.contentNameScopesList))}constructor(e,t,n,r,i,a,s,o){(0,H._)(this,"_stackElementBrand",void 0),(0,H._)(this,"_enterPos",void 0),(0,H._)(this,"_anchorPos",void 0),(0,H._)(this,"depth",void 0),this.parent=e,this.ruleId=t,this.beginRuleCapturedEOL=i,this.endRule=a,this.nameScopesList=s,this.contentNameScopesList=o,this.depth=this.parent?this.parent.depth+1:1,this._enterPos=n,this._anchorPos=r}},(0,H._)(k,"NULL",new k(null,0,0,0,!1,null,null,null)),k),pY=class{get matchesAlways(){return this.allowAny&&0===this.unbalancedBracketScopes.length}get matchesNever(){return 0===this.balancedBracketScopes.length&&!this.allowAny}match(e){for(let t of this.unbalancedBracketScopes)if(t(e))return!1;for(let t of this.balancedBracketScopes)if(t(e))return!0;return this.allowAny}constructor(e,t){(0,H._)(this,"balancedBracketScopes",void 0),(0,H._)(this,"unbalancedBracketScopes",void 0),(0,H._)(this,"allowAny",!1),this.balancedBracketScopes=e.flatMap(e=>"*"===e?(this.allowAny=!0,[]):ps(e,pG).map(e=>e.matcher)),this.unbalancedBracketScopes=t.flatMap(e=>ps(e,pG).map(e=>e.matcher))}},pK=class{produce(e,t){this.produceFromScopes(e.contentNameScopesList,t)}produceFromScopes(e,t){var n,r,i,a;if(this._lastTokenEndIndex>=t)return;if(this._emitBinaryTokens){let a=null!=(r=null==e?void 0:e.tokenAttributes)?r:0,s=!1;if((null==(n=this.balancedBracketSelectors)?void 0:n.matchesAlways)&&(s=!0),this._tokenTypeOverrides.length>0||this.balancedBracketSelectors&&!this.balancedBracketSelectors.matchesAlways&&!this.balancedBracketSelectors.matchesNever){let t=null!=(i=null==e?void 0:e.getScopeNames())?i:[];for(let e of this._tokenTypeOverrides)e.matcher(t)&&(a=pa.set(a,0,e.type,null,-1,0,0));this.balancedBracketSelectors&&(s=this.balancedBracketSelectors.match(t))}if(s&&(a=pa.set(a,0,8,s,-1,0,0)),this._binaryTokens.length>0&&this._binaryTokens[this._binaryTokens.length-1]===a){this._lastTokenEndIndex=t;return}this._binaryTokens.push(this._lastTokenEndIndex),this._binaryTokens.push(a),this._lastTokenEndIndex=t;return}let s=null!=(a=null==e?void 0:e.getScopeNames())?a:[];this._tokens.push({startIndex:this._lastTokenEndIndex,endIndex:t,scopes:s}),this._lastTokenEndIndex=t}getResult(e,t){return this._tokens.length>0&&this._tokens[this._tokens.length-1].startIndex===t-1&&this._tokens.pop(),0===this._tokens.length&&(this._lastTokenEndIndex=-1,this.produce(e,t),this._tokens[this._tokens.length-1].startIndex=0),this._tokens}getBinaryResult(e,t){this._binaryTokens.length>0&&this._binaryTokens[this._binaryTokens.length-2]===t-1&&(this._binaryTokens.pop(),this._binaryTokens.pop()),0===this._binaryTokens.length&&(this._lastTokenEndIndex=-1,this.produce(e,t),this._binaryTokens[this._binaryTokens.length-2]=0);let n=new Uint32Array(this._binaryTokens.length);for(let e=0,t=this._binaryTokens.length;e<t;e++)n[e]=this._binaryTokens[e];return n}constructor(e,t,n,r){(0,H._)(this,"_emitBinaryTokens",void 0),(0,H._)(this,"_lineText",void 0),(0,H._)(this,"_tokens",void 0),(0,H._)(this,"_binaryTokens",void 0),(0,H._)(this,"_lastTokenEndIndex",void 0),(0,H._)(this,"_tokenTypeOverrides",void 0),this.balancedBracketSelectors=r,this._emitBinaryTokens=e,this._tokenTypeOverrides=n,this._lineText=null,this._tokens=[],this._binaryTokens=[],this._lastTokenEndIndex=0}},pJ=class{dispose(){for(let e of this._grammars.values())e.dispose()}setTheme(e){this._theme=e}getColorMap(){return this._theme.getColorMap()}addGrammar(e,t){this._rawGrammars.set(e.scopeName,e),t&&this._injectionGrammars.set(e.scopeName,t)}lookup(e){return this._rawGrammars.get(e)}injections(e){return this._injectionGrammars.get(e)}getDefaults(){return this._theme.getDefaults()}themeMatch(e){return this._theme.match(e)}grammarForScopeName(e,t,n,r,i){if(!this._grammars.has(e)){let a=this._rawGrammars.get(e);if(!a)return null;this._grammars.set(e,new pq(e,a,t,n,r,i,this,this._onigLib))}return this._grammars.get(e)}constructor(e,t){(0,H._)(this,"_grammars",new Map),(0,H._)(this,"_rawGrammars",new Map),(0,H._)(this,"_injectionGrammars",new Map),(0,H._)(this,"_theme",void 0),this._onigLib=t,this._theme=e}},pQ=class{dispose(){this._syncRegistry.dispose()}setTheme(e,t){this._syncRegistry.setTheme(h6.createFromRawTheme(e,t))}getColorMap(){return this._syncRegistry.getColorMap()}loadGrammarWithEmbeddedLanguages(e,t,n){return this.loadGrammarWithConfiguration(e,t,{embeddedLanguages:n})}loadGrammarWithConfiguration(e,t,n){return this._loadGrammar(e,t,n.embeddedLanguages,n.tokenTypes,new pY(n.balancedBracketSelectors||[],n.unbalancedBracketSelectors||[]))}loadGrammar(e){return this._loadGrammar(e,0,null,null,null)}_loadGrammar(e,t,n,r,i){let a=new pp(this._syncRegistry,e);for(;a.Q.length>0;)a.Q.map(e=>this._loadSingleGrammar(e.scopeName)),a.processQueue();return this._grammarForScopeName(e,t,n,r,i)}_loadSingleGrammar(e){this._ensureGrammarCache.has(e)||(this._doLoadSingleGrammar(e),this._ensureGrammarCache.set(e,!0))}_doLoadSingleGrammar(e){let t=this._options.loadGrammar(e);if(t){let n="function"==typeof this._options.getInjections?this._options.getInjections(e):void 0;this._syncRegistry.addGrammar(t,n)}}addGrammar(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return this._syncRegistry.addGrammar(e,t),this._grammarForScopeName(e.scopeName,n,r)}_grammarForScopeName(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;return this._syncRegistry.grammarForScopeName(e,t,n,r,i)}constructor(e){(0,H._)(this,"_options",void 0),(0,H._)(this,"_syncRegistry",void 0),(0,H._)(this,"_ensureGrammarCache",void 0),this._options=e,this._syncRegistry=new pJ(h6.createFromRawTheme(e.theme,e.colorMap),e.onigLib),this._ensureGrammarCache=new Map}},pX=pW.NULL;let p0=/["&'<>`]/g,p1=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,p2=/[\x01-\t\v\f\x0E-\x1F\x7F\x81\x8D\x8F\x90\x9D\xA0-\uFFFF]/g,p5=/[|\\{}()[\]^$+*?.]/g,p3=new WeakMap,p4=/[\dA-Fa-f]/,p6=/\d/,p9=["AElig","AMP","Aacute","Acirc","Agrave","Aring","Atilde","Auml","COPY","Ccedil","ETH","Eacute","Ecirc","Egrave","Euml","GT","Iacute","Icirc","Igrave","Iuml","LT","Ntilde","Oacute","Ocirc","Ograve","Oslash","Otilde","Ouml","QUOT","REG","THORN","Uacute","Ucirc","Ugrave","Uuml","Yacute","aacute","acirc","acute","aelig","agrave","amp","aring","atilde","auml","brvbar","ccedil","cedil","cent","copy","curren","deg","divide","eacute","ecirc","egrave","eth","euml","frac12","frac14","frac34","gt","iacute","icirc","iexcl","igrave","iquest","iuml","laquo","lt","macr","micro","middot","nbsp","not","ntilde","oacute","ocirc","ograve","ordf","ordm","oslash","otilde","ouml","para","plusmn","pound","quot","raquo","reg","sect","shy","sup1","sup2","sup3","szlig","thorn","times","uacute","ucirc","ugrave","uml","uuml","yacute","yen","yuml"],p8={nbsp:"",iexcl:"",cent:"",pound:"",curren:"",yen:"",brvbar:"",sect:"",uml:"",copy:"",ordf:"",laquo:"",not:"",shy:"",reg:"",macr:"",deg:"",plusmn:"",sup2:"",sup3:"",acute:"",micro:"",para:"",middot:"",cedil:"",sup1:"",ordm:"",raquo:"",frac14:"",frac12:"",frac34:"",iquest:"",Agrave:"",Aacute:"",Acirc:"",Atilde:"",Auml:"",Aring:"",AElig:"",Ccedil:"",Egrave:"",Eacute:"",Ecirc:"",Euml:"",Igrave:"",Iacute:"",Icirc:"",Iuml:"",ETH:"",Ntilde:"",Ograve:"",Oacute:"",Ocirc:"",Otilde:"",Ouml:"",times:"",Oslash:"",Ugrave:"",Uacute:"",Ucirc:"",Uuml:"",Yacute:"",THORN:"",szlig:"",agrave:"",aacute:"",acirc:"",atilde:"",auml:"",aring:"",aelig:"",ccedil:"",egrave:"",eacute:"",ecirc:"",euml:"",igrave:"",iacute:"",icirc:"",iuml:"",eth:"",ntilde:"",ograve:"",oacute:"",ocirc:"",otilde:"",ouml:"",divide:"",oslash:"",ugrave:"",uacute:"",ucirc:"",uuml:"",yacute:"",thorn:"",yuml:"",fnof:"",Alpha:"",Beta:"",Gamma:"",Delta:"",Epsilon:"",Zeta:"",Eta:"",Theta:"",Iota:"",Kappa:"",Lambda:"",Mu:"",Nu:"",Xi:"",Omicron:"",Pi:"",Rho:"",Sigma:"",Tau:"",Upsilon:"",Phi:"",Chi:"",Psi:"",Omega:"",alpha:"",beta:"",gamma:"",delta:"",epsilon:"",zeta:"",eta:"",theta:"",iota:"",kappa:"",lambda:"",mu:"",nu:"",xi:"",omicron:"",pi:"",rho:"",sigmaf:"",sigma:"",tau:"",upsilon:"",phi:"",chi:"",psi:"",omega:"",thetasym:"",upsih:"",piv:"",bull:"",hellip:"",prime:"",Prime:"",oline:"",frasl:"",weierp:"",image:"",real:"",trade:"",alefsym:"",larr:"",uarr:"",rarr:"",darr:"",harr:"",crarr:"",lArr:"",uArr:"",rArr:"",dArr:"",hArr:"",forall:"",part:"",exist:"",empty:"",nabla:"",isin:"",notin:"",ni:"",prod:"",sum:"",minus:"",lowast:"",radic:"",prop:"",infin:"",ang:"",and:"",or:"",cap:"",cup:"",int:"",there4:"",sim:"",cong:"",asymp:"",ne:"",equiv:"",le:"",ge:"",sub:"",sup:"",nsub:"",sube:"",supe:"",oplus:"",otimes:"",perp:"",sdot:"",lceil:"",rceil:"",lfloor:"",rfloor:"",lang:"",rang:"",loz:"",spades:"",clubs:"",hearts:"",diams:"",quot:'"',amp:"&",lt:"<",gt:">",OElig:"",oelig:"",Scaron:"",scaron:"",Yuml:"",circ:"",tilde:"",ensp:"",emsp:"",thinsp:"",zwnj:"",zwj:"",lrm:"",rlm:"",ndash:"",mdash:"",lsquo:"",rsquo:"",sbquo:"",ldquo:"",rdquo:"",bdquo:"",dagger:"",Dagger:"",permil:"",lsaquo:"",rsaquo:"",euro:""},p7=["cent","copy","divide","gt","lt","not","para","times"],fe={}.hasOwnProperty,ft={};for(t in p8)fe.call(p8,t)&&(ft[p8[t]]=t);let fn=/[^\dA-Za-z]/;function fr(e,t,n){let r,i=function(e,t,n){let r="&#x"+e.toString(16).toUpperCase();return n&&t&&!p4.test(String.fromCharCode(t))?r:r+";"}(e,t,n.omitOptionalSemicolons);if((n.useNamedReferences||n.useShortestReferences)&&(r=function(e,t,n,r){let i=String.fromCharCode(e);if(fe.call(ft,i)){let e=ft[i],a="&"+e;return n&&p9.includes(e)&&!p7.includes(e)&&(!r||t&&61!==t&&fn.test(String.fromCharCode(t)))?a:a+";"}return""}(e,t,n.omitOptionalSemicolons,n.attribute)),(n.useShortestReferences||!r)&&n.useShortestReferences){let r=function(e,t,n){let r="&#"+String(e);return n&&t&&!p6.test(String.fromCharCode(t))?r:r+";"}(e,t,n.omitOptionalSemicolons);r.length<i.length&&(i=r)}return r&&(!n.useShortestReferences||r.length<i.length)?r:i}function fi(e,t){let n;var r,i=e,a=Object.assign({format:fr},t);if(i=i.replace(a.subset?(r=a.subset,(n=p3.get(r))||(n=function(e){let t=[],n=-1;for(;++n<e.length;)t.push(e[n].replace(p5,"\\$&"));return RegExp("(?:"+t.join("|")+")","g")}(r),p3.set(r,n)),n):p0,s),a.subset||a.escapeOnly)return i;return i.replace(p1,function(e,t,n){return a.format((e.charCodeAt(0)-55296)*1024+e.charCodeAt(1)-56320+65536,n.charCodeAt(t+2),a)}).replace(p2,s);function s(e,t,n){return a.format(e.charCodeAt(0),n.charCodeAt(t+1),a)}}let fa=/^>|^->|<!--|-->|--!>|<!-$/g,fs=[">"],fo=["<",">"],fl=fd(1),fc=fd(-1),fu=[];function fd(e){return function(t,n,r){let i=t?t.children:fu,a=(n||0)+e,s=i[a];if(!r)for(;s&&i6(s);)a+=e,s=i[a];return s}}let fh={}.hasOwnProperty;function fp(e){return function(t,n,r){return fh.call(e,t.tagName)&&e[t.tagName](t,n,r)}}let ff=fp({body:function(e,t,n){let r=fl(n,t);return!r||"comment"!==r.type},caption:fm,colgroup:fm,dd:function(e,t,n){let r=fl(n,t);return!r||"element"===r.type&&("dt"===r.tagName||"dd"===r.tagName)},dt:function(e,t,n){let r=fl(n,t);return!!(r&&"element"===r.type&&("dt"===r.tagName||"dd"===r.tagName))},head:fm,html:function(e,t,n){let r=fl(n,t);return!r||"comment"!==r.type},li:function(e,t,n){let r=fl(n,t);return!r||"element"===r.type&&"li"===r.tagName},optgroup:function(e,t,n){let r=fl(n,t);return!r||"element"===r.type&&"optgroup"===r.tagName},option:function(e,t,n){let r=fl(n,t);return!r||"element"===r.type&&("option"===r.tagName||"optgroup"===r.tagName)},p:function(e,t,n){let r=fl(n,t);return r?"element"===r.type&&("address"===r.tagName||"article"===r.tagName||"aside"===r.tagName||"blockquote"===r.tagName||"details"===r.tagName||"div"===r.tagName||"dl"===r.tagName||"fieldset"===r.tagName||"figcaption"===r.tagName||"figure"===r.tagName||"footer"===r.tagName||"form"===r.tagName||"h1"===r.tagName||"h2"===r.tagName||"h3"===r.tagName||"h4"===r.tagName||"h5"===r.tagName||"h6"===r.tagName||"header"===r.tagName||"hgroup"===r.tagName||"hr"===r.tagName||"main"===r.tagName||"menu"===r.tagName||"nav"===r.tagName||"ol"===r.tagName||"p"===r.tagName||"pre"===r.tagName||"section"===r.tagName||"table"===r.tagName||"ul"===r.tagName):!n||"element"!==n.type||"a"!==n.tagName&&"audio"!==n.tagName&&"del"!==n.tagName&&"ins"!==n.tagName&&"map"!==n.tagName&&"noscript"!==n.tagName&&"video"!==n.tagName},rp:fg,rt:fg,tbody:function(e,t,n){let r=fl(n,t);return!r||"element"===r.type&&("tbody"===r.tagName||"tfoot"===r.tagName)},td:fy,tfoot:function(e,t,n){return!fl(n,t)},th:fy,thead:function(e,t,n){let r=fl(n,t);return!!(r&&"element"===r.type&&("tbody"===r.tagName||"tfoot"===r.tagName))},tr:function(e,t,n){let r=fl(n,t);return!r||"element"===r.type&&"tr"===r.tagName}});function fm(e,t,n){let r=fl(n,t,!0);return!r||"comment"!==r.type&&!("text"===r.type&&i6(r.value.charAt(0)))}function fg(e,t,n){let r=fl(n,t);return!r||"element"===r.type&&("rp"===r.tagName||"rt"===r.tagName)}function fy(e,t,n){let r=fl(n,t);return!r||"element"===r.type&&("td"===r.tagName||"th"===r.tagName)}let fb=fp({body:function(e){let t=fl(e,-1,!0);return!t||"comment"!==t.type&&!("text"===t.type&&i6(t.value.charAt(0)))&&("element"!==t.type||"meta"!==t.tagName&&"link"!==t.tagName&&"script"!==t.tagName&&"style"!==t.tagName&&"template"!==t.tagName)},colgroup:function(e,t,n){let r=fc(n,t),i=fl(e,-1,!0);return!(n&&r&&"element"===r.type&&"colgroup"===r.tagName&&ff(r,n.children.indexOf(r),n))&&!!(i&&"element"===i.type&&"col"===i.tagName)},head:function(e){let t=new Set;for(let n of e.children)if("element"===n.type&&("base"===n.tagName||"title"===n.tagName)){if(t.has(n.tagName))return!1;t.add(n.tagName)}let n=e.children[0];return!n||"element"===n.type},html:function(e){let t=fl(e,-1);return!t||"comment"!==t.type},tbody:function(e,t,n){let r=fc(n,t),i=fl(e,-1);return!(n&&r&&"element"===r.type&&("thead"===r.tagName||"tbody"===r.tagName)&&ff(r,n.children.indexOf(r),n))&&!!(i&&"element"===i.type&&"tr"===i.tagName)}}),fv={name:[["	\n\f\r &/=>".split(""),"	\n\f\r \"&'/=>`".split("")],["\0	\n\f\r \"&'/<=>".split(""),"\0	\n\f\r \"&'/<=>`".split("")]],unquoted:[["	\n\f\r &>".split(""),"\0	\n\f\r \"&'<=>`".split("")],["\0	\n\f\r \"&'<=>`".split(""),"\0	\n\f\r \"&'<=>`".split("")]],single:[["&'".split(""),"\"&'`".split("")],["\0&'".split(""),"\0\"&'`".split("")]],double:[['"&'.split(""),"\"&'`".split("")],['\0"&'.split(""),"\0\"&'`".split("")]]},fk=["<","&"];function fx(e,t,n,r){return n&&"element"===n.type&&("script"===n.tagName||"style"===n.tagName)?e.value:fi(e.value,Object.assign({},r.settings.characterReferences,{subset:fk}))}let f_=ck("type",{invalid:function(e){throw Error("Expected node, not `"+e+"`")},unknown:function(e){throw Error("Cannot compile unknown node `"+e.type+"`")},handlers:{comment:function(e,t,n,r){return r.settings.bogusComments?"<?"+fi(e.value,Object.assign({},r.settings.characterReferences,{subset:fs}))+">":"<!--"+e.value.replace(fa,function(e){return fi(e,Object.assign({},r.settings.characterReferences,{subset:fo}))})+"-->"},doctype:function(e,t,n,r){return"<!"+(r.settings.upperDoctype?"DOCTYPE":"doctype")+(r.settings.tightDoctype?"":" ")+"html>"},element:function(e,t,n,r){let i,a=r.schema,s="svg"!==a.space&&r.settings.omitOptionalTags,o="svg"===a.space?r.settings.closeEmptyElements:r.settings.voids.includes(e.tagName.toLowerCase()),l=[];"html"===a.space&&"svg"===e.tagName&&(r.schema=aD);let c=function(e,t){let n,r=[],i=-1;if(t){for(n in t)if(null!==t[n]&&void 0!==t[n]){let i=function(e,t,n){let r,i=am(e.schema,t),a=e.settings.allowParseErrors&&"html"===e.schema.space?0:1,s=+!e.settings.allowDangerousCharacters,o=e.quote;if(i.overloadedBoolean&&(n===i.attribute||""===n)?n=!0:(i.boolean||i.overloadedBoolean)&&("string"!=typeof n||n===i.attribute||""===n)&&(n=!!n),null==n||!1===n||"number"==typeof n&&Number.isNaN(n))return"";let l=fi(i.attribute,Object.assign({},e.settings.characterReferences,{subset:fv.name[a][s]}));return!0===n||(n=Array.isArray(n)?(i.commaSeparated?i0:aO)(n,{padLeft:!e.settings.tightCommaSeparatedLists}):String(n),e.settings.collapseEmptyAttributes&&!n)?l:(e.settings.preferUnquoted&&(r=fi(n,Object.assign({},e.settings.characterReferences,{attribute:!0,subset:fv.unquoted[a][s]}))),r!==n&&(e.settings.quoteSmart&&dx(n,o)>dx(n,e.alternative)&&(o=e.alternative),r=o+fi(n,Object.assign({},e.settings.characterReferences,{subset:("'"===o?fv.single:fv.double)[a][s],attribute:!0}))+o),l+(r?"="+r:r))}(e,n,t[n]);i&&r.push(i)}}for(;++i<r.length;){let t=e.settings.tightAttributes?r[i].charAt(r[i].length-1):void 0;i!==r.length-1&&'"'!==t&&"'"!==t&&(r[i]+=" ")}return r.join("")}(r,e.properties),u=r.all("html"===a.space&&"template"===e.tagName?e.content:e);return r.schema=a,u&&(o=!1),!c&&s&&fb(e,t,n)||(l.push("<",e.tagName,c?" "+c:""),o&&("svg"===a.space||r.settings.closeSelfClosing)&&(i=c.charAt(c.length-1),(!r.settings.tightSelfClosing||"/"===i||i&&'"'!==i&&"'"!==i)&&l.push(" "),l.push("/")),l.push(">")),l.push(u),o||s&&ff(e,t,n)||l.push("</"+e.tagName+">"),l.join("")},raw:function(e,t,n,r){return r.settings.allowDangerousHtml?e.value:fx(e,t,n,r)},root:function(e,t,n,r){return r.all(e)},text:fx}}),fE={},fT={},fS=[];function fw(e,t,n){return f_(e,t,n,this)}function fC(e){let t=[],n=e&&e.children||fS,r=-1;for(;++r<n.length;)t[r]=this.one(n[r],r,e);return t.join("")}function fA(e,t){let n="string"==typeof e?{}:{...e.colorReplacements},r="string"==typeof e?e:e.name;for(let[e,i]of Object.entries((null==t?void 0:t.colorReplacements)||{}))"string"==typeof i?n[e]=i:e===r&&Object.assign(n,i);return n}function fN(e,t){return e&&(null==t?void 0:t[null==e?void 0:e.toLowerCase()])||e}async function fI(e){return Promise.resolve("function"==typeof e?e():e).then(e=>e.default||e)}function fD(e){return!e||["plaintext","txt","text","plain"].includes(e)}function fM(e){return"ansi"===e||fD(e)}function fO(e){return"none"===e}function fR(e,t){var n;if(!t)return e;for(let r of(e.properties||(e.properties={}),(n=e.properties).class||(n.class=[]),"string"==typeof e.properties.class&&(e.properties.class=e.properties.class.split(/\s+/g)),Array.isArray(e.properties.class)||(e.properties.class=[]),Array.isArray(t)?t:t.split(/\s+/g)))r&&!e.properties.class.includes(r)&&e.properties.class.push(r);return e}function fP(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.split(/(\r?\n)/g),r=0,i=[];for(let e=0;e<n.length;e+=2){var a;let s=t?n[e]+(n[e+1]||""):n[e];i.push([s,r]),r+=n[e].length,r+=(null==(a=n[e+1])?void 0:a.length)||0}return i}let fL="light-dark()",fF=["color","background-color"];function fj(e){let t={};if(e.color&&(t.color=e.color),e.bgColor&&(t["background-color"]=e.bgColor),e.fontStyle){e.fontStyle&pe.Italic&&(t["font-style"]="italic"),e.fontStyle&pe.Bold&&(t["font-weight"]="bold");let n=[];e.fontStyle&pe.Underline&&n.push("underline"),e.fontStyle&pe.Strikethrough&&n.push("line-through"),n.length&&(t["text-decoration"]=n.join(" "))}return t}function fB(e){return"string"==typeof e?e:Object.entries(e).map(e=>{let[t,n]=e;return"".concat(t,":").concat(n)}).join(";")}let fH=new WeakMap;function fU(e,t){fH.set(e,t)}function fz(e){return fH.get(e)}class fV{get themes(){return Object.keys(this._stacks)}get theme(){return this.themes[0]}get _stack(){return this._stacks[this.theme]}static initial(e,t){return new fV(Object.fromEntries((Array.isArray(t)?t:[t]).map(e=>[e,pX])),e)}getInternalStack(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.theme;return this._stacks[e]}getScopes(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.theme;var t=this._stacks[e];let n=[],r=new Set;return!function e(t){var i;if(r.has(t))return;r.add(t);let a=null==t||null==(i=t.nameScopesList)?void 0:i.scopeName;a&&n.push(a),t.parent&&e(t.parent)}(t),n}toJSON(){return{lang:this.lang,theme:this.theme,themes:this.themes,scopes:this.getScopes()}}constructor(...e){if((0,H._)(this,"_stacks",{}),(0,H._)(this,"lang",void 0),2===e.length){let[t,n]=e;this.lang=n,this._stacks=t}else{let[t,n,r]=e;this.lang=n,this._stacks={[r]:t}}}}let fG=[function(){let e=new WeakMap;function t(t){if(!e.has(t.meta)){let n=function(e){if("number"==typeof e){if(e<0||e>t.source.length)throw new hJ("Invalid decoration offset: ".concat(e,". Code length: ").concat(t.source.length));return{...r.indexToPos(e),offset:e}}{let t=r.lines[e.line];if(void 0===t)throw new hJ("Invalid decoration position ".concat(JSON.stringify(e),". Lines length: ").concat(r.lines.length));let n=e.character;if(n<0&&(n=t.length+n),n<0||n>t.length)throw new hJ("Invalid decoration position ".concat(JSON.stringify(e),". Line ").concat(e.line," length: ").concat(t.length));return{...e,character:n,offset:r.posToIndex(e.line,n)}}},r=function(e){let t=fP(e,!0).map(e=>{let[t]=e;return t});return{lines:t,indexToPos:function(n){if(n===e.length)return{line:t.length-1,character:t[t.length-1].length};let r=n,i=0;for(let e of t){if(r<e.length)break;r-=e.length,i++}return{line:i,character:r}},posToIndex:function(e,n){let r=0;for(let n=0;n<e;n++)r+=t[n].length;return r+n}}}(t.source),i=(t.options.decorations||[]).map(e=>({...e,start:n(e.start),end:n(e.end)}));(function(e){for(let t=0;t<e.length;t++){let n=e[t];if(n.start.offset>n.end.offset)throw new hJ("Invalid decoration range: ".concat(JSON.stringify(n.start)," - ").concat(JSON.stringify(n.end)));for(let r=t+1;r<e.length;r++){let t=e[r],i=n.start.offset<=t.start.offset&&t.start.offset<n.end.offset,a=n.start.offset<t.end.offset&&t.end.offset<=n.end.offset,s=t.start.offset<=n.start.offset&&n.start.offset<t.end.offset,o=t.start.offset<n.end.offset&&n.end.offset<=t.end.offset;if(i||a||s||o){if(i&&a||s&&o||s&&n.start.offset===n.end.offset||a&&t.start.offset===t.end.offset)continue;throw new hJ("Decorations ".concat(JSON.stringify(n.start)," and ").concat(JSON.stringify(t.start)," intersect."))}}}})(i),e.set(t.meta,{decorations:i,converter:r,source:t.source})}return e.get(t.meta)}return{name:"shiki:decorations",tokens(e){var n;if(null==(n=this.options.decorations)?void 0:n.length){var r=e,i=t(this).decorations.flatMap(e=>[e.start.offset,e.end.offset]);let n=Array.from(i instanceof Set?i:new Set(i)).sort((e,t)=>e-t);return n.length?r.map(e=>e.flatMap(e=>{let t=n.filter(t=>e.offset<t&&t<e.offset+e.content.length).map(t=>t-e.offset).sort((e,t)=>e-t);if(!t.length)return e;let r=0,i=[];for(let n of t)n>r&&i.push({...e,content:e.content.slice(r,n),offset:e.offset+r}),r=n;return r<e.content.length&&i.push({...e,content:e.content.slice(r),offset:e.offset+r}),i})):r}},code(e){var n;if(!(null==(n=this.options.decorations)?void 0:n.length))return;let r=t(this),i=Array.from(e.children).filter(e=>"element"===e.type&&"span"===e.tagName);if(i.length!==r.converter.lines.length)throw new hJ("Number of lines in code element (".concat(i.length,") does not match the number of lines in the source (").concat(r.converter.lines.length,"). Failed to apply decorations."));function a(e,t,n,r){let a=i[e],o="",l=-1,c=-1;if(0===t&&(l=0),0===n&&(c=0),n===1/0&&(c=a.children.length),-1===l||-1===c)for(let e=0;e<a.children.length;e++)o+=function e(t){return"text"===t.type?t.value:"element"===t.type?t.children.map(e).join(""):""}(a.children[e]),-1===l&&o.length===t&&(l=e+1),-1===c&&o.length===n&&(c=e+1);if(-1===l)throw new hJ("Failed to find start index for decoration ".concat(JSON.stringify(r.start)));if(-1===c)throw new hJ("Failed to find end index for decoration ".concat(JSON.stringify(r.end)));let u=a.children.slice(l,c);if(r.alwaysWrap||u.length!==a.children.length)if(r.alwaysWrap||1!==u.length||"element"!==u[0].type){let e={type:"element",tagName:"span",properties:{},children:u};s(e,r,"wrapper"),a.children.splice(l,u.length,e)}else s(u[0],r,"token");else s(a,r,"line")}function s(e,t,n){var r;let i=t.properties||{},a=t.transform||(e=>e);return e.tagName=t.tagName||"span",e.properties={...e.properties,...i,class:e.properties.class},(null==(r=t.properties)?void 0:r.class)&&fR(e,t.properties.class),e=a(e,n)||e}let o=[];for(let e of r.decorations.sort((e,t)=>t.start.offset-e.start.offset||e.end.offset-t.end.offset)){let{start:t,end:n}=e;if(t.line===n.line)a(t.line,t.character,n.character,e);else if(t.line<n.line){a(t.line,t.character,1/0,e);for(let r=t.line+1;r<n.line;r++)o.unshift(()=>{var t;i[t=r]=s(i[t],e,"line")});a(n.line,0,n.character,e)}}o.forEach(e=>e())}}}()];function fq(e){let t=function(e){let t=[],n=[],r=[];for(let i of e)switch(i.enforce){case"pre":t.push(i);break;case"post":n.push(i);break;default:r.push(i)}return{pre:t,post:n,normal:r}}(e.transformers||[]);return[...t.pre,...t.normal,...t.post,...fG]}var fZ=["black","red","green","yellow","blue","magenta","cyan","white","brightBlack","brightRed","brightGreen","brightYellow","brightBlue","brightMagenta","brightCyan","brightWhite"],f$={1:"bold",2:"dim",3:"italic",4:"underline",7:"reverse",8:"hidden",9:"strikethrough"};function fW(e){let t=e.shift();if("2"===t){let t=e.splice(0,3).map(e=>Number.parseInt(e));if(3!==t.length||t.some(e=>Number.isNaN(e)))return;return{type:"rgb",rgb:t}}if("5"===t){let t=e.shift();if(t)return{type:"table",index:Number(t)}}}var fY={black:"#000000",red:"#bb0000",green:"#00bb00",yellow:"#bbbb00",blue:"#0000bb",magenta:"#ff00ff",cyan:"#00bbbb",white:"#eeeeee",brightBlack:"#555555",brightRed:"#ff5555",brightGreen:"#00ff00",brightYellow:"#ffff55",brightBlue:"#5555ff",brightMagenta:"#ff55ff",brightCyan:"#55ffff",brightWhite:"#ffffff"};let fK={black:"#000000",red:"#cd3131",green:"#0DBC79",yellow:"#E5E510",blue:"#2472C8",magenta:"#BC3FBC",cyan:"#11A8CD",white:"#E5E5E5",brightBlack:"#666666",brightRed:"#F14C4C",brightGreen:"#23D18B",brightYellow:"#F5F543",brightBlue:"#3B8EEA",brightMagenta:"#D670D6",brightCyan:"#29B8DB",brightWhite:"#FFFFFF"};function fJ(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{lang:r="text",theme:i=e.getLoadedThemes()[0]}=n;if(fD(r)||fO(i))return fP(t).map(e=>[{content:e[0],offset:e[1]}]);let{theme:a,colorMap:s}=e.setTheme(i);if("ansi"===r)return function(e,t,n){let r,i,a,s=fA(e,n),o=fP(t),l=function(){let e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fY;function n(e){return"#".concat(e.map(e=>Math.max(0,Math.min(e,255)).toString(16).padStart(2,"0")).join(""))}return{value:function(r){switch(r.type){case"named":return t[r.name];case"rgb":return n(r.rgb);case"table":var i;return i=r.index,function(){if(e)return e;e=[];for(let n=0;n<fZ.length;n++)e.push(t[fZ[n]]);let r=[0,95,135,175,215,255];for(let t=0;t<6;t++)for(let i=0;i<6;i++)for(let a=0;a<6;a++)e.push(n([r[t],r[i],r[a]]));let i=8;for(let t=0;t<24;t++,i+=10)e.push(n([i,i,i]));return e}()[i]}}}}(Object.fromEntries(fZ.map(t=>{var n;let r="terminal.ansi".concat(t[0].toUpperCase()).concat(t.substring(1));return[t,(null==(n=e.colors)?void 0:n[r])||fK[t]]}))),c=(r=null,i=null,a=new Set,{parse(e){let t=[],n=0;do{let s=function(e,t){let n=e.indexOf("\x1b",t);if(-1!==n&&"["===e[n+1]){let t=e.indexOf("m",n);if(-1!==t)return{sequence:e.substring(n+2,t).split(";"),startPosition:n,position:t+1}}return{position:e.length}}(e,n),o=s.sequence?e.substring(n,s.startPosition):e.substring(n);if(o.length>0&&t.push({value:o,foreground:r,background:i,decorations:new Set(a)}),s.sequence){let e=function(e){let t=[];for(;e.length>0;){let n=e.shift();if(!n)continue;let r=Number.parseInt(n);if(!Number.isNaN(r))if(0===r)t.push({type:"resetAll"});else if(r<=9)f$[r]&&t.push({type:"setDecoration",value:f$[r]});else if(r<=29){let e=f$[r-20];e&&(t.push({type:"resetDecoration",value:e}),"dim"===e&&t.push({type:"resetDecoration",value:"bold"}))}else if(r<=37)t.push({type:"setForegroundColor",value:{type:"named",name:fZ[r-30]}});else if(38===r){let n=fW(e);n&&t.push({type:"setForegroundColor",value:n})}else if(39===r)t.push({type:"resetForegroundColor"});else if(r<=47)t.push({type:"setBackgroundColor",value:{type:"named",name:fZ[r-40]}});else if(48===r){let n=fW(e);n&&t.push({type:"setBackgroundColor",value:n})}else 49===r?t.push({type:"resetBackgroundColor"}):53===r?t.push({type:"setDecoration",value:"overline"}):55===r?t.push({type:"resetDecoration",value:"overline"}):r>=90&&r<=97?t.push({type:"setForegroundColor",value:{type:"named",name:fZ[r-90+8]}}):r>=100&&r<=107&&t.push({type:"setBackgroundColor",value:{type:"named",name:fZ[r-100+8]}})}return t}(s.sequence);for(let t of e)"resetAll"===t.type?(r=null,i=null,a.clear()):"resetForegroundColor"===t.type?r=null:"resetBackgroundColor"===t.type?i=null:"resetDecoration"===t.type&&a.delete(t.value);for(let t of e)"setForegroundColor"===t.type?r=t.value:"setBackgroundColor"===t.type?i=t.value:"setDecoration"===t.type&&a.add(t.value)}n=s.position}while(n<e.length)return t}});return o.map(t=>c.parse(t[0]).map(n=>{let r,i;n.decorations.has("reverse")?(r=n.background?l.value(n.background):e.bg,i=n.foreground?l.value(n.foreground):e.fg):(r=n.foreground?l.value(n.foreground):e.fg,i=n.background?l.value(n.background):void 0),r=fN(r,s),i=fN(i,s),n.decorations.has("dim")&&(r=function(e){let t=e.match(/#([0-9a-f]{3})([0-9a-f]{3})?([0-9a-f]{2})?/i);if(t)if(t[3]){let e=Math.round(Number.parseInt(t[3],16)/2).toString(16).padStart(2,"0");return"#".concat(t[1]).concat(t[2]).concat(e)}else if(t[2])return"#".concat(t[1]).concat(t[2],"80");else return"#".concat(Array.from(t[1]).map(e=>"".concat(e).concat(e)).join(""),"80");let n=e.match(/var\((--[\w-]+-ansi-[\w-]+)\)/);return n?"var(".concat(n[1],"-dim)"):e}(r));let a=pe.None;return n.decorations.has("bold")&&(a|=pe.Bold),n.decorations.has("italic")&&(a|=pe.Italic),n.decorations.has("underline")&&(a|=pe.Underline),n.decorations.has("strikethrough")&&(a|=pe.Strikethrough),{content:n.value,offset:t[1],color:r,bgColor:i,fontStyle:a}}))}(a,t,n);let o=e.getLanguage(r);if(n.grammarState){if(n.grammarState.lang!==o.name)throw new hJ('Grammar state language "'.concat(n.grammarState.lang,'" does not match highlight language "').concat(o.name,'"'));if(!n.grammarState.themes.includes(a.name))throw new hJ('Grammar state themes "'.concat(n.grammarState.themes,'" do not contain highlight theme "').concat(a.name,'"'))}var l=t,c=o,u=a,d=s,h=n;let p=fQ(l,c,u,d,h),f=new fV(fQ(l,c,u,d,h).stateStack,c.name,u.name);return fU(p.tokens,f),p.tokens}function fQ(e,t,n,r,i){var a;let s=fA(n,i),{tokenizeMaxLineLength:o=0,tokenizeTimeLimit:l=500}=i,c=fP(e),u=i.grammarState?null!=(a=function(e,t){if(!(e instanceof fV))throw new hJ("Invalid grammar state");return e.getInternalStack(t)}(i.grammarState,n.name))?a:pX:null!=i.grammarContextCode?fQ(i.grammarContextCode,t,n,r,{...i,grammarState:void 0,grammarContextCode:void 0}).stateStack:pX,d=[],h=[];for(let e=0,a=c.length;e<a;e++){let a,p,[f,m]=c[e];if(""===f){d=[],h.push([]);continue}if(o>0&&f.length>=o){d=[],h.push([{content:f,offset:m,color:"",fontStyle:0}]);continue}i.includeExplanation&&(a=t.tokenizeLine(f,u,l).tokens,p=0);let g=t.tokenizeLine2(f,u,l),y=g.tokens.length/2;for(let e=0;e<y;e++){let t=g.tokens[2*e],o=e+1<y?g.tokens[2*e+2]:f.length;if(t===o)continue;let l=g.tokens[2*e+1],c=fN(r[pa.getForeground(l)],s),u=pa.getFontStyle(l),h={content:f.substring(t,o),offset:m+t,color:c,fontStyle:u};if(i.includeExplanation){let e=[];if("scopeName"!==i.includeExplanation)for(let t of n.settings){let n;switch(typeof t.scope){case"string":n=t.scope.split(/,/).map(e=>e.trim());break;case"object":n=t.scope;break;default:continue}e.push({settings:t,selectors:n.map(e=>e.split(/ /))})}h.explanation=[];let r=0;for(;t+r<o;){let t=a[p],n=f.substring(t.startIndex,t.endIndex);r+=n.length,h.explanation.push({content:n,scopes:"scopeName"===i.includeExplanation?t.scopes.map(e=>({scopeName:e})):function(e,t){let n=[];for(let r=0,i=t.length;r<i;r++){let i=t[r];n[r]={scopeName:i,themeMatches:function(e,t,n){let r=[];for(let{selectors:i,settings:a}of e)for(let e of i)if(function(e,t,n){if(!fX(e[e.length-1],t))return!1;let r=e.length-2,i=n.length-1;for(;r>=0&&i>=0;)fX(e[r],n[i])&&(r-=1),i-=1;return -1===r}(e,t,n)){r.push(a);break}return r}(e,i,t.slice(0,r))}}return n}(e,t.scopes)}),p+=1}}d.push(h)}h.push(d),d=[],u=g.ruleStack}return{tokens:h,stateStack:u}}function fX(e,t){return e===t||t.substring(0,e.length)===e&&"."===t[e.length]}function f0(e,t,n){let r=Object.entries(n.themes).filter(e=>e[1]).map(e=>({color:e[0],theme:e[1]})),i=r.map(r=>{let i=fJ(e,t,{...n,theme:r.theme}),a=fz(i);return{tokens:i,state:a,theme:"string"==typeof r.theme?r.theme:r.theme.name}}),a=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];let r=t.map(()=>[]),i=t.length;for(let e=0;e<t[0].length;e++){let n=t.map(t=>t[e]),a=r.map(()=>[]);r.forEach((e,t)=>e.push(a[t]));let s=n.map(()=>0),o=n.map(e=>e[0]);for(;o.every(e=>e);){let e=Math.min(...o.map(e=>e.content.length));for(let t=0;t<i;t++){let r=o[t];r.content.length===e?(a[t].push(r),s[t]+=1,o[t]=n[t][s[t]]):(a[t].push({...r,content:r.content.slice(0,e)}),o[t]={...r,content:r.content.slice(e),offset:r.offset+e})}}}return r}(...i.map(e=>e.tokens)),s=a[0].map((e,t)=>e.map((e,i)=>{let s={content:e.content,variants:{},offset:e.offset};return"includeExplanation"in n&&n.includeExplanation&&(s.explanation=e.explanation),a.forEach((e,n)=>{let{content:a,explanation:o,offset:l,...c}=e[t][i];s.variants[r[n].color]=c}),s})),o=i[0].state?new fV(Object.fromEntries(i.map(e=>{var t;return[e.theme,null==(t=e.state)?void 0:t.getInternalStack(e.theme)]})),i[0].state.lang):void 0;return o&&fU(s,o),s}function f1(e,t,n){let r,i,a,s,o,l;if("themes"in n){let{defaultColor:c="light",cssVariablePrefix:u="--shiki-",colorsRendering:d="css-vars"}=n,h=Object.entries(n.themes).filter(e=>e[1]).map(e=>({color:e[0],theme:e[1]})).sort((e,t)=>e.color===c?-1:+(t.color===c));if(0===h.length)throw new hJ("`themes` option must not be empty");let p=f0(e,t,n);if(l=fz(p),c&&fL!==c&&!h.find(e=>e.color===c))throw new hJ("`themes` option must contain the defaultColor key `".concat(c,"`"));let f=h.map(t=>e.getTheme(t.theme)),m=h.map(e=>e.color);a=p.map(e=>e.map(e=>(function(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"css-vars",a={content:e.content,explanation:e.explanation,offset:e.offset},s=t.map(t=>fj(e.variants[t])),o=new Set(s.flatMap(e=>Object.keys(e))),l={},c=(e,r)=>n+t[e]+("color"===r||"color"===r?"":"background-color"===r?"-bg":"-".concat(r));return s.forEach((e,n)=>{for(let a of o){let o=e[a]||"inherit";if(0===n&&r&&fF.includes(a))if(r===fL&&s.length>1){let e=t.findIndex(e=>"light"===e),r=t.findIndex(e=>"dark"===e);if(-1===e||-1===r)throw new hJ('When using `defaultColor: "light-dark()"`, you must provide both `light` and `dark` themes');let u=s[e][a]||"inherit",d=s[r][a]||"inherit";l[a]="light-dark(".concat(u,", ").concat(d,")"),"css-vars"===i&&(l[c(n,a)]=o)}else l[a]=o;else"css-vars"===i&&(l[c(n,a)]=o)}}),a.htmlStyle=l,a})(e,m,u,c,d))),l&&fU(a,l);let g=h.map(e=>fA(e.theme,n));i=f2(h,f,g,u,c,"fg",d),r=f2(h,f,g,u,c,"bg",d),s="shiki-themes ".concat(f.map(e=>e.name).join(" ")),o=c?void 0:[i,r].join(";")}else if("theme"in n){let o=fA(n.theme,n);a=fJ(e,t,n);let c=e.getTheme(n.theme);r=fN(c.bg,o),i=fN(c.fg,o),s=c.name,l=fz(a)}else throw new hJ("Invalid options, either `theme` or `themes` must be provided");return{tokens:a,fg:i,bg:r,themeName:s,rootStyle:o,grammarState:l}}function f2(e,t,n,r,i,a,s){return e.map((o,l)=>{let c=fN(t[l][a],n[l])||"inherit",u="".concat(r+o.color).concat("bg"===a?"-bg":"",":").concat(c);if(0===l&&i){if(i===fL&&e.length>1){let r=e.findIndex(e=>"light"===e.color),i=e.findIndex(e=>"dark"===e.color);if(-1===r||-1===i)throw new hJ('When using `defaultColor: "light-dark()"`, you must provide both `light` and `dark` themes');let s=fN(t[r][a],n[r])||"inherit",o=fN(t[i][a],n[i])||"inherit";return"light-dark(".concat(s,", ").concat(o,");").concat(u)}return c}return"css-vars"===s?u:null}).filter(e=>!!e).join(";")}function f5(e,t,n){var r,i;let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{meta:{},options:n,codeToHast:(t,n)=>f5(e,t,n),codeToTokens:(t,n)=>f1(e,t,n)},s=t;for(let e of fq(n))s=(null==(r=e.preprocess)?void 0:r.call(a,s,n))||s;let{tokens:o,fg:l,bg:c,themeName:u,rootStyle:d,grammarState:h}=f1(e,s,n),{mergeWhitespaces:p=!0,mergeSameStyleTokens:f=!1}=n;!0===p?o=o.map(e=>{let t=[],n="",r=0;return e.forEach((i,a)=>{let s=!(i.fontStyle&&(i.fontStyle&pe.Underline||i.fontStyle&pe.Strikethrough));s&&i.content.match(/^\s+$/)&&e[a+1]?(r||(r=i.offset),n+=i.content):n?(s?t.push({...i,offset:r,content:n+i.content}):t.push({content:n,offset:r},i),r=0,n=""):t.push(i)}),t}):"never"===p&&(o=o.map(e=>e.flatMap(e=>{if(e.content.match(/^\s+$/))return e;let t=e.content.match(/^(\s*)(.*?)(\s*)$/);if(!t)return e;let[,n,r,i]=t;if(!n&&!i)return e;let a=[{...e,offset:e.offset+n.length,content:r}];return n&&a.unshift({content:n,offset:e.offset}),i&&a.push({content:i,offset:e.offset+n.length+r.length}),a}))),f&&(o=o.map(e=>{let t=[];for(let n of e){if(0===t.length){t.push({...n});continue}let e=t[t.length-1],r=fB(e.htmlStyle||fj(e)),i=fB(n.htmlStyle||fj(n)),a=e.fontStyle&&(e.fontStyle&pe.Underline||e.fontStyle&pe.Strikethrough),s=n.fontStyle&&(n.fontStyle&pe.Underline||n.fontStyle&pe.Strikethrough);a||s||r!==i?t.push({...n}):e.content+=n.content}return t}));let m={...a,get source(){return s}};for(let e of fq(n))o=(null==(i=e.tokens)?void 0:i.call(m,o))||o;return function(e,t,n){var r,i,a;let s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:fz(e),o=fq(t),l=[],c={type:"root",children:[]},{structure:u="classic",tabindex:d="0"}=t,h={type:"element",tagName:"pre",properties:{class:"shiki ".concat(t.themeName||""),style:t.rootStyle||"background-color:".concat(t.bg,";color:").concat(t.fg),...!1!==d&&null!=d?{tabindex:d.toString()}:{},...Object.fromEntries(Array.from(Object.entries(t.meta||{})).filter(e=>{let[t]=e;return!t.startsWith("_")}))},children:[]},p={type:"element",tagName:"code",properties:{},children:l},f=[],m={...n,structure:u,addClassToHast:fR,get source(){return n.source},get tokens(){return e},get options(){return t},get root(){return c},get pre(){return h},get code(){return p},get lines(){return f}};if(e.forEach((e,t)=>{var n,r;t&&("inline"===u?c.children.push({type:"element",tagName:"br",properties:{},children:[]}):"classic"===u&&l.push({type:"text",value:"\n"}));let i={type:"element",tagName:"span",properties:{class:"line"},children:[]},a=0;for(let r of e){let e={type:"element",tagName:"span",properties:{...r.htmlAttrs},children:[{type:"text",value:r.content}]},s=fB(r.htmlStyle||fj(r));for(let l of(s&&(e.properties.style=s),o))e=(null==l||null==(n=l.span)?void 0:n.call(m,e,t+1,a,i,r))||e;"inline"===u?c.children.push(e):"classic"===u&&i.children.push(e),a+=r.content.length}if("classic"===u){for(let e of o)i=(null==e||null==(r=e.line)?void 0:r.call(m,i,t+1))||i;f.push(i),l.push(i)}}),"classic"===u){for(let e of o)p=(null==e||null==(i=e.code)?void 0:i.call(m,p))||p;for(let e of(h.children.push(p),o))h=(null==e||null==(a=e.pre)?void 0:a.call(m,h))||h;c.children.push(h)}let g=c;for(let e of o)g=(null==e||null==(r=e.root)?void 0:r.call(m,g))||g;return s&&fU(g,s),g}(o,{...n,fg:l,bg:c,themeName:u,rootStyle:d},m,h)}let f3=function(e,t){let n=t||fE,r=n.quote||'"';if('"'!==r&&"'"!==r)throw Error("Invalid quote `"+r+"`, expected `'` or `\"`");return({one:fw,all:fC,settings:{omitOptionalTags:n.omitOptionalTags||!1,allowParseErrors:n.allowParseErrors||!1,allowDangerousCharacters:n.allowDangerousCharacters||!1,quoteSmart:n.quoteSmart||!1,preferUnquoted:n.preferUnquoted||!1,tightAttributes:n.tightAttributes||!1,upperDoctype:n.upperDoctype||!1,tightDoctype:n.tightDoctype||!1,bogusComments:n.bogusComments||!1,tightCommaSeparatedLists:n.tightCommaSeparatedLists||!1,tightSelfClosing:n.tightSelfClosing||!1,collapseEmptyAttributes:n.collapseEmptyAttributes||!1,allowDangerousHtml:n.allowDangerousHtml||!1,voids:n.voids||cS,characterReferences:n.characterReferences||fT,closeSelfClosing:n.closeSelfClosing||!1,closeEmptyElements:n.closeEmptyElements||!1},schema:"svg"===n.space?aD:aI,quote:r,alternative:'"'===r?"'":'"'}).one(Array.isArray(e)?{type:"root",children:e}:e,void 0,void 0)},f4={light:"#333333",dark:"#bbbbbb"},f6={light:"#fffffe",dark:"#1e1e1e"},f9="__shiki_resolved";function f8(e){var t,n,r,i,a;if(null==e?void 0:e[f9])return e;let s={...e};s.tokenColors&&!s.settings&&(s.settings=s.tokenColors,delete s.tokenColors),s.type||(s.type="dark"),s.colorReplacements={...s.colorReplacements},s.settings||(s.settings=[]);let{bg:o,fg:l}=s;if(!o||!l){let e=s.settings?s.settings.find(e=>!e.name&&!e.scope):void 0;(null==e||null==(t=e.settings)?void 0:t.foreground)&&(l=e.settings.foreground),(null==e||null==(n=e.settings)?void 0:n.background)&&(o=e.settings.background),!l&&(null==s||null==(r=s.colors)?void 0:r["editor.foreground"])&&(l=s.colors["editor.foreground"]),!o&&(null==s||null==(i=s.colors)?void 0:i["editor.background"])&&(o=s.colors["editor.background"]),l||(l="light"===s.type?f4.light:f4.dark),o||(o="light"===s.type?f6.light:f6.dark),s.fg=l,s.bg=o}s.settings[0]&&s.settings[0].settings&&!s.settings[0].scope||s.settings.unshift({settings:{foreground:s.fg,background:s.bg}});let c=0,u=new Map;function d(e){var t;if(u.has(e))return u.get(e);c+=1;let n="#".concat(c.toString(16).padStart(8,"0").toLowerCase());return(null==(t=s.colorReplacements)?void 0:t["#".concat(n)])?d(e):(u.set(e,n),n)}for(let e of(s.settings=s.settings.map(e=>{var t,n;let r=(null==(t=e.settings)?void 0:t.foreground)&&!e.settings.foreground.startsWith("#"),i=(null==(n=e.settings)?void 0:n.background)&&!e.settings.background.startsWith("#");if(!r&&!i)return e;let a={...e,settings:{...e.settings}};if(r){let t=d(e.settings.foreground);s.colorReplacements[t]=e.settings.foreground,a.settings.foreground=t}if(i){let t=d(e.settings.background);s.colorReplacements[t]=e.settings.background,a.settings.background=t}return a}),Object.keys(s.colors||{})))if(("editor.foreground"===e||"editor.background"===e||e.startsWith("terminal.ansi"))&&!(null==(a=s.colors[e])?void 0:a.startsWith("#"))){let t=d(s.colors[e]);s.colorReplacements[t]=s.colors[e],s.colors[e]=t}return Object.defineProperty(s,f9,{enumerable:!1,writable:!1,value:!0}),s}async function f7(e){return Array.from(new Set((await Promise.all(e.filter(e=>!fM(e)).map(async e=>await fI(e).then(e=>Array.isArray(e)?e:[e])))).flat()))}async function me(e){return(await Promise.all(e.map(async e=>fO(e)?null:f8(await fI(e))))).filter(e=>!!e)}class mt extends Error{constructor(e){super(e),this.name="ShikiError"}}class mn extends pQ{getTheme(e){return"string"==typeof e?this._resolvedThemes.get(e):this.loadTheme(e)}loadTheme(e){let t=f8(e);return t.name&&(this._resolvedThemes.set(t.name,t),this._loadedThemesCache=null),t}getLoadedThemes(){return this._loadedThemesCache||(this._loadedThemesCache=[...this._resolvedThemes.keys()]),this._loadedThemesCache}setTheme(e){let t=this._textmateThemeCache.get(e);t||(t=h6.createFromRawTheme(e),this._textmateThemeCache.set(e,t)),this._syncRegistry.setTheme(t)}getGrammar(e){if(this._alias[e]){let t=new Set([e]);for(;this._alias[e];){if(e=this._alias[e],t.has(e))throw new mt("Circular alias `".concat(Array.from(t).join(" -> ")," -> ").concat(e,"`"));t.add(e)}}return this._resolvedGrammars.get(e)}loadLanguage(e){if(this.getGrammar(e.name))return;let t=new Set([...this._langMap.values()].filter(t=>{var n;return null==(n=t.embeddedLangsLazy)?void 0:n.includes(e.name)}));this._resolver.addLanguage(e);let n={balancedBracketSelectors:e.balancedBracketSelectors||["*"],unbalancedBracketSelectors:e.unbalancedBracketSelectors||[]};this._syncRegistry._rawGrammars.set(e.scopeName,e);let r=this.loadGrammarWithConfiguration(e.scopeName,1,n);if(r.name=e.name,this._resolvedGrammars.set(e.name,r),e.aliases&&e.aliases.forEach(t=>{this._alias[t]=e.name}),this._loadedLanguagesCache=null,t.size)for(let e of t){var i,a,s,o;this._resolvedGrammars.delete(e.name),this._loadedLanguagesCache=null,null==(a=this._syncRegistry)||null==(i=a._injectionGrammars)||i.delete(e.scopeName),null==(o=this._syncRegistry)||null==(s=o._grammars)||s.delete(e.scopeName),this.loadLanguage(this._langMap.get(e.name))}}dispose(){super.dispose(),this._resolvedThemes.clear(),this._resolvedGrammars.clear(),this._langMap.clear(),this._langGraph.clear(),this._loadedThemesCache=null}loadLanguages(e){for(let t of e)this.resolveEmbeddedLanguages(t);let t=Array.from(this._langGraph.entries()),n=t.filter(e=>{let[t,n]=e;return!n});if(n.length){let e=t.filter(e=>{var t;let[r,i]=e;return i&&(null==(t=i.embeddedLangs)?void 0:t.some(e=>n.map(e=>{let[t]=e;return t}).includes(e)))}).filter(e=>!n.includes(e));throw new mt("Missing languages ".concat(n.map(e=>{let[t]=e;return"`".concat(t,"`")}).join(", "),", required by ").concat(e.map(e=>{let[t]=e;return"`".concat(t,"`")}).join(", ")))}for(let[e,n]of t)this._resolver.addLanguage(n);for(let[e,n]of t)this.loadLanguage(n)}getLoadedLanguages(){return this._loadedLanguagesCache||(this._loadedLanguagesCache=[...new Set([...this._resolvedGrammars.keys(),...Object.keys(this._alias)])]),this._loadedLanguagesCache}resolveEmbeddedLanguages(e){if(this._langMap.set(e.name,e),this._langGraph.set(e.name,e),e.embeddedLangs)for(let t of e.embeddedLangs)this._langGraph.set(t,this._langMap.get(t))}constructor(e,t,n,r={}){super(e),(0,H._)(this,"_resolvedThemes",new Map),(0,H._)(this,"_resolvedGrammars",new Map),(0,H._)(this,"_langMap",new Map),(0,H._)(this,"_langGraph",new Map),(0,H._)(this,"_textmateThemeCache",new WeakMap),(0,H._)(this,"_loadedThemesCache",null),(0,H._)(this,"_loadedLanguagesCache",null),this._resolver=e,this._themes=t,this._langs=n,this._alias=r,this._themes.map(e=>this.loadTheme(e)),this.loadLanguages(this._langs)}}class mr{get onigLib(){return this._onigLib}getLangRegistration(e){return this._langs.get(e)}loadGrammar(e){return this._scopeToLang.get(e)}addLanguage(e){this._langs.set(e.name,e),e.aliases&&e.aliases.forEach(t=>{this._langs.set(t,e)}),this._scopeToLang.set(e.scopeName,e),e.injectTo&&e.injectTo.forEach(t=>{this._injections.get(t)||this._injections.set(t,[]),this._injections.get(t).push(e.scopeName)})}getInjections(e){let t=e.split("."),n=[];for(let e=1;e<=t.length;e++){let r=t.slice(0,e).join(".");n=[...n,...this._injections.get(r)||[]]}return n}constructor(e,t){(0,H._)(this,"_langs",new Map),(0,H._)(this,"_scopeToLang",new Map),(0,H._)(this,"_injections",new Map),(0,H._)(this,"_onigLib",void 0),this._onigLib={createOnigScanner:t=>e.createScanner(t),createOnigString:t=>e.createString(t)},t.forEach(e=>this.addLanguage(e))}}let mi=0;async function ma(e){e.engine||function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3;if(!(t>3))if(1)console.trace("[SHIKI DEPRECATE]: ".concat(e));else throw Error("[SHIKI DEPRECATE]: ".concat(e))}("`engine` option is required. Use `createOnigurumaEngine` or `createJavaScriptRegexEngine` to create an engine.");let[t,n,r]=await Promise.all([me(e.themes||[]),f7(e.langs||[]),e.engine]);return function(e){let t;mi+=1,!1!==e.warnings&&mi>=10&&mi%10==0&&console.warn("[Shiki] ".concat(mi," instances have been created. Shiki is supposed to be used as a singleton, consider refactoring your code to cache your highlighter instance; Or call `highlighter.dispose()` to release unused instances."));let n=!1;if(!e.engine)throw new mt("`engine` option is required for synchronous mode");let r=(e.langs||[]).flat(1),i=(e.themes||[]).flat(1).map(f8),a=new mn(new mr(e.engine,r),i,r,e.langAlias);function s(e){if("none"===e)return{bg:"",fg:"",name:"none",settings:[],type:"dark"};c();let t=a.getTheme(e);if(!t)throw new mt("Theme `".concat(e,"` not found, you may need to load it first"));return t}function o(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];c(),a.loadLanguages(t.flat(1))}function l(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let e of(c(),t.flat(1)))a.loadTheme(e)}function c(){if(n)throw new mt("Shiki instance has been disposed")}function u(){n||(n=!0,a.dispose(),mi-=1)}return{setTheme:function(e){c();let n=s(e);return t!==e&&(a.setTheme(n),t=e),{theme:n,colorMap:a.getColorMap()}},getTheme:s,getLanguage:function(e){c();let t=a.getGrammar("string"==typeof e?e:e.name);if(!t)throw new mt("Language `".concat(e,"` not found, you may need to load it first"));return t},getLoadedThemes:function(){return c(),a.getLoadedThemes()},getLoadedLanguages:function(){return c(),a.getLoadedLanguages()},loadLanguage:async function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return o(await f7(t))},loadLanguageSync:o,loadTheme:async function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return c(),l(await me(t))},loadThemeSync:l,dispose:u,[Symbol.dispose]:u}}({...e,themes:t,langs:n,engine:r})}async function ms(e){let t=await ma(e);return{getLastGrammarState:function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];if(2===t.length)return fz(t[1]);let[r,i,a={}]=t,{lang:s="text",theme:o=r.getLoadedThemes()[0]}=a;if(fD(s)||fO(o))throw new hJ("Plain language does not have grammar state");if("ansi"===s)throw new hJ("ANSI language does not have grammar state");let{theme:l,colorMap:c}=r.setTheme(o),u=r.getLanguage(s);return new fV(fQ(i,u,l,c,a).stateStack,u.name,l.name)}(t,...n)},codeToTokensBase:(e,n)=>fJ(t,e,n),codeToTokensWithThemes:(e,n)=>f0(t,e,n),codeToTokens:(e,n)=>f1(t,e,n),codeToHast:(e,n)=>f5(t,e,n),codeToHtml:(e,n)=>(function(e,t,n){var r;let i={meta:{},options:n,codeToHast:(t,n)=>f5(e,t,n),codeToTokens:(t,n)=>f1(e,t,n)},a=f3(f5(e,t,n,i));for(let e of fq(n))a=(null==(r=e.postprocess)?void 0:r.call(i,a,n))||a;return a})(t,e,n),getBundledLanguages:()=>({}),getBundledThemes:()=>({}),...t,getInternalContext:()=>t}}let mo=Object.fromEntries([{id:"andromeeda",displayName:"Andromeeda",type:"dark",import:()=>e.A(252913)},{id:"aurora-x",displayName:"Aurora X",type:"dark",import:()=>e.A(695208)},{id:"ayu-dark",displayName:"Ayu Dark",type:"dark",import:()=>e.A(952844)},{id:"catppuccin-frappe",displayName:"Catppuccin Frapp",type:"dark",import:()=>e.A(872934)},{id:"catppuccin-latte",displayName:"Catppuccin Latte",type:"light",import:()=>e.A(831036)},{id:"catppuccin-macchiato",displayName:"Catppuccin Macchiato",type:"dark",import:()=>e.A(423803)},{id:"catppuccin-mocha",displayName:"Catppuccin Mocha",type:"dark",import:()=>e.A(486330)},{id:"dark-plus",displayName:"Dark Plus",type:"dark",import:()=>e.A(381001)},{id:"dracula",displayName:"Dracula Theme",type:"dark",import:()=>e.A(295735)},{id:"dracula-soft",displayName:"Dracula Theme Soft",type:"dark",import:()=>e.A(902100)},{id:"everforest-dark",displayName:"Everforest Dark",type:"dark",import:()=>e.A(358172)},{id:"everforest-light",displayName:"Everforest Light",type:"light",import:()=>e.A(775274)},{id:"github-dark",displayName:"GitHub Dark",type:"dark",import:()=>e.A(157811)},{id:"github-dark-default",displayName:"GitHub Dark Default",type:"dark",import:()=>e.A(514214)},{id:"github-dark-dimmed",displayName:"GitHub Dark Dimmed",type:"dark",import:()=>e.A(948353)},{id:"github-dark-high-contrast",displayName:"GitHub Dark High Contrast",type:"dark",import:()=>e.A(640920)},{id:"github-light",displayName:"GitHub Light",type:"light",import:()=>e.A(579755)},{id:"github-light-default",displayName:"GitHub Light Default",type:"light",import:()=>e.A(805550)},{id:"github-light-high-contrast",displayName:"GitHub Light High Contrast",type:"light",import:()=>e.A(360233)},{id:"gruvbox-dark-hard",displayName:"Gruvbox Dark Hard",type:"dark",import:()=>e.A(980721)},{id:"gruvbox-dark-medium",displayName:"Gruvbox Dark Medium",type:"dark",import:()=>e.A(27266)},{id:"gruvbox-dark-soft",displayName:"Gruvbox Dark Soft",type:"dark",import:()=>e.A(231214)},{id:"gruvbox-light-hard",displayName:"Gruvbox Light Hard",type:"light",import:()=>e.A(881110)},{id:"gruvbox-light-medium",displayName:"Gruvbox Light Medium",type:"light",import:()=>e.A(337683)},{id:"gruvbox-light-soft",displayName:"Gruvbox Light Soft",type:"light",import:()=>e.A(28130)},{id:"houston",displayName:"Houston",type:"dark",import:()=>e.A(677856)},{id:"kanagawa-dragon",displayName:"Kanagawa Dragon",type:"dark",import:()=>e.A(194363)},{id:"kanagawa-lotus",displayName:"Kanagawa Lotus",type:"light",import:()=>e.A(448953)},{id:"kanagawa-wave",displayName:"Kanagawa Wave",type:"dark",import:()=>e.A(711812)},{id:"laserwave",displayName:"LaserWave",type:"dark",import:()=>e.A(409732)},{id:"light-plus",displayName:"Light Plus",type:"light",import:()=>e.A(930788)},{id:"material-theme",displayName:"Material Theme",type:"dark",import:()=>e.A(411374)},{id:"material-theme-darker",displayName:"Material Theme Darker",type:"dark",import:()=>e.A(769460)},{id:"material-theme-lighter",displayName:"Material Theme Lighter",type:"light",import:()=>e.A(774478)},{id:"material-theme-ocean",displayName:"Material Theme Ocean",type:"dark",import:()=>e.A(49008)},{id:"material-theme-palenight",displayName:"Material Theme Palenight",type:"dark",import:()=>e.A(377952)},{id:"min-dark",displayName:"Min Dark",type:"dark",import:()=>e.A(820463)},{id:"min-light",displayName:"Min Light",type:"light",import:()=>e.A(630169)},{id:"monokai",displayName:"Monokai",type:"dark",import:()=>e.A(777035)},{id:"night-owl",displayName:"Night Owl",type:"dark",import:()=>e.A(161439)},{id:"nord",displayName:"Nord",type:"dark",import:()=>e.A(467304)},{id:"one-dark-pro",displayName:"One Dark Pro",type:"dark",import:()=>e.A(794497)},{id:"one-light",displayName:"One Light",type:"light",import:()=>e.A(353619)},{id:"plastic",displayName:"Plastic",type:"dark",import:()=>e.A(841717)},{id:"poimandres",displayName:"Poimandres",type:"dark",import:()=>e.A(703232)},{id:"red",displayName:"Red",type:"dark",import:()=>e.A(469411)},{id:"rose-pine",displayName:"Ros Pine",type:"dark",import:()=>e.A(753065)},{id:"rose-pine-dawn",displayName:"Ros Pine Dawn",type:"light",import:()=>e.A(81356)},{id:"rose-pine-moon",displayName:"Ros Pine Moon",type:"dark",import:()=>e.A(291336)},{id:"slack-dark",displayName:"Slack Dark",type:"dark",import:()=>e.A(758732)},{id:"slack-ochin",displayName:"Slack Ochin",type:"light",import:()=>e.A(505358)},{id:"snazzy-light",displayName:"Snazzy Light",type:"light",import:()=>e.A(953493)},{id:"solarized-dark",displayName:"Solarized Dark",type:"dark",import:()=>e.A(767374)},{id:"solarized-light",displayName:"Solarized Light",type:"light",import:()=>e.A(461630)},{id:"synthwave-84",displayName:"Synthwave '84",type:"dark",import:()=>e.A(135353)},{id:"tokyo-night",displayName:"Tokyo Night",type:"dark",import:()=>e.A(129817)},{id:"vesper",displayName:"Vesper",type:"dark",import:()=>e.A(666144)},{id:"vitesse-black",displayName:"Vitesse Black",type:"dark",import:()=>e.A(496740)},{id:"vitesse-dark",displayName:"Vitesse Dark",type:"dark",import:()=>e.A(896290)},{id:"vitesse-light",displayName:"Vitesse Light",type:"light",import:()=>e.A(161379)}].map(e=>[e.id,e.import]));var ml=e.i(467034);class mc extends Error{constructor(e){super(e),this.name="ShikiError"}}function mu(){return"undefined"!=typeof performance?performance.now():Date.now()}let md=(e,t)=>e+(t-e%t)%t;async function mh(e){let t,n,r={};function i(e){n=e,r.HEAPU8=new Uint8Array(e),r.HEAPU32=new Uint32Array(e)}let a="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function s(e,t){return e?function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1024,r=t+n,i=t;for(;e[i]&&!(i>=r);)++i;if(i-t>16&&e.buffer&&a)return a.decode(e.subarray(t,i));let s="";for(;t<i;){let n=e[t++];if(!(128&n)){s+=String.fromCharCode(n);continue}let r=63&e[t++];if((224&n)==192){s+=String.fromCharCode((31&n)<<6|r);continue}let i=63&e[t++];if((n=(240&n)==224?(15&n)<<12|r<<6|i:(7&n)<<18|r<<12|i<<6|63&e[t++])<65536)s+=String.fromCharCode(n);else{let e=n-65536;s+=String.fromCharCode(55296|e>>10,56320|1023&e)}}return s}(r.HEAPU8,e,t):""}let o={emscripten_get_now:mu,emscripten_memcpy_big:function(e,t,n){r.HEAPU8.copyWithin(e,t,t+n)},emscripten_resize_heap:function(e){let a=r.HEAPU8.length;if((e>>>=0)>0x80000000)return!1;for(let r=1;r<=4;r*=2){let s=a*(1+.2/r);if(s=Math.min(s,e+0x6000000),function(e){try{return t.grow(e-n.byteLength+65535>>>16),i(t.buffer),1}catch(e){}}(Math.min(0x80000000,md(Math.max(e,s),65536))))return!0}return!1},fd_write:()=>0};async function l(){let n=await e({env:o,wasi_snapshot_preview1:o});i((t=n.memory).buffer),Object.assign(r,n),r.UTF8ToString=s}return await l(),r}var mp=Object.defineProperty,mf=(e,t,n)=>((e,t,n)=>t in e?mp(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n)(e,"symbol"!=typeof t?t+"":t,n);let mm=null;class mg{static _utf8ByteLength(e){let t=0;for(let n=0,r=e.length;n<r;n++){let i=e.charCodeAt(n),a=i,s=!1;if(i>=55296&&i<=56319&&n+1<r){let t=e.charCodeAt(n+1);t>=56320&&t<=57343&&(a=(i-55296<<10)+65536|t-56320,s=!0)}a<=127?t+=1:a<=2047?t+=2:a<=65535?t+=3:t+=4,s&&n++}return t}createString(e){let t=e.omalloc(this.utf8Length);return e.HEAPU8.set(this.utf8Value,t),t}constructor(e){mf(this,"utf16Length"),mf(this,"utf8Length"),mf(this,"utf16Value"),mf(this,"utf8Value"),mf(this,"utf16OffsetToUtf8"),mf(this,"utf8OffsetToUtf16");let t=e.length,n=mg._utf8ByteLength(e),r=n!==t,i=r?new Uint32Array(t+1):null;r&&(i[t]=n);let a=r?new Uint32Array(n+1):null;r&&(a[n]=t);let s=new Uint8Array(n),o=0;for(let n=0;n<t;n++){let l=e.charCodeAt(n),c=l,u=!1;if(l>=55296&&l<=56319&&n+1<t){let t=e.charCodeAt(n+1);t>=56320&&t<=57343&&(c=(l-55296<<10)+65536|t-56320,u=!0)}r&&(i[n]=o,u&&(i[n+1]=o),c<=127?a[o+0]=n:c<=2047?(a[o+0]=n,a[o+1]=n):c<=65535?(a[o+0]=n,a[o+1]=n,a[o+2]=n):(a[o+0]=n,a[o+1]=n,a[o+2]=n,a[o+3]=n)),c<=127?s[o++]=c:(c<=2047?s[o++]=192|(1984&c)>>>6:(c<=65535?s[o++]=224|(61440&c)>>>12:(s[o++]=240|(1835008&c)>>>18,s[o++]=128|(258048&c)>>>12),s[o++]=128|(4032&c)>>>6),s[o++]=128|(63&c)>>>0),u&&n++}this.utf16Length=t,this.utf8Length=n,this.utf16Value=e,this.utf8Value=s,this.utf16OffsetToUtf8=i,this.utf8OffsetToUtf16=a}}let my=class e{convertUtf8OffsetToUtf16(e){return this.utf8OffsetToUtf16?e<0?0:e>this.utf8Length?this.utf16Length:this.utf8OffsetToUtf16[e]:e}convertUtf16OffsetToUtf8(e){return this.utf16OffsetToUtf8?e<0?0:e>this.utf16Length?this.utf8Length:this.utf16OffsetToUtf8[e]:e}dispose(){this.ptr===e._sharedPtr?e._sharedPtrInUse=!1:this._onigBinding.ofree(this.ptr)}constructor(t){if(mf(this,"id",++e.LAST_ID),mf(this,"_onigBinding"),mf(this,"content"),mf(this,"utf16Length"),mf(this,"utf8Length"),mf(this,"utf16OffsetToUtf8"),mf(this,"utf8OffsetToUtf16"),mf(this,"ptr"),!mm)throw new mc("Must invoke loadWasm first.");this._onigBinding=mm,this.content=t;let n=new mg(t);this.utf16Length=n.utf16Length,this.utf8Length=n.utf8Length,this.utf16OffsetToUtf8=n.utf16OffsetToUtf8,this.utf8OffsetToUtf16=n.utf8OffsetToUtf16,this.utf8Length<1e4&&!e._sharedPtrInUse?(e._sharedPtr||(e._sharedPtr=mm.omalloc(1e4)),e._sharedPtrInUse=!0,mm.HEAPU8.set(n.utf8Value,e._sharedPtr),this.ptr=e._sharedPtr):this.ptr=n.createString(mm)}};mf(my,"LAST_ID",0),mf(my,"_sharedPtr",0),mf(my,"_sharedPtrInUse",!1);class mb{dispose(){this._onigBinding.freeOnigScanner(this._ptr)}findNextMatchSync(e,t,n){let r=0;if("number"==typeof n&&(r=n),"string"==typeof e){e=new my(e);let n=this._findNextMatchSync(e,t,!1,r);return e.dispose(),n}return this._findNextMatchSync(e,t,!1,r)}_findNextMatchSync(e,t,n,r){let i=this._onigBinding,a=i.findNextOnigScannerMatch(this._ptr,e.id,e.ptr,e.utf8Length,e.convertUtf16OffsetToUtf8(t),r);if(0===a)return null;let s=i.HEAPU32,o=a/4,l=s[o++],c=s[o++],u=[];for(let t=0;t<c;t++){let n=e.convertUtf8OffsetToUtf16(s[o++]),r=e.convertUtf8OffsetToUtf16(s[o++]);u[t]={start:n,end:r,length:r-n}}return{index:l,captureIndices:u}}constructor(e){if(mf(this,"_onigBinding"),mf(this,"_ptr"),!mm)throw new mc("Must invoke loadWasm first.");let t=[],n=[];for(let r=0,i=e.length;r<i;r++){let i=new mg(e[r]);t[r]=i.createString(mm),n[r]=i.utf8Length}let r=mm.omalloc(4*e.length);mm.HEAPU32.set(t,r/4);let i=mm.omalloc(4*e.length);mm.HEAPU32.set(n,i/4);let a=mm.createOnigScanner(r,i,e.length);for(let n=0,r=e.length;n<r;n++)mm.ofree(t[n]);mm.ofree(i),mm.ofree(r),0===a&&function(e){throw new mc(e.UTF8ToString(e.getLastOnigError()))}(mm),this._onigBinding=mm,this._ptr=a}}function mv(e){return t=>WebAssembly.instantiate(e,t)}async function mk(e){return e&&await (n||(n=async function(){mm=await mh(async t=>{let n=e;if("function"==typeof(n=await n)&&(n=await n(t)),"function"==typeof n&&(n=await n(t)),"function"==typeof n.instantiator)n=await n.instantiator(t);else if("function"==typeof n.default)n=await n.default(t);else{var r,i,a,s,o,l;if(void 0!==n.data&&(n=n.data),r=n,"undefined"!=typeof Response&&r instanceof Response){n="function"==typeof WebAssembly.instantiateStreaming?await (o=n,e=>WebAssembly.instantiateStreaming(o,e))(t):await (l=n,async e=>{let t=await l.arrayBuffer();return WebAssembly.instantiate(t,e)})(t)}else(i=n,"undefined"!=typeof ArrayBuffer&&(i instanceof ArrayBuffer||ArrayBuffer.isView(i))||void 0!==ml.Buffer&&(null==(a=(s=ml.Buffer).isBuffer)?void 0:a.call(s,i))||"undefined"!=typeof SharedArrayBuffer&&i instanceof SharedArrayBuffer||"undefined"!=typeof Uint32Array&&i instanceof Uint32Array||n instanceof WebAssembly.Module)?n=await mv(n)(t):"default"in n&&n.default instanceof WebAssembly.Module&&(n=await mv(n.default)(t))}return"instance"in n&&(n=n.instance),"exports"in n&&(n=n.exports),n})}())),{createScanner:e=>new mb(e.map(e=>"string"==typeof e?e:e.source)),createString:e=>new my(e)}}let mx=function(e){let t=e.langs,n=e.themes,r=e.engine;return async function(e){var i,a,s;function o(n){if("string"==typeof n){var r;if(fM(n))return[];let i=t[n=(null==(r=e.langAlias)?void 0:r[n])||n];if(!i)throw new hJ("Language `".concat(n,"` is not included in this bundle. You may want to load it from external source."));return i}return n}function l(e){if(fO(e))return"none";if("string"==typeof e){let t=n[e];if(!t)throw new hJ("Theme `".concat(e,"` is not included in this bundle. You may want to load it from external source."));return t}return e}let c=(null!=(i=e.themes)?i:[]).map(e=>l(e)),u=(null!=(a=e.langs)?a:[]).map(e=>o(e)),d=await ms({engine:null!=(s=e.engine)?s:r(),...e,themes:c,langs:u});return{...d,loadLanguage(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return d.loadLanguage(...t.map(o))},loadTheme(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return d.loadTheme(...t.map(l))},getBundledLanguages:()=>t,getBundledThemes:()=>n}}}({langs:hK,themes:mo,engine:()=>mk(e.A(514467))});var m_=e.i(739946),mE=e.i(470292),mT=e.i(62351),mS=e.i(337696),mw=e.i(788245);function mC(e){return(mC=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function mA(e,t,n){return(mA="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=mC(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n||e):i.value}})(e,t,n||e)}var mN=e.i(892510);function mI(e){if(1!=[...e].length)throw Error('Expected "'.concat(e,'" to be a single code point'));return e.codePointAt(0)}let mD=new Set(["alnum","alpha","ascii","blank","cntrl","digit","graph","lower","print","punct","space","upper","word","xdigit"]),mM=String.raw;function mO(e,t){if(null==e)throw Error(null!=t?t:"Value expected");return e}function mR(){let e=(0,mN._)(["[^?"],["\\[\\^?"]);return mR=function(){return e},e}function mP(){let e=(0,mN._)(["[pP]{(?:^?[- _]*[A-Za-z][- w]*})?"],["[pP]\\{(?:\\^?[-\\x20_]*[A-Za-z][-\\x20\\w]*\\})?"]);return mP=function(){return e},e}function mL(){let e=(0,mN._)(["x[89A-Fa-f]p{AHex}(?:\\x[89A-Fa-f]p{AHex})*"],["x[89A-Fa-f]\\p{AHex}(?:\\\\x[89A-Fa-f]\\p{AHex})*"]);return mL=function(){return e},e}function mF(){let e=(0,mN._)(["u(?:p{AHex}{4})? | x{[^}]*}? | xp{AHex}{0,2}"],["u(?:\\p{AHex}{4})? | x\\{[^\\}]*\\}? | x\\p{AHex}{0,2}"]);return mF=function(){return e},e}function mj(){let e=(0,mN._)(["o{[^}]*}?"],["o\\{[^\\}]*\\}?"]);return mj=function(){return e},e}function mB(){let e=(0,mN._)(["d{1,3}"],["\\d{1,3}"]);return mB=function(){return e},e}function mH(){let e=(0,mN._)(["\n  \\ (?:\n    ","\n    | [gk]<[^>]*>?\n    | [gk]'[^']*'?\n    | .\n  )\n  | ( (?:\n    ? (?:\n      [:=!>({]\n      | <[=!]\n      | <[^>]*>\n      | '[^']*'\n      | ~|?\n      | #(?:[^)\\]|\\.?)*\n      | [^:)]*[:)]\n    )?\n    | *[^)]*)?\n  )?\n  | (?:",")+\n  | ","\n  | .\n"],["\n  \\\\ (?:\n    ","\n    | [gk]<[^>]*>?\n    | [gk]'[^']*'?\n    | .\n  )\n  | \\( (?:\n    \\? (?:\n      [:=!>({]\n      | <[=!]\n      | <[^>]*>\n      | '[^']*'\n      | ~\\|?\n      | #(?:[^)\\\\]|\\\\.?)*\n      | [^:)]*[:)]\n    )?\n    | \\*[^\\)]*\\)?\n  )?\n  | (?:",")+\n  | ","\n  | .\n"]);return mH=function(){return e},e}function mU(){let e=(0,mN._)(["\n  \\ (?:\n    ","\n    | .\n  )\n  | [:(?:^?p{Alpha}+|^):]\n  | ","\n  | &&\n  | .\n"],["\n  \\\\ (?:\n    ","\n    | .\n  )\n  | \\[:(?:\\^?\\p{Alpha}+|\\^):\\]\n  | ","\n  | &&\n  | .\n"]);return mU=function(){return e},e}function mz(){let e=(0,mN._)(["A"],["\\A"]);return mz=function(){return e},e}function mV(){let e=(0,mN._)(["Z"],["\\Z"]);return mV=function(){return e},e}function mG(){let e=(0,mN._)(["o{"],["\\o{"]);return mG=function(){return e},e}function mq(){let e=(0,mN._)(['Incomplete escape ""'],['Incomplete escape "\\"']);return mq=function(){return e},e}function mZ(){let e=(0,mN._)(['Octal encoded byte above 177 unsupported "','"']);return mZ=function(){return e},e}let m$=mM(mR()),mW="c.? | C(?:-.?)?|".concat(mM(mP()),"|").concat(mM(mL()),"|").concat(mM(mF()),"|").concat(mM(mj()),"|").concat(mM(mB())),mY=/[?*+][?+]?|\{(?:\d+(?:,\d*)?|,\d+)\}\??/,mK=RegExp(mM(mH(),mW,mY.source,m$).replace(/\s+/g,""),"gsu"),mJ=RegExp(mM(mU(),mW,m$).replace(/\s+/g,""),"gsu");function mQ(e,t){let{inCharClass:n}=t,r=e[1];if("c"===r||"C"===r){var i=e;let t="c"===i[1]?i[2]:i[3];if(!t||!/[A-Za-z]/.test(t))throw Error('Unsupported control character "'.concat(i,'"'));return m1(mI(t.toUpperCase())-64,i)}if("dDhHsSwW".includes(r)){var a=e;let t=a[1].toLowerCase();return m5({d:"digit",h:"hex",s:"space",w:"word"}[t],a,{negate:a[1]!==t})}if(e.startsWith(mM(mG())))throw Error('Incomplete, invalid, or unsupported octal code point "'.concat(e,'"'));if(/^\\[pP]\{/.test(e)){if(3===e.length)throw Error('Incomplete or invalid Unicode property "'.concat(e,'"'));var s=e;let{p:t,neg:n,value:r}=RegExp("^\\\\(?<p>[pP])\\{(?<neg>\\^?)(?<value>[^}]+)").exec(s).groups;return m5("property",s,{value:r,negate:"P"===t&&!n||"p"===t&&!!n})}if(RegExp("^\\\\x[89A-Fa-f]\\p{AHex}","u").test(e))try{let t=e.split(/\\x/).slice(1).map(e=>parseInt(e,16)),n=new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0}).decode(new Uint8Array(t)),r=new TextEncoder;return[...n].map(e=>{let t=[...r.encode(e)].map(e=>"\\x".concat(e.toString(16))).join("");return m1(mI(e),t)})}catch(t){throw Error('Multibyte code "'.concat(e,'" incomplete or invalid in Oniguruma'))}if("u"===r||"x"===r)return m1(function(e){if(RegExp("^(?:\\\\u(?!\\p{AHex}{4})|\\\\x(?!\\p{AHex}{1,2}|\\{\\p{AHex}{1,8}\\}))","u").test(e))throw Error('Incomplete or invalid escape "'.concat(e,'"'));return parseInt("{"===e[2]?RegExp("^\\\\x\\{\\s*(?<hex>\\p{AHex}+)","u").exec(e).groups.hex:e.slice(2),16)}(e),e);if(m9.has(r))return m1(m9.get(r),e);if(/\d/.test(r))return{type:"EscapedNumber",inCharClass:n,raw:e};if("\\"===e)throw Error(mM(mq()));if("M"===r)throw Error('Unsupported meta "'.concat(e,'"'));if(2==[...e].length)return m1(e.codePointAt(1),e);throw Error('Unexpected escape "'.concat(e,'"'))}function mX(e,t){return{type:"Assertion",kind:e,raw:t}}function m0(e){return{type:"Backreference",raw:e}}function m1(e,t){return{type:"Character",value:e,raw:t}}function m2(e,t){return{type:"CharacterClassOpen",negate:e,raw:t}}function m5(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return{type:"CharacterSet",kind:e,...n,raw:t}}function m3(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return"keep"===e?{type:"Directive",kind:e,raw:t}:{type:"Directive",kind:e,flags:mO(n.flags),raw:t}}function m4(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return{type:"GroupOpen",kind:e,...n,raw:t}}let m6=new Set(["COUNT","CMP","ERROR","FAIL","MAX","MISMATCH","SKIP","TOTAL_COUNT"]),m9=new Map([["a",7],["b",8],["e",27],["f",12],["n",10],["r",13],["t",9],["v",11]]);function m8(e){let t=null,n,r;if("{"===e[0]){let{minStr:i,maxStr:a}=RegExp("^\\{(?<minStr>\\d*)(?:,(?<maxStr>\\d*))?").exec(e).groups;if(+i>1e5||a&&+a>1e5)throw Error("Quantifier value unsupported in Oniguruma");if((n=+i)>(r=void 0===a?+i:""===a?1/0:+a)&&(t="possessive",[n,r]=[r,n]),e.endsWith("?")){if("possessive"===t)throw Error('Unsupported possessive interval quantifier chain with "?"');t="lazy"}else t||(t="greedy")}else n=+("+"===e[0]),r="?"===e[0]?1:1/0,t="+"===e[1]?"possessive":"?"===e[1]?"lazy":"greedy";return{type:"Quantifier",kind:t,min:n,max:r,raw:e}}function m7(e){let t={};return e.includes("i")&&(t.ignoreCase=!0),e.includes("m")&&(t.dotAll=!0),e.includes("x")&&(t.extended=!0),Object.keys(t).length?t:null}function ge(e,t){if(!Array.isArray(e.body))throw Error("Expected node with body array");if(1!==e.body.length)return!1;let n=e.body[0];return!t||Object.keys(t).every(e=>t[e]===n[e])}let gt=new Set(["AbsenceFunction","Backreference","CapturingGroup","Character","CharacterClass","CharacterSet","Group","Quantifier","Subroutine"]);function gn(){let e=(0,mN._)(['Subroutine uses a duplicate group name "g<','>"'],['Subroutine uses a duplicate group name "\\g<','>"']);return gn=function(){return e},e}function gr(){let e=(0,mN._)(["Subroutine uses a group name that's not defined \"g<",'>"'],["Subroutine uses a group name that's not defined \"\\g<",'>"']);return gr=function(){return e},e}function gi(){let e=(0,mN._)(["B"],["\\B"]);return gi=function(){return e},e}function ga(){let e=(0,mN._)(["Y"],["\\Y"]);return ga=function(){return e},e}function gs(){let e=(0,mN._)(['Invalid Unicode property "p{','}"'],['Invalid Unicode property "\\p{','}"']);return gs=function(){return e},e}function go(e){var t,n;let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i={flags:"",normalizeUnknownPropertyNames:!1,skipBackrefValidation:!1,skipLookbehindValidation:!1,skipPropertyNameValidation:!1,unicodePropertyMap:null,...r,rules:{captureGroup:!1,singleline:!1,...r.rules}},a=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={flags:"",...t,rules:{captureGroup:!1,singleline:!1,...t.rules}};if("string"!=typeof e)throw Error("String expected as pattern");let r=function(e){let t={ignoreCase:!1,dotAll:!1,extended:!1,digitIsAscii:!1,posixIsAscii:!1,spaceIsAscii:!1,wordIsAscii:!1,textSegmentMode:null};for(let n=0;n<e.length;n++){let r=e[n];if(!"imxDPSWy".includes(r))throw Error('Invalid flag "'.concat(r,'"'));if("y"===r){if(!/^y{[gw]}/.test(e.slice(n)))throw Error('Invalid or unspecified flag "y" mode');t.textSegmentMode="g"===e[n+2]?"grapheme":"word",n+=3;continue}t[({i:"ignoreCase",m:"dotAll",x:"extended",D:"digitIsAscii",P:"posixIsAscii",S:"spaceIsAscii",W:"wordIsAscii"})[r]]=!0}return t}(n.flags),i=[r.extended],a={captureGroup:n.rules.captureGroup,getCurrentModX:()=>i.at(-1),numOpenGroups:0,popModX(){i.pop()},pushModX(e){i.push(e)},replaceCurrentModX(e){i[i.length-1]=e},singleline:n.rules.singleline},s=[],o;for(mK.lastIndex=0;o=mK.exec(e);){let t=function(e,t,n,r){let[i,a]=n;if("["===n||"[^"===n){let e=function(e,t,n){let r=[m2("^"===t[1],t)],i=1,a;for(mJ.lastIndex=n;a=mJ.exec(e);){let e=a[0];if("["===e[0]&&":"!==e[1])i++,r.push(m2("^"===e[1],e));else if("]"===e){if("CharacterClassOpen"===r.at(-1).type)r.push(m1(93,e));else if(i--,r.push({type:"CharacterClassClose",raw:e}),!i)break}else{let t=function(e){if("\\"===e[0])return mQ(e,{inCharClass:!0});if("["===e[0]){let t=RegExp("\\[:(?<negate>\\^?)(?<name>[a-z]+):\\]").exec(e);if(!t||!mD.has(t.groups.name))throw Error('Invalid POSIX class "'.concat(e,'"'));return m5("posix",e,{value:t.groups.name,negate:!!t.groups.negate})}return"-"===e?{type:"CharacterClassHyphen",raw:e}:"&&"===e?{type:"CharacterClassIntersector",raw:e}:m1(mI(e),e)}(e);Array.isArray(t)?r.push(...t):r.push(t)}}return{tokens:r,lastIndex:mJ.lastIndex||e.length}}(t,n,r);return{tokens:e.tokens,lastIndex:e.lastIndex}}if("\\"===i){if("AbBGyYzZ".includes(a))return{token:mX(n,n)};if(/^\\g[<']/.test(n)){if(!/^\\g(?:<[^>]+>|'[^']+')$/.test(n))throw Error('Invalid group name "'.concat(n,'"'));return{token:{type:"Subroutine",raw:n}}}if(/^\\k[<']/.test(n)){if(!/^\\k(?:<[^>]+>|'[^']+')$/.test(n))throw Error('Invalid group name "'.concat(n,'"'));return{token:m0(n)}}if("K"===a)return{token:m3("keep",n)};if("N"===a||"R"===a)return{token:m5("newline",n,{negate:"N"===a})};if("O"===a)return{token:m5("any",n)};if("X"===a)return{token:m5("text_segment",n)};let e=mQ(n,{inCharClass:!1});return Array.isArray(e)?{tokens:e}:{token:e}}if("("===i){if("*"===a)return{token:function(e){var t;let n=RegExp("\\(\\*(?<name>[A-Za-z_]\\w*)?(?:\\[(?<tag>(?:[A-Za-z_]\\w*)?)\\])?(?:\\{(?<args>[^}]*)\\})?\\)").exec(e);if(!n)throw Error('Incomplete or invalid named callout "'.concat(e,'"'));let{name:r,tag:i,args:a}=n.groups;if(!r)throw Error('Invalid named callout "'.concat(e,'"'));if(""===i)throw Error('Named callout tag with empty value not allowed "'.concat(e,'"'));let s=a?a.split(",").filter(e=>""!==e).map(e=>/^[+-]?\d+$/.test(e)?+e:e):[],[o,l,c]=s,u=m6.has(r)?r.toLowerCase():"custom";switch(u){case"fail":case"mismatch":case"skip":if(s.length>0)throw Error('Named callout arguments not allowed "'.concat(s,'"'));break;case"error":if(s.length>1)throw Error('Named callout allows only one argument "'.concat(s,'"'));if("string"==typeof o)throw Error('Named callout argument must be a number "'.concat(o,'"'));break;case"max":if(!s.length||s.length>2)throw Error('Named callout must have one or two arguments "'.concat(s,'"'));if("string"==typeof o&&!/^[A-Za-z_]\w*$/.test(o))throw Error('Named callout argument one must be a tag or number "'.concat(o,'"'));if(2===s.length&&("number"==typeof l||!/^[<>X]$/.test(l)))throw Error("Named callout optional argument two must be '<', '>', or 'X' \"".concat(l,'"'));break;case"count":case"total_count":if(s.length>1)throw Error('Named callout allows only one argument "'.concat(s,'"'));if(1===s.length&&("number"==typeof o||!/^[<>X]$/.test(o)))throw Error("Named callout optional argument must be '<', '>', or 'X' \"".concat(o,'"'));break;case"cmp":if(3!==s.length)throw Error('Named callout must have three arguments "'.concat(s,'"'));if("string"==typeof o&&!/^[A-Za-z_]\w*$/.test(o))throw Error('Named callout argument one must be a tag or number "'.concat(o,'"'));if("number"==typeof l||!/^(?:[<>!=]=|[<>])$/.test(l))throw Error("Named callout argument two must be '==', '!=', '>', '<', '>=', or '<=' \"".concat(l,'"'));if("string"==typeof c&&!/^[A-Za-z_]\w*$/.test(c))throw Error('Named callout argument three must be a tag or number "'.concat(c,'"'));break;case"custom":throw Error('Undefined callout name "'.concat(r,'"'));default:throw Error('Unexpected named callout kind "'.concat(u,'"'))}return{type:"NamedCallout",kind:u,tag:null!=i?i:null,arguments:null!=(t=null==a?void 0:a.split(","))?t:null,raw:e}}(n)};if("(?{"===n)throw Error('Unsupported callout "'.concat(n,'"'));if(n.startsWith("(?#")){if(")"!==t[r])throw Error('Unclosed comment group "(?#"');return{lastIndex:r+1}}if(/^\(\?[-imx]+[:)]$/.test(n))return{token:function(e,t){let{on:n,off:r}=RegExp("^\\(\\?(?<on>[imx]*)(?:-(?<off>[-imx]*))?").exec(e).groups;null!=r||(r="");let i=(t.getCurrentModX()||n.includes("x"))&&!r.includes("x"),a=m7(n),s=m7(r),o={};if(a&&(o.enable=a),s&&(o.disable=s),e.endsWith(")"))return t.replaceCurrentModX(i),m3("flags",e,{flags:o});if(e.endsWith(":"))return t.pushModX(i),t.numOpenGroups++,m4("group",e,{...(a||s)&&{flags:o}});throw Error('Unexpected flag modifier "'.concat(e,'"'))}(n,e)};if(e.pushModX(e.getCurrentModX()),e.numOpenGroups++,"("===n&&!e.captureGroup||"(?:"===n)return{token:m4("group",n)};if("(?>"===n)return{token:m4("atomic",n)};if("(?="===n||"(?!"===n||"(?<="===n||"(?<!"===n)return{token:m4("<"===n[2]?"lookbehind":"lookahead",n,{negate:n.endsWith("!")})};if("("===n&&e.captureGroup||n.startsWith("(?<")&&n.endsWith(">")||n.startsWith("(?'")&&n.endsWith("'"))return{token:m4("capturing",n,{..."("!==n&&{name:n.slice(3,-1)}})};if(n.startsWith("(?~")){if("(?~|"===n)throw Error('Unsupported absence function kind "'.concat(n,'"'));return{token:m4("absence_repeater",n)}}throw"(?("===n?Error('Unsupported conditional "'.concat(n,'"')):Error('Invalid or unsupported group option "'.concat(n,'"'))}if(")"===n){if(e.popModX(),e.numOpenGroups--,e.numOpenGroups<0)throw Error('Unmatched ")"');return{token:{type:"GroupClose",raw:n}}}if(e.getCurrentModX()){if("#"===n){let e=t.indexOf("\n",r);return{lastIndex:-1===e?t.length:e}}if(/^\s$/.test(n)){let e=/\s+/y;return e.lastIndex=r,{lastIndex:e.exec(t)?e.lastIndex:r}}}return"."===n?{token:m5("dot",n)}:"^"===n||"$"===n?{token:mX(e.singleline?({"^":mM(mz()),$:mM(mV())})[n]:n,n)}:"|"===n?{token:{type:"Alternator",raw:n}}:mY.test(n)?{tokens:function(e){let t,n=[],r=RegExp(mY,"gy");for(;t=r.exec(e);){let e=t[0];if("{"===e[0]){let t=RegExp("^\\{(?<min>\\d+),(?<max>\\d+)\\}\\??$").exec(e);if(t){let{min:i,max:a}=t.groups;if(+i>+a&&e.endsWith("?")){r.lastIndex--,n.push(m8(e.slice(0,-1)));continue}}}n.push(m8(e))}return n}(n)}:{token:m1(mI(n),n)}}(a,e,o[0],mK.lastIndex);t.tokens?s.push(...t.tokens):t.token&&s.push(t.token),void 0!==t.lastIndex&&(mK.lastIndex=t.lastIndex)}let l=[],c=0;s.filter(e=>"GroupOpen"===e.type).forEach(e=>{"capturing"===e.kind?e.number=++c:"("===e.raw&&l.push(e)}),c||l.forEach((e,t)=>{e.kind="capturing",e.number=t+1});let u=c||l.length;return{tokens:s.map(e=>"EscapedNumber"===e.type?function(e,t){let{raw:n,inCharClass:r}=e,i=n.slice(1);if(!r&&("0"!==i&&1===i.length||"0"!==i[0]&&+i<=t))return[m0(n)];let a=[],s=i.match(/^[0-7]+|\d/g);for(let e=0;e<s.length;e++){let t,r=s[e];if(0===e&&"8"!==r&&"9"!==r){if((t=parseInt(r,8))>127)throw Error(mM(mZ(),n))}else t=mI(r);a.push(m1(t,(0===e?"\\":"")+r))}return a}(e,u):e).flat(),flags:r}}(e,{flags:i.flags,rules:{captureGroup:i.rules.captureGroup,singleline:i.rules.singleline}}),s=(e,t)=>{let n=a.tokens[o.nextIndex];switch(o.parent=e,o.nextIndex++,n.type){case"Alternator":return gl();case"Assertion":return function(e){let{kind:t}=e;return gc(mO({"^":"line_start",$:"line_end","\\A":"string_start","\\b":"word_boundary","\\B":"word_boundary","\\G":"search_start","\\y":"text_segment_boundary","\\Y":"text_segment_boundary","\\z":"string_end","\\Z":"string_end_newline"}[t],'Unexpected assertion kind "'.concat(t,'"')),{negate:t===mM(gi())||t===mM(ga())})}(n);case"Backreference":return function(e,t){let{raw:n}=e,r=/^\\k[<']/.test(n),i=r?n.slice(3,-1):n.slice(1),a=function(e){let r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=t.capturingGroups.length,a=!1;if(e>i)if(t.skipBackrefValidation)a=!0;else throw Error('Not enough capturing groups defined to the left "'.concat(n,'"'));return t.hasNumberedRef=!0,gu(r?i+1-e:e,{orphan:a})};if(r){let e=RegExp("^(?<sign>-?)0*(?<num>[1-9]\\d*)$").exec(i);if(e)return a(+e.groups.num,!!e.groups.sign);if(/[-+]/.test(i))throw Error('Invalid backref name "'.concat(n,'"'));if(!t.namedGroupsByName.has(i))throw Error('Group name not defined to the left "'.concat(n,'"'));return gu(i)}return a(+i)}(n,o);case"Character":return gh(n.value,{useLastValid:!!t.isCheckingRangeEnd});case"CharacterClassHyphen":return function(e,t,n){let{tokens:r,walk:i}=t,a=t.parent,s=a.body.at(-1),o=r[t.nextIndex];if(!n.isCheckingRangeEnd&&s&&"CharacterClass"!==s.type&&"CharacterClassRange"!==s.type&&o&&"CharacterClassOpen"!==o.type&&"CharacterClassClose"!==o.type&&"CharacterClassIntersector"!==o.type){let e=i(a,{...n,isCheckingRangeEnd:!0});if("Character"===s.type&&"Character"===e.type)return a.body.pop(),function(e,t){if(t.value<e.value)throw Error("Character class range out of order");return{type:"CharacterClassRange",min:e,max:t}}(s,e);throw Error("Invalid character class range")}return gh(mI("-"))}(0,o,t);case"CharacterClassOpen":return function(e,t,n){let{negate:r}=e,{tokens:i,walk:a}=t,s=i[t.nextIndex],o=[gp()],l=gS(s);for(;"CharacterClassClose"!==l.type;){if("CharacterClassIntersector"===l.type)o.push(gp()),t.nextIndex++;else{let e=o.at(-1);e.body.push(a(e,n))}l=gS(i[t.nextIndex],s)}let c=gp({negate:r});return 1===o.length?c.body=o[0].body:(c.kind="intersection",c.body=o.map(e=>1===e.body.length?e.body[0]:e)),t.nextIndex++,c}(n,o,t);case"CharacterSet":return function(e,t){let{kind:n,negate:r,value:i}=e,{normalizeUnknownPropertyNames:a,skipPropertyNameValidation:s,unicodePropertyMap:o}=t;if("property"===n){let e=gT(i);if(!mD.has(e)||(null==o?void 0:o.has(e)))return gv(i,{negate:r,normalizeUnknownPropertyNames:a,skipPropertyNameValidation:s,unicodePropertyMap:o});n="posix",i=e}return"posix"===n?function(e,t){let n=!!(null==t?void 0:t.negate);if(!mD.has(e))throw Error('Invalid POSIX class "'.concat(e,'"'));return{type:"CharacterSet",kind:"posix",value:e,negate:n}}(i,{negate:r}):gf(n,{negate:r})}(n,o);case"Directive":return function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("keep"===e)return{type:"Directive",kind:e};if("flags"===e)return{type:"Directive",kind:e,flags:mO(t.flags)};throw Error('Unexpected directive kind "'.concat(e,'"'))}(n.kind,{flags:n.flags});case"GroupOpen":return function(e,t,n){var r,i;let{tokens:a,capturingGroups:s,namedGroupsByName:o,skipLookbehindValidation:l,walk:c}=t,u=function(e){let{flags:t,kind:n,name:r,negate:i,number:a}=e;switch(n){case"absence_repeater":var s="repeater";!1;return{type:"AbsenceFunction",kind:s,body:gk(void 0)};case"atomic":return gm({atomic:!0});case"capturing":return gd(a,{name:r});case"group":return gm({flags:t});case"lookahead":case"lookbehind":return gg({behind:"lookbehind"===n,negate:i});default:throw Error('Unexpected group kind "'.concat(n,'"'))}}(e),d="AbsenceFunction"===u.type,h=gE(u),p=h&&u.negate;if("CapturingGroup"===u.type&&(s.push(u),u.name&&(r=u.name,i=[],o.has(r)||o.set(r,i),o.get(r)).push(u)),d&&n.isInAbsenceFunction)throw Error("Nested absence function not supported by Oniguruma");let f=gw(a[t.nextIndex]);for(;"GroupClose"!==f.type;){if("Alternator"===f.type)u.body.push(gl()),t.nextIndex++;else{let e=u.body.at(-1),t=c(e,{...n,isInAbsenceFunction:n.isInAbsenceFunction||d,isInLookbehind:n.isInLookbehind||h,isInNegLookbehind:n.isInNegLookbehind||p});if(e.body.push(t),(h||n.isInLookbehind)&&!l){let e="Lookbehind includes a pattern not allowed by Oniguruma";if(p||n.isInNegLookbehind){if(g_(t)||"CapturingGroup"===t.type)throw Error(e)}else if(g_(t)||gE(t)&&t.negate)throw Error(e)}}f=gw(a[t.nextIndex])}return t.nextIndex++,u}(n,o,t);case"NamedCallout":var r,i;return r=n.kind,i=n.tag,{type:"NamedCallout",kind:r,tag:i,arguments:n.arguments};case"Quantifier":return function(e,t){let{kind:n,min:r,max:i}=e,a=t.parent,s=a.body.at(-1);if(!s||!gt.has(s.type))throw Error("Quantifier requires a repeatable token");let o=gy(n,r,i,s);return a.body.pop(),o}(n,o);case"Subroutine":return function(e,t){let{raw:n}=e,{capturingGroups:r,subroutines:i}=t,a=n.slice(3,-1),s=RegExp("^(?<sign>[-+]?)0*(?<num>[1-9]\\d*)$").exec(a);if(s){let e=+s.groups.num,n=r.length;if(t.hasNumberedRef=!0,(a=({"":e,"+":n+e,"-":n+1-e})[s.groups.sign])<1)throw Error("Invalid subroutine number")}else"0"===a&&(a=0);let o=gb(a);return i.push(o),o}(n,o);default:throw Error('Unexpected token type "'.concat(n.type,'"'))}},o={capturingGroups:[],hasNumberedRef:!1,namedGroupsByName:new Map,nextIndex:0,normalizeUnknownPropertyNames:i.normalizeUnknownPropertyNames,parent:null,skipBackrefValidation:i.skipBackrefValidation,skipLookbehindValidation:i.skipLookbehindValidation,skipPropertyNameValidation:i.skipPropertyNameValidation,subroutines:[],tokens:a.tokens,unicodePropertyMap:i.unicodePropertyMap,walk:s},l=(t={type:"Flags",...a.flags},{type:"Regex",body:gk(void 0),flags:t}),c=l.body[0];for(;o.nextIndex<a.tokens.length;){let e=s(c,{});"Alternative"===e.type?(l.body.push(e),c=e):c.body.push(e)}let{capturingGroups:u,hasNumberedRef:d,namedGroupsByName:h,subroutines:p}=o;if(d&&h.size&&!i.rules.captureGroup)throw Error("Numbered backref/subroutine not allowed when using named capture");for(let{ref:e}of p)if("number"==typeof e){if(e>u.length)throw Error("Subroutine uses a group number that's not defined");e&&(u[e-1].isSubroutined=!0)}else if(h.has(e)){if(h.get(e).length>1)throw Error(mM(gn(),e));h.get(e)[0].isSubroutined=!0}else throw Error(mM(gr(),e));return l}function gl(e){return{type:"Alternative",body:gx(null==e?void 0:e.body)}}function gc(e,t){let n={type:"Assertion",kind:e};return("word_boundary"===e||"text_segment_boundary"===e)&&(n.negate=!!(null==t?void 0:t.negate)),n}function gu(e,t){let n=!!(null==t?void 0:t.orphan);return{type:"Backreference",ref:e,...n&&{orphan:n}}}function gd(e,t){var n;let r={name:void 0,isSubroutined:!1,...t};if(void 0!==r.name&&(n=r.name,!RegExp("^[\\p{Alpha}\\p{Pc}][^)]*$","u").test(n)))throw Error('Group name "'.concat(r.name,'" invalid in Oniguruma'));return{type:"CapturingGroup",number:e,...r.name&&{name:r.name},...r.isSubroutined&&{isSubroutined:r.isSubroutined},body:gk(null==t?void 0:t.body)}}function gh(e,t){let n={useLastValid:!1,...t};if(e>1114111){let t=e.toString(16);if(n.useLastValid)e=1114111;else throw e>1310719?Error('Invalid code point out of range "\\x{'.concat(t,'}"')):Error('Invalid code point out of range in JS "\\x{'.concat(t,'}"'))}return{type:"Character",value:e}}function gp(e){let t={kind:"union",negate:!1,...e};return{type:"CharacterClass",kind:t.kind,negate:t.negate,body:gx(null==e?void 0:e.body)}}function gf(e,t){let n=!!(null==t?void 0:t.negate),r={type:"CharacterSet",kind:e};return("digit"===e||"hex"===e||"newline"===e||"space"===e||"word"===e)&&(r.negate=n),"text_segment"!==e&&("newline"!==e||n)||(r.variableLength=!0),r}function gm(e){let t=null==e?void 0:e.atomic,n=null==e?void 0:e.flags;if(t&&n)throw Error("Atomic group cannot have flags");return{type:"Group",...t&&{atomic:t},...n&&{flags:n},body:gk(null==e?void 0:e.body)}}function gg(e){let t={behind:!1,negate:!1,...e};return{type:"LookaroundAssertion",kind:t.behind?"lookbehind":"lookahead",negate:t.negate,body:gk(null==e?void 0:e.body)}}function gy(e,t,n,r){if(t>n)throw Error("Invalid reversed quantifier range");return{type:"Quantifier",kind:e,min:t,max:n,body:r}}function gb(e){return{type:"Subroutine",ref:e}}function gv(e,t){var n;let r={negate:!1,normalizeUnknownPropertyNames:!1,skipPropertyNameValidation:!1,unicodePropertyMap:null,...t},i=null==(n=r.unicodePropertyMap)?void 0:n.get(gT(e));if(!i){if(r.normalizeUnknownPropertyNames)i=e.trim().replace(/[- _]+/g,"_").replace(/[A-Z][a-z]+(?=[A-Z])/g,"$&_").replace(/[A-Za-z]+/g,e=>e[0].toUpperCase()+e.slice(1).toLowerCase());else if(r.unicodePropertyMap&&!r.skipPropertyNameValidation)throw Error(mM(gs(),e))}return{type:"CharacterSet",kind:"property",value:null!=i?i:e,negate:r.negate}}function gk(e){if(void 0===e)e=[gl()];else if(!Array.isArray(e)||!e.length||!e.every(e=>"Alternative"===e.type))throw Error("Invalid body; expected array of one or more Alternative nodes");return e}function gx(e){if(void 0===e)e=[];else if(!Array.isArray(e)||!e.every(e=>!!e.type))throw Error("Invalid body; expected array of nodes");return e}function g_(e){return"LookaroundAssertion"===e.type&&"lookahead"===e.kind}function gE(e){return"LookaroundAssertion"===e.type&&"lookbehind"===e.kind}function gT(e){return e.replace(/[- _]+/g,"").toLowerCase()}function gS(e,t){return mO(e,"".concat((null==t?void 0:t.type)==="Character"&&93===t.value?"Empty":"Unclosed"," character class"))}function gw(e){return mO(e,"Unclosed group")}function gC(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;function r(e,t){for(let n=0;n<e.length;n++){let r=i(e[n],t,n,e);n=Math.max(-1,n+r)}}function i(a){var s,o;let l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,d=0,h=!1,p={node:a,parent:l,key:c,container:u,root:e,remove(){gA(u).splice(Math.max(0,gN(c)+d),1),d--,h=!0},removeAllNextSiblings:()=>gA(u).splice(gN(c)+1),removeAllPrevSiblings(){let e=gN(c)+d;return d-=e,gA(u).splice(0,Math.max(0,e))},replaceWith(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=!!t.traverse;u?u[Math.max(0,gN(c)+d)]=e:mO(l,"Can't replace root node")[c]=e,n&&i(e,l,c,u),h=!0},replaceWithMultiple(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=!!t.traverse;if(gA(u).splice(Math.max(0,gN(c)+d),1,...e),d+=e.length-1,n){let t=0;for(let n=0;n<e.length;n++)t+=i(e[n],l,gN(c)+n+t,u)}h=!0},skip(){h=!0}},{type:f}=a,m=t["*"],g=t[f],y="function"==typeof m?m:null==m?void 0:m.enter,b="function"==typeof g?g:null==g?void 0:g.enter;if(null==y||y(p,n),null==b||b(p,n),!h)switch(f){case"AbsenceFunction":case"CapturingGroup":case"Group":case"Alternative":case"CharacterClass":case"LookaroundAssertion":r(a.body,a);break;case"Assertion":case"Backreference":case"Character":case"CharacterSet":case"Directive":case"Flags":case"NamedCallout":case"Subroutine":break;case"CharacterClassRange":i(a.min,a,"min"),i(a.max,a,"max");break;case"Quantifier":i(a.body,a,"body");break;case"Regex":r(a.body,a),i(a.flags,a,"flags");break;default:throw Error('Unexpected node type "'.concat(f,'"'))}return null==g||null==(s=g.exit)||s.call(g,p,n),null==m||null==(o=m.exit)||o.call(m,p,n),d}return i(e),e}function gA(e){if(!Array.isArray(e))throw Error("Container expected");return e}function gN(e){if("number"!=typeof e)throw Error("Numeric key expected");return e}function gI(){let e=(0,mN._)(["(?(?:[:=!>A-Za-z-]|<[=!]|(DEFINE))"],["\\(\\?(?:[:=!>A-Za-z\\-]|<[=!]|\\(DEFINE\\))"]);return gI=function(){return e},e}let gD=String.raw(gI());function gM(){let e=(0,mN._)(["","|(?<$skip>[^?|\\?.)"],["","|(?<$skip>\\[\\^?|\\\\?.)"]);return gM=function(){return e},e}let gO=Object.freeze({DEFAULT:"DEFAULT",CHAR_CLASS:"CHAR_CLASS"});function gR(e,t,n,r){let i=RegExp(String.raw(gM(),t),"gsu"),a=[!1],s=0,o="";for(let t of e.matchAll(i)){let{0:e,groups:{$skip:i}}=t;if(!i&&(!r||r===gO.DEFAULT==!s)){n instanceof Function?o+=n(t,{context:s?gO.CHAR_CLASS:gO.DEFAULT,negated:a[a.length-1]}):o+=n;continue}"["===e[0]?(s++,a.push("^"===e[1])):"]"===e&&s&&(s--,a.pop()),o+=e}return o}function gP(e,t,n){return!!function(e,t){let n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3?arguments[3]:void 0;if(!RegExp(t,"su").test(e))return null;let a=RegExp("".concat(t,"|(?<$skip>\\\\?.)"),"gsu");a.lastIndex=r;let s=0;for(;n=a.exec(e);){let{0:e,groups:{$skip:t}}=n;if(!t&&(!i||i===gO.DEFAULT==!s))return n;"["===e?s++:"]"===e&&s&&s--,a.lastIndex==n.index&&a.lastIndex++}return null}(e,t,0,n)}function gL(){let e=(0,mN._)(["(?<noncapturingStart>",")|(?<capturingStart>((?:?<[^>]+>)?)|\\?."],["(?<noncapturingStart>",")|(?<capturingStart>\\((?:\\?<[^>]+>)?)|\\\\?."]);return gL=function(){return e},e}function gF(){let e=(0,mN._)(["\\(?<backrefNum>[1-9]d*)|<$$(?<wrappedBackrefNum>d+)>"],["\\\\(?<backrefNum>[1-9]\\d*)|<\\$\\$(?<wrappedBackrefNum>\\d+)>"]);return gF=function(){return e},e}function gj(){let e=(0,mN._)(["(?:[?*+]|{d+(?:,d*)?})"],["(?:[?*+]|\\{\\d+(?:,\\d*)?\\})"]);return gj=function(){return e},e}function gB(){let e=(0,mN._)(["\n\\(?: d+\n  | c[A-Za-z]\n  | [gk]<[^>]+>\n  | [pPu]{[^}]+}\n  | u[A-Fa-fd]{4}\n  | x[A-Fa-fd]{2}\n  )\n| ((?: ? (?: [:=!>]\n  | <(?:[=!]|[^>]+>)\n  | [A-Za-z-]+:\n  | (DEFINE)\n  ))?\n| (?<qBase>",")(?<qMod>[?+]?)(?<invalidQ>[?*+{]?)\n| \\?.\n"],["\n\\\\(?: \\d+\n  | c[A-Za-z]\n  | [gk]<[^>]+>\n  | [pPu]\\{[^\\}]+\\}\n  | u[A-Fa-f\\d]{4}\n  | x[A-Fa-f\\d]{2}\n  )\n| \\((?: \\? (?: [:=!>]\n  | <(?:[=!]|[^>]+>)\n  | [A-Za-z\\-]+:\n  | \\(DEFINE\\)\n  ))?\n| (?<qBase>",")(?<qMod>[?+]?)(?<invalidQ>[?*+\\{]?)\n| \\\\?.\n"]);return gB=function(){return e},e}let gH=RegExp(String.raw(gL(),gD),"gsu"),gU=String.raw(gj()),gz=RegExp(String.raw(gB(),gU).replace(/\s+/g,""),"gsu");function gV(){let e=(0,mN._)(["\\g<(?<gRNameOrNum>[^>&]+)&R=(?<gRDepth>[^>]+)>"],["\\\\g<(?<gRNameOrNum>[^>&]+)&R=(?<gRDepth>[^>]+)>"]);return gV=function(){return e},e}function gG(){let e=(0,mN._)(["(?R=(?<rDepth>[^)]+))|",""],["\\(\\?R=(?<rDepth>[^\\)]+)\\)|",""]);return gG=function(){return e},e}function gq(){let e=(0,mN._)(["(?<(?![=!])(?<captureName>[^>]+)>"],["\\(\\?<(?![=!])(?<captureName>[^>]+)>"]);return gq=function(){return e},e}function gZ(){let e=(0,mN._)(["","|(?<unnamed>()(?!?)"],["","|(?<unnamed>\\()(?!\\?)"]);return gZ=function(){return e},e}function g$(){let e=(0,mN._)(["","|","|(?|\\?."],["","|","|\\(\\?|\\\\?."]);return g$=function(){return e},e}function gW(){let e=(0,mN._)(["(?(DEFINE)"],["\\(\\?\\(DEFINE\\)"]);return gW=function(){return e},e}function gY(){let e=(0,mN._)(["\\[1-9]"],["\\\\[1-9]"]);return gY=function(){return e},e}function gK(){let e=(0,mN._)(["g<","&R=",">"],["\\g<","&R=",">"]);return gK=function(){return e},e}function gJ(){let e=(0,mN._)(['Recursive g cannot be used outside the referenced group "','"'],['Recursive \\g cannot be used outside the referenced group "','"']);return gJ=function(){return e},e}function gQ(){let e=(0,mN._)(["","|((?!?)"],["","|\\((?!\\?)"]);return gQ=function(){return e},e}function gX(){let e=(0,mN._)(["","|\\k<(?<backref>[^>]+)>"],["","|\\\\k<(?<backref>[^>]+)>"]);return gX=function(){return e},e}function g0(){let e=(0,mN._)(["k<","",">"],["\\k<","",">"]);return g0=function(){return e},e}let g1=String.raw,g2=g1(gV()),g5=g1(gG(),g2),g3=g1(gq()),g4=g1(gZ(),g3),g6=RegExp(g1(g$(),g3,g5),"gsu"),g9="Cannot use multiple overlapping recursions";function g8(e){let t="Max depth must be integer between 2 and 100; used ".concat(e);if(!/^[1-9]\d*$/.test(e)||(e*=1)<2||e>100)throw Error(t)}function g7(e,t,n,r,i,a,s){let o=new Set;r&&gR(e+t,g3,e=>{let{groups:{captureName:t}}=e;o.add(t)},gO.DEFAULT);let l=[n,r?o:null,i,a,s];return"".concat(e).concat(ye("(?:".concat(e),"forward",...l),"(?:)").concat(ye("".concat(t,")"),"backward",...l)).concat(t)}function ye(e,t,n,r,i,a,s){let o=e=>"forward"===t?e+2:n-e+2-1,l="";for(let t=0;t<n;t++){let n=o(t);l+=gR(e,g1(gX(),g4),e=>{let{0:t,groups:{captureName:o,unnamed:l,backref:c}}=e;if(c&&r&&!r.has(c))return t;let u="_$".concat(n);if(l||o){let e=s+a.length+1;return a.push(e),function(e,t){for(let n=0;n<e.length;n++)e[n]>=t&&e[n]++}(i,e),l?t:"(?<".concat(o).concat(u,">")}return g1(g0(),c,u)},gO.DEFAULT)}return l}function yt(e,t,n,r,i,a){if(e.size&&r){let s=0;gR(t,g4,()=>s++,gO.DEFAULT);let o=a-s+i,l=new Map;return e.forEach((e,t)=>{let i=(r-s*n)/n,a=s*n,c=t>o+s?t+r:t,u=[];for(let t of e)if(t<=o)u.push(t);else if(t>o+s+i)u.push(t+r);else if(t<=o+s)for(let e=0;e<=n;e++)u.push(t+s*e);else for(let e=0;e<=n;e++)u.push(t+a+i*e);l.set(c,u)}),l}return e}function yn(){let e=(0,mN._)(["[d-a]"],["[\\d\\-a]"]);return yn=function(){return e},e}function yr(){let e=(0,mN._)(["[p{L}p{M}p{N}p{Pc}]"],["[\\p{L}\\p{M}\\p{N}\\p{Pc}]"]);return yr=function(){return e},e}function yi(){let e=(0,mN._)(["[p{Alpha}p{Nd}]"],["[\\p{Alpha}\\p{Nd}]"]);return yi=function(){return e},e}function ya(){let e=(0,mN._)(["p{Alpha}"],["\\p{Alpha}"]);return ya=function(){return e},e}function ys(){let e=(0,mN._)(["p{ASCII}"],["\\p{ASCII}"]);return ys=function(){return e},e}function yo(){let e=(0,mN._)(["[p{Zs}	]"],["[\\p{Zs}\\t]"]);return yo=function(){return e},e}function yl(){let e=(0,mN._)(["p{Cc}"],["\\p{Cc}"]);return yl=function(){return e},e}function yc(){let e=(0,mN._)(["p{Nd}"],["\\p{Nd}"]);return yc=function(){return e},e}function yu(){let e=(0,mN._)(["[P{space}&&P{Cc}&&P{Cn}&&P{Cs}]"],["[\\P{space}&&\\P{Cc}&&\\P{Cn}&&\\P{Cs}]"]);return yu=function(){return e},e}function yd(){let e=(0,mN._)(["p{Lower}"],["\\p{Lower}"]);return yd=function(){return e},e}function yh(){let e=(0,mN._)(["[[P{space}&&P{Cc}&&P{Cn}&&P{Cs}]p{Zs}]"],["[[\\P{space}&&\\P{Cc}&&\\P{Cn}&&\\P{Cs}]\\p{Zs}]"]);return yh=function(){return e},e}function yp(){let e=(0,mN._)(["[p{P}p{S}]"],["[\\p{P}\\p{S}]"]);return yp=function(){return e},e}function yf(){let e=(0,mN._)(["p{space}"],["\\p{space}"]);return yf=function(){return e},e}function ym(){let e=(0,mN._)(["p{Upper}"],["\\p{Upper}"]);return ym=function(){return e},e}function yg(){let e=(0,mN._)(["[p{Alpha}p{M}p{Nd}p{Pc}]"],["[\\p{Alpha}\\p{M}\\p{Nd}\\p{Pc}]"]);return yg=function(){return e},e}function yy(){let e=(0,mN._)(["p{AHex}"],["\\p{AHex}"]);return yy=function(){return e},e}function yb(){let e=(0,mN._)(["(?<=A|\n(?!z))"],["(?<=\\A|\\n(?!\\z))"]);return yb=function(){return e},e}function yv(){let e=(0,mN._)(['Uses "G" in a way that requires a subclass'],['Uses "\\G" in a way that requires a subclass']);return yv=function(){return e},e}function yk(){let e=(0,mN._)(["(?=\n?z)"],["(?=\\n?\\z)"]);return yk=function(){return e},e}function yx(){let e=(0,mN._)(['Use of "X" requires non-strict accuracy'],['Use of "\\X" requires non-strict accuracy']);return yx=function(){return e},e}function y_(){let e=(0,mN._)(["p{RI}{2}|","(?:",")*"],["\\p{RI}{2}|","(?:\\u200D",")*"]);return y_=function(){return e},e}function yE(){let e=(0,mN._)(["p{RGI_Emoji}"],["\\p{RGI_Emoji}"]);return yE=function(){return e},e}function yT(){let e=(0,mN._)(["(?>\r\n|","|P{M}p{M}*)"],["(?>\\r\\n|","|\\P{M}\\p{M}*)"]);return yT=function(){return e},e}function yS(){let e=(0,mN._)(['Uses "K" in a way that\'s unsupported'],['Uses "\\K" in a way that\'s unsupported']);return yS=function(){return e},e}function yw(){let e=(0,mN._)(['Uses "G" in a way that requires non-strict accuracy'],['Uses "\\G" in a way that requires non-strict accuracy']);return yw=function(){return e},e}function yC(){let e=(0,mN._)(["B"],["\\B"]);return yC=function(){return e},e}function yA(){let e=(0,mN._)(["\b"],["\\b"]);return yA=function(){return e},e}function yN(){let e=(0,mN._)(["[^\n]"],["[^\\n]"]);return yN=function(){return e},e}function yI(){let e=(0,mN._)(["D"],["\\D"]);return yI=function(){return e},e}function yD(){let e=(0,mN._)(["d"],["\\d"]);return yD=function(){return e},e}function yM(){let e=(0,mN._)(["P"],["\\P"]);return yM=function(){return e},e}function yO(){let e=(0,mN._)(["p"],["\\p"]);return yO=function(){return e},e}function yR(){let e=(0,mN._)(["W"],["\\W"]);return yR=function(){return e},e}function yP(){let e=(0,mN._)(["w"],["\\w"]);return yP=function(){return e},e}function yL(){let e=(0,mN._)(["g<","&R=",">"],["\\g<","&R=",">"]);return yL=function(){return e},e}function yF(){let e=(0,mN._)(["	"],["\\t"]);return yF=function(){return e},e}function yj(){let e=(0,mN._)(["\n"],["\\n"]);return yj=function(){return e},e}function yB(){let e=(0,mN._)(["\v"],["\\v"]);return yB=function(){return e},e}function yH(){let e=(0,mN._)(["\f"],["\\f"]);return yH=function(){return e},e}function yU(){let e=(0,mN._)(["\r"],["\\r"]);return yU=function(){return e},e}function yz(){let e=(0,mN._)(["\u2028"],["\\u2028"]);return yz=function(){return e},e}function yV(){let e=(0,mN._)(["\u2029"],["\\u2029"]);return yV=function(){return e},e}function yG(){let e=(0,mN._)(["\uFEFF"],["\\uFEFF"]);return yG=function(){return e},e}var yq=String.fromCodePoint,yZ=String.raw,y$={flagGroups:(()=>{try{RegExp("(?i:)")}catch(e){return!1}return!0})(),unicodeSets:(()=>{try{RegExp("","v")}catch(e){return!1}return!0})()};function yW(e,t){let{enable:n,disable:r}=t;return{dotAll:!(null==r?void 0:r.dotAll)&&!!((null==n?void 0:n.dotAll)||e.dotAll),ignoreCase:!(null==r?void 0:r.ignoreCase)&&!!((null==n?void 0:n.ignoreCase)||e.ignoreCase)}}function yY(e,t,n){return e.has(t)||e.set(t,n),e.get(t)}y$.bugFlagVLiteralHyphenIsRange=!!y$.unicodeSets&&(()=>{try{RegExp(yZ(yn()),"v")}catch(e){return!0}return!1})(),y$.bugNestedClassIgnoresNegation=y$.unicodeSets&&RegExp("[[^a]]","v").test("a");var yK={ES2025:2025,ES2024:2024,ES2018:2018},yJ={auto:"auto",ES2025:"ES2025",ES2024:"ES2024",ES2018:"ES2018"};function yQ(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if("[object Object]"!==({}).toString.call(e))throw Error("Unexpected options");if(void 0!==e.target&&!yJ[e.target])throw Error('Unexpected target "'.concat(e.target,'"'));let t={accuracy:"default",avoidSubclass:!1,flags:"",global:!1,hasIndices:!1,lazyCompileLength:1/0,target:"auto",verbose:!1,...e,rules:{allowOrphanBackrefs:!1,asciiWordBoundaries:!1,captureGroup:!1,recursionLimit:20,singleline:!1,...e.rules}};return"auto"===t.target&&(t.target=y$.flagGroups?"ES2025":y$.unicodeSets?"ES2024":"ES2018"),t}var yX=new Set([yq(304),yq(305)]),y0=yZ(yr());function y1(e){if(yX.has(e))return[e];let t=new Set,n=e.toLowerCase(),r=n.toUpperCase(),i=y4.get(n),a=y5.get(n),s=y3.get(n);return 1==[...r].length&&t.add(r),s&&t.add(s),i&&t.add(i),t.add(n),a&&t.add(a),[...t]}var y2=new Map("C Other\nCc Control cntrl\nCf Format\nCn Unassigned\nCo Private_Use\nCs Surrogate\nL Letter\nLC Cased_Letter\nLl Lowercase_Letter\nLm Modifier_Letter\nLo Other_Letter\nLt Titlecase_Letter\nLu Uppercase_Letter\nM Mark Combining_Mark\nMc Spacing_Mark\nMe Enclosing_Mark\nMn Nonspacing_Mark\nN Number\nNd Decimal_Number digit\nNl Letter_Number\nNo Other_Number\nP Punctuation punct\nPc Connector_Punctuation\nPd Dash_Punctuation\nPe Close_Punctuation\nPf Final_Punctuation\nPi Initial_Punctuation\nPo Other_Punctuation\nPs Open_Punctuation\nS Symbol\nSc Currency_Symbol\nSk Modifier_Symbol\nSm Math_Symbol\nSo Other_Symbol\nZ Separator\nZl Line_Separator\nZp Paragraph_Separator\nZs Space_Separator\nASCII\nASCII_Hex_Digit AHex\nAlphabetic Alpha\nAny\nAssigned\nBidi_Control Bidi_C\nBidi_Mirrored Bidi_M\nCase_Ignorable CI\nCased\nChanges_When_Casefolded CWCF\nChanges_When_Casemapped CWCM\nChanges_When_Lowercased CWL\nChanges_When_NFKC_Casefolded CWKCF\nChanges_When_Titlecased CWT\nChanges_When_Uppercased CWU\nDash\nDefault_Ignorable_Code_Point DI\nDeprecated Dep\nDiacritic Dia\nEmoji\nEmoji_Component EComp\nEmoji_Modifier EMod\nEmoji_Modifier_Base EBase\nEmoji_Presentation EPres\nExtended_Pictographic ExtPict\nExtender Ext\nGrapheme_Base Gr_Base\nGrapheme_Extend Gr_Ext\nHex_Digit Hex\nIDS_Binary_Operator IDSB\nIDS_Trinary_Operator IDST\nID_Continue IDC\nID_Start IDS\nIdeographic Ideo\nJoin_Control Join_C\nLogical_Order_Exception LOE\nLowercase Lower\nMath\nNoncharacter_Code_Point NChar\nPattern_Syntax Pat_Syn\nPattern_White_Space Pat_WS\nQuotation_Mark QMark\nRadical\nRegional_Indicator RI\nSentence_Terminal STerm\nSoft_Dotted SD\nTerminal_Punctuation Term\nUnified_Ideograph UIdeo\nUppercase Upper\nVariation_Selector VS\nWhite_Space space\nXID_Continue XIDC\nXID_Start XIDS".split(/\s/).map(e=>[gT(e),e])),y5=new Map([["s",yq(383)],[yq(383),"s"]]),y3=new Map([[yq(223),yq(7838)],[yq(107),yq(8490)],[yq(229),yq(8491)],[yq(969),yq(8486)]]),y4=new Map([y9(453),y9(456),y9(459),y9(498),...y8(8072,8079),...y8(8088,8095),...y8(8104,8111),y9(8124),y9(8140),y9(8188)]),y6=new Map([["alnum",yZ(yi())],["alpha",yZ(ya())],["ascii",yZ(ys())],["blank",yZ(yo())],["cntrl",yZ(yl())],["digit",yZ(yc())],["graph",yZ(yu())],["lower",yZ(yd())],["print",yZ(yh())],["punct",yZ(yp())],["space",yZ(yf())],["upper",yZ(ym())],["word",yZ(yg())],["xdigit",yZ(yy())]]);function y9(e){let t=yq(e);return[t.toLowerCase(),t]}function y8(e,t){return(function(e,t){let n=[];for(let r=e;r<=t;r++)n.push(r);return n})(e,t).map(e=>y9(e))}var y7=new Set(["Lower","Lowercase","Upper","Uppercase","Ll","Lowercase_Letter","Lt","Titlecase_Letter","Lu","Uppercase_Letter"]),be={AbsenceFunction(e){let{node:t,parent:n,replaceWith:r}=e,{body:i,kind:a}=t;if("repeater"===a){let e=gm();e.body[0].body.push(gg({negate:!0,body:i}),gv("Any"));let t=gm();t.body[0].body.push(gy("greedy",0,1/0,e)),r(bh(t,n),{traverse:!0})}else throw Error('Unsupported absence function "(?~|"')},Alternative:{enter(e,t){let{node:n,parent:r,key:i}=e,{flagDirectivesByAlt:a}=t,s=n.body.filter(e=>"flags"===e.kind);for(let e=i+1;e<r.body.length;e++)yY(a,r.body[e],[]).push(...s)},exit(e,t){var n;let{node:r}=e,{flagDirectivesByAlt:i}=t;if(null==(n=i.get(r))?void 0:n.length){let e=bs(i.get(r));if(e){let t=gm({flags:e});t.body[0].body=r.body,r.body=[bh(t,r)]}}}},Assertion(e,t){let{node:n,parent:r,key:i,container:a,root:s,remove:o,replaceWith:l}=e,{kind:c,negate:u}=n,{asciiWordBoundaries:d,avoidSubclass:h,supportedGNodes:p,wordIsAscii:f}=t;if("text_segment_boundary"===c)throw Error('Unsupported text segment boundary "\\'.concat(u?"Y":"y",'"'));if("line_end"===c)l(bh(gg({body:[gl({body:[gc("string_end")]}),gl({body:[gh(10)]})]}),r));else if("line_start"===c)l(bh(bc(yZ(yb()),{skipLookbehindValidation:!0}),r));else if("search_start"===c)if(p.has(n))s.flags.sticky=!0,o();else{let e=a[i-1];if(e&&function(e){let t=["Character","CharacterClass","CharacterSet"];return t.includes(e.type)||"Quantifier"===e.type&&e.min&&t.includes(e.body.type)}(e))l(bh(gg({negate:!0}),r));else if(h)throw Error(yZ(yv()));else l(bd(gc("string_start"),r)),t.strategy="clip_search"}else if("string_end"===c||"string_start"===c);else if("string_end_newline"===c)l(bh(bc(yZ(yk())),r));else if("word_boundary"===c){if(!f&&!d){let e="(?:(?<=".concat(y0,")(?!").concat(y0,")|(?<!").concat(y0,")(?=").concat(y0,"))"),t="(?:(?<=".concat(y0,")(?=").concat(y0,")|(?<!").concat(y0,")(?!").concat(y0,"))");l(bh(bc(u?t:e),r))}}else throw Error('Unexpected assertion kind "'.concat(c,'"'))},Backreference(e,t){let{node:n}=e,{jsGroupNameMap:r}=t,{ref:i}=n;"string"!=typeof i||bl(i)||(n.ref=i=ba(i,r))},CapturingGroup(e,t){let{node:n}=e,{jsGroupNameMap:r,subroutineRefMap:i}=t,{name:a}=n;a&&!bl(a)&&(n.name=a=ba(a,r)),i.set(n.number,n),a&&i.set(a,n)},CharacterClassRange(e){let{node:t,parent:n,replaceWith:r}=e;"intersection"===n.kind&&r(bh(gp({body:[t]}),n),{traverse:!0})},CharacterSet(e,t){let{node:n,parent:r,replaceWith:i}=e,{accuracy:a,minTargetEs2024:s,digitIsAscii:o,spaceIsAscii:l,wordIsAscii:c}=t,{kind:u,negate:d,value:h}=n;if(o&&("digit"===u||"digit"===h))return void i(bd(gf("digit",{negate:d}),r));if(l&&("space"===u||"space"===h))return void i(bh(bu(bc("[	-\r ]"),d),r));if(c&&("word"===u||"word"===h))return void i(bd(gf("word",{negate:d}),r));if("any"===u)i(bd(gv("Any"),r));else if("digit"===u)i(bd(gv("Nd",{negate:d}),r));else if("dot"===u);else if("text_segment"===u){if("strict"===a)throw Error(yZ(yx()));let e="\\p{Emoji}(?:\\p{EMod}|\\uFE0F\\u20E3?|[\\x{E0020}-\\x{E007E}]+\\x{E007F})?",t=yZ(y_(),e,e);i(bh(bc(yZ(yT(),s?yZ(yE()):t),{skipPropertyNameValidation:!0}),r))}else if("hex"===u)i(bd(gv("AHex",{negate:d}),r));else if("newline"===u)i(bh(bc(d?"[^\n]":"(?>\r\n?|[\n\v\f\u2028\u2029])"),r));else if("posix"===u)if(s||"graph"!==h&&"print"!==h)i(bh(bu(bc(y6.get(h)),d),r));else{if("strict"===a)throw Error('POSIX class "'.concat(h,'" requires min target ES2024 or non-strict accuracy'));let e={graph:"!-~",print:" -~"}[h];d&&(e="\0-".concat(yq(e.codePointAt(0)-1)).concat(yq(e.codePointAt(2)+1),"-")),i(bh(bc("[".concat(e,"]")),r))}else if("property"===u)y2.has(gT(h))||(n.key="sc");else if("space"===u)i(bd(gv("space",{negate:d}),r));else if("word"===u)i(bh(bu(bc(y0),d),r));else throw Error('Unexpected character set kind "'.concat(u,'"'))},Directive(e){let{node:t,parent:n,root:r,remove:i,replaceWith:a,removeAllPrevSiblings:s,removeAllNextSiblings:o}=e,{kind:l,flags:c}=t;if("flags"===l)if(c.enable||c.disable){let e=gm({flags:c});e.body[0].body=o(),a(bh(e,n),{traverse:!0})}else i();else if("keep"===l){let e=r.body[0],t=1===r.body.length&&ge(e,{type:"Group"})&&1===e.body[0].body.length?e.body[0]:r;if(n.parent!==t||t.body.length>1)throw Error(yZ(yS()));let i=gg({behind:!0});i.body[0].body=s(),a(bh(i,n))}else throw Error('Unexpected directive kind "'.concat(l,'"'))},Flags(e){var t;let{node:n,parent:r}=e;if(n.posixIsAscii)throw Error('Unsupported flag "P"');if("word"===n.textSegmentMode)throw Error('Unsupported flag "y{w}"');["digitIsAscii","extended","posixIsAscii","spaceIsAscii","wordIsAscii","textSegmentMode"].forEach(e=>delete n[e]),Object.assign(n,{global:!1,hasIndices:!1,multiline:!1,sticky:null!=(t=n.sticky)&&t}),r.options={disable:{x:!0,n:!0},force:{v:!0}}},Group(e){let{node:t}=e;if(!t.flags)return;let{enable:n,disable:r}=t.flags;(null==n?void 0:n.extended)&&delete n.extended,(null==r?void 0:r.extended)&&delete r.extended,(null==n?void 0:n.dotAll)&&(null==r?void 0:r.dotAll)&&delete n.dotAll,(null==n?void 0:n.ignoreCase)&&(null==r?void 0:r.ignoreCase)&&delete n.ignoreCase,n&&!Object.keys(n).length&&delete t.flags.enable,r&&!Object.keys(r).length&&delete t.flags.disable,t.flags.enable||t.flags.disable||delete t.flags},LookaroundAssertion(e,t){let{node:n}=e,{kind:r}=n;"lookbehind"===r&&(t.passedLookbehind=!0)},NamedCallout(e){let{node:t,parent:n,replaceWith:r}=e,{kind:i}=t;if("fail"===i)r(bh(gg({negate:!0}),n));else throw Error('Unsupported named callout "(*'.concat(i.toUpperCase(),'"'))},Quantifier(e){let{node:t}=e;if("Quantifier"===t.body.type){let e=gm();e.body[0].body.push(t.body),t.body=bh(e,t)}},Regex:{enter(e,t){let{node:n}=e,{supportedGNodes:r}=t,i=[],a=!1,s=!1;for(let e of n.body)if(1===e.body.length&&"search_start"===e.body[0].kind)e.body.pop();else{let t=function e(t){let n=t.find(e=>"search_start"===e.kind||function(e,t){let n={negate:null,...t};return"LookaroundAssertion"===e.type&&(null===n.negate||e.negate===n.negate)&&1===e.body.length&&ge(e.body[0],{type:"Assertion",kind:"search_start"})}(e,{negate:!1})||!function(e){let{type:t}=e;return"Assertion"===t||"Directive"===t||"LookaroundAssertion"===t}(e));if(!n)return null;if("search_start"===n.kind)return n;if("LookaroundAssertion"===n.type)return n.body[0].body[0];if("CapturingGroup"===n.type||"Group"===n.type){let t=[];for(let r of n.body){let n=e(r.body);if(!n)return null;Array.isArray(n)?t.push(...n):t.push(n)}return t}return null}(e.body);t?(a=!0,Array.isArray(t)?i.push(...t):i.push(t)):s=!0}a&&!s&&i.forEach(e=>r.add(e))},exit(e,t){let{accuracy:n,passedLookbehind:r,strategy:i}=t;if("strict"===n&&r&&i)throw Error(yZ(yw()))}},Subroutine(e,t){let{node:n}=e,{jsGroupNameMap:r}=t,{ref:i}=n;"string"!=typeof i||bl(i)||(n.ref=i=ba(i,r))}},bt={Backreference(e,t){let{node:n}=e,{multiplexCapturesToLeftByRef:r,reffedNodesByReferencer:i}=t,{orphan:a,ref:s}=n;a||i.set(n,[...r.get(s).map(e=>{let{node:t}=e;return t})])},CapturingGroup:{enter(e,t){var n;let{node:r,parent:i,replaceWith:a,skip:s}=e,{groupOriginByCopy:o,groupsByName:l,multiplexCapturesToLeftByRef:c,openRefs:u,reffedNodesByReferencer:d}=t,h=o.get(r);if(h&&u.has(r.number)){let e=bd(bi(r.number),i);d.set(e,u.get(r.number)),a(e);return}u.set(r.number,r),c.set(r.number,[]),r.name&&yY(c,r.name,[]);let p=c.get(null!=(n=r.name)?n:r.number);for(let e=0;e<p.length;e++){let t=p[e];if(h===t.node||h&&h===t.origin||r===t.origin){p.splice(e,1);break}}if(c.get(r.number).push({node:r,origin:h}),r.name&&c.get(r.name).push({node:r,origin:h}),r.name){let e=yY(l,r.name,new Map),t=!1;if(h)t=!0;else for(let n of e.values())if(!n.hasDuplicateNameToRemove){t=!0;break}l.get(r.name).set(r,{node:r,hasDuplicateNameToRemove:t})}},exit(e,t){let{node:n}=e,{openRefs:r}=t;r.delete(n.number)}},Group:{enter(e,t){let{node:n}=e;t.prevFlags=t.currentFlags,n.flags&&(t.currentFlags=yW(t.currentFlags,n.flags))},exit(e,t){t.currentFlags=t.prevFlags}},Subroutine(e,t){let{node:n,parent:r,replaceWith:i}=e,{isRecursive:a,ref:s}=n;if(a){let e=r;for(;(e=e.parent)&&("CapturingGroup"!==e.type||e.name!==s&&e.number!==s););t.reffedNodesByReferencer.set(n,e);return}let o=t.subroutineRefMap.get(s),l=0===s,c=l?bi(0):function e(t,n,r,i){let a=Array.isArray(t)?[]:{};for(let[o,l]of Object.entries(t))if("parent"===o)a.parent=Array.isArray(r)?i:r;else if(l&&"object"==typeof l)a[o]=e(l,n,a,r);else{if("type"===o&&"CapturingGroup"===l){var s;n.set(a,null!=(s=n.get(t))?s:t)}a[o]=l}return a}(o,t.groupOriginByCopy,null),u=c;if(!l){var d,h;let e=bs(function(e,t){let n=[];for(;e=e.parent;)(!t||t(e))&&n.push(e);return n}(o,e=>"Group"===e.type&&!!e.flags)),n=e?yW(t.globalFlags,e):t.globalFlags;d=n,h=t.currentFlags,(d.dotAll!==h.dotAll||d.ignoreCase!==h.ignoreCase)&&(u=gm({flags:function(e){let{dotAll:t,ignoreCase:n}=e,r={};return(t||n)&&(r.enable={},t&&(r.enable.dotAll=!0),n&&(r.enable.ignoreCase=!0)),t&&n||(r.disable={},t||(r.disable.dotAll=!0),n||(r.disable.ignoreCase=!0)),r}(n)})).body[0].body.push(c)}i(bh(u,r),{traverse:!l})}},bn={Backreference(e,t){let{node:n,parent:r,replaceWith:i}=e;if(n.orphan){t.highestOrphanBackref=Math.max(t.highestOrphanBackref,n.ref);return}let a=t.reffedNodesByReferencer.get(n).filter(e=>(function(e,t){let n=t;do{if("Regex"===n.type)return!1;if("Alternative"===n.type)continue;if(n===e)return!1;for(let t of bo(n.parent)){if(t===n)break;if(t===e||function e(t,n){var r;for(let i of null!=(r=bo(t))?r:[])if(i===n||e(i,n))return!0;return!1}(t,e))return!0}}while(n=n.parent)throw Error("Unexpected path")})(e,n));a.length?a.length>1?i(bh(gm({atomic:!0,body:a.reverse().map(e=>gl({body:[gu(e.number)]}))}),r)):n.ref=a[0].number:i(bh(gg({negate:!0}),r))},CapturingGroup(e,t){let{node:n}=e;n.number=++t.numCapturesToLeft,n.name&&t.groupsByName.get(n.name).get(n).hasDuplicateNameToRemove&&delete n.name},Regex:{exit(e,t){let{node:n}=e,r=Math.max(t.highestOrphanBackref-t.numCapturesToLeft,0);for(let e=0;e<r;e++){let e=gd();n.body.at(-1).body.push(e)}}},Subroutine(e,t){let{node:n}=e;n.isRecursive&&0!==n.ref&&(n.ref=t.reffedNodesByReferencer.get(n).number)}};function br(e){gC(e,{"*"(e){let{node:t,parent:n}=e;t.parent=n}})}function bi(e){let t=gb(e);return t.isRecursive=!0,t}function ba(e,t){if(t.has(e))return t.get(e);let n="$".concat(t.size,"_").concat(e.replace(RegExp("^[^$_\\p{IDS}]|[^$\\u200C\\u200D\\p{IDC}]","ug"),"_"));return t.set(e,n),n}function bs(e){let t=["dotAll","ignoreCase"],n={enable:{},disable:{}};return(e.forEach(e=>{let{flags:r}=e;t.forEach(e=>{var t,i;(null==(t=r.enable)?void 0:t[e])&&(delete n.disable[e],n.enable[e]=!0),(null==(i=r.disable)?void 0:i[e])&&(n.disable[e]=!0)})}),Object.keys(n.enable).length||delete n.enable,Object.keys(n.disable).length||delete n.disable,n.enable||n.disable)?n:null}function bo(e){if(!e)throw Error("Node expected");let{body:t}=e;return Array.isArray(t)?t:t?[t]:null}function bl(e){return RegExp("^[$_\\p{IDS}][$\\u200C\\u200D\\p{IDC}]*$","u").test(e)}function bc(e,t){let n=go(e,{...t,unicodePropertyMap:y2}).body;return n.length>1||n[0].body.length>1?gm({body:n}):n[0].body[0]}function bu(e,t){return e.negate=t,e}function bd(e,t){return e.parent=t,e}function bh(e,t){return br(e),e.parent=t,e}var bp={"*":{enter(e,t){let{node:n}=e;if(bE(n)){let e=t.getCurrentModI();t.pushModI(n.flags?yW({ignoreCase:e},n.flags).ignoreCase:e)}},exit(e,t){let{node:n}=e;bE(n)&&t.popModI()}},Backreference(e,t){t.setHasCasedChar()},Character(e,t){let{node:n}=e;bk(yq(n.value))&&t.setHasCasedChar()},CharacterClassRange(e,t){let{node:n,skip:r}=e;r(),bx(n,{firstOnly:!0}).length&&t.setHasCasedChar()},CharacterSet(e,t){let{node:n}=e;"property"===n.kind&&y7.has(n.value)&&t.setHasCasedChar()}},bf={Alternative(e,t,n){let{body:r}=e;return r.map(n).join("")},Assertion(e){let{kind:t,negate:n}=e;if("string_end"===t)return"$";if("string_start"===t)return"^";if("word_boundary"===t)return n?yZ(yC()):yZ(yA());throw Error('Unexpected assertion kind "'.concat(t,'"'))},Backreference(e,t){let{ref:n}=e;if("number"!=typeof n)throw Error("Unexpected named backref in transformed AST");if(!t.useFlagMods&&"strict"===t.accuracy&&t.currentFlags.ignoreCase&&!t.captureMap.get(n).ignoreCase)throw Error("Use of case-insensitive backref to case-sensitive group requires target ES2025 or non-strict accuracy");return"\\"+n},CapturingGroup(e,t,n){let{body:r,name:i,number:a}=e,s={ignoreCase:t.currentFlags.ignoreCase},o=t.originMap.get(e);return o&&(s.hidden=!0,a>o.number&&(s.transferTo=o.number)),t.captureMap.set(a,s),"(".concat(i?"?<".concat(i,">"):"").concat(r.map(n).join("|"),")")},Character(e,t){let{value:n}=e,r=yq(n),i=b_(n,{escDigit:"Backreference"===t.lastNode.type,inCharClass:t.inCharClass,useFlagV:t.useFlagV});if(i!==r)return i;if(t.useAppliedIgnoreCase&&t.currentFlags.ignoreCase&&bk(r)){let e=y1(r);return t.inCharClass?e.join(""):e.length>1?"[".concat(e.join(""),"]"):e[0]}return r},CharacterClass(e,t,n){let{kind:r,negate:i,parent:a}=e,{body:s}=e;if("intersection"===r&&!t.useFlagV)throw Error("Use of class intersection requires min target ES2024");y$.bugFlagVLiteralHyphenIsRange&&t.useFlagV&&s.some(bT)&&(s=[gh(45),...s.filter(e=>!bT(e))]);let o=()=>"[".concat(i?"^":"").concat(s.map(n).join("intersection"===r?"&&":""),"]");if(!t.inCharClass){if((!t.useFlagV||y$.bugNestedClassIgnoresNegation)&&!i){let t=s.filter(e=>"CharacterClass"===e.type&&"union"===e.kind&&e.negate);if(t.length){let r=gm(),i=r.body[0];return r.parent=a,i.parent=r,e.body=s=s.filter(e=>!t.includes(e)),s.length?(e.parent=i,i.body.push(e)):r.body.pop(),t.forEach(e=>{let t=gl({body:[e]});e.parent=t,t.parent=r,r.body.push(t)}),n(r)}}t.inCharClass=!0;let r=o();return t.inCharClass=!1,r}let l=s[0];if("union"===r&&!i&&l&&((!t.useFlagV||!t.verbose)&&"union"===a.kind&&!(y$.bugFlagVLiteralHyphenIsRange&&t.useFlagV)||!t.verbose&&"intersection"===a.kind&&1===s.length&&"CharacterClassRange"!==l.type))return s.map(n).join("");if(!t.useFlagV&&"CharacterClass"===a.type)throw Error("Use of nested character class requires min target ES2024");return o()},CharacterClassRange(e,t){let n=e.min.value,r=e.max.value,i={escDigit:!1,inCharClass:!0,useFlagV:t.useFlagV},a=b_(n,i),s=b_(r,i),o=new Set;return t.useAppliedIgnoreCase&&t.currentFlags.ignoreCase&&(function(e){let t=e.map(e=>e.codePointAt(0)).sort((e,t)=>e-t),n=[],r=null;for(let e=0;e<t.length;e++)t[e+1]===t[e]+1?null!=r||(r=t[e]):null===r?n.push(t[e]):(n.push([r,t[e]]),r=null);return n})(bx(e)).forEach(e=>{o.add(Array.isArray(e)?"".concat(b_(e[0],i),"-").concat(b_(e[1],i)):b_(e,i))}),"".concat(a,"-").concat(s).concat([...o].join(""))},CharacterSet(e,t){let{kind:n,negate:r,value:i,key:a}=e;if("dot"===n)return t.currentFlags.dotAll?t.appliedGlobalFlags.dotAll||t.useFlagMods?".":"[^]":yZ(yN());if("digit"===n)return r?yZ(yI()):yZ(yD());if("property"===n){if(t.useAppliedIgnoreCase&&t.currentFlags.ignoreCase&&y7.has(i))throw Error('Unicode property "'.concat(i,"\" can't be case-insensitive when other chars have specific case"));return"".concat(r?yZ(yM()):yZ(yO()),"{").concat(a?"".concat(a,"="):"").concat(i,"}")}if("word"===n)return r?yZ(yR()):yZ(yP());throw Error('Unexpected character set kind "'.concat(n,'"'))},Flags:(e,t)=>(t.appliedGlobalFlags.ignoreCase?"i":"")+(e.dotAll?"s":"")+(e.sticky?"y":""),Group(e,t,n){let{atomic:r,body:i,flags:a,parent:s}=e,o=t.currentFlags;a&&(t.currentFlags=yW(o,a));let l=i.map(n).join("|"),c=t.verbose||1!==i.length||"Quantifier"===s.type||r||t.useFlagMods&&a?"(?".concat(function(e,t,n){if(e)return">";let r="";if(t&&n){let{enable:e,disable:n}=t;r=((null==e?void 0:e.ignoreCase)?"i":"")+((null==e?void 0:e.dotAll)?"s":"")+(n?"-":"")+((null==n?void 0:n.ignoreCase)?"i":"")+((null==n?void 0:n.dotAll)?"s":"")}return"".concat(r,":")}(r,a,t.useFlagMods)).concat(l,")"):l;return t.currentFlags=o,c},LookaroundAssertion(e,t,n){let{body:r,kind:i,negate:a}=e,s="".concat("lookahead"===i?"":"<").concat(a?"!":"=");return"(?".concat(s).concat(r.map(n).join("|"),")")},Quantifier:(e,t,n)=>n(e.body)+function(e){let{kind:t,max:n,min:r}=e;return(r||1!==n?r||n!==1/0?1===r&&n===1/0?"+":r===n?"{".concat(r,"}"):"{".concat(r,",").concat(n===1/0?"":n,"}"):"*":"?")+({greedy:"",lazy:"?",possessive:"+"})[t]}(e),Subroutine(e,t){let{isRecursive:n,ref:r}=e;if(!n)throw Error("Unexpected non-recursive subroutine in transformed AST");let i=t.recursionLimit;return 0===r?"(?R=".concat(i,")"):yZ(yL(),r,i)}},bm=new Set(["$","(",")","*","+",".","?","[","\\","]","^","{","|","}"]),bg=new Set(["-","\\","]","^","["]),by=new Set(["(",")","-","/","[","\\","]","^","{","|","}","!","#","$","%","&","*","+",",",".",":",";","<","=",">","?","@","`","~"]),bb=new Map([[9,yZ(yF())],[10,yZ(yj())],[11,yZ(yB())],[12,yZ(yH())],[13,yZ(yU())],[8232,yZ(yz())],[8233,yZ(yV())],[65279,yZ(yG())]]),bv=RegExp("^\\p{Cased}$","u");function bk(e){return bv.test(e)}function bx(e,t){let n=!!(null==t?void 0:t.firstOnly),r=e.min.value,i=e.max.value,a=[];if(r<65&&(65535===i||i>=131071)||65536===r&&i>=131071)return a;for(let e=r;e<=i;e++){let t=yq(e);if(!bk(t))continue;let s=y1(t).filter(e=>{let t=e.codePointAt(0);return t<r||t>i});if(s.length&&(a.push(...s),n))break}return a}function b_(e,t){var n;let{escDigit:r,inCharClass:i,useFlagV:a}=t;if(bb.has(e))return bb.get(e);if(e<32||e>126&&e<160||e>262143||r&&(n=e)>47&&n<58)return e>255?"\\u{".concat(e.toString(16).toUpperCase(),"}"):"\\x".concat(e.toString(16).toUpperCase().padStart(2,"0"));let s=yq(e);return((i?a?by:bg:bm).has(s)?"\\":"")+s}function bE(e){let{type:t}=e;return"CapturingGroup"===t||"Group"===t||"LookaroundAssertion"===t}function bT(e){let{type:t,value:n}=e;return"Character"===t&&45===n}var bS=(x=new WeakMap,_=new WeakMap,E=new WeakMap,T=new WeakMap,S=new WeakMap,w=new WeakSet,C=class e extends RegExp{get source(){return(0,m_._)(this,E)||"(?:)"}exec(t){if(!(0,m_._)(this,_)){let{lazyCompile:t,...n}=this.rawOptions;(0,mT._)(this,_,new e((0,m_._)(this,E),this.flags,n))}let n=this.global||this.sticky,r=this.lastIndex;if("clip_search"===(0,m_._)(this,S)&&n&&r){this.lastIndex=0;let e=(0,mS._)(this,w,bw).call(this,t.slice(r));return e&&(function(e,t,n,r){if(e.index+=t,e.input=n,r){let n=e.indices;for(let e=0;e<n.length;e++){let r=n[e];r&&(n[e]=[r[0]+t,r[1]+t])}let r=n.groups;r&&Object.keys(r).forEach(e=>{let n=r[e];n&&(r[e]=[n[0]+t,n[1]+t])})}}(e,r,t,this.hasIndices),this.lastIndex+=r),e}return(0,mS._)(this,w,bw).call(this,t)}constructor(t,n,r){let i=!!(null==r?void 0:r.lazyCompile);if(t instanceof RegExp){if(r)throw Error("Cannot provide options when copying a regexp");super(t,n),(0,mw._)(this,w),(0,mE._)(this,x,{writable:!0,value:new Map}),(0,mE._)(this,_,{writable:!0,value:null}),(0,mE._)(this,E,{writable:!0,value:void 0}),(0,mE._)(this,T,{writable:!0,value:null}),(0,mE._)(this,S,{writable:!0,value:null}),(0,H._)(this,"rawOptions",{}),(0,mT._)(this,E,t.source),t instanceof e&&((0,mT._)(this,x,(0,m_._)(t,x)),(0,mT._)(this,T,(0,m_._)(t,T)),(0,mT._)(this,S,(0,m_._)(t,S)),this.rawOptions=t.rawOptions)}else{let e={hiddenCaptures:[],strategy:null,transfers:[],...r};super(i?"":t,n),(0,mw._)(this,w),(0,mE._)(this,x,{writable:!0,value:new Map}),(0,mE._)(this,_,{writable:!0,value:null}),(0,mE._)(this,E,{writable:!0,value:void 0}),(0,mE._)(this,T,{writable:!0,value:null}),(0,mE._)(this,S,{writable:!0,value:null}),(0,H._)(this,"rawOptions",{}),(0,mT._)(this,E,t),(0,mT._)(this,x,function(e,t){let n=new Map;for(let t of e)n.set(t,{hidden:!0});for(let[e,r]of t)for(let t of r)yY(n,t,{}).transferTo=e;return n}(e.hiddenCaptures,e.transfers)),(0,mT._)(this,S,e.strategy),this.rawOptions=null!=r?r:{}}i||(0,mT._)(this,_,this)}});function bw(e){let t;(0,m_._)(this,_).lastIndex=this.lastIndex;let n=mA(mC(C.prototype),"exec",this).call((0,m_._)(this,_),e);if(this.lastIndex=(0,m_._)(this,_).lastIndex,!n||!(0,m_._)(this,x).size)return n;let r=[...n];n.length=1,this.hasIndices&&(t=[...n.indices],n.indices.length=1);let i=[0];for(let e=1;e<r.length;e++){var a;let{hidden:s,transferTo:o}=null!=(a=(0,m_._)(this,x).get(e))?a:{};if(s?i.push(null):(i.push(n.length),n.push(r[e]),this.hasIndices&&n.indices.push(t[e])),o&&void 0!==r[e]){let a=i[o];if(!a)throw Error('Invalid capture transfer to "'.concat(a,'"'));if(n[a]=r[e],this.hasIndices&&(n.indices[a]=t[e]),n.groups){(0,m_._)(this,T)||(0,mT._)(this,T,function(e){let t,n=RegExp("(?<capture>\\((?:\\?<(?![=!])(?<name>[^>]+)>|(?!\\?)))|\\\\?.","gsu"),r=new Map,i=0,a=0;for(;t=n.exec(e);){let{0:e,groups:{capture:n,name:s}}=t;"["===e?i++:i?"]"===e&&i--:n&&(a++,s&&r.set(a,s))}return r}(this.source));let i=(0,m_._)(this,T).get(o);i&&(n.groups[i]=r[e],this.hasIndices&&(n.indices.groups[i]=t[e]))}}}return n}class bC{findNextMatchSync(e,t,n){let r="string"==typeof e?e:e.content,i=[];function a(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return{index:e,captureIndices:t.indices.map(e=>null==e?{start:0xffffffff,end:0xffffffff,length:0}:{start:e[0]+n,end:e[1]+n,length:e[1]-e[0]})}}for(let e=0;e<this.regexps.length;e++){let n=this.regexps[e];if(n)try{n.lastIndex=t;let s=n.exec(r);if(!s)continue;if(s.index===t)return a(e,s,0);i.push([e,s,0])}catch(e){if(this.options.forgiving)continue;throw e}}if(i.length){let e=Math.min(...i.map(e=>e[1].index));for(let[t,n,r]of i)if(n.index===e)return a(t,n,r)}return null}constructor(e,t={}){(0,H._)(this,"regexps",void 0),this.patterns=e,this.options=t;let{forgiving:n=!1,cache:r,regexConstructor:i}=t;if(!i)throw Error("Option `regexConstructor` is not provided");this.regexps=e.map(e=>{if("string"!=typeof e)return e;let t=null==r?void 0:r.get(e);if(t){if(t instanceof RegExp)return t;if(n)return null;throw t}try{let t=i(e);return null==r||r.set(e,t),t}catch(t){if(null==r||r.set(e,t),n)return null;throw t}})}}var bA=e.i(920906),bN=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,Z.twMerge)((0,V.clsx)(t))},bI=(e,t,n)=>{let r="string"==typeof t?new Blob([t],{type:n}):t,i=URL.createObjectURL(r),a=document.createElement("a");a.href=i,a.download=e,document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL(i)},bD=/<pre(\s|>)/,bM=(0,P.createContext)({code:""}),bO=new class{isLanguageSupported(e){return Object.hasOwn(hK,e)}getFallbackLanguage(){return"text"}async ensureHighlightersInitialized(e,t){var n,r;let[i,a]=e,s=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object.assign({target:"auto",cache:new Map},e);return t.regexConstructor||(t.regexConstructor=e=>(function(e,t){let n=function(e,t){let n=yQ(t),r=function(e,t){let n={accuracy:"default",asciiWordBoundaries:!1,avoidSubclass:!1,bestEffortTarget:"ES2025",...t};br(e);let r={accuracy:n.accuracy,asciiWordBoundaries:n.asciiWordBoundaries,avoidSubclass:n.avoidSubclass,flagDirectivesByAlt:new Map,jsGroupNameMap:new Map,minTargetEs2024:yK[n.bestEffortTarget]>=yK.ES2024,passedLookbehind:!1,strategy:null,subroutineRefMap:new Map,supportedGNodes:new Set,digitIsAscii:e.flags.digitIsAscii,spaceIsAscii:e.flags.spaceIsAscii,wordIsAscii:e.flags.wordIsAscii};gC(e,be,r);let i={dotAll:e.flags.dotAll,ignoreCase:e.flags.ignoreCase},a={currentFlags:i,prevFlags:null,globalFlags:i,groupOriginByCopy:new Map,groupsByName:new Map,multiplexCapturesToLeftByRef:new Map,openRefs:new Map,reffedNodesByReferencer:new Map,subroutineRefMap:r.subroutineRefMap};return gC(e,bt,a),gC(e,bn,{groupsByName:a.groupsByName,highestOrphanBackref:0,numCapturesToLeft:0,reffedNodesByReferencer:a.reffedNodesByReferencer}),e._originMap=a.groupOriginByCopy,e._strategy=r.strategy,e}(go(e,{flags:n.flags,normalizeUnknownPropertyNames:!0,rules:{captureGroup:n.rules.captureGroup,singleline:n.rules.singleline},skipBackrefValidation:n.rules.allowOrphanBackrefs,unicodePropertyMap:y2}),{accuracy:n.accuracy,asciiWordBoundaries:n.rules.asciiWordBoundaries,avoidSubclass:n.avoidSubclass,bestEffortTarget:n.target}),i=function(e,t){let n=yQ(t),r=yK[n.target]>=yK.ES2024,i=yK[n.target]>=yK.ES2025,a=n.rules.recursionLimit;if(!Number.isInteger(a)||a<2||a>20)throw Error("Invalid recursionLimit; use 2-20");let s=null,o=null;if(!i){let t=[e.flags.ignoreCase];gC(e,bp,{getCurrentModI:()=>t.at(-1),popModI(){t.pop()},pushModI(e){t.push(e)},setHasCasedChar(){t.at(-1)?s=!0:o=!0}})}let l={dotAll:e.flags.dotAll,ignoreCase:!!((e.flags.ignoreCase||s)&&!o)},c=e,u={accuracy:n.accuracy,appliedGlobalFlags:l,captureMap:new Map,currentFlags:{dotAll:e.flags.dotAll,ignoreCase:e.flags.ignoreCase},inCharClass:!1,lastNode:c,originMap:e._originMap,recursionLimit:a,useAppliedIgnoreCase:!!(!i&&s&&o),useFlagMods:i,useFlagV:r,verbose:n.verbose};function d(e){return u.lastNode=c,c=e,(function(e,t){if(null==e)throw Error(null!=t?t:"Value expected");return e})(bf[e.type],'Unexpected node type "'.concat(e.type,'"'))(e,u,d)}let h={pattern:e.body.map(d).join("|"),flags:d(e.flags),options:{...e.options}};return r||(delete h.options.force.v,h.options.disable.v=!0,h.options.unicodeSetsPlugin=null),h._captureTransfers=new Map,h._hiddenCaptures=[],u.captureMap.forEach((e,t)=>{e.hidden&&h._hiddenCaptures.push(t),e.transferTo&&yY(h._captureTransfers,e.transferTo,[]).push(t)}),h}(r,n),a=function(e,t){var n;let r,{hiddenCaptures:i,mode:a}={hiddenCaptures:[],mode:"plugin",...t},s=null!=(n=null==t?void 0:t.captureTransfers)?n:new Map;if(!RegExp(g5,"su").test(e))return{pattern:e,captureTransfers:s,hiddenCaptures:i};if("plugin"===a&&gP(e,g1(gW()),gO.DEFAULT))throw Error("DEFINE groups cannot be used with recursion");let o=[],l=gP(e,g1(gY()),gO.DEFAULT),c=new Map,u=[],d=!1,h=0,p=0;for(g6.lastIndex=0;r=g6.exec(e);){let{0:t,groups:{captureName:n,rDepth:f,gRNameOrNum:m,gRDepth:g}}=r;if("["===t)h++;else if(h)"]"===t&&h--;else if(f){if(g8(f),d)throw Error(g9);if(l)throw Error("".concat("external"===a?"Backrefs":"Numbered backrefs"," cannot be used with global recursion"));let t=e.slice(0,r.index),n=e.slice(g6.lastIndex);if(gP(n,g5,gO.DEFAULT))throw Error(g9);let c=f-1;e=g7(t,n,c,!1,i,o,p),s=yt(s,t,c,o.length,0,p);break}else if(m){g8(g);let n=!1;for(let e of u)if(e.name===m||e.num===+m){if(n=!0,e.hasRecursedWithin)throw Error(g9);break}if(!n)throw Error(g1(gJ(),"external"===a?m:g1(gK(),m,g)));let h=c.get(m),f=function(e,t){let n,r=RegExp("\\\\?.","gsu");r.lastIndex=t;let i=e.length,a=0,s=1;for(;n=r.exec(e);){let[e]=n;if("["===e)a++;else if(a)"]"===e&&a--;else if("("===e)s++;else if(")"===e&&!--s){i=n.index;break}}return e.slice(t,i)}(e,h);if(l&&gP(f,g1(gQ(),g3),gO.DEFAULT))throw Error("".concat("external"===a?"Backrefs":"Numbered backrefs"," cannot be used with recursion of capturing groups"));let y=e.slice(h,r.index),b=f.slice(y.length+t.length),v=o.length,k=g-1,x=g7(y,b,k,!0,i,o,p);s=yt(s,y,k,o.length-v,v,p);let _=e.slice(0,h),E=e.slice(h+f.length);e="".concat(_).concat(x).concat(E),g6.lastIndex+=x.length-t.length-y.length-b.length,u.forEach(e=>e.hasRecursedWithin=!0),d=!0}else if(n)p++,c.set(String(p),g6.lastIndex),c.set(n,g6.lastIndex),u.push({num:p,name:n});else if("("===t[0]){let e="("===t;e&&(p++,c.set(String(p),g6.lastIndex)),u.push(e?{num:p}:{})}else")"===t&&u.pop()}return i.push(...o),{pattern:e,captureTransfers:s,hiddenCaptures:i}}(i.pattern,{captureTransfers:i._captureTransfers,hiddenCaptures:i._hiddenCaptures,mode:"external"}),s=function(e,t){let n,r=null!=(d=null==t?void 0:t.hiddenCaptures)?d:[],i=null!=(h=null==t?void 0:t.captureTransfers)?h:new Map;if(!/\(\?>/.test(e))return{pattern:e,captureTransfers:i,hiddenCaptures:r};let a="(?:(?=(",s=[0],o=[],l=0,c=0,u=NaN;do{let t;n=!1;let p=0,f=0,m=!1;for(gH.lastIndex=Number.isNaN(u)?0:u+a.length;t=gH.exec(e);){let{0:g,index:y,groups:{capturingStart:b,noncapturingStart:v}}=t;if("["===g)p++;else if(p)"]"===g&&p--;else if("(?>"!==g||m){if(m&&v)f++;else if(b)m?f++:(l++,s.push(l+c));else if(")"===g&&m){if(!f){var d,h;let t=l+ ++c;e="".concat(e.slice(0,u)).concat(a).concat(e.slice(u+3,y),"))<$$").concat(t,">)").concat(e.slice(y+1)),n=!0,o.push(t);for(let e=0;e<r.length;e++)r[e]>=t&&r[e]++;if(i.size){let e=new Map;i.forEach((n,r)=>{e.set(r>=t?r+1:r,n.map(e=>e>=t?e+1:e))}),i=e}break}f--}}else u=y,m=!0}}while(n)return r.push(...o),{pattern:e=gR(e,String.raw(gF()),e=>{let{0:t,groups:{backrefNum:n,wrappedBackrefNum:r}}=e;if(n){let e=+n;if(e>s.length-1)throw Error('Backref "'.concat(t,'" greater than number of captures'));return"\\".concat(s[e])}return"\\".concat(r)},gO.DEFAULT),captureTransfers:i,hiddenCaptures:r}}(function(e){let t;if(!new RegExp("".concat(gU,"\\+")).test(e))return{pattern:e};let n=[],r=null,i=null,a="",s=0;for(gz.lastIndex=0;t=gz.exec(e);){let{0:c,index:u,groups:{qBase:d,qMod:h,invalidQ:p}}=t;if("["===c)s||(i=u),s++;else if("]"===c)s?s--:i=null;else if(!s)if("+"===h&&a&&!a.startsWith("(")){if(p)throw Error('Invalid quantifier "'.concat(c,'"'));let t=-1;if(/^\{\d+\}$/.test(d)){var o,l;o=e,l=u+d.length,e=o.slice(0,l)+""+o.slice(l+h.length)}else{if(")"===a||"]"===a){let t=")"===a?r:i;if(null===t)throw Error('Invalid unmatched "'.concat(a,'"'));e="".concat(e.slice(0,t),"(?>").concat(e.slice(t,u)).concat(d,")").concat(e.slice(u+c.length))}else e="".concat(e.slice(0,u-a.length),"(?>").concat(a).concat(d,")").concat(e.slice(u+c.length));t+=4}gz.lastIndex+=t}else"("===c[0]?n.push(u):")"===c&&(r=n.length?n.pop():null);a=c}return{pattern:e}}(a.pattern).pattern,{captureTransfers:a.captureTransfers,hiddenCaptures:a.hiddenCaptures}),o={pattern:s.pattern,flags:"".concat(n.hasIndices?"d":"").concat(n.global?"g":"").concat(i.flags).concat(i.options.disable.v?"u":"v")};if(n.avoidSubclass){if(n.lazyCompileLength!==1/0)throw Error("Lazy compilation requires subclass")}else{let e=s.hiddenCaptures.sort((e,t)=>e-t),t=Array.from(s.captureTransfers),i=r._strategy,a=o.pattern.length>=n.lazyCompileLength;(e.length||t.length||i||a)&&(o.options={...e.length&&{hiddenCaptures:e},...t.length&&{transfers:t},...i&&{strategy:i},...a&&{lazyCompile:a}})}return o}(e,{global:!0,hasIndices:!0,lazyCompileLength:3e3,rules:{allowOrphanBackrefs:!0,asciiWordBoundaries:!0,captureGroup:!0,recursionLimit:5,singleline:!0},...t});return n.options?new bS(n.pattern,n.flags,n.options):new RegExp(n.pattern,n.flags)})(e,{target:t.target})),{createScanner:e=>new bC(e,t),createString:e=>({content:e})}}({forgiving:!0}),o=!this.lightHighlighter||this.lightTheme!==i,l=!this.darkHighlighter||this.darkTheme!==a;(o||l)&&this.loadedLanguages.clear();let c=this.isLanguageSupported(t),u=!this.loadedLanguages.has(t)&&c;if(o?(this.lightHighlighter=await mx({themes:[i],langs:c?[t]:[],engine:s}),this.lightTheme=i,c&&this.loadedLanguages.add(t)):u&&await (null==(n=this.lightHighlighter)?void 0:n.loadLanguage(t)),l){let e=u?[...this.loadedLanguages].concat(c?[t]:[]):Array.from(this.loadedLanguages);this.darkHighlighter=await mx({themes:[a],langs:e.length>0?e:c?[t]:[],engine:s}),this.darkTheme=a}else u&&await (null==(r=this.darkHighlighter)?void 0:r.loadLanguage(t));u&&this.loadedLanguages.add(t)}async highlightCode(e,t,n,r){var i,a;this.initializationPromise&&await this.initializationPromise,this.initializationPromise=this.ensureHighlightersInitialized(n,t),await this.initializationPromise,this.initializationPromise=null;let[s,o]=n,l=this.isLanguageSupported(t)?t:this.getFallbackLanguage(),c=null==(i=this.lightHighlighter)?void 0:i.codeToHtml(e,{lang:l,theme:s}),u=null==(a=this.darkHighlighter)?void 0:a.codeToHtml(e,{lang:l,theme:o}),d=e=>r?e.replace(bD,'<pre class="'.concat(r,'"$1')):e;return[d(c),d(u)]}constructor(){this.lightHighlighter=null,this.darkHighlighter=null,this.lightTheme=null,this.darkTheme=null,this.loadedLanguages=new Set,this.initializationPromise=null}},bR=e=>{let{code:t,language:n,className:r,children:i,preClassName:a,...s}=e,[o,l]=(0,P.useState)(""),[c,u]=(0,P.useState)(""),d=(0,P.useRef)(!1),[h,p]=(0,P.useContext)(vT);return(0,P.useEffect)(()=>(d.current=!0,bO.highlightCode(t,n,[h,p],a).then(e=>{let[t,n]=e;d.current&&(l(t),u(n))}),()=>{d.current=!1}),[t,n,h,p,a]),(0,ee.jsx)(bM.Provider,{value:{code:t},children:(0,ee.jsxs)("div",{className:"my-4 w-full overflow-hidden rounded-xl border","data-code-block-container":!0,"data-language":n,children:[(0,ee.jsxs)("div",{className:"flex items-center justify-between bg-muted/80 p-3 text-muted-foreground text-xs","data-code-block-header":!0,"data-language":n,children:[(0,ee.jsx)("span",{className:"ml-1 font-mono lowercase",children:n}),(0,ee.jsx)("div",{className:"flex items-center gap-2",children:i})]}),(0,ee.jsx)("div",{className:"w-full",children:(0,ee.jsxs)("div",{className:"min-w-full",children:[(0,ee.jsx)("div",{className:bN("overflow-x-auto dark:hidden",r),dangerouslySetInnerHTML:{__html:o},"data-code-block":!0,"data-language":n,...s}),(0,ee.jsx)("div",{className:bN("hidden overflow-x-auto dark:block",r),dangerouslySetInnerHTML:{__html:c},"data-code-block":!0,"data-language":n,...s})]})})]})})},bP={"1c":"1c","1c-query":"1cq",abap:"abap","actionscript-3":"as",ada:"ada",adoc:"adoc","angular-html":"html","angular-ts":"ts",apache:"conf",apex:"cls",apl:"apl",applescript:"applescript",ara:"ara",asciidoc:"adoc",asm:"asm",astro:"astro",awk:"awk",ballerina:"bal",bash:"sh",bat:"bat",batch:"bat",be:"be",beancount:"beancount",berry:"berry",bibtex:"bib",bicep:"bicep",blade:"blade.php",bsl:"bsl",c:"c","c#":"cs","c++":"cpp",cadence:"cdc",cairo:"cairo",cdc:"cdc",clarity:"clar",clj:"clj",clojure:"clj","closure-templates":"soy",cmake:"cmake",cmd:"cmd",cobol:"cob",codeowners:"CODEOWNERS",codeql:"ql",coffee:"coffee",coffeescript:"coffee","common-lisp":"lisp",console:"sh",coq:"v",cpp:"cpp",cql:"cql",crystal:"cr",cs:"cs",csharp:"cs",css:"css",csv:"csv",cue:"cue",cypher:"cql",d:"d",dart:"dart",dax:"dax",desktop:"desktop",diff:"diff",docker:"dockerfile",dockerfile:"dockerfile",dotenv:"env","dream-maker":"dm",edge:"edge",elisp:"el",elixir:"ex",elm:"elm","emacs-lisp":"el",erb:"erb",erl:"erl",erlang:"erl",f:"f","f#":"fs",f03:"f03",f08:"f08",f18:"f18",f77:"f77",f90:"f90",f95:"f95",fennel:"fnl",fish:"fish",fluent:"ftl",for:"for","fortran-fixed-form":"f","fortran-free-form":"f90",fs:"fs",fsharp:"fs",fsl:"fsl",ftl:"ftl",gdresource:"tres",gdscript:"gd",gdshader:"gdshader",genie:"gs",gherkin:"feature","git-commit":"gitcommit","git-rebase":"gitrebase",gjs:"js",gleam:"gleam","glimmer-js":"js","glimmer-ts":"ts",glsl:"glsl",gnuplot:"plt",go:"go",gql:"gql",graphql:"graphql",groovy:"groovy",gts:"gts",hack:"hack",haml:"haml",handlebars:"hbs",haskell:"hs",haxe:"hx",hbs:"hbs",hcl:"hcl",hjson:"hjson",hlsl:"hlsl",hs:"hs",html:"html","html-derivative":"html",http:"http",hxml:"hxml",hy:"hy",imba:"imba",ini:"ini",jade:"jade",java:"java",javascript:"js",jinja:"jinja",jison:"jison",jl:"jl",js:"js",json:"json",json5:"json5",jsonc:"jsonc",jsonl:"jsonl",jsonnet:"jsonnet",jssm:"jssm",jsx:"jsx",julia:"jl",kotlin:"kt",kql:"kql",kt:"kt",kts:"kts",kusto:"kql",latex:"tex",lean:"lean",lean4:"lean",less:"less",liquid:"liquid",lisp:"lisp",lit:"lit",llvm:"ll",log:"log",logo:"logo",lua:"lua",luau:"luau",make:"mak",makefile:"mak",markdown:"md",marko:"marko",matlab:"m",md:"md",mdc:"mdc",mdx:"mdx",mediawiki:"wiki",mermaid:"mmd",mips:"s",mipsasm:"s",mmd:"mmd",mojo:"mojo",move:"move",nar:"nar",narrat:"narrat",nextflow:"nf",nf:"nf",nginx:"conf",nim:"nim",nix:"nix",nu:"nu",nushell:"nu",objc:"m","objective-c":"m","objective-cpp":"mm",ocaml:"ml",pascal:"pas",perl:"pl",perl6:"p6",php:"php",plsql:"pls",po:"po",polar:"polar",postcss:"pcss",pot:"pot",potx:"potx",powerquery:"pq",powershell:"ps1",prisma:"prisma",prolog:"pl",properties:"properties",proto:"proto",protobuf:"proto",ps:"ps",ps1:"ps1",pug:"pug",puppet:"pp",purescript:"purs",py:"py",python:"py",ql:"ql",qml:"qml",qmldir:"qmldir",qss:"qss",r:"r",racket:"rkt",raku:"raku",razor:"cshtml",rb:"rb",reg:"reg",regex:"regex",regexp:"regexp",rel:"rel",riscv:"s",rs:"rs",rst:"rst",ruby:"rb",rust:"rs",sas:"sas",sass:"sass",scala:"scala",scheme:"scm",scss:"scss",sdbl:"sdbl",sh:"sh",shader:"shader",shaderlab:"shader",shell:"sh",shellscript:"sh",shellsession:"sh",smalltalk:"st",solidity:"sol",soy:"soy",sparql:"rq",spl:"spl",splunk:"spl",sql:"sql","ssh-config":"config",stata:"do",styl:"styl",stylus:"styl",svelte:"svelte",swift:"swift","system-verilog":"sv",systemd:"service",talon:"talon",talonscript:"talon",tasl:"tasl",tcl:"tcl",templ:"templ",terraform:"tf",tex:"tex",tf:"tf",tfvars:"tfvars",toml:"toml",ts:"ts","ts-tags":"ts",tsp:"tsp",tsv:"tsv",tsx:"tsx",turtle:"ttl",twig:"twig",typ:"typ",typescript:"ts",typespec:"tsp",typst:"typ",v:"v",vala:"vala",vb:"vb",verilog:"v",vhdl:"vhdl",vim:"vim",viml:"vim",vimscript:"vim",vue:"vue","vue-html":"html","vue-vine":"vine",vy:"vy",vyper:"vy",wasm:"wasm",wenyan:"wy",wgsl:"wgsl",wiki:"wiki",wikitext:"wiki",wit:"wit",wl:"wl",wolfram:"wl",xml:"xml",xsl:"xsl",yaml:"yaml",yml:"yml",zenscript:"zs",zig:"zig",zsh:"zsh",:"wy"},bL=e=>{let{onDownload:t,onError:n,language:r,children:i,className:a,code:s,...o}=e,{code:l}=(0,P.useContext)(bM),{isAnimating:c}=(0,P.useContext)(vC),u=null!=s?s:l,d="file.".concat(r&&r in bP?bP[r]:"txt");return(0,ee.jsx)("button",{className:bN("cursor-pointer p-1 text-muted-foreground transition-all hover:text-foreground disabled:cursor-not-allowed disabled:opacity-50",a),disabled:c,onClick:()=>{try{bI(d,u,"text/plain"),null==t||t()}catch(e){null==n||n(e)}},title:"Download file",type:"button",...o,children:null!=i?i:(0,ee.jsx)(hZ,{size:14})})},bF=e=>{let{onCopy:t,onError:n,timeout:r=2e3,children:i,className:a,code:s,...o}=e,[l,c]=(0,P.useState)(!1),u=(0,P.useRef)(0),{code:d}=(0,P.useContext)(bM),{isAnimating:h}=(0,P.useContext)(vC),p=null!=s?s:d,f=async()=>{var e;if("undefined"==typeof window||!(null!=(e=null==navigator?void 0:navigator.clipboard)&&e.writeText)){null==n||n(Error("Clipboard API not available"));return}try{l||(await navigator.clipboard.writeText(p),c(!0),null==t||t(),u.current=window.setTimeout(()=>c(!1),r))}catch(e){null==n||n(e)}};return(0,P.useEffect)(()=>()=>{window.clearTimeout(u.current)},[]),(0,ee.jsx)("button",{className:bN("cursor-pointer p-1 text-muted-foreground transition-all hover:text-foreground disabled:cursor-not-allowed disabled:opacity-50",a),disabled:h,onClick:f,type:"button",...o,children:null!=i?i:(0,ee.jsx)(l?hG:hq,{size:14})})},bj=async t=>{let n={startOnLoad:!1,theme:"default",securityLevel:"strict",fontFamily:"monospace",suppressErrorRendering:!0,...t},r=(await e.A(695802)).default;return r.initialize(n),r},bB=e=>{let{chart:t,className:n,config:r}=e,[i,a]=(0,P.useState)(null),[s,o]=(0,P.useState)(!0),[l,c]=(0,P.useState)(""),[u,d]=(0,P.useState)("");return((0,P.useEffect)(()=>{(async()=>{try{a(null),o(!0);let e=await bj(r),n=t.split("").reduce((e,t)=>(e<<5)-e+t.charCodeAt(0)|0,0),i="mermaid-".concat(Math.abs(n),"-").concat(Date.now(),"-").concat(Math.random().toString(36).substring(2,9)),{svg:s}=await e.render(i,t);c(s),d(s)}catch(e){u||l||a(e instanceof Error?e.message:"Failed to render Mermaid chart")}finally{o(!1)}})()},[t,r]),!s||l||u)?!i||l||u?(0,ee.jsx)("div",{"aria-label":"Mermaid chart",className:bN("my-4 flex justify-center",n),dangerouslySetInnerHTML:{__html:l||u},role:"img"}):(0,ee.jsxs)("div",{className:bN("rounded-lg border border-red-200 bg-red-50 p-4",n),children:[(0,ee.jsxs)("p",{className:"font-mono text-red-700 text-sm",children:["Mermaid Error: ",i]}),(0,ee.jsxs)("details",{className:"mt-2",children:[(0,ee.jsx)("summary",{className:"cursor-pointer text-red-600 text-xs",children:"Show Code"}),(0,ee.jsx)("pre",{className:"mt-2 overflow-x-auto rounded bg-red-100 p-2 text-red-800 text-xs",children:t})]})]}):(0,ee.jsx)("div",{className:bN("my-4 flex justify-center p-4",n),children:(0,ee.jsxs)("div",{className:"flex items-center space-x-2 text-muted-foreground",children:[(0,ee.jsx)("div",{className:"h-4 w-4 animate-spin rounded-full border-current border-b-2"}),(0,ee.jsx)("span",{className:"text-sm",children:"Loading diagram..."})]})})};function bH(e){var t,n;let r=[],i=[];for(let n of e.querySelectorAll("thead th"))r.push((null==(t=n.textContent)?void 0:t.trim())||"");for(let t of e.querySelectorAll("tbody tr")){let e=[];for(let r of t.querySelectorAll("td"))e.push((null==(n=r.textContent)?void 0:n.trim())||"");i.push(e)}return{headers:r,rows:i}}function bU(e){let{headers:t,rows:n}=e,r=e=>e.includes(",")||e.includes('"')||e.includes("\n")?'"'.concat(e.replace(/"/g,'""'),'"'):e,i=[];for(let e of(t.length>0&&i.push(t.map(r).join(",")),n))i.push(e.map(r).join(","));return i.join("\n")}function bz(e){let{headers:t,rows:n}=e;if(0===t.length)return"";let r=[],i=t.map(e=>e.replace(/\|/g,"\\|"));for(let e of(r.push("| ".concat(i.join(" | ")," |")),r.push("| ".concat(t.map(()=>"---").join(" | ")," |")),n)){let n=[...e];for(;n.length<t.length;)n.push("");let i=n.map(e=>e.replace(/\|/g,"\\|"));r.push("| ".concat(i.join(" | ")," |"))}return r.join("\n")}var bV=e=>{let{children:t,className:n,onCopy:r,onError:i,timeout:a=2e3,format:s="markdown"}=e,[o,l]=(0,P.useState)(!1),c=(0,P.useRef)(0),{isAnimating:u}=(0,P.useContext)(vC),d=async e=>{var t;if("undefined"==typeof window||!(null!=(t=null==navigator?void 0:navigator.clipboard)&&t.write)){null==i||i(Error("Clipboard API not available"));return}try{if(!o){let t=e.currentTarget.closest('[data-streamdown="table-wrapper"]'),n=null==t?void 0:t.querySelector("table");if(!n){null==i||i(Error("Table not found"));return}let o=bH(n),u=new ClipboardItem({"text/plain":"markdown"===s?bz(o):bU(o),"text/html":new Blob([n.outerHTML],{type:"text/html"})});await navigator.clipboard.write([u]),l(!0),null==r||r(),c.current=window.setTimeout(()=>l(!1),a)}}catch(e){null==i||i(e)}};return(0,P.useEffect)(()=>()=>{window.clearTimeout(c.current)},[]),(0,ee.jsx)("button",{className:bN("cursor-pointer p-1 text-muted-foreground transition-all hover:text-foreground disabled:cursor-not-allowed disabled:opacity-50",n),disabled:u,onClick:d,title:"Copy table as ".concat(s),type:"button",children:null!=t?t:(0,ee.jsx)(o?hG:hq,{size:14})})},bG=e=>{let{children:t,className:n,onDownload:r,onError:i}=e,[a,s]=(0,P.useState)(!1),o=(0,P.useRef)(null),{isAnimating:l}=(0,P.useContext)(vC),c=e=>{var t;try{let n=null==(t=o.current)?void 0:t.closest('[data-streamdown="table-wrapper"]'),a=null==n?void 0:n.querySelector("table");if(!a){null==i||i(Error("Table not found"));return}let l=bH(a),c="csv"===e?bU(l):bz(l);bI("table.".concat("csv"===e?"csv":"md"),c,"csv"===e?"text/csv":"text/markdown"),s(!1),null==r||r(e)}catch(e){null==i||i(e)}};return(0,P.useEffect)(()=>{let e=e=>{o.current&&!o.current.contains(e.target)&&s(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[]),(0,ee.jsxs)("div",{className:"relative",ref:o,children:[(0,ee.jsx)("button",{className:bN("cursor-pointer p-1 text-muted-foreground transition-all hover:text-foreground disabled:cursor-not-allowed disabled:opacity-50",n),disabled:l,onClick:()=>s(!a),title:"Download table",type:"button",children:null!=t?t:(0,ee.jsx)(hZ,{size:14})}),a&&(0,ee.jsxs)("div",{className:"absolute top-full right-0 z-10 mt-1 min-w-[120px] rounded-md border border-border bg-background shadow-lg",children:[(0,ee.jsx)("button",{className:"w-full px-3 py-2 text-left text-sm transition-colors hover:bg-muted/40",onClick:()=>c("csv"),type:"button",children:"CSV"}),(0,ee.jsx)("button",{className:"w-full px-3 py-2 text-left text-sm transition-colors hover:bg-muted/40",onClick:()=>c("markdown"),type:"button",children:"Markdown"})]})]})},bq=/language-([^\s]+)/;function bZ(e,t){if(!(null!=e&&e.position||null!=t&&t.position))return!0;if(!(null!=e&&e.position&&null!=t&&t.position))return!1;let n=e.position.start,r=t.position.start,i=e.position.end,a=t.position.end;return(null==n?void 0:n.line)===(null==r?void 0:r.line)&&(null==n?void 0:n.column)===(null==r?void 0:r.column)&&(null==i?void 0:i.line)===(null==a?void 0:a.line)&&(null==i?void 0:i.column)===(null==a?void 0:a.column)}function b$(e,t){return e.className===t.className&&bZ(e.node,t.node)}var bW=(e,t)=>"boolean"==typeof e?e:!1!==e[t],bY=(0,P.memo)(e=>{let{children:t,className:n,node:r,...i}=e;return(0,ee.jsx)("ol",{className:bN("ml-4 list-outside list-decimal whitespace-normal",n),"data-streamdown":"ordered-list",...i,children:t})},(e,t)=>b$(e,t));bY.displayName="MarkdownOl";var bK=(0,P.memo)(e=>{let{children:t,className:n,node:r,...i}=e;return(0,ee.jsx)("li",{className:bN("py-1",n),"data-streamdown":"list-item",...i,children:t})},(e,t)=>e.className===t.className&&bZ(e.node,t.node));bK.displayName="MarkdownLi";var bJ=(0,P.memo)(e=>{let{children:t,className:n,node:r,...i}=e;return(0,ee.jsx)("ul",{className:bN("ml-4 list-outside list-disc whitespace-normal",n),"data-streamdown":"unordered-list",...i,children:t})},(e,t)=>b$(e,t));bJ.displayName="MarkdownUl";var bQ=(0,P.memo)(e=>{let{className:t,node:n,...r}=e;return(0,ee.jsx)("hr",{className:bN("my-6 border-border",t),"data-streamdown":"horizontal-rule",...r})},(e,t)=>b$(e,t));bQ.displayName="MarkdownHr";var bX=(0,P.memo)(e=>{let{children:t,className:n,node:r,...i}=e;return(0,ee.jsx)("span",{className:bN("font-semibold",n),"data-streamdown":"strong",...i,children:t})},(e,t)=>b$(e,t));bX.displayName="MarkdownStrong";var b0=(0,P.memo)(e=>{let{children:t,className:n,href:r,node:i,...a}=e;return(0,ee.jsx)("a",{className:bN("wrap-anywhere font-medium text-primary underline",n),"data-incomplete":"streamdown:incomplete-link"===r,"data-streamdown":"link",href:r,rel:"noreferrer",target:"_blank",...a,children:t})},(e,t)=>b$(e,t)&&e.href===t.href);b0.displayName="MarkdownA";var b1=(0,P.memo)(e=>{let{children:t,className:n,node:r,...i}=e;return(0,ee.jsx)("h1",{className:bN("mt-6 mb-2 font-semibold text-3xl",n),"data-streamdown":"heading-1",...i,children:t})},(e,t)=>b$(e,t));b1.displayName="MarkdownH1";var b2=(0,P.memo)(e=>{let{children:t,className:n,node:r,...i}=e;return(0,ee.jsx)("h2",{className:bN("mt-6 mb-2 font-semibold text-2xl",n),"data-streamdown":"heading-2",...i,children:t})},(e,t)=>b$(e,t));b2.displayName="MarkdownH2";var b5=(0,P.memo)(e=>{let{children:t,className:n,node:r,...i}=e;return(0,ee.jsx)("h3",{className:bN("mt-6 mb-2 font-semibold text-xl",n),"data-streamdown":"heading-3",...i,children:t})},(e,t)=>b$(e,t));b5.displayName="MarkdownH3";var b3=(0,P.memo)(e=>{let{children:t,className:n,node:r,...i}=e;return(0,ee.jsx)("h4",{className:bN("mt-6 mb-2 font-semibold text-lg",n),"data-streamdown":"heading-4",...i,children:t})},(e,t)=>b$(e,t));b3.displayName="MarkdownH4";var b4=(0,P.memo)(e=>{let{children:t,className:n,node:r,...i}=e;return(0,ee.jsx)("h5",{className:bN("mt-6 mb-2 font-semibold text-base",n),"data-streamdown":"heading-5",...i,children:t})},(e,t)=>b$(e,t));b4.displayName="MarkdownH5";var b6=(0,P.memo)(e=>{let{children:t,className:n,node:r,...i}=e;return(0,ee.jsx)("h6",{className:bN("mt-6 mb-2 font-semibold text-sm",n),"data-streamdown":"heading-6",...i,children:t})},(e,t)=>b$(e,t));b6.displayName="MarkdownH6";var b9=(0,P.memo)(e=>{let{children:t,className:n,node:r,...i}=e,a=bW((0,P.useContext)(vw),"table");return(0,ee.jsxs)("div",{className:"my-4 flex flex-col space-y-2","data-streamdown":"table-wrapper",children:[a&&(0,ee.jsxs)("div",{className:"flex items-center justify-end gap-1",children:[(0,ee.jsx)(bV,{}),(0,ee.jsx)(bG,{})]}),(0,ee.jsx)("div",{className:"overflow-x-auto",children:(0,ee.jsx)("table",{className:bN("w-full border-collapse border border-border",n),"data-streamdown":"table",...i,children:t})})]})},(e,t)=>b$(e,t));b9.displayName="MarkdownTable";var b8=(0,P.memo)(e=>{let{children:t,className:n,node:r,...i}=e;return(0,ee.jsx)("thead",{className:bN("bg-muted/80",n),"data-streamdown":"table-header",...i,children:t})},(e,t)=>b$(e,t));b8.displayName="MarkdownThead";var b7=(0,P.memo)(e=>{let{children:t,className:n,node:r,...i}=e;return(0,ee.jsx)("tbody",{className:bN("divide-y divide-border bg-muted/40",n),"data-streamdown":"table-body",...i,children:t})},(e,t)=>b$(e,t));b7.displayName="MarkdownTbody";var ve=(0,P.memo)(e=>{let{children:t,className:n,node:r,...i}=e;return(0,ee.jsx)("tr",{className:bN("border-border border-b",n),"data-streamdown":"table-row",...i,children:t})},(e,t)=>b$(e,t));ve.displayName="MarkdownTr";var vt=(0,P.memo)(e=>{let{children:t,className:n,node:r,...i}=e;return(0,ee.jsx)("th",{className:bN("whitespace-nowrap px-4 py-2 text-left font-semibold text-sm",n),"data-streamdown":"table-header-cell",...i,children:t})},(e,t)=>b$(e,t));vt.displayName="MarkdownTh";var vn=(0,P.memo)(e=>{let{children:t,className:n,node:r,...i}=e;return(0,ee.jsx)("td",{className:bN("px-4 py-2 text-sm",n),"data-streamdown":"table-cell",...i,children:t})},(e,t)=>b$(e,t));vn.displayName="MarkdownTd";var vr=(0,P.memo)(e=>{let{children:t,className:n,node:r,...i}=e;return(0,ee.jsx)("blockquote",{className:bN("my-4 border-muted-foreground/30 border-l-4 pl-4 text-muted-foreground italic",n),"data-streamdown":"blockquote",...i,children:t})},(e,t)=>b$(e,t));vr.displayName="MarkdownBlockquote";var vi=(0,P.memo)(e=>{let{children:t,className:n,node:r,...i}=e;return(0,ee.jsx)("sup",{className:bN("text-sm",n),"data-streamdown":"superscript",...i,children:t})},(e,t)=>b$(e,t));vi.displayName="MarkdownSup";var va=(0,P.memo)(e=>{let{children:t,className:n,node:r,...i}=e;return(0,ee.jsx)("sub",{className:bN("text-sm",n),"data-streamdown":"subscript",...i,children:t})},(e,t)=>b$(e,t));va.displayName="MarkdownSub";var vs=(0,P.memo)(e=>{let{children:t,className:n,node:r,...i}=e;if("data-footnotes"in i){let e=Array.isArray(t)?t.map(e=>{if(!(0,P.isValidElement)(e))return e;if(e.type===bY){let t=(Array.isArray(e.props.children)?e.props.children:[e.props.children]).filter(e=>!(e=>{var t,n;if(!(0,P.isValidElement)(e))return!1;let r=Array.isArray(e.props.children)?e.props.children:[e.props.children],i=!1,a=!1;for(let e of r)if(e){if("string"==typeof e)""!==e.trim()&&(i=!0);else if((0,P.isValidElement)(e)){if((null==(t=e.props)?void 0:t["data-footnote-backref"])!==void 0)a=!0;else for(let t of Array.isArray(e.props.children)?e.props.children:[e.props.children])if("string"==typeof t&&""!==t.trim()||(0,P.isValidElement)(t)&&(null==(n=t.props)?void 0:n["data-footnote-backref"])===void 0){i=!0;break}}}return a&&!i})(e));return 0===t.length?null:{...e,props:{...e.props,children:t}}}return e}):t;return(Array.isArray(e)?e.some(e=>null!==e):null!==e)?(0,ee.jsx)("section",{className:n,...i,children:e}):null}return(0,ee.jsx)("section",{className:n,...i,children:t})},(e,t)=>b$(e,t));vs.displayName="MarkdownSection";var vo=(0,P.memo)(e=>{var t,n,r;let{node:i,className:a,children:s,...o}=e,l=(null==(t=null==i?void 0:i.position)?void 0:t.start.line)===(null==(n=null==i?void 0:i.position)?void 0:n.end.line),c=(0,P.useContext)(vS),u=(0,P.useContext)(vw);if(l)return(0,ee.jsx)("code",{className:bN("rounded bg-muted px-1.5 py-0.5 font-mono text-sm",a),"data-streamdown":"inline-code",...o,children:s});let d=null==a?void 0:a.match(bq),h=null!=(r=null==d?void 0:d.at(1))?r:"",p="";if((0,P.isValidElement)(s)&&s.props&&"object"==typeof s.props&&"children"in s.props&&"string"==typeof s.props.children?p=s.props.children:"string"==typeof s&&(p=s),"mermaid"===h){let e=bW(u,"mermaid");return(0,ee.jsxs)("div",{className:bN("group relative my-4 h-auto rounded-xl border p-4",a),"data-streamdown":"mermaid-block",children:[e&&(0,ee.jsxs)("div",{className:"flex items-center justify-end gap-2",children:[(0,ee.jsx)(bL,{code:p,language:h}),(0,ee.jsx)(bF,{code:p})]}),(0,ee.jsx)(bB,{chart:p,config:c})]})}let f=bW(u,"code");return(0,ee.jsx)(bR,{className:bN("overflow-x-auto border-t",a),code:p,"data-language":h,"data-streamdown":"code-block",language:h,preClassName:"overflow-x-auto font-mono text-xs p-4 bg-muted/40",children:f&&(0,ee.jsxs)(ee.Fragment,{children:[(0,ee.jsx)(bL,{code:p,language:h}),(0,ee.jsx)(bF,{})]})})},(e,t)=>e.className===t.className&&bZ(e.node,t.node));vo.displayName="MarkdownCode";var vl=(0,P.memo)(e=>{let{node:t,className:n,src:r,alt:i,...a}=e,s=async()=>{var e;if(r)try{let t=await (await fetch(r)).blob(),n=new URL(r,window.location.origin).pathname.split("/").pop()||"",a=n.includes(".")&&(null==(e=n.split(".").pop())?void 0:e.length)<=4,s="";if(a)s=n;else{let e=t.type,r="png";e.includes("jpeg")||e.includes("jpg")?r="jpg":e.includes("png")?r="png":e.includes("svg")?r="svg":e.includes("gif")?r="gif":e.includes("webp")&&(r="webp"),s="".concat((i||n||"image").replace(/\.[^/.]+$/,""),".").concat(r)}bI(s,t,t.type)}catch(e){console.error("Failed to download image:",e)}};return r?(0,ee.jsxs)("div",{className:"group relative my-4 inline-block","data-streamdown":"image-wrapper",children:[(0,ee.jsx)("img",{alt:i,className:bN("max-w-full rounded-lg",n),"data-streamdown":"image",src:r,...a}),(0,ee.jsx)("div",{className:"pointer-events-none absolute inset-0 hidden rounded-lg bg-black/10 group-hover:block"}),(0,ee.jsx)("button",{className:bN("absolute right-2 bottom-2 flex h-8 w-8 cursor-pointer items-center justify-center rounded-md border border-border bg-background/90 shadow-sm backdrop-blur-sm transition-all duration-200 hover:bg-background","opacity-0 group-hover:opacity-100"),onClick:s,title:"Download image",type:"button",children:(0,ee.jsx)(hZ,{size:14})})]}):null},(e,t)=>e.className===t.className&&bZ(e.node,t.node));vl.displayName="MarkdownImg";var vc=(0,P.memo)(e=>{var t;let{children:n,className:r,node:i,...a}=e,s=(Array.isArray(n)?n:[n]).filter(e=>null!=e&&""!==e);return 1===s.length&&(0,P.isValidElement)(s[0])&&(null==(t=s[0].props.node)?void 0:t.tagName)==="img"?(0,ee.jsx)(ee.Fragment,{children:n}):(0,ee.jsx)("p",{className:r,...a,children:n})},(e,t)=>b$(e,t));vc.displayName="MarkdownParagraph";var vu={ol:bY,li:bK,ul:bJ,hr:bQ,strong:bX,a:b0,h1:b1,h2:b2,h3:b5,h4:b3,h5:b4,h6:b6,table:b9,thead:b8,tbody:b7,tr:ve,th:vt,td:vn,blockquote:vr,code:vo,img:vl,pre:e=>{let{children:t}=e;return t},sup:vi,sub:va,p:vc,section:vs},vd=/(!?\[)([^\]]*?)$/,vh=/(\*\*)([^*]*?)$/,vp=/(__)([^_]*?)$/,vf=/(\*\*\*)([^*]*?)$/,vm=/(\*)([^*]*?)$/,vg=/(_)([^_]*?)$/,vy=/(`)([^`]*?)$/,vb=/(~~)([^~]*?)$/,vv=e=>{let t=(e.match(/```/g)||[]).length;return t>0&&t%2==0&&e.includes("\n")},vk=(e,t)=>{let n=!1,r=!1;for(let i=0;i<e.length&&i<t;i++){if("\\"===e[i]&&"$"===e[i+1]){i++;continue}"$"===e[i]&&("$"===e[i+1]?(r=!r,i++,n=!1):r||(n=!n))}return n||r},vx=(e,t)=>{let n="```"===e.substring(t,t+3),r=t>0&&"```"===e.substring(t-1,t+2),i=t>1&&"```"===e.substring(t-2,t+1);return n||r||i},v_={harden:[function(e){let{defaultOrigin:t="",allowedLinkPrefixes:n=[],allowedImagePrefixes:r=[],allowDataImages:i=!1,blockedImageClass:a="inline-block bg-gray-200 dark:bg-gray-700 text-gray-600 dark:text-gray-400 px-3 py-1 rounded text-sm",blockedLinkClass:s="text-gray-500"}=e,o=n.length&&!n.every(e=>"*"===e),l=r.length&&!r.every(e=>"*"===e);if(!t&&(o||l))throw Error("defaultOrigin is required when allowedLinkPrefixes or allowedImagePrefixes are provided");return e=>{oj(e,((e,t,n,r,i,a)=>{let s=(o,l,c)=>{if("element"!==o.type||o[hj])return!0;if("a"===o.tagName){let n=hF(o.properties.href,t,e,!1,!1);return null===n?(o[hj]=!0,oj(o,s),c&&"number"==typeof l&&(c.children[l]={type:"element",tagName:"span",properties:{title:"Blocked URL: "+String(o.properties.href),class:a},children:[...o.children,{type:"text",value:" [blocked]"}]}),oL):(o.properties.href=n,o.properties.target="_blank",o.properties.rel="noopener noreferrer",!0)}if("img"===o.tagName){let t=hF(o.properties.src,n,e,r,!0);if(null===t)return o[hj]=!0,oj(o,s),c&&"number"==typeof l&&(c.children[l]={type:"element",tagName:"span",properties:{class:i},children:[{type:"text",value:"[Image blocked: "+String(o.properties.alt||"No description")+"]"}]}),oL;o.properties.src=t}return!0};return s})(t,n,r,i,a,s))}},{allowedImagePrefixes:["*"],allowedLinkPrefixes:["*"],defaultOrigin:void 0,allowDataImages:!0}],raw:function(e){return function(t,n){return dc(t,{...e,file:n})}},katex:[function(e){let t=e||lH;return function(e,n){oF(e,"element",function(e,r){let i,a=Array.isArray(e.properties.className)?e.properties.className:lU,s=a.includes("language-math"),o=a.includes("math-display"),l=a.includes("math-inline"),c=o;if(!s&&!o&&!l)return;let u=r[r.length-1],d=e;if("code"===e.tagName&&s&&u&&"element"===u.type&&"pre"===u.tagName&&(d=u,u=r[r.length-2],c=!0),!u)return;let h=function(e,t){let n,r="children"in e?e.children:[],i=lL(e),a=lj(e,{whitespace:(t||{}).whitespace||"normal",breakBefore:!1,breakAfter:!1}),s=[];("text"===e.type||"comment"===e.type)&&s.push(...lF(e,{whitespace:a,breakBefore:!0,breakAfter:!0}));let o=-1;for(;++o<r.length;)s.push(...function e(t,n,r){return"element"===t.type?function(t,n,r){let i,a,s=lj(t,r),o=t.children||[],l=-1,c=[];if(lP(t))return c;for(lD(t)||lR(t)&&lS(n,t,lR)?a="\n":lO(t)?(i=2,a=2):lL(t)&&(i=1,a=1);++l<o.length;)c=c.concat(e(o[l],t,{whitespace:s,breakBefore:l?void 0:i,breakAfter:l<o.length-1?lD(o[l+1]):a}));return lM(t)&&lS(n,t,lM)&&c.push("	"),i&&c.unshift(i),a&&c.push(a),c}(t,n,r):"text"===t.type?"normal"===r.whitespace?lF(t,r):[String(t.value)]:[]}(r[o],e,{whitespace:a,breakBefore:o?void 0:i,breakAfter:o<r.length-1?lD(r[o+1]):i}));let l=[];for(o=-1;++o<s.length;){let e=s[o];"number"==typeof e?void 0!==n&&e>n&&(n=e):e&&(void 0!==n&&n>-1&&l.push("\n".repeat(n)||" "),n=-1,l.push(e))}return l.join("")}(d,{whitespace:"pre"});try{i=lB.default.renderToString(h,{...t,displayMode:c,throwOnError:!0})}catch(s){let a=s.name.toLowerCase();n.message("Could not render math with KaTeX",{ancestors:[...r,e],cause:s,place:e.position,ruleId:a,source:"rehype-katex"});try{i=lB.default.renderToString(h,{...t,displayMode:c,strict:"ignore",throwOnError:!1})}catch(e){i=[{type:"element",tagName:"span",properties:{className:["katex-error"],style:"color:"+(t.errorColor||"#cc0000"),title:String(s)},children:[{type:"text",value:h}]}]}}if("string"==typeof i){var p;i=(p=i,l_(function(e){let t=document.createElement("template");return t.innerHTML=e,t.content}(p),{})||{type:"root",children:[]}).children}let f=u.children.indexOf(d);return u.children.splice(f,1,...i),oL})}},{errorColor:"var(--color-muted-foreground)"}]},vE={gfm:[function(e){let t,n=e||hN,r=this.data(),i=r.micromarkExtensions||(r.micromarkExtensions=[]),a=r.fromMarkdownExtensions||(r.fromMarkdownExtensions=[]),s=r.toMarkdownExtensions||(r.toMarkdownExtensions=[]);i.push(se([{text:ho},{document:{91:{name:"gfmFootnoteDefinition",tokenize:hb,continuation:{tokenize:hv},exit:hk}},text:{91:{name:"gfmFootnoteCall",tokenize:hy},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:hm,resolveTo:hg}}},function(e){let t=(e||{}).singleTilde,n={name:"strikethrough",tokenize:function(e,n,r){let i=this.previous,a=this.events,s=0;return function(o){return 126===i&&"characterEscape"!==a[a.length-1][1].type?r(o):(e.enter("strikethroughSequenceTemporary"),function a(o){let l=sD(i);if(126===o)return s>1?r(o):(e.consume(o),s++,a);if(s<2&&!t)return r(o);let c=e.exit("strikethroughSequenceTemporary"),u=sD(o);return c._open=!u||2===u&&!!l,c._close=!l||2===l&&!!u,n(o)}(o))}},resolveAll:function(e,t){let n=-1;for(;++n<e.length;)if("enter"===e[n][0]&&"strikethroughSequenceTemporary"===e[n][1].type&&e[n][1]._close){let r=n;for(;r--;)if("exit"===e[r][0]&&"strikethroughSequenceTemporary"===e[r][1].type&&e[r][1]._open&&e[n][1].end.offset-e[n][1].start.offset==e[r][1].end.offset-e[r][1].start.offset){e[n][1].type="strikethroughSequence",e[r][1].type="strikethroughSequence";let i={type:"strikethrough",start:Object.assign({},e[r][1].start),end:Object.assign({},e[n][1].end)},a={type:"strikethroughText",start:Object.assign({},e[r][1].end),end:Object.assign({},e[n][1].start)},s=[["enter",i,t],["enter",e[r][1],t],["exit",e[r][1],t],["enter",a,t]],o=t.parser.constructs.insideSpan.null;o&&a9(s,s.length,0,sM(o,e.slice(r+1,n),t)),a9(s,s.length,0,[["exit",a,t],["enter",e[n][1],t],["exit",e[n][1],t],["exit",i,t]]),a9(e,r-1,n-r+3,s),n=r+s.length-2;break}}for(n=-1;++n<e.length;)"strikethroughSequenceTemporary"===e[n][1].type&&(e[n][1].type="data");return e}};return null==t&&(t=!0),{text:{126:n},insideSpan:{null:[n]},attentionMarkers:{null:[126]}}}(n),{flow:{null:{name:"table",tokenize:h_,resolveAll:hE}}},{text:{91:hC}}])),a.push([{transforms:[dI],enter:{literalAutolink:dT,literalAutolinkEmail:dS,literalAutolinkHttp:dS,literalAutolinkWww:dS},exit:{literalAutolink:dN,literalAutolinkEmail:dA,literalAutolinkHttp:dw,literalAutolinkWww:dC}},{enter:{gfmFootnoteCallString:dR,gfmFootnoteCall:dP,gfmFootnoteDefinitionLabelString:dL,gfmFootnoteDefinition:dF},exit:{gfmFootnoteCallString:dj,gfmFootnoteCall:dB,gfmFootnoteDefinitionLabelString:dH,gfmFootnoteDefinition:dU}},{canContainEols:["delete"],enter:{strikethrough:dZ},exit:{strikethrough:d$}},{enter:{table:dX,tableData:d5,tableHeader:d5,tableRow:d1},exit:{codeText:d3,table:d0,tableData:d2,tableHeader:d2,tableRow:d2}},{exit:{taskListCheckValueChecked:d6,taskListCheckValueUnchecked:d6,paragraph:d9}}]),s.push({extensions:[{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:d_,notInConstruct:dE},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:d_,notInConstruct:dE},{character:":",before:"[ps]",after:"\\/",inConstruct:d_,notInConstruct:dE}]},(t=!1,n&&n.firstLineBlank&&(t=!0),{handlers:{footnoteDefinition:function(e,n,r,i){let a=r.createTracker(i),s=a.move("[^"),o=r.enter("footnoteDefinition"),l=r.enter("label");return s+=a.move(r.safe(r.associationId(e),{before:s,after:"]"})),l(),s+=a.move("]:"),e.children&&e.children.length>0&&(a.shift(4),s+=a.move((t?"\n":" ")+r.indentLines(r.containerFlow(e,a.current()),t?dG:dV))),o(),s},footnoteReference:dz},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]}),{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:dq}],handlers:{delete:dW}},function(e){let t=e||{},n=t.tableCellPadding,r=t.tablePipeAlign,i=t.stringLength,a=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:"\n",inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:function(e,t,n){let r=dQ.inlineCode(e,t,n);return n.stack.includes("tableCell")&&(r=r.replace(/\|/g,"\\$&")),r},table:function(e,t,n,r){return o(function(e,t,n){let r=e.children,i=-1,a=[],s=t.enter("table");for(;++i<r.length;)a[i]=l(r[i],t,n);return s(),a}(e,n,r),e.align)},tableCell:s,tableRow:function(e,t,n,r){let i=o([l(e,n,r)]);return i.slice(0,i.indexOf("\n"))}}};function s(e,t,n,r){let i=n.enter("tableCell"),s=n.enter("phrasing"),o=n.containerPhrasing(e,{...r,before:a,after:a});return s(),i(),o}function o(e,t){return function(e,t){let n=t||{},r=(n.align||[]).concat(),i=n.stringLength||dY,a=[],s=[],o=[],l=[],c=0,u=-1;for(;++u<e.length;){let t=[],r=[],a=-1;for(e[u].length>c&&(c=e[u].length);++a<e[u].length;){var d;let s=null==(d=e[u][a])?"":String(d);if(!1!==n.alignDelimiters){let e=i(s);r[a]=e,(void 0===l[a]||e>l[a])&&(l[a]=e)}t.push(s)}s[u]=t,o[u]=r}let h=-1;if("object"==typeof r&&"length"in r)for(;++h<c;)a[h]=dK(r[h]);else{let e=dK(r);for(;++h<c;)a[h]=e}h=-1;let p=[],f=[];for(;++h<c;){let e=a[h],t="",r="";99===e?(t=":",r=":"):108===e?t=":":114===e&&(r=":");let i=!1===n.alignDelimiters?1:Math.max(1,l[h]-t.length-r.length),s=t+"-".repeat(i)+r;!1!==n.alignDelimiters&&((i=t.length+i+r.length)>l[h]&&(l[h]=i),f[h]=i),p[h]=s}s.splice(1,0,p),o.splice(1,0,f),u=-1;let m=[];for(;++u<s.length;){let e=s[u],t=o[u];h=-1;let r=[];for(;++h<c;){let i=e[h]||"",s="",o="";if(!1!==n.alignDelimiters){let e=l[h]-(t[h]||0),n=a[h];114===n?s=" ".repeat(e):99===n?e%2?(s=" ".repeat(e/2+.5),o=" ".repeat(e/2-.5)):o=s=" ".repeat(e/2):o=" ".repeat(e)}!1===n.delimiterStart||h||r.push("|"),!1!==n.padding&&(!1!==n.alignDelimiters||""!==i)&&(!1!==n.delimiterStart||h)&&r.push(" "),!1!==n.alignDelimiters&&r.push(s),r.push(i),!1!==n.alignDelimiters&&r.push(o),!1!==n.padding&&r.push(" "),(!1!==n.delimiterEnd||h!==c-1)&&r.push("|")}m.push(!1===n.delimiterEnd?r.join("").replace(/ +$/,""):r.join(""))}return m.join("\n")}(e,{align:t,alignDelimiters:r,padding:n,stringLength:i})}function l(e,t,n){let r=e.children,i=-1,a=[],o=t.enter("tableRow");for(;++i<r.length;)a[i]=s(r[i],e,t,n);return o(),a}}(n),{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:d8}}]})},{}],math:[function(e){let t,n=e||hR,r=this.data(),i=r.micromarkExtensions||(r.micromarkExtensions=[]),a=r.fromMarkdownExtensions||(r.fromMarkdownExtensions=[]),s=r.toMarkdownExtensions||(r.toMarkdownExtensions=[]);i.push({flow:{36:hI},text:{36:(null==(t=(n||{}).singleDollarTextMath)&&(t=!0),{tokenize:function(e,n,r){let i,a,s=0;return function(n){return e.enter("mathText"),e.enter("mathTextSequence"),function n(i){return 36===i?(e.consume(i),s++,n):s<2&&!t?r(i):(e.exit("mathTextSequence"),o(i))}(n)};function o(t){return null===t?r(t):36===t?(a=e.enter("mathTextSequence"),i=0,function t(r){return 36===r?(e.consume(r),i++,t):i===s?(e.exit("mathTextSequence"),e.exit("mathText"),n(r)):(a.type="mathTextData",l(r))}(t)):32===t?(e.enter("space"),e.consume(t),e.exit("space"),o):sl(t)?(e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),o):(e.enter("mathTextData"),l(t))}function l(t){return null===t||32===t||36===t||sl(t)?(e.exit("mathTextData"),o(t)):(e.consume(t),l)}},resolve:hM,previous:hO,name:"mathText"})}}),a.push(function(){return{enter:{mathFlow:function(e){this.enter({type:"math",meta:null,value:"",data:{hName:"pre",hChildren:[{type:"element",tagName:"code",properties:{className:["language-math","math-display"]},children:[]}]}},e)},mathFlowFenceMeta:function(){this.buffer()},mathText:function(e){this.enter({type:"inlineMath",value:"",data:{hName:"code",hProperties:{className:["language-math","math-inline"]},hChildren:[]}},e),this.buffer()}},exit:{mathFlow:function(e){let t=this.resume().replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),n=this.stack[this.stack.length-1];iJ("math"===n.type),this.exit(e),n.value=t;let r=n.data.hChildren[0];iJ("element"===r.type),iJ("code"===r.tagName),r.children.push({type:"text",value:t}),this.data.mathFlowInside=void 0},mathFlowFence:function(){this.data.mathFlowInside||(this.buffer(),this.data.mathFlowInside=!0)},mathFlowFenceMeta:function(){let e=this.resume(),t=this.stack[this.stack.length-1];iJ("math"===t.type),t.meta=e},mathFlowValue:e,mathText:function(e){let t=this.resume(),n=this.stack[this.stack.length-1];iJ("inlineMath"===n.type),this.exit(e),n.value=t,n.data.hChildren.push({type:"text",value:t})},mathTextData:e}};function e(e){this.config.enter.data.call(this,e),this.config.exit.data.call(this,e)}}()),s.push(function(e){let t=(e||{}).singleDollarTextMath;return null==t&&(t=!0),n.peek=function(){return"$"},{unsafe:[{character:"\r",inConstruct:"mathFlowMeta"},{character:"\n",inConstruct:"mathFlowMeta"},{character:"$",after:t?void 0:"\\$",inConstruct:"phrasing"},{character:"$",inConstruct:"mathFlowMeta"},{atBreak:!0,character:"$",after:"\\$"}],handlers:{math:function(e,t,n,r){let i=e.value||"",a=n.createTracker(r),s="$".repeat(Math.max(function(e,t){let n=String(e),r=n.indexOf("$"),i=r,a=0,s=0;if("string"!=typeof t)throw TypeError("Expected substring");for(;-1!==r;)r===i?++a>s&&(s=a):a=1,i=r+t.length,r=n.indexOf(t,i);return s}(i,"$")+1,2)),o=n.enter("mathFlow"),l=a.move(s);if(e.meta){let t=n.enter("mathFlowMeta");l+=a.move(n.safe(e.meta,{after:"\n",before:l,encode:["$"],...a.current()})),t()}return l+=a.move("\n"),i&&(l+=a.move(i+"\n")),l+=a.move(s),o(),l},inlineMath:n}};function n(e,n,r){let i=e.value||"",a=1;for(!t&&a++;RegExp("(^|[^$])"+"\\$".repeat(a)+"([^$]|$)").test(i);)a++;let s="$".repeat(a);/[^ \r\n]/.test(i)&&(/^[ \r\n]/.test(i)&&/[ \r\n]$/.test(i)||/^\$|\$$/.test(i))&&(i=" "+i+" ");let o=-1;for(;++o<r.unsafe.length;){let e,t=r.unsafe[o];if(!t.atBreak)continue;let n=r.compilePattern(t);for(;e=n.exec(i);){let t=e.index;10===i.codePointAt(t)&&13===i.codePointAt(t-1)&&t--,i=i.slice(0,t)+" "+i.slice(e.index+1)}}return s+i+s}}(n))},{singleDollarTextMath:!1}]},vT=(0,P.createContext)(["github-light","github-dark"]),vS=(0,P.createContext)(void 0),vw=(0,P.createContext)(!0),vC=(0,P.createContext)({isAnimating:!1}),vA=(0,P.memo)(e=>{let{content:t,shouldParseIncompleteMarkdown:n,...r}=e,i=(0,P.useMemo)(()=>"string"==typeof t&&n?(e=>{if(!e||"string"!=typeof e)return e;let t=e,n=(e=>{let t=e.match(/(!?)\[([^\]]+)\]\(([^)]+)$/);if(t){let n="!"===t[1],r=t[2],i=t[3],a=e.lastIndexOf("".concat(n?"!":"","[").concat(r,"](").concat(i)),s=e.substring(0,a);return n?s:"".concat(s,"[").concat(r,"](streamdown:incomplete-link)")}let n=e.match(vd);if(n){if(n[1].startsWith("!")){let t=e.lastIndexOf(n[1]);return e.substring(0,t)}return"".concat(e,"](streamdown:incomplete-link)")}return e})(t);return n.endsWith("](streamdown:incomplete-link)")?n:t=(e=>{if((e.match(/\$\$/g)||[]).length%2==0)return e;let t=e.indexOf("$$");return -1===t||-1===e.indexOf("\n",t)||e.endsWith("\n")?"".concat(e,"$$"):"".concat(e,"\n$$")})(t=(e=>{let t=e.match(vb);if(t){let n=t[2];if(!n||/^[\s_~*`]*$/.test(n))return e;if((e.match(/~~/g)||[]).length%2==1)return"".concat(e,"~~")}return e})(t=(e=>{if(e.match(/^```[^`\n]*```?$/)&&!e.includes("\n"))return e.endsWith("``")&&!e.endsWith("```")?"".concat(e,"`"):e;let t=(e.match(/```/g)||[]).length;if(t>0&&t%2==0&&e.includes("\n")||(e.endsWith("```\n")||e.endsWith("```"))&&t%2==0)return e;let n=e.match(vy);if(n&&t%2!=1){let t=n[2];if(!t||/^[\s_~*`]*$/.test(t))return e;if((e=>{let t=0;for(let n=0;n<e.length;n++)"`"===e[n]&&!vx(e,n)&&t++;return t})(e)%2==1)return"".concat(e,"`")}return e})(t=(e=>{if(vv(e))return e;if(e.match(vg)){let t=-1;for(let n=0;n<e.length;n++)if("_"===e[n]&&"_"!==e[n-1]&&"_"!==e[n+1]&&"\\"!==e[n-1]&&!vk(e,n)){let r=n>0?e[n-1]:"",i=n<e.length-1?e[n+1]:"";if(r&&i&&RegExp("[\\p{L}\\p{N}_]","u").test(r)&&RegExp("[\\p{L}\\p{N}_]","u").test(i))continue;t=n;break}if(-1===t)return e;let n=e.substring(t+1);if(!n||/^[\s_~*`]*$/.test(n))return e;if((e=>e.split("").reduce((t,n,r)=>{if("_"===n){let n=e[r-1],i=e[r+1];if("\\"===n||vk(e,r)||n&&i&&RegExp("[\\p{L}\\p{N}_]","u").test(n)&&RegExp("[\\p{L}\\p{N}_]","u").test(i))return t;if("_"!==n&&"_"!==i)return t+1}return t},0))(e)%2==1){let t=e.match(/\n+$/);return t?"".concat(e.slice(0,-t[0].length),"_").concat(t[0]):"".concat(e,"_")}}return e})(t=(e=>{if(vv(e))return e;if(e.match(vm)){let t=-1;for(let n=0;n<e.length;n++)if("*"===e[n]&&"*"!==e[n-1]&&"*"!==e[n+1]){t=n;break}if(-1===t)return e;let n=e.substring(t+1);if(!n||/^[\s_~*`]*$/.test(n))return e;if((e=>e.split("").reduce((t,n,r)=>{if("*"===n){let n=e[r-1],i=e[r+1];if("\\"===n)return t;let a=r;for(let t=r-1;t>=0;t--){if("\n"===e[t]){a=t+1;break}if(0===t){a=0;break}}if(""===e.substring(a,r).trim()&&(" "===i||"	"===i))return t;if("*"!==n&&"*"!==i)return t+1}return t},0))(e)%2==1)return"".concat(e,"*")}return e})(t=(e=>{let t=e.match(vp);if(t){let n=t[2];if(!n||/^[\s_~*`]*$/.test(n))return e;let r=e.lastIndexOf(t[1]),i=e.substring(0,r).lastIndexOf("\n"),a=e.substring(-1===i?0:i+1,r);if(/^[\s]*[-*+][\s]+$/.test(a)&&n.includes("\n"))return e;if((e.match(/__/g)||[]).length%2==1)return"".concat(e,"__")}return e})(t=(e=>{if(vv(e))return e;let t=e.match(vh);if(t){let n=t[2];if(!n||/^[\s_~*`]*$/.test(n))return e;let r=e.lastIndexOf(t[1]),i=e.substring(0,r).lastIndexOf("\n"),a=e.substring(-1===i?0:i+1,r);if(/^[\s]*[-*+][\s]+$/.test(a)&&n.includes("\n"))return e;if((e.match(/\*\*/g)||[]).length%2==1)return"".concat(e,"**")}return e})(t=(e=>{if(vv(e)||/^\*{4,}$/.test(e))return e;let t=e.match(vf);if(t){let n=t[2];if(!n||/^[\s_~*`]*$/.test(n))return e;if((e=>{let t=0;for(let n of e.match(/\*+/g)||[]){let e=n.length;e>=3&&(t+=Math.floor(e/3))}return t})(e)%2==1)return"".concat(e,"***")}return e})(t=n))))))))})(t.trim()):t,[t,n]);return(0,ee.jsx)(lf,{...r,children:i})},(e,t)=>e.content===t.content);vA.displayName="Block";var vN=(0,P.memo)(e=>{let{children:t,parseIncompleteMarkdown:n=!0,components:r,rehypePlugins:i=Object.values(v_),remarkPlugins:a=Object.values(vE),className:s,shikiTheme:o=["github-light","github-dark"],mermaidConfig:l,controls:c=!0,isAnimating:u=!1,...d}=e,h=(0,P.useId)(),p=(0,P.useMemo)(()=>(e=>{let t=/\[\^[^\]\s]{1,200}\](?!:)/.test(e),n=/\[\^[^\]\s]{1,200}\]:/.test(e);if(t||n)return[e];let r=bA.Lexer.lex(e,{gfm:!0}),i=[],a=[];for(let e=0;e<r.length;e++){let t=r[e],n=t.raw;if(a.length>0){if(i[i.length-1]+=n,"html"===t.type){let e=n.match(/<\/(\w+)>/);if(e){let t=e[1];a[a.length-1]===t&&a.pop()}}continue}if("html"===t.type&&t.block){let e=n.match(/<(\w+)[\s>]/);if(e){let t=e[1];n.includes("</".concat(t,">"))||a.push(t)}}if("$$"===n.trim()&&i.length>0){let e=i.at(-1);if(!e){i.push(n);continue}let t=e.trimStart().startsWith("$$"),r=(e.match(/\$\$/g)||[]).length;if(t&&r%2==1){i[i.length-1]=e+n;continue}}if(i.length>0&&n.trimEnd().endsWith("$$")){let e=i.at(-1);if(!e){i.push(n);continue}let t=e.trimStart().startsWith("$$"),r=(e.match(/\$\$/g)||[]).length,a=(n.match(/\$\$/g)||[]).length;if(t&&r%2==1&&!n.trimStart().startsWith("$$")&&1===a){i[i.length-1]=e+n;continue}}i.push(n)}return i})("string"==typeof t?t:""),[t]);return(0,ee.jsx)(vT.Provider,{value:o,children:(0,ee.jsx)(vS.Provider,{value:l,children:(0,ee.jsx)(vw.Provider,{value:c,children:(0,ee.jsx)(vC.Provider,{value:{isAnimating:u},children:(0,ee.jsx)("div",{className:bN("space-y-4",s),children:p.map((e,t)=>(0,ee.jsx)(vA,{components:{...vu,...r},content:e,rehypePlugins:i,remarkPlugins:a,shouldParseIncompleteMarkdown:n,...d},"".concat(h,"-block-").concat(t)))})})})})})},(e,t)=>e.children===t.children&&e.shikiTheme===t.shikiTheme&&e.isAnimating===t.isAnimating);vN.displayName="Streamdown";var vI=e.i(863509);let vD={Unchanged:0,Deleted:-1,Inserted:1},vM=(e,t,n)=>{vH(t,n);let r=[],i=[],a=vV(t),s=vV(n),o=a.length,l=s.length,c=Math.min(o,l),u=0,d=0;for(;u<c;u++){let e=a[u];if(!vz(e,s[u]))break;r.push(...vU(e))}for(;d+u+1<c;d++){let e=a[o-d-1];if(!vz(e,s[l-d-1]))break;i.unshift(...vU(e))}let h=a.slice(u,o-d),p=s.slice(u,l-d);if(h.length&&p.length){let t=vO(e,h,p).sort((e,t)=>t.count-e.count)[0];if(t){let{oldStartIndex:n,newStartIndex:a,oldEndIndex:s,newEndIndex:o}=t,l=h.slice(0,n),c=p.slice(0,a);r.push(...vP(e,l,c)),r.push(...h.slice(n,s));let u=h.slice(s),d=p.slice(o);i.unshift(...vP(e,u,d))}else r.push(...vP(e,h,p))}else r.push(...vP(e,h,p));return vJ(t,[...r,...i])},vO=(e,t,n)=>{let r=[];for(let e=0;e<t.length;e++){let i=vR(n,t[e]);if(-1!==i){let a=e+1,s=i+1;for(;a<t.length&&s<n.length;a++,s++){let e=t[a];if(!vz(n[s],e))break}r.push({oldStartIndex:e,newStartIndex:i,oldEndIndex:a,newEndIndex:s,count:s-i})}}return r},vR=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;for(let r=n;r<e.length;r++)if(vz(e[r],t))return r;return -1},vP=(e,t,n)=>{let r=[],i=[],a=t.length,s=n.length,o=0,l=0;for(;a-o-l>0&&s-o-l>0;){let c=t[o],u=n[o],d=t[a-l-1],h=n[s-l-1],p=!vY(c)&&vK(c,u),f=!vY(d)&&vK(d,h);if(Array.isArray(c)&&Array.isArray(u)){r.push(...vL(e,c,u)),o+=1;continue}p&&f&&(vB(c,u)<vB(d,h)?p=!1:f=!1),p?(r.push(vM(e,c,u)),o+=1):f?(i.unshift(vM(e,d,h)),l+=1):(r.push(vQ(e,c,vD.Deleted)),r.push(vQ(e,u,vD.Inserted)),o+=1)}let c=a-o-l,u=s-o-l;return c&&r.push(...t.slice(o,o+c).flat().map(t=>vQ(e,t,vD.Deleted))),u&&i.unshift(...n.slice(o,o+u).flat().map(t=>vQ(e,t,vD.Inserted))),[...r,...i]},vL=(e,t,n)=>{let r=new vI.diff_match_patch,i=t.map(e=>vW(e)).join(""),a=n.map(e=>vW(e)).join(""),{chars1:s,chars2:o,lineArray:l}=vj(vF(i),vF(a)),c=r.diff_main(s,o,!1);return(c=c.map(e=>{let[t,n]=e;return[t,n.split("").map(e=>l[e.charCodeAt(0)])]})).flatMap(t=>{let[n,r]=t;return r.map(t=>v0(e,t,n!==vD.Unchanged?[vX(e,n)]:[]))})},vF=e=>e.match(/[^.!?]+[.!?]*\s*/g)||[],vj=(e,t)=>{let n=[],r={},i=0;return{chars1:e.map(e=>(e in r||(r[e]=i,n[i]=e,i++),String.fromCharCode(r[e]))).join(""),chars2:t.map(e=>(e in r||(r[e]=i,n[i]=e,i++),String.fromCharCode(r[e]))).join(""),lineArray:n}},vB=(e,t)=>0,vH=(e,t)=>{if(vG(e,"type")!==vG(t,"type"))throw Error("node type not equal: ".concat(e.type," !== ").concat(t.type))},vU=e=>Array.isArray(e)?e:[e],vz=(e,t)=>{let n=Array.isArray(e);if(n!==Array.isArray(t))return!1;if(n)return e.length===t.length&&e.every((e,n)=>vz(e,t[n]));if(vG(e,"type")!==vG(t,"type"))return!1;if(vY(e)&&vG(e,"text")!==vG(t,"text"))return!1;let r=vq(e),i=vq(t);for(let e of[...new Set([...Object.keys(r),...Object.keys(i)])])if(r[e]!==i[e])return!1;let a=vZ(e),s=vZ(t);if(a.length!==s.length)return!1;for(let e=0;e<a.length;e++)if(!vz(a[e],s[e]))return!1;let o=v$(e),l=v$(t);if(o.length!==l.length)return!1;for(let e=0;e<o.length;e++)if(!vz(o[e],l[e]))return!1;return!0},vV=e=>{var t;let n=null!=(t=v$(e))?t:[],r=[];for(let e=0;e<n.length;e++){let t=n[e];if(vY(t)){let t=[];for(let r=n[e];e<n.length&&vY(r);r=n[++e])t.push(r);e--,r.push(t)}else r.push(t)}return r},vG=(e,t)=>{if("type"===t){var n;return null==(n=e.type)?void 0:n.name}return e[t]},vq=e=>e.attrs?e.attrs:{},vZ=e=>{var t;return null!=(t=e.marks)?t:[]},v$=e=>{var t,n;return null!=(n=null==(t=e.content)?void 0:t.content)?n:[]},vW=e=>e.text,vY=e=>{var t;return(null==(t=e.type)?void 0:t.name)==="text"},vK=(e,t)=>{var n,r;return(null==(n=e.type)?void 0:n.name)===(null==(r=t.type)?void 0:r.name)||Array.isArray(e)&&Array.isArray(t)},vJ=(e,t)=>{if(!e.type)throw Error("oldNode.type is undefined");return new eP(e.type,e.attrs,eg.fromArray(t),e.marks)},vQ=(e,t,n)=>(function e(t,n){let r=t.copy(eg.from(t.content.content.map(t=>e(t,n)).filter(e=>e)));return n(r)||r})(t,t=>vY(t)?v0(e,vW(t),[...t.marks||[],vX(e,n)]):t),vX=(e,t)=>{if(t===vD.Inserted||t===vD.Deleted)return e.mark("diffMark",{type:t});throw Error("type is not valid")},v0=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return e.text(t,n)},v1=new eK({nodes:nf(tu.spec.nodes,"paragraph block*","block"),marks:em.from({...tu.spec.marks.toObject(),diffMark:{attrs:{type:{default:""}},toDOM(e){let t="";switch(e.attrs.type){case vD.Inserted:t="bg-green-100 text-green-700 dark:bg-green-500/70 dark:text-green-300";break;case vD.Deleted:t="bg-red-100 line-through text-red-600 dark:bg-red-500/70 dark:text-red-300";break;default:t=""}return["span",{class:t},0]}}})}),v2=e=>{let{oldContent:t,newContent:n}=e,r=(0,P.useRef)(null),i=(0,P.useRef)(null);return(0,P.useEffect)(()=>{if(r.current&&!i.current){let e=eQ.fromSchema(v1),a=(0,iK.renderToString)((0,ee.jsx)(vN,{children:t})),s=(0,iK.renderToString)((0,ee.jsx)(vN,{children:n})),o=document.createElement("div");o.innerHTML=a;let l=document.createElement("div");l.innerHTML=s;let c=e.parse(o),u=e.parse(l),d=((e,t,n)=>{let r=eP.fromJSON(e,t),i=eP.fromJSON(e,n);return vM(e,r,i)})(v1,c.toJSON(),u.toJSON()),h=nn.create({doc:d,plugins:[]});i.current=new iG(r.current,{state:h,editable:()=>!1})}return()=>{i.current&&(i.current.destroy(),i.current=null)}},[t,n]),(0,ee.jsx)("div",{className:"diff-editor",ref:r})},v5=e=>{let{artifactKind:t}=e;return"sheet"===t?(0,ee.jsx)("div",{className:"flex h-[calc(100dvh-60px)] w-full flex-col items-center justify-center gap-4",children:(0,ee.jsx)("div",{className:"size-96 animate-pulse rounded-lg bg-muted-foreground/20"})}):(0,ee.jsxs)("div",{className:"flex w-full flex-col gap-4",children:[(0,ee.jsx)("div",{className:"h-12 w-1/2 animate-pulse rounded-lg bg-muted-foreground/20"}),(0,ee.jsx)("div",{className:"h-5 w-full animate-pulse rounded-lg bg-muted-foreground/20"}),(0,ee.jsx)("div",{className:"h-5 w-full animate-pulse rounded-lg bg-muted-foreground/20"}),(0,ee.jsx)("div",{className:"h-5 w-1/3 animate-pulse rounded-lg bg-muted-foreground/20"}),(0,ee.jsx)("div",{className:"h-5 w-52 animate-pulse rounded-lg bg-transparent"}),(0,ee.jsx)("div",{className:"h-8 w-52 animate-pulse rounded-lg bg-muted-foreground/20"}),(0,ee.jsx)("div",{className:"h-5 w-2/3 animate-pulse rounded-lg bg-muted-foreground/20"})]})},v3=()=>(0,ee.jsxs)("div",{className:"flex w-full flex-col gap-4",children:[(0,ee.jsx)("div",{className:"h-4 w-48 animate-pulse rounded-lg bg-muted-foreground/20"}),(0,ee.jsx)("div",{className:"h-4 w-3/4 animate-pulse rounded-lg bg-muted-foreground/20"}),(0,ee.jsx)("div",{className:"h-4 w-1/2 animate-pulse rounded-lg bg-muted-foreground/20"}),(0,ee.jsx)("div",{className:"h-4 w-64 animate-pulse rounded-lg bg-muted-foreground/20"}),(0,ee.jsx)("div",{className:"h-4 w-40 animate-pulse rounded-lg bg-muted-foreground/20"}),(0,ee.jsx)("div",{className:"h-4 w-36 animate-pulse rounded-lg bg-muted-foreground/20"}),(0,ee.jsx)("div",{className:"h-4 w-64 animate-pulse rounded-lg bg-muted-foreground/20"})]});for(var v4=e.i(144210),v6={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},v9={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},v8="undefined"!=typeof navigator&&/Mac/.test(navigator.platform),v7="undefined"!=typeof navigator&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),ke=0;ke<10;ke++)v6[48+ke]=v6[96+ke]=String(ke);for(var ke=1;ke<=24;ke++)v6[ke+111]="F"+ke;for(var ke=65;ke<=90;ke++)v6[ke]=String.fromCharCode(ke+32),v9[ke]=String.fromCharCode(ke);for(var kt in v6)v9.hasOwnProperty(kt)||(v9[kt]=v6[kt]);let kn="undefined"!=typeof navigator&&/Mac|iP(hone|[oa]d)/.test(navigator.platform),kr="undefined"!=typeof navigator&&/Win/.test(navigator.platform);function ki(e,t){let n=!(arguments.length>2)||void 0===arguments[2]||arguments[2];return t.altKey&&(e="Alt-"+e),t.ctrlKey&&(e="Ctrl-"+e),t.metaKey&&(e="Meta-"+e),n&&t.shiftKey&&(e="Shift-"+e),e}function ka(e){return new nr({props:{handleKeyDown:ks(e)}})}function ks(e){let t=function(e){let t=Object.create(null);for(let n in e)t[function(e){let t,n,r,i,a=e.split(/-(?!$)/),s=a[a.length-1];"Space"==s&&(s=" ");for(let e=0;e<a.length-1;e++){let s=a[e];if(/^(cmd|meta|m)$/i.test(s))i=!0;else if(/^a(lt)?$/i.test(s))t=!0;else if(/^(c|ctrl|control)$/i.test(s))n=!0;else if(/^s(hift)?$/i.test(s))r=!0;else if(/^mod$/i.test(s))kn?i=!0:n=!0;else throw Error("Unrecognized modifier name: "+s)}return t&&(s="Alt-"+s),n&&(s="Ctrl-"+s),i&&(s="Meta-"+s),r&&(s="Shift-"+s),s}(n)]=e[n];return t}(e);return function(e,n){var r;let i=("Esc"==(r=!(v8&&n.metaKey&&n.shiftKey&&!n.ctrlKey&&!n.altKey||v7&&n.shiftKey&&n.key&&1==n.key.length||"Unidentified"==n.key)&&n.key||(n.shiftKey?v9:v6)[n.keyCode]||n.key||"Unidentified")&&(r="Escape"),"Del"==r&&(r="Delete"),"Left"==r&&(r="ArrowLeft"),"Up"==r&&(r="ArrowUp"),"Right"==r&&(r="ArrowRight"),"Down"==r&&(r="ArrowDown"),r),a,s=t[ki(i,n)];if(s&&s(e.state,e.dispatch,e))return!0;if(1==i.length&&" "!=i){if(n.shiftKey){let r=t[ki(i,n,!1)];if(r&&r(e.state,e.dispatch,e))return!0}if((n.altKey||n.metaKey||n.ctrlKey)&&!(kr&&n.ctrlKey&&n.altKey)&&(a=v6[n.keyCode])&&a!=i){let r=t[ki(a,n)];if(r&&r(e.state,e.dispatch,e))return!0}}return!1}}var ko=function(){};ko.prototype.append=function(e){return e.length?(e=ko.from(e),!this.length&&e||e.length<200&&this.leafAppend(e)||this.length<200&&e.leafPrepend(this)||this.appendInner(e)):this},ko.prototype.prepend=function(e){return e.length?ko.from(e).append(this):this},ko.prototype.appendInner=function(e){return new kc(this,e)},ko.prototype.slice=function(e,t){return(void 0===e&&(e=0),void 0===t&&(t=this.length),e>=t)?ko.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,t))},ko.prototype.get=function(e){if(!(e<0)&&!(e>=this.length))return this.getInner(e)},ko.prototype.forEach=function(e,t,n){void 0===t&&(t=0),void 0===n&&(n=this.length),t<=n?this.forEachInner(e,t,n,0):this.forEachInvertedInner(e,t,n,0)},ko.prototype.map=function(e,t,n){void 0===t&&(t=0),void 0===n&&(n=this.length);var r=[];return this.forEach(function(t,n){return r.push(e(t,n))},t,n),r},ko.from=function(e){return e instanceof ko?e:e&&e.length?new kl(e):ko.empty};var kl=function(e){function t(t){e.call(this),this.values=t}t.__proto__=e,t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={length:{configurable:!0},depth:{configurable:!0}};return t.prototype.flatten=function(){return this.values},t.prototype.sliceInner=function(e,n){return 0==e&&n==this.length?this:new t(this.values.slice(e,n))},t.prototype.getInner=function(e){return this.values[e]},t.prototype.forEachInner=function(e,t,n,r){for(var i=t;i<n;i++)if(!1===e(this.values[i],r+i))return!1},t.prototype.forEachInvertedInner=function(e,t,n,r){for(var i=t-1;i>=n;i--)if(!1===e(this.values[i],r+i))return!1},t.prototype.leafAppend=function(e){if(this.length+e.length<=200)return new t(this.values.concat(e.flatten()))},t.prototype.leafPrepend=function(e){if(this.length+e.length<=200)return new t(e.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(t.prototype,n),t}(ko);ko.empty=new kl([]);var kc=function(e){function t(t,n){e.call(this),this.left=t,this.right=n,this.length=t.length+n.length,this.depth=Math.max(t.depth,n.depth)+1}return t.__proto__=e,t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},t.prototype.getInner=function(e){return e<this.left.length?this.left.get(e):this.right.get(e-this.left.length)},t.prototype.forEachInner=function(e,t,n,r){var i=this.left.length;if(t<i&&!1===this.left.forEachInner(e,t,Math.min(n,i),r)||n>i&&!1===this.right.forEachInner(e,Math.max(t-i,0),Math.min(this.length,n)-i,r+i))return!1},t.prototype.forEachInvertedInner=function(e,t,n,r){var i=this.left.length;if(t>i&&!1===this.right.forEachInvertedInner(e,t-i,Math.max(n,i)-i,r+i)||n<i&&!1===this.left.forEachInvertedInner(e,Math.min(t,i),n,r))return!1},t.prototype.sliceInner=function(e,t){if(0==e&&t==this.length)return this;var n=this.left.length;return t<=n?this.left.slice(e,t):e>=n?this.right.slice(e-n,t-n):this.left.slice(e,n).append(this.right.slice(0,t-n))},t.prototype.leafAppend=function(e){var n=this.right.leafAppend(e);if(n)return new t(this.left,n)},t.prototype.leafPrepend=function(e){var n=this.left.leafPrepend(e);if(n)return new t(n,this.right)},t.prototype.appendInner=function(e){return this.left.depth>=Math.max(this.right.depth,e.depth)+1?new t(this.left,new t(this.right,e)):new t(this,e)},t}(ko);class ku{popEvent(e,t){let n,r,i,a;if(0==this.eventCount)return null;let s=this.items.length;for(;;s--)if(this.items.get(s-1).selection){--s;break}t&&(r=(n=this.remapping(s,this.items.length)).maps.length);let o=e.tr,l=[],c=[];return this.items.forEach((e,t)=>{if(!e.step){n||(r=(n=this.remapping(s,t+1)).maps.length),r--,c.push(e);return}if(n){c.push(new kd(e.map));let t=e.step.map(n.slice(r)),i;t&&o.maybeStep(t).doc&&(i=o.mapping.maps[o.mapping.maps.length-1],l.push(new kd(i,void 0,void 0,l.length+c.length))),r--,i&&n.appendMap(i,r)}else o.maybeStep(e.step);if(e.selection)return i=n?e.selection.map(n.slice(r)):e.selection,a=new ku(this.items.slice(0,s).append(c.reverse().concat(l)),this.eventCount-1),!1},this.items.length,0),{remaining:a,transform:o,selection:i}}addTransform(e,t,n,r){var i,a;let s,o=[],l=this.eventCount,c=this.items,u=!r&&c.length?c.get(c.length-1):null;for(let n=0;n<e.steps.length;n++){let i=e.steps[n].invert(e.docs[n]),a=new kd(e.mapping.maps[n],i,t),s;(s=u&&u.merge(a))&&(a=s,n?o.pop():c=c.slice(0,c.length-1)),o.push(a),t&&(l++,t=void 0),r||(u=a)}let d=l-n.depth;return d>kp&&(i=c,a=d,i.forEach((e,t)=>{if(e.selection&&0==a--)return s=t,!1}),c=i.slice(s),l-=d),new ku(c.append(o),l)}remapping(e,t){let n=new tp;return this.items.forEach((t,r)=>{let i=null!=t.mirrorOffset&&r-t.mirrorOffset>=e?n.maps.length-t.mirrorOffset:void 0;n.appendMap(t.map,i)},e,t),n}addMaps(e){return 0==this.eventCount?this:new ku(this.items.append(e.map(e=>new kd(e))),this.eventCount)}rebased(e,t){if(!this.eventCount)return this;let n=[],r=Math.max(0,this.items.length-t),i=e.mapping,a=e.steps.length,s=this.eventCount;this.items.forEach(e=>{e.selection&&s--},r);let o=t;this.items.forEach(t=>{let r=i.getMirror(--o);if(null==r)return;a=Math.min(a,r);let l=i.maps[r];if(t.step){let a=e.steps[r].invert(e.docs[r]),c=t.selection&&t.selection.map(i.slice(o+1,r));c&&s++,n.push(new kd(l,a,c))}else n.push(new kd(l))},r);let l=[];for(let e=t;e<a;e++)l.push(new kd(i.maps[e]));let c=new ku(this.items.slice(0,r).append(l).append(n),s);return c.emptyItemCount()>500&&(c=c.compress(this.items.length-n.length)),c}emptyItemCount(){let e=0;return this.items.forEach(t=>{!t.step&&e++}),e}compress(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.items.length,t=this.remapping(0,e),n=t.maps.length,r=[],i=0;return this.items.forEach((a,s)=>{if(s>=e)r.push(a),a.selection&&i++;else if(a.step){let e=a.step.map(t.slice(n)),s=e&&e.getMap();if(n--,s&&t.appendMap(s,n),e){let o=a.selection&&a.selection.map(t.slice(n));o&&i++;let l=new kd(s.invert(),e,o),c,u=r.length-1;(c=r.length&&r[u].merge(l))?r[u]=c:r.push(l)}}else a.map&&n--},this.items.length,0),new ku(ko.from(r.reverse()),i)}constructor(e,t){this.items=e,this.eventCount=t}}ku.empty=new ku(ko.empty,0);class kd{merge(e){if(this.step&&e.step&&!e.selection){let t=e.step.merge(this.step);if(t)return new kd(t.getMap().invert(),t,this.selection)}}constructor(e,t,n,r){this.map=e,this.step=t,this.selection=n,this.mirrorOffset=r}}class kh{constructor(e,t,n,r,i){this.done=e,this.undone=t,this.prevRanges=n,this.prevTime=r,this.prevComposition=i}}let kp=20;function kf(e){let t=[];for(let n=e.length-1;n>=0&&0==t.length;n--)e[n].forEach((e,n,r,i)=>t.push(r,i));return t}function km(e,t){if(!e)return null;let n=[];for(let r=0;r<e.length;r+=2){let i=t.map(e[r],1),a=t.map(e[r+1],-1);i<=a&&n.push(i,a)}return n}let kg=!1,ky=null;function kb(e){let t=e.plugins;if(ky!=t){kg=!1,ky=t;for(let e=0;e<t.length;e++)if(t[e].spec.historyPreserveItems){kg=!0;break}}return kg}let kv=new ns("history"),kk=new ns("closeHistory");function kx(e,t){return(n,r)=>{let i=kv.getState(n);if(!i||0==(e?i.undone:i.done).eventCount)return!1;if(r){let a=function(e,t,n){let r=kb(t),i=kv.get(t).spec.config,a=(n?e.undone:e.done).popEvent(t,r);if(!a)return null;let s=a.selection.resolve(a.transform.doc),o=(n?e.done:e.undone).addTransform(a.transform,t.selection.getBookmark(),i,r),l=new kh(n?o:a.remaining,n?a.remaining:o,null,0,-1);return a.transform.setSelection(s).setMeta(kv,{redo:n,historyState:l})}(i,n,e);a&&r(t?a.scrollIntoView():a)}return!0}}let k_=kx(!1,!0),kE=kx(!0,!0);kx(!1,!1),kx(!0,!1);let kT=(e,t)=>!e.selection.empty&&(t&&t(e.tr.deleteSelection().scrollIntoView()),!0);function kS(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];for(let r=e;r;r="start"==t?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(n&&1!=r.childCount)break}return!1}function kw(e){if(!e.parent.type.spec.isolating)for(let t=e.depth-1;t>=0;t--){if(e.index(t)>0)return e.doc.resolve(e.before(t+1));if(e.node(t).type.spec.isolating)break}return null}function kC(e){if(!e.parent.type.spec.isolating)for(let t=e.depth-1;t>=0;t--){let n=e.node(t);if(e.index(t)+1<n.childCount)return e.doc.resolve(e.after(t+1));if(n.type.spec.isolating)break}return null}let kA=(e,t)=>{let n=e.selection,r=n instanceof t1,i;if(r){if(n.node.isTextblock||!tM(e.doc,n.from))return!1;i=n.from}else if(null==(i=tR(e.doc,n.from,-1)))return!1;if(t){let n=e.tr.join(i);r&&n.setSelection(t1.create(n.doc,i-e.doc.resolve(i).nodeBefore.nodeSize)),t(n.scrollIntoView())}return!0},kN=(e,t)=>{let n=e.selection,r;if(n instanceof t1){if(n.node.isTextblock||!tM(e.doc,n.to))return!1;r=n.to}else if(null==(r=tR(e.doc,n.to,1)))return!1;return t&&t(e.tr.join(r).scrollIntoView()),!0},kI=(e,t)=>{let{$from:n,$to:r}=e.selection,i=n.blockRange(r),a=i&&tw(i);return null!=a&&(t&&t(e.tr.lift(i,a).scrollIntoView()),!0)};function kD(e){for(let t=0;t<e.edgeCount;t++){let{type:n}=e.edge(t);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}let kM=(e,t)=>{let{$head:n,$anchor:r}=e.selection;if(!n.parent.type.spec.code||!n.sameParent(r))return!1;let i=n.node(-1),a=n.indexAfter(-1),s=kD(i.contentMatchAt(a));if(!s||!i.canReplaceWith(a,a,s))return!1;if(t){let r=n.after(),i=e.tr.replaceWith(r,r,s.createAndFill());i.setSelection(tY.near(i.doc.resolve(r),1)),t(i.scrollIntoView())}return!0},kO=(e,t)=>{let{$from:n,to:r}=e.selection,i,a=n.sharedDepth(r);return 0!=a&&(i=n.before(a),t&&t(e.tr.setSelection(t1.create(e.doc,i))),!0)};function kR(e,t,n,r){let i,a,s,o=t.nodeBefore,l=t.nodeAfter,c,u,d=o.type.spec.isolating||l.type.spec.isolating;if(!d&&(i=t.nodeBefore,a=t.nodeAfter,s=t.index(),i&&a&&i.type.compatibleContent(a.type)&&(!i.content.size&&t.parent.canReplace(s-1,s)?(n&&n(e.tr.delete(t.pos-i.nodeSize,t.pos).scrollIntoView()),!0):!!t.parent.canReplace(s,s+1)&&!!(a.isTextblock||tM(e.doc,t.pos))&&(n&&n(e.tr.join(t.pos).scrollIntoView()),!0))))return!0;let h=!d&&t.parent.canReplace(t.index(),t.index()+1);if(h&&(c=(u=o.contentMatchAt(o.childCount)).findWrapping(l.type))&&u.matchType(c[0]||l.type).validEnd){if(n){let r=t.pos+l.nodeSize,i=eg.empty;for(let e=c.length-1;e>=0;e--)i=eg.from(c[e].create(null,i));i=eg.from(o.copy(i));let a=e.tr.step(new tE(t.pos-1,r,t.pos,r,new e_(i,1,0),c.length,!0)),s=a.doc.resolve(r+2*c.length);s.nodeAfter&&s.nodeAfter.type==o.type&&tM(a.doc,s.pos)&&a.join(s.pos),n(a.scrollIntoView())}return!0}let p=l.type.spec.isolating||r>0&&d?null:tY.findFrom(t,1),f=p&&p.$from.blockRange(p.$to),m=f&&tw(f);if(null!=m&&m>=t.depth)return n&&n(e.tr.lift(f,m).scrollIntoView()),!0;if(h&&kS(l,"start",!0)&&kS(o,"end")){let r=o,i=[];for(;i.push(r),!r.isTextblock;)r=r.lastChild;let a=l,s=1;for(;!a.isTextblock;a=a.firstChild)s++;if(r.canReplace(r.childCount,r.childCount,a.content)){if(n){let r=eg.empty;for(let e=i.length-1;e>=0;e--)r=eg.from(i[e].copy(r));n(e.tr.step(new tE(t.pos-i.length,t.pos+l.nodeSize,t.pos+s,t.pos+l.nodeSize-s,new e_(r,i.length,0),0,!0)).scrollIntoView())}return!0}}return!1}function kP(e){return function(t,n){let r=t.selection,i=e<0?r.$from:r.$to,a=i.depth;for(;i.node(a).isInline;){if(!a)return!1;a--}return!!i.node(a).isTextblock&&(n&&n(t.tr.setSelection(tX.create(t.doc,e<0?i.start(a):i.end(a)))),!0)}}let kL=kP(-1),kF=kP(1);function kj(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return function(n,r){let{$from:i,$to:a}=n.selection,s=i.blockRange(a),o=s&&tC(s,e,t);return!!o&&(r&&r(n.tr.wrap(s,o).scrollIntoView()),!0)}}function kB(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return function(n,r){let i=!1;for(let r=0;r<n.selection.ranges.length&&!i;r++){let{$from:{pos:a},$to:{pos:s}}=n.selection.ranges[r];n.doc.nodesBetween(a,s,(r,a)=>{if(i)return!1;if(!(!r.isTextblock||r.hasMarkup(e,t)))if(r.type==e)i=!0;else{let t=n.doc.resolve(a),r=t.index();i=t.parent.canReplaceWith(r,r+1,e)}})}if(!i)return!1;if(r){let i=n.tr;for(let r=0;r<n.selection.ranges.length;r++){let{$from:{pos:a},$to:{pos:s}}=n.selection.ranges[r];i.setBlockType(a,s,e,t)}r(i.scrollIntoView())}return!0}}function kH(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2?arguments[2]:void 0,r=!1!==(n&&n.removeWhenPresent),i=!1!==(n&&n.enterInlineAtoms),a=!(n&&n.includeWhitespace);return function(n,s){let{empty:o,$cursor:l,ranges:c}=n.selection;if(o&&!l||!function(e,t,n,r){for(let i=0;i<t.length;i++){let{$from:a,$to:s}=t[i],o=0==a.depth&&e.inlineContent&&e.type.allowsMarkType(n);if(e.nodesBetween(a.pos,s.pos,(e,t)=>{if(o||!r&&e.isAtom&&e.isInline&&t>=a.pos&&t+e.nodeSize<=s.pos)return!1;o=e.inlineContent&&e.type.allowsMarkType(n)}),o)return!0}return!1}(n.doc,c,e,i))return!1;if(s)if(l)s(e.isInSet(n.storedMarks||l.marks())?n.tr.removeStoredMark(e):n.tr.addStoredMark(e.create(t)));else{let o,l=n.tr;i||(c=function(e){let t=[];for(let n=0;n<e.length;n++){let{$from:r,$to:i}=e[n];r.doc.nodesBetween(r.pos,i.pos,(e,n)=>{if(e.isAtom&&e.content.size&&e.isInline&&n>=r.pos&&n+e.nodeSize<=i.pos)return n+1>r.pos&&t.push(new tK(r,r.doc.resolve(n+1))),r=r.doc.resolve(n+1+e.content.size),!1}),r.pos<i.pos&&t.push(new tK(r,i))}return t}(c)),o=r?!c.some(t=>n.doc.rangeHasMark(t.$from.pos,t.$to.pos,e)):!c.every(t=>{let n=!1;return l.doc.nodesBetween(t.$from.pos,t.$to.pos,(r,i,a)=>{if(n)return!1;n=!e.isInSet(r.marks)&&!!a&&a.type.allowsMarkType(e)&&!(r.isText&&/^\s*$/.test(r.textBetween(Math.max(0,t.$from.pos-i),Math.min(r.nodeSize,t.$to.pos-i))))}),!n});for(let n=0;n<c.length;n++){let{$from:r,$to:i}=c[n];if(o){let n=r.pos,s=i.pos,o=r.nodeAfter,c=i.nodeBefore,u=a&&o&&o.isText?/^\s*/.exec(o.text)[0].length:0,d=a&&c&&c.isText?/\s*$/.exec(c.text)[0].length:0;n+u<s&&(n+=u,s-=d),l.addMark(n,s,e.create(t))}else l.removeMark(r.pos,i.pos,e)}s(l.scrollIntoView())}return!0}}function kU(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e,n,r){for(let i=0;i<t.length;i++)if(t[i](e,n,r))return!0;return!1}}let kz=kU(kT,(e,t,n)=>{let r=function(e,t){let{$cursor:n}=e.selection;return n&&(t?t.endOfTextblock("backward",e):!(n.parentOffset>0))?n:null}(e,n);if(!r)return!1;let i=kw(r);if(!i){let n=r.blockRange(),i=n&&tw(n);return null!=i&&(t&&t(e.tr.lift(n,i).scrollIntoView()),!0)}let a=i.nodeBefore;if(kR(e,i,t,-1))return!0;if(0==r.parent.content.size&&(kS(a,"end")||t1.isSelectable(a)))for(let n=r.depth;;n--){let s=tL(e.doc,r.before(n),r.after(n),e_.empty);if(s&&s.slice.size<s.to-s.from){if(t){let n=e.tr.step(s);n.setSelection(kS(a,"end")?tY.findFrom(n.doc.resolve(n.mapping.map(i.pos,-1)),-1):t1.create(n.doc,i.pos-a.nodeSize)),t(n.scrollIntoView())}return!0}if(1==n||r.node(n-1).childCount>1)break}return!!a.isAtom&&i.depth==r.depth-1&&(t&&t(e.tr.delete(i.pos-a.nodeSize,i.pos).scrollIntoView()),!0)},(e,t,n)=>{let{$head:r,empty:i}=e.selection,a=r;if(!i)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("backward",e):r.parentOffset>0)return!1;a=kw(r)}let s=a&&a.nodeBefore;return!!s&&!!t1.isSelectable(s)&&(t&&t(e.tr.setSelection(t1.create(e.doc,a.pos-s.nodeSize)).scrollIntoView()),!0)}),kV=kU(kT,(e,t,n)=>{let r=function(e,t){let{$cursor:n}=e.selection;return n&&(t?t.endOfTextblock("forward",e):!(n.parentOffset<n.parent.content.size))?n:null}(e,n);if(!r)return!1;let i=kC(r);if(!i)return!1;let a=i.nodeAfter;if(kR(e,i,t,1))return!0;if(0==r.parent.content.size&&(kS(a,"start")||t1.isSelectable(a))){let n=tL(e.doc,r.before(),r.after(),e_.empty);if(n&&n.slice.size<n.to-n.from){if(t){let r=e.tr.step(n);r.setSelection(kS(a,"start")?tY.findFrom(r.doc.resolve(r.mapping.map(i.pos)),1):t1.create(r.doc,r.mapping.map(i.pos))),t(r.scrollIntoView())}return!0}}return!!a.isAtom&&i.depth==r.depth-1&&(t&&t(e.tr.delete(i.pos,i.pos+a.nodeSize).scrollIntoView()),!0)},(e,t,n)=>{let{$head:r,empty:i}=e.selection,a=r;if(!i)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("forward",e):r.parentOffset<r.parent.content.size)return!1;a=kC(r)}let s=a&&a.nodeAfter;return!!s&&!!t1.isSelectable(s)&&(t&&t(e.tr.setSelection(t1.create(e.doc,a.pos)).scrollIntoView()),!0)}),kG={Enter:kU((e,t)=>{let{$head:n,$anchor:r}=e.selection;return!!n.parent.type.spec.code&&!!n.sameParent(r)&&(t&&t(e.tr.insertText("\n").scrollIntoView()),!0)},(e,t)=>{let n=e.selection,{$from:r,$to:i}=n;if(n instanceof t5||r.parent.inlineContent||i.parent.inlineContent)return!1;let a=kD(i.parent.contentMatchAt(i.indexAfter()));if(!a||!a.isTextblock)return!1;if(t){let n=(!r.parentOffset&&i.index()<i.parent.childCount?r:i).pos,s=e.tr.insert(n,a.createAndFill());s.setSelection(tX.create(s.doc,n+1)),t(s.scrollIntoView())}return!0},(e,t)=>{let{$cursor:n}=e.selection;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){let r=n.before();if(tD(e.doc,r))return t&&t(e.tr.split(r).scrollIntoView()),!0}let r=n.blockRange(),i=r&&tw(r);return null!=i&&(t&&t(e.tr.lift(r,i).scrollIntoView()),!0)},(e,t)=>{let{$from:n,$to:r}=e.selection;if(e.selection instanceof t1&&e.selection.node.isBlock)return!!n.parentOffset&&!!tD(e.doc,n.pos)&&(t&&t(e.tr.split(n.pos).scrollIntoView()),!0);if(!n.depth)return!1;let i=[],a,s,o=!1,l=!1;for(let e=n.depth;;e--){if(n.node(e).isBlock){let t;o=n.end(e)==n.pos+(n.depth-e),l=n.start(e)==n.pos-(n.depth-e),s=kD(n.node(e-1).contentMatchAt(n.indexAfter(e-1)));i.unshift(t||(o&&s?{type:s}:null)),a=e;break}if(1==e)return!1;i.unshift(null)}let c=e.tr;(e.selection instanceof tX||e.selection instanceof t5)&&c.deleteSelection();let u=c.mapping.map(n.pos),d=tD(c.doc,u,i.length,i);if(d||(i[0]=s?{type:s}:null,d=tD(c.doc,u,i.length,i)),!d)return!1;if(c.split(u,i.length,i),!o&&l&&n.node(a).type!=s){let e=c.mapping.map(n.before(a)),t=c.doc.resolve(e);s&&n.node(a-1).canReplaceWith(t.index(),t.index()+1,s)&&c.setNodeMarkup(c.mapping.map(n.before(a)),s)}return t&&t(c.scrollIntoView()),!0}),"Mod-Enter":kM,Backspace:kz,"Mod-Backspace":kz,"Shift-Backspace":kz,Delete:kV,"Mod-Delete":kV,"Mod-a":(e,t)=>(t&&t(e.tr.setSelection(new t5(e.doc))),!0)},kq={"Ctrl-h":kG.Backspace,"Alt-Backspace":kG["Mod-Backspace"],"Ctrl-d":kG.Delete,"Ctrl-Alt-Backspace":kG["Mod-Delete"],"Alt-Delete":kG["Mod-Delete"],"Alt-d":kG["Mod-Delete"],"Ctrl-a":kL,"Ctrl-e":kF};for(let e in kG)kq[e]=kG[e];let kZ=("undefined"!=typeof navigator?/Mac|iP(hone|[oa]d)/.test(navigator.platform):"undefined"!=typeof os&&!!os.platform&&"darwin"==os.platform())?kq:kG;class k${destroy(){this.handlers.forEach(e=>{let{name:t,handler:n}=e;return this.editorView.dom.removeEventListener(t,n)})}update(e,t){null!=this.cursorPos&&t.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,null==e?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e,t,n=this.editorView.state.doc.resolve(this.cursorPos),r=!n.parent.inlineContent,i,a=this.editorView.dom,s=a.getBoundingClientRect(),o=s.width/a.offsetWidth,l=s.height/a.offsetHeight;if(r){let e=n.nodeBefore,t=n.nodeAfter;if(e||t){let n=this.editorView.nodeDOM(this.cursorPos-(e?e.nodeSize:0));if(n){let r=n.getBoundingClientRect(),a=e?r.bottom:r.top;e&&t&&(a=(a+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2);let s=this.width/2*l;i={left:r.left,right:r.right,top:a-s,bottom:a+s}}}}if(!i){let e=this.editorView.coordsAtPos(this.cursorPos),t=this.width/2*o;i={left:e.left-t,right:e.left+t,top:e.top,bottom:e.bottom}}let c=this.editorView.dom.offsetParent;if(!this.element&&(this.element=c.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",r),this.element.classList.toggle("prosemirror-dropcursor-inline",!r),c&&(c!=document.body||"static"!=getComputedStyle(c).position)){let n=c.getBoundingClientRect(),r=n.width/c.offsetWidth,i=n.height/c.offsetHeight;e=n.left-c.scrollLeft*r,t=n.top-c.scrollTop*i}else e=-pageXOffset,t=-pageYOffset;this.element.style.left=(i.left-e)/o+"px",this.element.style.top=(i.top-t)/l+"px",this.element.style.width=(i.right-i.left)/o+"px",this.element.style.height=(i.bottom-i.top)/l+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),e)}dragover(e){if(!this.editorView.editable)return;let t=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),n=t&&t.inside>=0&&this.editorView.state.doc.nodeAt(t.inside),r=n&&n.type.spec.disableDropCursor,i="function"==typeof r?r(this.editorView,t,e):r;if(t&&!i){let e=t.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let t=tP(this.editorView.state.doc,e,this.editorView.dragging.slice);null!=t&&(e=t)}this.setCursor(e),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){this.editorView.dom.contains(e.relatedTarget)||this.setCursor(null)}constructor(e,t){var n;this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=null!=(n=t.width)?n:1,this.color=!1===t.color?void 0:t.color||"black",this.class=t.class,this.handlers=["dragover","dragend","drop","dragleave"].map(t=>{let n=e=>{this[t](e)};return e.dom.addEventListener(t,n),{name:t,handler:n}})}}class kW extends tY{map(e,t){let n=e.resolve(t.map(this.head));return kW.valid(n)?new kW(n):tY.near(n)}content(){return e_.empty}eq(e){return e instanceof kW&&e.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(e,t){if("number"!=typeof t.pos)throw RangeError("Invalid input for GapCursor.fromJSON");return new kW(e.resolve(t.pos))}getBookmark(){return new kY(this.anchor)}static valid(e){let t=e.parent;if(t.isTextblock||!function(e){for(let t=e.depth;t>=0;t--){let n=e.index(t),r=e.node(t);if(0==n){if(r.type.spec.isolating)return!0;continue}for(let e=r.child(n-1);;e=e.lastChild){if(0==e.childCount&&!e.inlineContent||kK(e.type))return!0;if(e.inlineContent)return!1}}return!0}(e)||!function(e){for(let t=e.depth;t>=0;t--){let n=e.indexAfter(t),r=e.node(t);if(n==r.childCount){if(r.type.spec.isolating)return!0;continue}for(let e=r.child(n);;e=e.firstChild){if(0==e.childCount&&!e.inlineContent||kK(e.type))return!0;if(e.inlineContent)return!1}}return!0}(e))return!1;let n=t.type.spec.allowGapCursor;if(null!=n)return n;let r=t.contentMatchAt(e.index()).defaultType;return r&&r.isTextblock}static findGapCursorFrom(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];a:for(;;){if(!n&&kW.valid(e))return e;let r=e.pos,i=null;for(let n=e.depth;;n--){let a=e.node(n);if(t>0?e.indexAfter(n)<a.childCount:e.index(n)>0){i=a.child(t>0?e.indexAfter(n):e.index(n)-1);break}if(0==n)return null;r+=t;let s=e.doc.resolve(r);if(kW.valid(s))return s}for(;;){let a=t>0?i.firstChild:i.lastChild;if(!a){if(i.isAtom&&!i.isText&&!t1.isSelectable(i)){e=e.doc.resolve(r+i.nodeSize*t),n=!1;continue a}break}i=a,r+=t;let s=e.doc.resolve(r);if(kW.valid(s))return s}return null}}constructor(e){super(e,e)}}kW.prototype.visible=!1,kW.findFrom=kW.findGapCursorFrom,tY.jsonID("gapcursor",kW);class kY{map(e){return new kY(e.map(this.pos))}resolve(e){let t=e.resolve(this.pos);return kW.valid(t)?new kW(t):tY.near(t)}constructor(e){this.pos=e}}function kK(e){return e.isAtom||e.spec.isolating||e.spec.createGapCursor}let kJ=ks({ArrowLeft:kQ("horiz",-1),ArrowRight:kQ("horiz",1),ArrowUp:kQ("vert",-1),ArrowDown:kQ("vert",1)});function kQ(e,t){let n="vert"==e?t>0?"down":"up":t>0?"right":"left";return function(e,r,i){let a=e.selection,s=t>0?a.$to:a.$from,o=a.empty;if(a instanceof tX){if(!i.endOfTextblock(n)||0==s.depth)return!1;o=!1,s=e.doc.resolve(t>0?s.after():s.before())}let l=kW.findGapCursorFrom(s,t,o);return!!l&&(r&&r(e.tr.setSelection(new kW(l))),!0)}}function kX(e,t,n){if(!e||!e.editable)return!1;let r=e.state.doc.resolve(t);if(!kW.valid(r))return!1;let i=e.posAtCoords({left:n.clientX,top:n.clientY});return!(i&&i.inside>-1&&t1.isSelectable(e.state.doc.nodeAt(i.inside)))&&(e.dispatch(e.state.tr.setSelection(new kW(r))),!0)}function k0(e,t){if("insertCompositionText"!=t.inputType||!(e.state.selection instanceof kW))return!1;let{$from:n}=e.state.selection,r=n.parent.contentMatchAt(n.index()).findWrapping(e.state.schema.nodes.text);if(!r)return!1;let i=eg.empty;for(let e=r.length-1;e>=0;e--)i=eg.from(r[e].createAndFill(null,i));let a=e.state.tr.replace(n.pos,n.pos,new e_(i,0,0));return a.setSelection(tX.near(a.doc.resolve(n.pos+1))),e.dispatch(a),!1}function k1(e){if(!(e.selection instanceof kW))return null;let t=document.createElement("div");return t.className="ProseMirror-gapcursor",ix.create(e.doc,[ib.widget(e.selection.head,t,{key:"gapcursor"})])}function k2(){var e=arguments[0];"string"==typeof e&&(e=document.createElement(e));var t=1,n=arguments[1];if(n&&"object"==typeof n&&null==n.nodeType&&!Array.isArray(n)){for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){var i=n[r];"string"==typeof i?e.setAttribute(r,i):null!=i&&(e[r]=i)}t++}for(;t<arguments.length;t++)!function e(t,n){if("string"==typeof n)t.appendChild(document.createTextNode(n));else if(null==n);else if(null!=n.nodeType)t.appendChild(n);else if(Array.isArray(n))for(var r=0;r<n.length;r++)e(t,n[r]);else throw RangeError("Unsupported child node: "+n)}(e,arguments[t]);return e}let k5="http://www.w3.org/2000/svg",k3="ProseMirror-icon",k4="ProseMirror-menu";class k6{render(e){let t=this.spec,n=t.render?t.render(e):t.icon?function(e,t){let n=(9==e.nodeType?e:e.ownerDocument)||document,r=n.createElement("div");if(r.className=k3,t.path){let{path:i,width:a,height:s}=t,o="pm-icon-"+(function(e){let t=0;for(let n=0;n<e.length;n++)t=(t<<5)-t+e.charCodeAt(n)|0;return t})(i).toString(16);n.getElementById(o)||function(e,t,n){let[r,i]=9==e.nodeType?[e,e.body]:[e.ownerDocument||document,e],a=r.getElementById(k3+"-collection");a||((a=r.createElementNS(k5,"svg")).id=k3+"-collection",a.style.display="none",i.insertBefore(a,i.firstChild));let s=r.createElementNS(k5,"symbol");s.id=t,s.setAttribute("viewBox","0 0 "+n.width+" "+n.height),s.appendChild(r.createElementNS(k5,"path")).setAttribute("d",n.path),a.appendChild(s)}(e,o,t);let l=r.appendChild(n.createElementNS(k5,"svg"));l.style.width=a/s+"em",l.appendChild(n.createElementNS(k5,"use")).setAttributeNS("http://www.w3.org/1999/xlink","href",/([^#]*)/.exec(n.location.toString())[1]+"#"+o)}else if(t.dom)r.appendChild(t.dom.cloneNode(!0));else{let{text:e,css:i}=t;r.appendChild(n.createElement("span")).textContent=e||"",i&&(r.firstChild.style.cssText=i)}return r}(e.root,t.icon):t.label?k2("div",null,k9(e,t.label)):null;if(!n)throw RangeError("MenuItem without icon or label property");if(t.title){let r="function"==typeof t.title?t.title(e.state):t.title;n.setAttribute("title",k9(e,r))}return t.class&&n.classList.add(t.class),t.css&&(n.style.cssText+=t.css),n.addEventListener("mousedown",r=>{r.preventDefault(),n.classList.contains(k4+"-disabled")||t.run(e.state,e.dispatch,e,r)}),{dom:n,update:function(e){if(t.select){let r=t.select(e);if(n.style.display=r?"":"none",!r)return!1}let r=!0;return t.enable&&xp(n,k4+"-disabled",!(r=t.enable(e)||!1)),t.active&&xp(n,k4+"-active",r&&t.active(e)||!1),!0}}}constructor(e){this.spec=e}}function k9(e,t){return e._props.translate?e._props.translate(t):t}let k8={time:0,node:null};function k7(e){k8.time=Date.now(),k8.node=e.target}function xe(e){return Date.now()-100<k8.time&&k8.node&&e.contains(k8.node)}class xt{render(e){let t=xn(this.content,e),n=e.dom.ownerDocument.defaultView||window,r=k2("div",{class:k4+"-dropdown "+(this.options.class||""),style:this.options.css},k9(e,this.options.label||""));this.options.title&&r.setAttribute("title",k9(e,this.options.title));let i=k2("div",{class:k4+"-dropdown-wrap"},r),a=null,s=null,o=()=>{a&&a.close()&&(a=null,n.removeEventListener("mousedown",s))};return r.addEventListener("mousedown",e=>{e.preventDefault(),k7(e),a?o():(a=this.expand(i,t.dom),n.addEventListener("mousedown",s=()=>{xe(i)||o()}))}),{dom:i,update:function(e){let n=t.update(e);return i.style.display=n?"":"none",n}}}expand(e,t){let n=k2("div",{class:k4+"-dropdown-menu "+(this.options.class||"")},t),r=!1;return e.appendChild(n),{close:function(){return!r&&(r=!0,e.removeChild(n),!0)},node:n}}constructor(e,t={}){this.options=t,this.options=t||{},this.content=Array.isArray(e)?e:[e]}}function xn(e,t){let n=[],r=[];for(let i=0;i<e.length;i++){let{dom:a,update:s}=e[i].render(t);n.push(k2("div",{class:k4+"-dropdown-item"},a)),r.push(s)}return{dom:n,update:xr(r,n)}}function xr(e,t){return n=>{let r=!1;for(let i=0;i<e.length;i++){let a=e[i](n);t[i].style.display=a?"":"none",a&&(r=!0)}return r}}class xi{render(e){let t=xn(this.content,e),n=e.dom.ownerDocument.defaultView||window,r=k2("div",{class:k4+"-submenu-label"},k9(e,this.options.label||"")),i=k2("div",{class:k4+"-submenu-wrap"},r,k2("div",{class:k4+"-submenu"},t.dom)),a=null;return r.addEventListener("mousedown",e=>{e.preventDefault(),k7(e),xp(i,k4+"-submenu-wrap-active",!1),a||n.addEventListener("mousedown",a=()=>{xe(i)||(i.classList.remove(k4+"-submenu-wrap-active"),n.removeEventListener("mousedown",a),a=null)})}),{dom:i,update:function(e){let n=t.update(e);return i.style.display=n?"":"none",n}}}constructor(e,t={}){this.options=t,this.content=Array.isArray(e)?e:[e]}}function xa(e,t){let n=document.createDocumentFragment(),r=[],i=[];for(let a=0;a<t.length;a++){let s=t[a],o=[],l=[];for(let t=0;t<s.length;t++){let{dom:r,update:i}=s[t].render(e),a=k2("span",{class:k4+"item"},r);n.appendChild(a),l.push(a),o.push(i)}o.length&&(r.push(xr(o,l)),a<t.length-1&&i.push(n.appendChild(k2("span",{class:k4+"separator"}))))}return{dom:n,update:function(e){let t=!1,n=!1;for(let a=0;a<r.length;a++){let s=r[a](e);a&&(i[a-1].style.display=n&&s?"":"none"),n=s,s&&(t=!0)}return t}}}let xs={join:{width:800,height:900,path:"M0 75h800v125h-800z M0 825h800v-125h-800z M250 400h100v-100h100v100h100v100h-100v100h-100v-100h-100z"},lift:{width:1024,height:1024,path:"M219 310v329q0 7-5 12t-12 5q-8 0-13-5l-164-164q-5-5-5-13t5-13l164-164q5-5 13-5 7 0 12 5t5 12zM1024 749v109q0 7-5 12t-12 5h-987q-7 0-12-5t-5-12v-109q0-7 5-12t12-5h987q7 0 12 5t5 12zM1024 530v109q0 7-5 12t-12 5h-621q-7 0-12-5t-5-12v-109q0-7 5-12t12-5h621q7 0 12 5t5 12zM1024 310v109q0 7-5 12t-12 5h-621q-7 0-12-5t-5-12v-109q0-7 5-12t12-5h621q7 0 12 5t5 12zM1024 91v109q0 7-5 12t-12 5h-987q-7 0-12-5t-5-12v-109q0-7 5-12t12-5h987q7 0 12 5t5 12z"},selectParentNode:{text:"",css:"font-weight: bold"},undo:{width:1024,height:1024,path:"M761 1024c113-206 132-520-313-509v253l-384-384 384-384v248c534-13 594 472 313 775z"},redo:{width:1024,height:1024,path:"M576 248v-248l384 384-384 384v-253c-446-10-427 303-313 509-280-303-221-789 313-775z"},strong:{width:805,height:1024,path:"M317 869q42 18 80 18 214 0 214-191 0-65-23-102-15-25-35-42t-38-26-46-14-48-6-54-1q-41 0-57 5 0 30-0 90t-0 90q0 4-0 38t-0 55 2 47 6 38zM309 442q24 4 62 4 46 0 81-7t62-25 42-51 14-81q0-40-16-70t-45-46-61-24-70-8q-28 0-74 7 0 28 2 86t2 86q0 15-0 45t-0 45q0 26 0 39zM0 950l1-53q8-2 48-9t60-15q4-6 7-15t4-19 3-18 1-21 0-19v-37q0-561-12-585-2-4-12-8t-25-6-28-4-27-2-17-1l-2-47q56-1 194-6t213-5q13 0 39 0t38 0q40 0 78 7t73 24 61 40 42 59 16 78q0 29-9 54t-22 41-36 32-41 25-48 22q88 20 146 76t58 141q0 57-20 102t-53 74-78 48-93 27-100 8q-25 0-75-1t-75-1q-60 0-175 6t-132 6z"},em:{width:585,height:1024,path:"M0 949l9-48q3-1 46-12t63-21q16-20 23-57 0-4 35-165t65-310 29-169v-14q-13-7-31-10t-39-4-33-3l10-58q18 1 68 3t85 4 68 1q27 0 56-1t69-4 56-3q-2 22-10 50-17 5-58 16t-62 19q-4 10-8 24t-5 22-4 26-3 24q-15 84-50 239t-44 203q-1 5-7 33t-11 51-9 47-3 32l0 10q9 2 105 17-1 25-9 56-6 0-18 0t-18 0q-16 0-49-5t-49-5q-78-1-117-1-29 0-81 5t-69 6z"},code:{width:896,height:1024,path:"M608 192l-96 96 224 224-224 224 96 96 288-320-288-320zM288 192l-288 320 288 320 96-96-224-224 224-224-96-96z"},link:{width:951,height:1024,path:"M832 694q0-22-16-38l-118-118q-16-16-38-16-24 0-41 18 1 1 10 10t12 12 8 10 7 14 2 15q0 22-16 38t-38 16q-8 0-15-2t-14-7-10-8-12-12-10-10q-18 17-18 41 0 22 16 38l117 118q15 15 38 15 22 0 38-14l84-83q16-16 16-38zM430 292q0-22-16-38l-117-118q-16-16-38-16-22 0-38 15l-84 83q-16 16-16 38 0 22 16 38l118 118q15 15 38 15 24 0 41-17-1-1-10-10t-12-12-8-10-7-14-2-15q0-22 16-38t38-16q8 0 15 2t14 7 10 8 12 12 10 10q18-17 18-41zM941 694q0 68-48 116l-84 83q-47 47-116 47-69 0-116-48l-117-118q-47-47-47-116 0-70 50-119l-50-50q-49 50-118 50-68 0-116-48l-118-118q-48-48-48-116t48-116l84-83q47-47 116-47 69 0 116 48l117 118q47 47 47 116 0 70-50 119l50 50q49-50 118-50 68 0 116 48l118 118q48 48 48 116z"},bulletList:{width:768,height:896,path:"M0 512h128v-128h-128v128zM0 256h128v-128h-128v128zM0 768h128v-128h-128v128zM256 512h512v-128h-512v128zM256 256h512v-128h-512v128zM256 768h512v-128h-512v128z"},orderedList:{width:768,height:896,path:"M320 512h448v-128h-448v128zM320 768h448v-128h-448v128zM320 128v128h448v-128h-448zM79 384h78v-256h-36l-85 23v50l43-2v185zM189 590c0-36-12-78-96-78-33 0-64 6-83 16l1 66c21-10 42-15 67-15s32 11 32 28c0 26-30 58-110 112v50h192v-67l-91 2c49-30 87-66 87-113l1-1z"},blockquote:{width:640,height:896,path:"M0 448v256h256v-256h-128c0 0 0-128 128-128v-128c0 0-256 0-256 256zM640 320v-128c0 0-256 0-256 256v256h256v-256h-128c0 0 0-128 128-128z"}},xo=new k6({title:"Join with above block",run:kA,select:e=>kA(e),icon:xs.join}),xl=new k6({title:"Lift out of enclosing block",run:kI,select:e=>kI(e),icon:xs.lift}),xc=new k6({title:"Select parent node",run:kO,select:e=>kO(e),icon:xs.selectParentNode}),xu=new k6({title:"Undo last change",run:k_,enable:e=>k_(e),icon:xs.undo}),xd=new k6({title:"Redo last undone change",run:kE,enable:e=>kE(e),icon:xs.redo});function xh(e,t){let n=kB(e,t.attrs),r={run:n,enable:e=>n(e),active(n){let{$from:r,to:i,node:a}=n.selection;return a?a.hasMarkup(e,t.attrs):i<=r.end()&&r.parent.hasMarkup(e,t.attrs)}};for(let e in t)r[e]=t[e];return new k6(r)}function xp(e,t,n){n?e.classList.add(t):e.classList.remove(t)}let xf="ProseMirror-menubar";class xm{update(){if(this.editorView.root!=this.root){let{dom:e,update:t}=xa(this.editorView,this.options.content);this.contentUpdate=t,this.menu.replaceChild(e,this.menu.firstChild),this.root=this.editorView.root}this.contentUpdate(this.editorView.state),this.floating?this.updateScrollCursor():(this.menu.offsetWidth!=this.widthForMaxHeight&&(this.widthForMaxHeight=this.menu.offsetWidth,this.maxHeight=0),this.menu.offsetHeight>this.maxHeight&&(this.maxHeight=this.menu.offsetHeight,this.menu.style.minHeight=this.maxHeight+"px"))}updateScrollCursor(){var e;let t=this.editorView.root.getSelection();if(!t.focusNode)return;let n=t.getRangeAt(0).getClientRects(),r=n[((e=t).anchorNode==e.focusNode?e.anchorOffset>e.focusOffset:e.anchorNode.compareDocumentPosition(e.focusNode)==Node.DOCUMENT_POSITION_FOLLOWING)?0:n.length-1];if(!r)return;let i=this.menu.getBoundingClientRect();if(r.top<i.bottom&&r.bottom>i.top){let e=function(e){for(let t=e.parentNode;t;t=t.parentNode)if(t.scrollHeight>t.clientHeight)return t}(this.wrapper);e&&(e.scrollTop-=i.bottom-r.top)}}updateFloat(e){let t=this.wrapper,n=t.getBoundingClientRect(),r=e?Math.max(0,e.getBoundingClientRect().top):0;if(this.floating)if(n.top>=r||n.bottom<this.menu.offsetHeight+10)this.floating=!1,this.menu.style.position=this.menu.style.left=this.menu.style.top=this.menu.style.width="",this.menu.style.display="",this.spacer.parentNode.removeChild(this.spacer),this.spacer=null;else{let i=(t.offsetWidth-t.clientWidth)/2;this.menu.style.left=n.left+i+"px",this.menu.style.display=n.top>(this.editorView.dom.ownerDocument.defaultView||window).innerHeight?"none":"",e&&(this.menu.style.top=r+"px")}else if(n.top<r&&n.bottom>=this.menu.offsetHeight+10){this.floating=!0;let n=this.menu.getBoundingClientRect();this.menu.style.left=n.left+"px",this.menu.style.width=n.width+"px",e&&(this.menu.style.top=r+"px"),this.menu.style.position="fixed",this.spacer=k2("div",{class:xf+"-spacer",style:"height: ".concat(n.height,"px")}),t.insertBefore(this.spacer,this.menu)}}destroy(){this.wrapper.parentNode&&this.wrapper.parentNode.replaceChild(this.editorView.dom,this.wrapper)}constructor(e,t){this.editorView=e,this.options=t,this.spacer=null,this.maxHeight=0,this.widthForMaxHeight=0,this.floating=!1,this.scrollHandler=null,this.root=e.root,this.wrapper=k2("div",{class:xf+"-wrapper"}),this.menu=this.wrapper.appendChild(k2("div",{class:xf})),this.menu.className=xf,e.dom.parentNode&&e.dom.parentNode.replaceChild(this.wrapper,e.dom),this.wrapper.appendChild(e.dom);let{dom:n,update:r}=xa(this.editorView,this.options.content);if(this.contentUpdate=r,this.menu.appendChild(n),this.update(),t.floating&&!function(){if("undefined"==typeof navigator)return!1;let e=navigator.userAgent;return!/Edge\/\d/.test(e)&&/AppleWebKit/.test(e)&&/Mobile\/\w+/.test(e)}()){this.updateFloat();let e=function(e){let t=[e.ownerDocument.defaultView||window];for(let n=e.parentNode;n;n=n.parentNode)t.push(n);return t}(this.wrapper);this.scrollHandler=t=>{let n=this.editorView.root;(n.body||n).contains(this.wrapper)?this.updateFloat(t.target.getBoundingClientRect?t.target:void 0):e.forEach(e=>e.removeEventListener("scroll",this.scrollHandler))},e.forEach(e=>e.addEventListener("scroll",this.scrollHandler))}}}class xg{constructor(e,t,n={}){var r;this.match=e,this.match=e,this.handler="string"==typeof t?(r=t,function(e,t,n,i){let a=r;if(t[1]){let e=t[0].lastIndexOf(t[1]);a+=t[0].slice(e+t[1].length);let r=(n+=e)-i;r>0&&(a=t[0].slice(e-r,e)+a,n=i)}return e.tr.insertText(a,n,i)}):t,this.undoable=!1!==n.undoable,this.inCode=n.inCode||!1,this.inCodeMark=!1!==n.inCodeMark}}function xy(e){let{rules:t}=e,n=new nr({state:{init:()=>null,apply(e,t){let n=e.getMeta(this);return n||(e.selectionSet||e.docChanged?null:t)}},props:{handleTextInput:(e,r,i,a)=>xb(e,r,i,a,t,n),handleDOMEvents:{compositionend:e=>{setTimeout(()=>{let{$cursor:r}=e.state.selection;r&&xb(e,r.pos,r.pos,"",t,n)})}}},isInputRules:!0});return n}function xb(e,t,n,r,i,a){if(e.composing)return!1;let s=e.state,o=s.doc.resolve(t),l=o.parent.textBetween(Math.max(0,o.parentOffset-500),o.parentOffset,null,"")+r;for(let c=0;c<i.length;c++){let u=i[c];if(!u.inCodeMark&&o.marks().some(e=>e.type.spec.code))continue;if(o.parent.type.spec.code){if(!u.inCode)continue}else if("only"===u.inCode)continue;let d=u.match.exec(l);if(!d||d[0].length<r.length)continue;let h=t-(d[0].length-r.length);if(!u.inCodeMark){let e=!1;if(s.doc.nodesBetween(h,o.pos,t=>{t.isInline&&t.marks.some(e=>e.type.spec.code)&&(e=!0)}),e)continue}let p=u.handler(s,d,h,n);if(p)return u.undoable&&p.setMeta(a,{transform:p,from:t,to:n,text:r}),e.dispatch(p),!0}return!1}let xv=(e,t)=>{let n=e.plugins;for(let r=0;r<n.length;r++){let i=n[r],a;if(i.spec.isInputRules&&(a=i.getState(e))){if(t){let n=e.tr,r=a.transform;for(let e=r.steps.length-1;e>=0;e--)n.step(r.steps[e].invert(r.docs[e]));if(a.text){let t=n.doc.resolve(a.from).marks();n.replaceWith(a.from,a.to,e.schema.text(a.text,t))}else n.delete(a.from,a.to);t(n)}return!0}}return!1},xk=new xg(/--$/,"",{inCodeMark:!1}),xx=new xg(/\.\.\.$/,"",{inCodeMark:!1}),x_=new xg(/(?:^|[\s\{\[\(\<'"\u2018\u201C])(")$/,"",{inCodeMark:!1}),xE=new xg(/"$/,"",{inCodeMark:!1}),xT=[x_,xE,new xg(/(?:^|[\s\{\[\(\<'"\u2018\u201C])(')$/,"",{inCodeMark:!1}),new xg(/'$/,"",{inCodeMark:!1})];function xS(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0;return new xg(e,(e,i,a,s)=>{let o=n instanceof Function?n(i):n,l=e.tr.delete(a,s),c=l.doc.resolve(a).blockRange(),u=c&&tC(c,t,o);if(!u)return null;l.wrap(c,u);let d=l.doc.resolve(a-1).nodeBefore;return d&&d.type==t&&tM(l.doc,a-1)&&(!r||r(i,d))&&l.join(a-1),l})}function xw(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new xg(e,(e,r,i,a)=>{let s=e.doc.resolve(i),o=n instanceof Function?n(r):n;return s.node(-1).canReplaceWith(s.index(-1),s.indexAfter(-1),t)?e.tr.delete(i,a).setBlockType(i,i,t,o):null})}let xC="ProseMirror-prompt";function xA(e){let t=document.body.appendChild(document.createElement("div"));t.className=xC;let n=e=>{t.contains(e.target)||r()};setTimeout(()=>window.addEventListener("mousedown",n),50);let r=()=>{window.removeEventListener("mousedown",n),t.parentNode&&t.parentNode.removeChild(t)},i=[];for(let t in e.fields)i.push(e.fields[t].render());let a=document.createElement("button");a.type="submit",a.className=xC+"-submit",a.textContent="OK";let s=document.createElement("button");s.type="button",s.className=xC+"-cancel",s.textContent="Cancel",s.addEventListener("click",r);let o=t.appendChild(document.createElement("form"));e.title&&(o.appendChild(document.createElement("h5")).textContent=e.title),i.forEach(e=>{o.appendChild(document.createElement("div")).appendChild(e)});let l=o.appendChild(document.createElement("div"));l.className=xC+"-buttons",l.appendChild(a),l.appendChild(document.createTextNode(" ")),l.appendChild(s);let c=t.getBoundingClientRect();t.style.top=(window.innerHeight-c.height)/2+"px",t.style.left=(window.innerWidth-c.width)/2+"px";let u=()=>{let t=function(e,t){let n=Object.create(null),r=0;for(let i in e){let a=e[i],s=t[r++],o=a.read(s),l=a.validate(o);if(l)return function(e,t){let n=e.parentNode,r=n.appendChild(document.createElement("div"));r.style.left=e.offsetLeft+e.offsetWidth+2+"px",r.style.top=e.offsetTop-5+"px",r.className="ProseMirror-invalid",r.textContent=t,setTimeout(()=>n.removeChild(r),1500)}(s,l),null;n[i]=a.clean(o)}return n}(e.fields,i);t&&(r(),e.callback(t))};o.addEventListener("submit",e=>{e.preventDefault(),u()}),o.addEventListener("keydown",e=>{27==e.keyCode?(e.preventDefault(),r()):13!=e.keyCode||e.ctrlKey||e.metaKey||e.shiftKey?9==e.keyCode&&window.setTimeout(()=>{t.contains(document.activeElement)||r()},500):(e.preventDefault(),u())});let d=o.elements[0];d&&d.focus()}class xN{read(e){return e.value}validateType(e){return null}validate(e){return!e&&this.options.required?"Required field":this.validateType(e)||(this.options.validate?this.options.validate(e):null)}clean(e){return this.options.clean?this.options.clean(e):e}constructor(e){this.options=e}}class xI extends xN{render(){let e=document.createElement("input");return e.type="text",e.placeholder=this.options.label,e.value=this.options.value||"",e.autocomplete="off",e}}function xD(e,t){let n=e.selection.$from;for(let e=n.depth;e>=0;e--){let r=n.index(e);if(n.node(e).canReplaceWith(r,r,t))return!0}return!1}function xM(e,t){let n={label:t.title,run:e};for(let e in t)n[e]=t[e];return t.enable||t.select||(n[t.enable?"enable":"select"]=t=>e(t)),new k6(n)}function xO(e,t){let{from:n,$from:r,to:i,empty:a}=e.selection;return a?!!t.isInSet(e.storedMarks||r.marks()):e.doc.rangeHasMark(n,i,t)}function xR(e,t){let n={active:t=>xO(t,e)};for(let e in t)n[e]=t[e];return xM(kH(e),n)}function xP(e,t){return xM(nm(e,t.attrs),t)}let xL="undefined"!=typeof navigator&&/Mac|iP(hone|[oa]d)/.test(navigator.platform);e.s(["arrayReplaceAt",()=>_h,"assign",()=>_d,"escapeHtml",()=>_T,"escapeRE",()=>_w,"fromCodePoint",()=>_f,"has",()=>_u,"isMdAsciiPunct",()=>_I,"isPunctChar",()=>_N,"isSpace",()=>_C,"isString",()=>_l,"isValidEntityCode",()=>_p,"isWhiteSpace",()=>_A,"lib",()=>_M,"normalizeReference",()=>_D,"unescapeAll",()=>_v,"unescapeMd",()=>_b],937422),e.s([],56918);let xF={};function xj(e,t){"string"!=typeof t&&(t=xj.defaultChars);let n=function(e){let t=xF[e];if(t)return t;t=xF[e]=[];for(let e=0;e<128;e++){let n=String.fromCharCode(e);t.push(n)}for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);t[r]="%"+("0"+r.toString(16).toUpperCase()).slice(-2)}return t}(t);return e.replace(/(%[a-f0-9]{2})+/gi,function(e){let t="";for(let r=0,i=e.length;r<i;r+=3){let a=parseInt(e.slice(r+1,r+3),16);if(a<128){t+=n[a];continue}if((224&a)==192&&r+3<i){let n=parseInt(e.slice(r+4,r+6),16);if((192&n)==128){let e=a<<6&1984|63&n;e<128?t+="":t+=String.fromCharCode(e),r+=3;continue}}if((240&a)==224&&r+6<i){let n=parseInt(e.slice(r+4,r+6),16),i=parseInt(e.slice(r+7,r+9),16);if((192&n)==128&&(192&i)==128){let e=a<<12&61440|n<<6&4032|63&i;e<2048||e>=55296&&e<=57343?t+="":t+=String.fromCharCode(e),r+=6;continue}}if((248&a)==240&&r+9<i){let n=parseInt(e.slice(r+4,r+6),16),i=parseInt(e.slice(r+7,r+9),16),s=parseInt(e.slice(r+10,r+12),16);if((192&n)==128&&(192&i)==128&&(192&s)==128){let e=a<<18&1835008|n<<12&258048|i<<6&4032|63&s;e<65536||e>1114111?t+="":(e-=65536,t+=String.fromCharCode(55296+(e>>10),56320+(1023&e))),r+=9;continue}}t+=""}return t})}xj.defaultChars=";/?:@&=+$,#",xj.componentChars="";let xB={};function xH(e,t,n){"string"!=typeof t&&(n=t,t=xH.defaultChars),void 0===n&&(n=!0);let r=function(e){let t=xB[e];if(t)return t;t=xB[e]=[];for(let e=0;e<128;e++){let n=String.fromCharCode(e);/^[0-9a-z]$/i.test(n)?t.push(n):t.push("%"+("0"+e.toString(16).toUpperCase()).slice(-2))}for(let n=0;n<e.length;n++)t[e.charCodeAt(n)]=e[n];return t}(t),i="";for(let t=0,a=e.length;t<a;t++){let s=e.charCodeAt(t);if(n&&37===s&&t+2<a&&/^[0-9a-f]{2}$/i.test(e.slice(t+1,t+3))){i+=e.slice(t,t+3),t+=2;continue}if(s<128){i+=r[s];continue}if(s>=55296&&s<=57343){if(s>=55296&&s<=56319&&t+1<a){let n=e.charCodeAt(t+1);if(n>=56320&&n<=57343){i+=encodeURIComponent(e[t]+e[t+1]),t++;continue}}i+="%EF%BF%BD";continue}i+=encodeURIComponent(e[t])}return i}function xU(e){let t="";return t+=e.protocol||"",t+=e.slashes?"//":"",t+=e.auth?e.auth+"@":"",e.hostname&&-1!==e.hostname.indexOf(":")?t+="["+e.hostname+"]":t+=e.hostname||"",t+=e.port?":"+e.port:"",t+=e.pathname||"",t+=e.search||"",t+=e.hash||""}function xz(){this.protocol=null,this.slashes=null,this.auth=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.pathname=null}xH.defaultChars=";/?:@&=+$,-_.!~*'()#",xH.componentChars="-_.!~*'()";let xV=/^([a-z0-9.+-]+:)/i,xG=/:[0-9]*$/,xq=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,xZ=["%","/","?",";","#"].concat(["'"].concat(["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","	"]))),x$=["/","?","#"],xW=/^[+a-z0-9A-Z_-]{0,63}$/,xY=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,xK={javascript:!0,"javascript:":!0},xJ={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0};xz.prototype.parse=function(e,t){let n,r,i,a=e;if(a=a.trim(),!t&&1===e.split("#").length){let e=xq.exec(a);if(e)return this.pathname=e[1],e[2]&&(this.search=e[2]),this}let s=xV.exec(a);if(s&&(n=(s=s[0]).toLowerCase(),this.protocol=s,a=a.substr(s.length)),(t||s||a.match(/^\/\/[^@\/]+@[^@\/]+/))&&(i="//"===a.substr(0,2))&&!(s&&xK[s])&&(a=a.substr(2),this.slashes=!0),!xK[s]&&(i||s&&!xJ[s])){let e,t,n=-1;for(let e=0;e<x$.length;e++)-1!==(r=a.indexOf(x$[e]))&&(-1===n||r<n)&&(n=r);-1!==(t=-1===n?a.lastIndexOf("@"):a.lastIndexOf("@",n))&&(e=a.slice(0,t),a=a.slice(t+1),this.auth=e),n=-1;for(let e=0;e<xZ.length;e++)-1!==(r=a.indexOf(xZ[e]))&&(-1===n||r<n)&&(n=r);-1===n&&(n=a.length),":"===a[n-1]&&n--;let i=a.slice(0,n);a=a.slice(n),this.parseHost(i),this.hostname=this.hostname||"";let s="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!s){let e=this.hostname.split(/\./);for(let t=0,n=e.length;t<n;t++){let n=e[t];if(n&&!n.match(xW)){let r="";for(let e=0,t=n.length;e<t;e++)n.charCodeAt(e)>127?r+="x":r+=n[e];if(!r.match(xW)){let r=e.slice(0,t),i=e.slice(t+1),s=n.match(xY);s&&(r.push(s[1]),i.unshift(s[2])),i.length&&(a=i.join(".")+a),this.hostname=r.join(".");break}}}}this.hostname.length>255&&(this.hostname=""),s&&(this.hostname=this.hostname.substr(1,this.hostname.length-2))}let o=a.indexOf("#");-1!==o&&(this.hash=a.substr(o),a=a.slice(0,o));let l=a.indexOf("?");return -1!==l&&(this.search=a.substr(l),a=a.slice(0,l)),a&&(this.pathname=a),xJ[n]&&this.hostname&&!this.pathname&&(this.pathname=""),this},xz.prototype.parseHost=function(e){let t=xG.exec(e);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)};let xQ=function(e,t){if(e&&e instanceof xz)return e;let n=new xz;return n.parse(e,t),n};e.s(["decode",()=>xj,"encode",()=>xH,"format",()=>xU,"parse",()=>xQ],465555),e.i(56918);var xX=e.i(465555);e.s([],681911);let x0=/[\0-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,x1=/[\0-\x1F\x7F-\x9F]/,x2=/[\xAD\u0600-\u0605\u061C\u06DD\u070F\u0890\u0891\u08E2\u180E\u200B-\u200F\u202A-\u202E\u2060-\u2064\u2066-\u206F\uFEFF\uFFF9-\uFFFB]|\uD804[\uDCBD\uDCCD]|\uD80D[\uDC30-\uDC3F]|\uD82F[\uDCA0-\uDCA3]|\uD834[\uDD73-\uDD7A]|\uDB40[\uDC01\uDC20-\uDC7F]/,x5=/[!-#%-\*,-\/:;\?@\[-\]_\{\}\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061D-\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1B7D\u1B7E\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52-\u2E5D\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD803[\uDEAD\uDF55-\uDF59\uDF86-\uDF89]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC8\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDC4B-\uDC4F\uDC5A\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDEB9\uDF3C-\uDF3E]|\uD806[\uDC3B\uDD44-\uDD46\uDDE2\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2\uDF00-\uDF09]|\uD807[\uDC41-\uDC45\uDC70\uDC71\uDEF7\uDEF8\uDF43-\uDF4F\uDFFF]|\uD809[\uDC70-\uDC74]|\uD80B[\uDFF1\uDFF2]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD81B[\uDE97-\uDE9A\uDFE2]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]|\uD83A[\uDD5E\uDD5F]/,x3=/[\$\+<->\^`\|~\xA2-\xA6\xA8\xA9\xAC\xAE-\xB1\xB4\xB8\xD7\xF7\u02C2-\u02C5\u02D2-\u02DF\u02E5-\u02EB\u02ED\u02EF-\u02FF\u0375\u0384\u0385\u03F6\u0482\u058D-\u058F\u0606-\u0608\u060B\u060E\u060F\u06DE\u06E9\u06FD\u06FE\u07F6\u07FE\u07FF\u0888\u09F2\u09F3\u09FA\u09FB\u0AF1\u0B70\u0BF3-\u0BFA\u0C7F\u0D4F\u0D79\u0E3F\u0F01-\u0F03\u0F13\u0F15-\u0F17\u0F1A-\u0F1F\u0F34\u0F36\u0F38\u0FBE-\u0FC5\u0FC7-\u0FCC\u0FCE\u0FCF\u0FD5-\u0FD8\u109E\u109F\u1390-\u1399\u166D\u17DB\u1940\u19DE-\u19FF\u1B61-\u1B6A\u1B74-\u1B7C\u1FBD\u1FBF-\u1FC1\u1FCD-\u1FCF\u1FDD-\u1FDF\u1FED-\u1FEF\u1FFD\u1FFE\u2044\u2052\u207A-\u207C\u208A-\u208C\u20A0-\u20C0\u2100\u2101\u2103-\u2106\u2108\u2109\u2114\u2116-\u2118\u211E-\u2123\u2125\u2127\u2129\u212E\u213A\u213B\u2140-\u2144\u214A-\u214D\u214F\u218A\u218B\u2190-\u2307\u230C-\u2328\u232B-\u2426\u2440-\u244A\u249C-\u24E9\u2500-\u2767\u2794-\u27C4\u27C7-\u27E5\u27F0-\u2982\u2999-\u29D7\u29DC-\u29FB\u29FE-\u2B73\u2B76-\u2B95\u2B97-\u2BFF\u2CE5-\u2CEA\u2E50\u2E51\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFF\u3004\u3012\u3013\u3020\u3036\u3037\u303E\u303F\u309B\u309C\u3190\u3191\u3196-\u319F\u31C0-\u31E3\u31EF\u3200-\u321E\u322A-\u3247\u3250\u3260-\u327F\u328A-\u32B0\u32C0-\u33FF\u4DC0-\u4DFF\uA490-\uA4C6\uA700-\uA716\uA720\uA721\uA789\uA78A\uA828-\uA82B\uA836-\uA839\uAA77-\uAA79\uAB5B\uAB6A\uAB6B\uFB29\uFBB2-\uFBC2\uFD40-\uFD4F\uFDCF\uFDFC-\uFDFF\uFE62\uFE64-\uFE66\uFE69\uFF04\uFF0B\uFF1C-\uFF1E\uFF3E\uFF40\uFF5C\uFF5E\uFFE0-\uFFE6\uFFE8-\uFFEE\uFFFC\uFFFD]|\uD800[\uDD37-\uDD3F\uDD79-\uDD89\uDD8C-\uDD8E\uDD90-\uDD9C\uDDA0\uDDD0-\uDDFC]|\uD802[\uDC77\uDC78\uDEC8]|\uD805\uDF3F|\uD807[\uDFD5-\uDFF1]|\uD81A[\uDF3C-\uDF3F\uDF45]|\uD82F\uDC9C|\uD833[\uDF50-\uDFC3]|\uD834[\uDC00-\uDCF5\uDD00-\uDD26\uDD29-\uDD64\uDD6A-\uDD6C\uDD83\uDD84\uDD8C-\uDDA9\uDDAE-\uDDEA\uDE00-\uDE41\uDE45\uDF00-\uDF56]|\uD835[\uDEC1\uDEDB\uDEFB\uDF15\uDF35\uDF4F\uDF6F\uDF89\uDFA9\uDFC3]|\uD836[\uDC00-\uDDFF\uDE37-\uDE3A\uDE6D-\uDE74\uDE76-\uDE83\uDE85\uDE86]|\uD838[\uDD4F\uDEFF]|\uD83B[\uDCAC\uDCB0\uDD2E\uDEF0\uDEF1]|\uD83C[\uDC00-\uDC2B\uDC30-\uDC93\uDCA0-\uDCAE\uDCB1-\uDCBF\uDCC1-\uDCCF\uDCD1-\uDCF5\uDD0D-\uDDAD\uDDE6-\uDE02\uDE10-\uDE3B\uDE40-\uDE48\uDE50\uDE51\uDE60-\uDE65\uDF00-\uDFFF]|\uD83D[\uDC00-\uDED7\uDEDC-\uDEEC\uDEF0-\uDEFC\uDF00-\uDF76\uDF7B-\uDFD9\uDFE0-\uDFEB\uDFF0]|\uD83E[\uDC00-\uDC0B\uDC10-\uDC47\uDC50-\uDC59\uDC60-\uDC87\uDC90-\uDCAD\uDCB0\uDCB1\uDD00-\uDE53\uDE60-\uDE6D\uDE70-\uDE7C\uDE80-\uDE88\uDE90-\uDEBD\uDEBF-\uDEC5\uDECE-\uDEDB\uDEE0-\uDEE8\uDEF0-\uDEF8\uDF00-\uDF92\uDF94-\uDFCA]/,x4=/[ \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000]/;e.s(["Any",()=>x0,"Cc",()=>x1,"Cf",()=>x2,"P",()=>x5,"S",()=>x3,"Z",()=>x4],707055),e.i(681911);var x6=e.i(707055);let x9=new Uint16Array('<\0\0\0\0\0\0EMabcfglmnoprstu\\bfmsligP&cutereve;iyx}rc;r;\ud835\udd04ravepha;acr;d;gpon;f;\ud835\udd38plyFunction;ingcsr;\ud835\udc9cign;ildemlaceforsucrkslash;;ed;y;crtause;noullis;a;r;\ud835\udd05pf;\ud835\udd39eve;cmpeq;HOacdefhilorsucy;PYcpyute;;italDifferentialD;leys;aeioron;dilrc;nint;ot;dnilla;terDot;i;rcleDMPTot;inus;lus;imes;ocskwiseContourIntegral;eCurlyDQoubleQuote;uote;lnpuon;e;gitruent;nt;ourIntegral;fr;oduct;nterClockwiseContourIntegral;oss;cr;\ud835\udc9ep;Cap;DJSZacefios;otrahd;cy;cy;cy;grsger;r;hv;ayron;;l;ta;r;\ud835\udd07afcmriticalADGTcute;o;bleAcute;rave;ilde;ond;ferentialD;\0\0\0\0f;\ud835\udd3b;DEot;qual;bleCDLRUVontourIntegrao\0\0nArrow;eoftARTrrow;ightArrow;engLReftARrrow;ightArrow;ightArrow;ightATrrow;ee;p\0\0rrow;ownArrow;erticalBar;nABLRTarrow;BUar;pArrow;reve;eft\0\0ightVector;eeVector;ector;Bar;ight\0eeVector;ector;Bar;ee;Arrow;ctr;\ud835\udc9frok;NTacdfglmopqstuxG;Hcuteaiyron;rc;ot;r;\ud835\udd08raveement;apcr;ty\0\0mallSquare;erySmallSquare;gpon;f;\ud835\udd3csilon;uail;Tilde;librium;cir;m;a;mlipsts;onentialE;cfiosy;r;\ud835\udd09lled\0\0mallSquare;erySmallSquare;\0\0\0f;\ud835\udd3dAll;riertrf;cJTabcdfgorstcy;>mma;d;reve;eiydil;rc;;ot;r;\ud835\udd0a;pf;\ud835\udd3eeaterEFGLSTqual;Less;ullEqual;reater;ess;lantEqual;ilde;cr;\ud835\udca2;AacfiosuRDcy;ctek;;irc;r;lbertSpace;\0f;izontalLine;ctrok;mpownHumqual;EJOacdfgmnostucy;lig;cy;cuteiyrc;ot;r;rave;apcgr;inaryI;lie\0;egrral;section;isibleCTomma;imes;gpton;f;\ud835\udd40a;cr;ilde;\0cy;lcfosuiyrc;;r;\ud835\udd0dpf;\ud835\udd41\0r;\ud835\udca5rcy;kcy;HJacfoscy;cy;ppa;eydil;;r;\ud835\udd0epf;\ud835\udd42cr;\ud835\udca6JTaceflmostcy;<cmnprute;bda;g;lacetrf;r;aeyron;dil;;fstACDFRTUVarnrgleBracket;row;BRar;ightArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ightAVrrow;ector;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;ightsEFGLSTqualGreater;ullEqual;reater;ess;lantEqual;ilde;r;\ud835\udd0f;eftarrow;idot;npwgLRlreftARrrow;ightArrow;ightArrow;eftarightightf;\ud835\udd43erLReftArrow;ightArrow;cht;rok;;acefiosup;y;dliumSpace;lintrf;r;\ud835\udd10nusPlus;pf;\ud835\udd44c;Jacefostucy;cute;aeyron;dil;;gswativeMTVediumSpace;hicneryThitedGLreaterGreateessLesLine;r;\ud835\udd11Bnptreak;BreakingSpace;f;;CDEGHLNPRSTVoungruent;pCap;oubleVerticalBar;lqxement;ual;Tilde;ists;reater;EFGLSTqual;ullEqual;reater;ess;lantEqual;ilde;umpownHump;qual;efstTriangle;BEar;qual;s;EGLSTqual;reater;ess;lantEqual;ilde;estedGLreaterGreater;essLess;recedes;ESqual;lantEqual;eiverseElement;ghtTriangle;BEar;qual;quuareSubpset;Equal;erset;Equal;bcpset;Equal;ceeds;ESTqual;lantEqual;ilde;erset;Equal;ilde;EFTqual;ullEqual;ilde;erticalBar;cr;\ud835\udca9ilde;Eacdfgmoprstuvlig;cuteiyrc;blac;r;\ud835\udd12raveaeicr;ga;cron;pf;\ud835\udd46enCurlyDQoubleQuote;uote;;clr;\ud835\udcaaashidees;mlerBParr;acek;et;arenthesis;acfhilorsrtialD;y;r;\ud835\udd13i;;usMinus;ipncareplanf;;eiocedes;ESTqual;lantEqual;ilde;me;dpuct;ortion;al;cir;\ud835\udcab;UfosOT"r;\ud835\udd14pf;cr;\ud835\udcacBEacefhiorsuarr;Gcnrute;g;r;tl;aeyron;dil;;;verseEUlqement;uilibrium;pEquilibrium;ro;ghtACDFTUVanrgleBracket;row;BLar;eftArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;puf;ndImplies;ightarrow;chr;;leDelayed;HOacfhimoqstuCcHcy;y;FTcy;cute;;aeiyron;dil;rc;;r;\ud835\udd16ortDLRUownArroweftArrowightArrowpArrow;gma;allCircle;pf;\ud835\udd4a\0\0t;are;ISUntersection;ubpset;Equal;erset;Equal;nion;cr;\ud835\udcaear;bcmp;set;Equal;cheeds;ESTqual;lantEqual;ilde;Th;;esrset;Equal;etHRSacfhiorsORNADE;Hccy;y;bu;;aeyron;dil;;r;\ud835\udd17ei\0efore;a;cnkSpace;Space;lde;EFTqual;ullEqual;ilde;pf;\ud835\udd4bipleDot;ctr;\ud835\udcafrok;\0\0\0\0\0\0\0cruter;ocir;r\0y;ve;iyrc;blac;r;\ud835\udd18raveacr;dierBParr;acek;et;arenthesis;on;Plus;gpon;f;\ud835\udd4cADETadpsrrow;BDar;ownArrow;ownArrow;quilibrium;ee;Arrow;ownerLReftArrow;ightArrow;i;lon;ing;cr;\ud835\udcb0ilde;mlDbcdefosvash;ar;y;ash;l;er;btyar;;icalBLSTar;ine;eparator;ilde;ThinSpace;r;\ud835\udd19pf;\ud835\udd4dcr;\ud835\udcb1dash;cefosirc;dge;r;\ud835\udd1apf;\ud835\udd4ecr;\ud835\udcb2fiosr;\ud835\udd1b;pf;\ud835\udd4fcr;\ud835\udcb3AIUacfosucy;cy;cy;cuteiyrc;;r;\ud835\udd1cpf;\ud835\udd50cr;\ud835\udcb4ml;Hacdefoscy;cute;ayron;;ot;\0oWidta;r;pf;cr;\ud835\udcb5\0\0\0\0\0\0\0cutereve;;Ediuy;;rcte;lig;r;\ud835\udd1eraveepfpsym;ha;apcclr;g;\0\0;adsvnd;;lope;;;elmrsz;esd;a;;;;;;;;t;vb;d;pth;arr;gpon;f;\ud835\udd52;Eaeiop;cir;;d;s;rox;eingctyr;\ud835\udcb6;mp;eildemlcioninnt;Nabcdefiklnoprsuot;crkcepsong;psilon;rime;im;eq;ee;ed;gerk;tbrk;oy;quo;cmprtaus;eptyv;snoahw;;een;r;\ud835\udd1fgcostuvwaiurc;pdptot;lus;imes;\0\0cup;ar;riangleduown;p;plus;earow;akocnklstozenge;riangle;dlrown;eft;ight;k;\0\0;;4;ck;eo;q=uiv;t;ptwxf;\ud835\udd53;tomtie;DHUVbdhmptuvLRlr;;;;;DUdu;;;;LRlr;;;;;HLRhlr;;;;;;ox;LRlr;;;;;DUdu;;;;inus;lus;imes;LRlr;;;;;HLRhlr;;;;;;evbarceior;\ud835\udcb7mi;m;el;bh;sub;l;etp;Ee;;q\0\0\0\0\0\0\0\0\0\0cprute;;abcdsnd;rcup;aup;p;ot;;eot;aeiu\0s;on;dilrc;ps;sm;ot;dmnilptyv;t;err;\ud835\udd20ceiy;ck;mark;r;Ecefms;;elq;e\0\0rrowlreft;ight;RSacd;st;irc;ash;nint;id;cir;ubs;uit\0on;e;q\0\0a;t;;flemxente\0;dot;nfry;\ud835\udd54o;sr;aorr;ss;cur;\ud835\udcb8bp;e;;e;dot;delprvwarrlr;;\0\0r;c;arr;p;;bcdosrcap;aup;p;ot;r;;alrvrr;m;yevwq\0\0reuee;edge;enearrowlreftightecioninnt;lcty;AHabcdefhijlorstuwzrar;glrsger;eth;h;varow;aayron;;;aogrr;tseq;glmta;ptyv;irsht;;\ud835\udd21arlraegsvm;osnd;suit;amma;in;;iode;ontimes;ncy;c\0\0rn;op;lptuwlar;f;\ud835\udd55;empsq;dot;inus;lus;quare;blebarwedgnadhownarrowarpoonlrefighkaro\0\0rn;op;cotry;\ud835\udcb9;l;rok;drot;i;fahraangle;ciy;grarr;DacdefglmnopqrstuxDoocsuteter;aioyron;r;clon;;ot;Drot;;\ud835\udd22;rsave;dot;;ilsnters;;;dot;apscr;ty;svetp1;;;gs;p;gpon;f;\ud835\udd56alsr;sl;us;i;lvon;csuviorc\0\0antgltressaeils;st;v;DD;parsl;Daot;rr;cdir;oah;mrlo;cipl;seoctationential\0\0\0\0\0\0\0llingdotsey;male;ilrlig;\0\0g;ig;;\ud835\udd23lig;lig;fjaltt;ig;ns;of;\0f;\ud835\udd57ak;v;artint;aocs\0\0;;;;\0;;\0\0;;5;\0;;8;l;wn;cr;\ud835\udcbbEabcdefgijlnorstv;l;cmpute;ma;d;reve;iyrc;;ot;;lqs;qslan;cdlc;ot;o;l;;es;r;\ud835\udd24;gmel;cy;;Eaj;;;Eaes;p;prox;q;qim;pf;\ud835\udd58cir;m;el;;>;cdlqrci;r;ot;Par;uest;adels\0pror;qlqlesienrtneqq;Aabcefkosyrilmrrsfildrcy;;cwir;;ar;irc;alrrts;uitlip;con;r;\ud835\udd25sewarow;arow;amoprrr;tht;klreftarrow;ightarrow;f;\ud835\udd59bar;cltr;\ud835\udcbdasrok;bpull;hen\0\0\0\0\0\0cute;iyrc;cxy;clfr;\ud835\udd26rave;inoinnt;t;fin;ta;lig;aopcgtr;elpinarh;f;ed;;cfotare;in;tie;do;celpal;grerarhk;rod;cgpty;on;f;\ud835\udd5aa;uestcir;\ud835\udcben;Edsv;ot;;v;;ilde;\0cy;lcfmosuiyrc;;r;\ud835\udd27ath;pf;\ud835\udd5b\0r;\ud835\udcbfrcy;kcy;acfghjosppa;v;eydil;;r;\ud835\udd28reen;cy;cy;pf;\ud835\udd5ccr;\ud835\udcc0ABEHabcdefghjlmnoprstuvartrail;arr;;g;ar;\0\0\0\0\0\0\0\0\0ute;mptyv;rabda;g;dl;;uor;bfhlpst;fs;s;p;l;im;l;;aeil;;s;abrrr;rk;akcek;;es;ldu;;aeuyron;diil;;cqrsa;uo;rduhar;shar;h;;fgqstahlrtrrow;taarpoonduownpeftarrows;ightahsrrow;sarpoonquigarrohreetimes;;qslan;cdgsc;ot;o;r;;es;adegspproot;qgqgtiilrsht;;\ud835\udd29;E;rdu;l;lk;cy;;achtrorneard;ri;iodot;ust;acheEaes;p;prox;q;qim;abnoptwznrg;r;rglmreftarightapsto;ightparrowlrefight;aflr;;\ud835\udd5dus;imes;st;;efngear;lt;achmtrornear;d;;ri;achiqtquo;r;\ud835\udcc1m;eg;;buo;r;rok;<;cdhilqrci;r;remes;arr;uest;Piar;;efrdushar;har;enrtneqq;DacdefhilnopsuDot;clprret;;ese;sto;dluowefker;oymma;;ash;asuredangler;\ud835\udd2ao;cdnro;acdsir;otus;bd;u;p;dpels;f;\ud835\udd5ectr;\ud835\udcc2pos;lmtimap;GLRVabcdefghijlmoprstuvwgt;;veltftarrrow;ightarrow;;;vightarrow;Ddash;ash;bcnptlaute;g;;Eiop;d;s;rour;al;s\0pmp;eaeouy\0;on;dil;ng;dot;p;;ash;;Aadqsxrr;rhrk;;oot;uieiar;ist;sr;\ud835\udd2bEest;qs;qslani;rAaprrr;ar;;sv;d;cy;AEadestr;rr;r;;fqstarrroightarro;qslan;si;ri;eiptf;\ud835\udd5f;inn;Edv;ot;;;i;v;;aorr;astllel;;lint;;ceu;c;eAaitrrr;cw;;ghtarrowri;echimpqu;ceru;\ud835\udcc3ort\0\0arm;e;qsubpbcp;Ees;et;eq;qc;e;Ees;et;eq;qgilrldeianglelreft;eight;e;m;esro;p;DHadgilrsash;arr;p;ash;et;;>nfin;Aetrr;;;r<ie;Atrr;rie;im;Aanrr;rhrk;;oear;\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0csuteiyr;c;abioslac;v;old;lig;crir;;\ud835\udd2c\0\0\0n;ave;bmar;acitrirr;oss;n;aeicr;ga;cdnron;;pf;\ud835\udd60aelr;rp;;adiosvr;efmr;ofgof;r;lope;;cloashl;idees;as;mlbar;\0\0\0\0\0\0\0\0\0r;ast;lle\0\0m;;y;rcimptnt;od;il;enk;r;\ud835\udd2dimo;v;mane;;tvchfork;aunckk;h;s;abcdemstcir;ir;ou;;nim;wo;ipuntint;f;\ud835\udd61nd;Eaceinosu;p;u;c;acenspprourlyeaespprox;qq;im;ime;sEasdfpalslar;ine;urf;;trel;cir;\ud835\udcc5;ncsp;fiopsur;\ud835\udd2epf;\ud835\udd62rime;cr;\ud835\udcc6aeoteirnionnt;st;eABHabcdefhilmnoprstuxartrail;arar;cdenqrteu;te;imptyv;g;del;;uor;abcfhlpstwp;;fs;;s;l;im;l;;aiil;o;nalabrrrk;akcek;;es;ldu;;aeuyron;diil;;clqsa;dhar;uo;rh;acgl;ipsnart;ilrsht;;\ud835\udd2faordu;l;;v;gnshtahlrstrrow;taarpoonduowpeftahrrowarpoonightarrows;quigarrohreetimes;g;ingdotseahmra;oust;achemid;abptnrg;r;raflr;;\ud835\udd63us;imes;apr;gt;olint;arachqquo;r;\ud835\udcc7buo;rhirremes;i;efltri;luhar;;\0\0\0\0\0\0\0cute;qu;Eaceinpsy;\0;on;u;dil;rc;Eas;p;im;olint;i;ot;be;Aacmstxrr;rhr;oti;war;minnut;r;o\ud835\udd30acoyrp;hycy;;rt\0\0iaragmma;fv;;deglnprot;;q;E;;E;e;lus;arr;araeitlslsetmhp;parsl;dle;;e;s;flptcy;;b;ar;f;\ud835\udd64adres;uitcsuaup;s;p;s;ubp;eset;e;eset;e;afrarcemtr;\ud835\udcc8tmiararr;fanighteppsilohsbcmnp;Edemnprs;ot;;dot;ult;Ee;;lus;arr;eiut;enq;qeq;qm;bp;;c;acenspprourlyeaespproqg;123;Edehlmnps;ost;ub;;dot;soul;b;arr;ult;Ee;;lus;eiut;enq;qeq;qm;bp;;Aanrr;rhr;owar;lig\0\0\0\0\0\0\0\0\0\0\0\0get;;raeyron;dil;;lrec;r;\ud835\udd31eiko\0e4fa;svym;cnkaspproimsasrnes;bd;ar;;eps;bcfot;ir;;o\ud835\udd65rk;rime;aipdadempstngle;dlqrowneft;e;ight;eot;inus;lus;b;ime;ezium;chtry;\ud835\udcc9;cy;rok;ioxheadlreftarroightarrowAHabcdfghlmoprstuwrar;cruter\0y;ve;iyrc;abhrlac;airsht;;\ud835\udd32raverlrlk;ct\0\0rn;erop;ri;alcr;gpon;f;\ud835\udd66adhlsuownarpoonlrefighi;hlonparrows;cit\0\0rn;erop;ng;ri;cr;\ud835\udccadirot;lde;i;famrlangle;ABDacdeflnoprszrar;v;asnrgrt;eknprstappothinhirop;hiugmbpsetneq;q;setneq;q;hretianglelreftighty;ashelr;bear;q;lip;btar;\ud835\udd33trsubppf;\ud835\udd67rotrcur;\ud835\udccbbpnEenEeigzag;cefoprsirc;dibgar;e;q;erp;r;\ud835\udd34pf;\ud835\udd68;eatcr;\ud835\udccc\0\0\0\0\0\0\0trr;\ud835\udd35Aarr;Aarrais;dptfl;\ud835\udd69imAarrcqr;\ud835\udccdptracefiosucuyte;iyrc;;nr;\ud835\udd36cy;pf;\ud835\udd6acr;\ud835\udccecmy;lacdefhioswcute;ayron;;ot;ettra;r;\ud835\udd37cy;grarr;pf;\ud835\udd6bcr;\ud835\udccfjn;j;'.split("").map(e=>e.charCodeAt(0))),x8=new Uint16Array("aglq	\x15\x18\x1b\x0f\0\0\x12p;os;t;t;uot;".split("").map(e=>e.charCodeAt(0))),x7=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]),_e=null!=(A=String.fromCodePoint)?A:function(e){let t="";return e>65535&&(e-=65536,t+=String.fromCharCode(e>>>10&1023|55296),e=56320|1023&e),t+=String.fromCharCode(e)};function _t(e){return e>=N.ZERO&&e<=N.NINE}!function(e){e[e.NUM=35]="NUM",e[e.SEMI=59]="SEMI",e[e.EQUALS=61]="EQUALS",e[e.ZERO=48]="ZERO",e[e.NINE=57]="NINE",e[e.LOWER_A=97]="LOWER_A",e[e.LOWER_F=102]="LOWER_F",e[e.LOWER_X=120]="LOWER_X",e[e.LOWER_Z=122]="LOWER_Z",e[e.UPPER_A=65]="UPPER_A",e[e.UPPER_F=70]="UPPER_F",e[e.UPPER_Z=90]="UPPER_Z"}(N||(N={})),!function(e){e[e.VALUE_LENGTH=49152]="VALUE_LENGTH",e[e.BRANCH_LENGTH=16256]="BRANCH_LENGTH",e[e.JUMP_TABLE=127]="JUMP_TABLE"}(I||(I={})),!function(e){e[e.EntityStart=0]="EntityStart",e[e.NumericStart=1]="NumericStart",e[e.NumericDecimal=2]="NumericDecimal",e[e.NumericHex=3]="NumericHex",e[e.NamedEntity=4]="NamedEntity"}(D||(D={})),function(e){e[e.Legacy=0]="Legacy",e[e.Strict=1]="Strict",e[e.Attribute=2]="Attribute"}(M||(M={}));class _n{startEntity(e){this.decodeMode=e,this.state=D.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1}write(e,t){switch(this.state){case D.EntityStart:if(e.charCodeAt(t)===N.NUM)return this.state=D.NumericStart,this.consumed+=1,this.stateNumericStart(e,t+1);return this.state=D.NamedEntity,this.stateNamedEntity(e,t);case D.NumericStart:return this.stateNumericStart(e,t);case D.NumericDecimal:return this.stateNumericDecimal(e,t);case D.NumericHex:return this.stateNumericHex(e,t);case D.NamedEntity:return this.stateNamedEntity(e,t)}}stateNumericStart(e,t){return t>=e.length?-1:(32|e.charCodeAt(t))===N.LOWER_X?(this.state=D.NumericHex,this.consumed+=1,this.stateNumericHex(e,t+1)):(this.state=D.NumericDecimal,this.stateNumericDecimal(e,t))}addToNumericResult(e,t,n,r){if(t!==n){let i=n-t;this.result=this.result*Math.pow(r,i)+parseInt(e.substr(t,i),r),this.consumed+=i}}stateNumericHex(e,t){let n=t;for(;t<e.length;){var r;let i=e.charCodeAt(t);if(!_t(i)&&(!((r=i)>=N.UPPER_A)||!(r<=N.UPPER_F))&&(!(r>=N.LOWER_A)||!(r<=N.LOWER_F)))return this.addToNumericResult(e,n,t,16),this.emitNumericEntity(i,3);t+=1}return this.addToNumericResult(e,n,t,16),-1}stateNumericDecimal(e,t){let n=t;for(;t<e.length;){let r=e.charCodeAt(t);if(!_t(r))return this.addToNumericResult(e,n,t,10),this.emitNumericEntity(r,2);t+=1}return this.addToNumericResult(e,n,t,10),-1}emitNumericEntity(e,t){var n,r,i;if(this.consumed<=t)return null==(n=this.errors)||n.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(e===N.SEMI)this.consumed+=1;else if(this.decodeMode===M.Strict)return 0;return this.emitCodePoint((r=this.result)>=55296&&r<=57343||r>1114111?65533:null!=(i=x7.get(r))?i:r,this.consumed),this.errors&&(e!==N.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed}stateNamedEntity(e,t){let{decodeTree:n}=this,r=n[this.treeIndex],i=(r&I.VALUE_LENGTH)>>14;for(;t<e.length;t++,this.excess++){let a=e.charCodeAt(t);if(this.treeIndex=function(e,t,n,r){let i=(t&I.BRANCH_LENGTH)>>7,a=t&I.JUMP_TABLE;if(0===i)return 0!==a&&r===a?n:-1;if(a){let t=r-a;return t<0||t>=i?-1:e[n+t]-1}let s=n,o=s+i-1;for(;s<=o;){let t=s+o>>>1,n=e[t];if(n<r)s=t+1;else{if(!(n>r))return e[t+i];o=t-1}}return -1}(n,r,this.treeIndex+Math.max(1,i),a),this.treeIndex<0)return 0===this.result||this.decodeMode===M.Attribute&&(0===i||function(e){var t;return e===N.EQUALS||(t=e)>=N.UPPER_A&&t<=N.UPPER_Z||t>=N.LOWER_A&&t<=N.LOWER_Z||_t(t)}(a))?0:this.emitNotTerminatedNamedEntity();if(0!=(i=((r=n[this.treeIndex])&I.VALUE_LENGTH)>>14)){if(a===N.SEMI)return this.emitNamedEntityData(this.treeIndex,i,this.consumed+this.excess);this.decodeMode!==M.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return -1}emitNotTerminatedNamedEntity(){var e;let{result:t,decodeTree:n}=this,r=(n[t]&I.VALUE_LENGTH)>>14;return this.emitNamedEntityData(t,r,this.consumed),null==(e=this.errors)||e.missingSemicolonAfterCharacterReference(),this.consumed}emitNamedEntityData(e,t,n){let{decodeTree:r}=this;return this.emitCodePoint(1===t?r[e]&~I.VALUE_LENGTH:r[e+1],n),3===t&&this.emitCodePoint(r[e+2],n),n}end(){var e;switch(this.state){case D.NamedEntity:return 0!==this.result&&(this.decodeMode!==M.Attribute||this.result===this.treeIndex)?this.emitNotTerminatedNamedEntity():0;case D.NumericDecimal:return this.emitNumericEntity(0,2);case D.NumericHex:return this.emitNumericEntity(0,3);case D.NumericStart:return null==(e=this.errors)||e.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case D.EntityStart:return 0}}constructor(e,t,n){this.decodeTree=e,this.emitCodePoint=t,this.errors=n,this.state=D.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=M.Strict}}function _r(e){let t="",n=new _n(e,e=>t+=_e(e));return function(e,r){let i=0,a=0;for(;(a=e.indexOf("&",a))>=0;){t+=e.slice(i,a),n.startEntity(r);let s=n.write(e,a+1);if(s<0){i=a+n.end();break}i=a+s,a=0===s?i+1:i}let s=t+e.slice(i);return t="",s}}let _i=_r(x9);function _a(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:M.Legacy;return _i(e,t)}_r(x8);let _s=new Map([[34,"&quot;"],[38,"&amp;"],[39,"&apos;"],[60,"&lt;"],[62,"&gt;"]]);function _o(e,t){return function(n){let r,i=0,a="";for(;r=e.exec(n);)i!==r.index&&(a+=n.substring(i,r.index)),a+=t.get(r[0].charCodeAt(0)),i=r.index+1;return a+n.substring(i)}}function _l(e){return"[object String]"===Object.prototype.toString.call(e)}null!=String.prototype.codePointAt||((e,t)=>(64512&e.charCodeAt(t))==55296?(e.charCodeAt(t)-55296)*1024+e.charCodeAt(t+1)-56320+65536:e.charCodeAt(t)),_o(/[&<>'"]/g,_s),_o(/["&\u00A0]/g,new Map([[34,"&quot;"],[38,"&amp;"],[160,"&nbsp;"]])),_o(/[&<>\u00A0]/g,new Map([[38,"&amp;"],[60,"&lt;"],[62,"&gt;"],[160,"&nbsp;"]])),function(e){e[e.XML=0]="XML",e[e.HTML=1]="HTML"}(O||(O={})),function(e){e[e.UTF8=0]="UTF8",e[e.ASCII=1]="ASCII",e[e.Extensive=2]="Extensive",e[e.Attribute=3]="Attribute",e[e.Text=4]="Text"}(R||(R={}));let _c=Object.prototype.hasOwnProperty;function _u(e,t){return _c.call(e,t)}function _d(e){let t=Array.prototype.slice.call(arguments,1);return t.forEach(function(t){if(t){if("object"!=typeof t)throw TypeError(t+"must be object");Object.keys(t).forEach(function(n){e[n]=t[n]})}}),e}function _h(e,t,n){return[].concat(e.slice(0,t),n,e.slice(t+1))}function _p(e){return(!(e>=55296)||!(e<=57343))&&(!(e>=64976)||!(e<=65007))&&(65535&e)!=65535&&(65535&e)!=65534&&(!(e>=0)||!(e<=8))&&11!==e&&(!(e>=14)||!(e<=31))&&(!(e>=127)||!(e<=159))&&!(e>1114111)&&!0}function _f(e){return e>65535?String.fromCharCode(55296+((e-=65536)>>10),56320+(1023&e)):String.fromCharCode(e)}let _m=/\\([!"#$%&'()*+,\-./:;<=>?@[\\\]^_`{|}~])/g,_g=RegExp(_m.source+"|"+/&([a-z#][a-z0-9]{1,31});/gi.source,"gi"),_y=/^#((?:x[a-f0-9]{1,8}|[0-9]{1,8}))$/i;function _b(e){return 0>e.indexOf("\\")?e:e.replace(_m,"$1")}function _v(e){return 0>e.indexOf("\\")&&0>e.indexOf("&")?e:e.replace(_g,function(e,t,n){if(t)return t;if(35===n.charCodeAt(0)&&_y.test(n)){let t="x"===n[1].toLowerCase()?parseInt(n.slice(2),16):parseInt(n.slice(1),10);return _p(t)?_f(t):e}let r=_a(e);return r!==e?r:e})}let _k=/[&<>"]/,_x=/[&<>"]/g,__={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"};function _E(e){return __[e]}function _T(e){return _k.test(e)?e.replace(_x,_E):e}let _S=/[.?*+^$[\]\\(){}|-]/g;function _w(e){return e.replace(_S,"\\$&")}function _C(e){switch(e){case 9:case 32:return!0}return!1}function _A(e){if(e>=8192&&e<=8202)return!0;switch(e){case 9:case 10:case 11:case 12:case 13:case 32:case 160:case 5760:case 8239:case 8287:case 12288:return!0}return!1}function _N(e){return x5.test(e)||x3.test(e)}function _I(e){switch(e){case 33:case 34:case 35:case 36:case 37:case 38:case 39:case 40:case 41:case 42:case 43:case 44:case 45:case 46:case 47:case 58:case 59:case 60:case 61:case 62:case 63:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 124:case 125:case 126:return!0;default:return!1}}function _D(e){return(e=e.trim().replace(/\s+/g," ")).toLowerCase().toUpperCase()}let _M={mdurl:xX,ucmicro:x6};var _O=e.i(937422);function _R(e,t,n){let r,i,a,s,o=e.posMax,l=e.pos;for(e.pos=t+1,r=1;e.pos<o;){if(93===(a=e.src.charCodeAt(e.pos))&&0==--r){i=!0;break}if(s=e.pos,e.md.inline.skipToken(e),91===a){if(s===e.pos-1)r++;else if(n)return e.pos=l,-1}}let c=-1;return i&&(c=e.pos),e.pos=l,c}function _P(e,t,n){let r,i=t,a={ok:!1,pos:0,str:""};if(60===e.charCodeAt(i)){for(i++;i<n&&10!==(r=e.charCodeAt(i))&&60!==r;){if(62===r){a.pos=i+1,a.str=_v(e.slice(t+1,i)),a.ok=!0;break}if(92===r&&i+1<n){i+=2;continue}i++}return a}let s=0;for(;i<n&&32!==(r=e.charCodeAt(i))&&!(r<32)&&127!==r;){if(92===r&&i+1<n){if(32===e.charCodeAt(i+1))break;i+=2;continue}if(40===r&&++s>32)return a;if(41===r){if(0===s)break;s--}i++}return t===i||0!==s||(a.str=_v(e.slice(t,i)),a.pos=i,a.ok=!0),a}function _L(e,t,n,r){let i,a=t,s={ok:!1,can_continue:!1,pos:0,str:"",marker:0};if(r)s.str=r.str,s.marker=r.marker;else{if(a>=n)return s;let r=e.charCodeAt(a);if(34!==r&&39!==r&&40!==r)return s;t++,a++,40===r&&(r=41),s.marker=r}for(;a<n;){if((i=e.charCodeAt(a))===s.marker)return s.pos=a+1,s.str+=_v(e.slice(t,a)),s.ok=!0,s;if(40===i&&41===s.marker)return s;92===i&&a+1<n&&a++,a++}return s.can_continue=!0,s.str+=_v(e.slice(t,a)),s}e.s([],650919),e.s(["parseLinkDestination",()=>_P,"parseLinkLabel",()=>_R,"parseLinkTitle",()=>_L],939414),e.i(650919);var _F=e.i(939414);let _j={};function _B(){this.rules=_d({},_j)}function _H(){this.__rules__=[],this.__cache__=null}function _U(e,t,n){this.type=e,this.tag=t,this.attrs=null,this.map=null,this.nesting=n,this.level=0,this.children=null,this.content="",this.markup="",this.info="",this.meta=null,this.block=!1,this.hidden=!1}function _z(e,t,n){this.src=e,this.env=n,this.tokens=[],this.inlineMode=!1,this.md=t}_j.code_inline=function(e,t,n,r,i){let a=e[t];return"<code"+i.renderAttrs(a)+">"+_T(a.content)+"</code>"},_j.code_block=function(e,t,n,r,i){let a=e[t];return"<pre"+i.renderAttrs(a)+"><code>"+_T(e[t].content)+"</code></pre>\n"},_j.fence=function(e,t,n,r,i){let a,s=e[t],o=s.info?_v(s.info).trim():"",l="",c="";if(o){let e=o.split(/(\s+)/g);l=e[0],c=e.slice(2).join("")}if(0===(a=n.highlight&&n.highlight(s.content,l,c)||_T(s.content)).indexOf("<pre"))return a+"\n";if(o){let e=s.attrIndex("class"),t=s.attrs?s.attrs.slice():[];return e<0?t.push(["class",n.langPrefix+l]):(t[e]=t[e].slice(),t[e][1]+=" "+n.langPrefix+l),"<pre><code".concat(i.renderAttrs({attrs:t}),">").concat(a,"</code></pre>\n")}return"<pre><code".concat(i.renderAttrs(s),">").concat(a,"</code></pre>\n")},_j.image=function(e,t,n,r,i){let a=e[t];return a.attrs[a.attrIndex("alt")][1]=i.renderInlineAsText(a.children,n,r),i.renderToken(e,t,n)},_j.hardbreak=function(e,t,n){return n.xhtmlOut?"<br />\n":"<br>\n"},_j.softbreak=function(e,t,n){return n.breaks?n.xhtmlOut?"<br />\n":"<br>\n":"\n"},_j.text=function(e,t){return _T(e[t].content)},_j.html_block=function(e,t){return e[t].content},_j.html_inline=function(e,t){return e[t].content},_B.prototype.renderAttrs=function(e){let t,n,r;if(!e.attrs)return"";for(t=0,r="",n=e.attrs.length;t<n;t++)r+=" "+_T(e.attrs[t][0])+'="'+_T(e.attrs[t][1])+'"';return r},_B.prototype.renderToken=function(e,t,n){let r=e[t],i="";if(r.hidden)return"";r.block&&-1!==r.nesting&&t&&e[t-1].hidden&&(i+="\n"),i+=(-1===r.nesting?"</":"<")+r.tag,i+=this.renderAttrs(r),0===r.nesting&&n.xhtmlOut&&(i+=" /");let a=!1;if(r.block&&(a=!0,1===r.nesting&&t+1<e.length)){let n=e[t+1];"inline"===n.type||n.hidden?a=!1:-1===n.nesting&&n.tag===r.tag&&(a=!1)}return i+(a?">\n":">")},_B.prototype.renderInline=function(e,t,n){let r="",i=this.rules;for(let a=0,s=e.length;a<s;a++){let s=e[a].type;void 0!==i[s]?r+=i[s](e,a,t,n,this):r+=this.renderToken(e,a,t)}return r},_B.prototype.renderInlineAsText=function(e,t,n){let r="";for(let i=0,a=e.length;i<a;i++)switch(e[i].type){case"text":case"html_inline":case"html_block":r+=e[i].content;break;case"image":r+=this.renderInlineAsText(e[i].children,t,n);break;case"softbreak":case"hardbreak":r+="\n"}return r},_B.prototype.render=function(e,t,n){let r="",i=this.rules;for(let a=0,s=e.length;a<s;a++){let s=e[a].type;"inline"===s?r+=this.renderInline(e[a].children,t,n):void 0!==i[s]?r+=i[s](e,a,t,n,this):r+=this.renderToken(e,a,t,n)}return r},_H.prototype.__find__=function(e){for(let t=0;t<this.__rules__.length;t++)if(this.__rules__[t].name===e)return t;return -1},_H.prototype.__compile__=function(){let e=this,t=[""];e.__rules__.forEach(function(e){e.enabled&&e.alt.forEach(function(e){0>t.indexOf(e)&&t.push(e)})}),e.__cache__={},t.forEach(function(t){e.__cache__[t]=[],e.__rules__.forEach(function(n){n.enabled&&(t&&0>n.alt.indexOf(t)||e.__cache__[t].push(n.fn))})})},_H.prototype.at=function(e,t,n){let r=this.__find__(e);if(-1===r)throw Error("Parser rule not found: "+e);this.__rules__[r].fn=t,this.__rules__[r].alt=(n||{}).alt||[],this.__cache__=null},_H.prototype.before=function(e,t,n,r){let i=this.__find__(e);if(-1===i)throw Error("Parser rule not found: "+e);this.__rules__.splice(i,0,{name:t,enabled:!0,fn:n,alt:(r||{}).alt||[]}),this.__cache__=null},_H.prototype.after=function(e,t,n,r){let i=this.__find__(e);if(-1===i)throw Error("Parser rule not found: "+e);this.__rules__.splice(i+1,0,{name:t,enabled:!0,fn:n,alt:(r||{}).alt||[]}),this.__cache__=null},_H.prototype.push=function(e,t,n){this.__rules__.push({name:e,enabled:!0,fn:t,alt:(n||{}).alt||[]}),this.__cache__=null},_H.prototype.enable=function(e,t){Array.isArray(e)||(e=[e]);let n=[];return e.forEach(function(e){let r=this.__find__(e);if(r<0){if(t)return;throw Error("Rules manager: invalid rule name "+e)}this.__rules__[r].enabled=!0,n.push(e)},this),this.__cache__=null,n},_H.prototype.enableOnly=function(e,t){Array.isArray(e)||(e=[e]),this.__rules__.forEach(function(e){e.enabled=!1}),this.enable(e,t)},_H.prototype.disable=function(e,t){Array.isArray(e)||(e=[e]);let n=[];return e.forEach(function(e){let r=this.__find__(e);if(r<0){if(t)return;throw Error("Rules manager: invalid rule name "+e)}this.__rules__[r].enabled=!1,n.push(e)},this),this.__cache__=null,n},_H.prototype.getRules=function(e){return null===this.__cache__&&this.__compile__(),this.__cache__[e]||[]},_U.prototype.attrIndex=function(e){if(!this.attrs)return -1;let t=this.attrs;for(let n=0,r=t.length;n<r;n++)if(t[n][0]===e)return n;return -1},_U.prototype.attrPush=function(e){this.attrs?this.attrs.push(e):this.attrs=[e]},_U.prototype.attrSet=function(e,t){let n=this.attrIndex(e),r=[e,t];n<0?this.attrPush(r):this.attrs[n]=r},_U.prototype.attrGet=function(e){let t=this.attrIndex(e),n=null;return t>=0&&(n=this.attrs[t][1]),n},_U.prototype.attrJoin=function(e,t){let n=this.attrIndex(e);n<0?this.attrPush([e,t]):this.attrs[n][1]=this.attrs[n][1]+" "+t},_z.prototype.Token=_U;let _V=/\r\n?|\n/g,_G=/\0/g,_q=/\+-|\.\.|\?\?\?\?|!!!!|,,|--/,_Z=/\((c|tm|r)\)/i,_$=/\((c|tm|r)\)/ig,_W={c:"",r:"",tm:""};function _Y(e,t){return _W[t.toLowerCase()]}let _K=/['"]/,_J=/['"]/g;function _Q(e,t,n){return e.slice(0,t)+n+e.slice(t+1)}let _X=[["normalize",function(e){let t;t=(t=e.src.replace(_V,"\n")).replace(_G,""),e.src=t}],["block",function(e){let t;e.inlineMode?((t=new e.Token("inline","",0)).content=e.src,t.map=[0,1],t.children=[],e.tokens.push(t)):e.md.block.parse(e.src,e.md,e.env,e.tokens)}],["inline",function(e){let t=e.tokens;for(let n=0,r=t.length;n<r;n++){let r=t[n];"inline"===r.type&&e.md.inline.parse(r.content,e.md,e.env,r.children)}}],["linkify",function(e){let t=e.tokens;if(e.md.options.linkify)for(let i=0,a=t.length;i<a;i++){if("inline"!==t[i].type||!e.md.linkify.pretest(t[i].content))continue;let a=t[i].children,s=0;for(let o=a.length-1;o>=0;o--){let l=a[o];if("link_close"===l.type){for(o--;a[o].level!==l.level&&"link_open"!==a[o].type;)o--;continue}if("html_inline"===l.type){var n,r;n=l.content,/^<a[>\s]/i.test(n)&&s>0&&s--,r=l.content,/^<\/a\s*>/i.test(r)&&s++}if(!(s>0)&&"text"===l.type&&e.md.linkify.test(l.content)){let n=l.content,r=e.md.linkify.match(n),s=[],c=l.level,u=0;r.length>0&&0===r[0].index&&o>0&&"text_special"===a[o-1].type&&(r=r.slice(1));for(let t=0;t<r.length;t++){let i=r[t].url,a=e.md.normalizeLink(i);if(!e.md.validateLink(a))continue;let o=r[t].text;o=r[t].schema?"mailto:"!==r[t].schema||/^mailto:/i.test(o)?e.md.normalizeLinkText(o):e.md.normalizeLinkText("mailto:"+o).replace(/^mailto:/,""):e.md.normalizeLinkText("http://"+o).replace(/^http:\/\//,"");let l=r[t].index;if(l>u){let t=new e.Token("text","",0);t.content=n.slice(u,l),t.level=c,s.push(t)}let d=new e.Token("link_open","a",1);d.attrs=[["href",a]],d.level=c++,d.markup="linkify",d.info="auto",s.push(d);let h=new e.Token("text","",0);h.content=o,h.level=c,s.push(h);let p=new e.Token("link_close","a",-1);p.level=--c,p.markup="linkify",p.info="auto",s.push(p),u=r[t].lastIndex}if(u<n.length){let t=new e.Token("text","",0);t.content=n.slice(u),t.level=c,s.push(t)}t[i].children=a=_h(a,o,s)}}}}],["replacements",function(e){let t;if(e.md.options.typographer)for(t=e.tokens.length-1;t>=0;t--)"inline"===e.tokens[t].type&&(_Z.test(e.tokens[t].content)&&function(e){let t=0;for(let n=e.length-1;n>=0;n--){let r=e[n];"text"!==r.type||t||(r.content=r.content.replace(_$,_Y)),"link_open"===r.type&&"auto"===r.info&&t--,"link_close"===r.type&&"auto"===r.info&&t++}}(e.tokens[t].children),_q.test(e.tokens[t].content)&&function(e){let t=0;for(let n=e.length-1;n>=0;n--){let r=e[n];"text"===r.type&&!t&&_q.test(r.content)&&(r.content=r.content.replace(/\+-/g,"").replace(/\.{2,}/g,"").replace(/([?!])/g,"$1..").replace(/([?!]){4,}/g,"$1$1$1").replace(/,{2,}/g,",").replace(/(^|[^-])---(?=[^-]|$)/mg,"$1").replace(/(^|\s)--(?=\s|$)/mg,"$1").replace(/(^|[^-\s])--(?=[^-\s]|$)/mg,"$1")),"link_open"===r.type&&"auto"===r.info&&t--,"link_close"===r.type&&"auto"===r.info&&t++}}(e.tokens[t].children))}],["smartquotes",function(e){if(e.md.options.typographer)for(let t=e.tokens.length-1;t>=0;t--)"inline"===e.tokens[t].type&&_K.test(e.tokens[t].content)&&function(e,t){let n,r=[];for(let i=0;i<e.length;i++){let a=e[i],s=e[i].level;for(n=r.length-1;n>=0&&!(r[n].level<=s);n--);if(r.length=n+1,"text"!==a.type)continue;let o=a.content,l=0,c=o.length;s:for(;l<c;){_J.lastIndex=l;let u=_J.exec(o);if(!u)break;let d=!0,h=!0;l=u.index+1;let p="'"===u[0],f=32;if(u.index-1>=0)f=o.charCodeAt(u.index-1);else for(n=i-1;n>=0&&"softbreak"!==e[n].type&&"hardbreak"!==e[n].type;n--)if(e[n].content){f=e[n].content.charCodeAt(e[n].content.length-1);break}let m=32;if(l<c)m=o.charCodeAt(l);else for(n=i+1;n<e.length&&"softbreak"!==e[n].type&&"hardbreak"!==e[n].type;n++)if(e[n].content){m=e[n].content.charCodeAt(0);break}let g=_I(f)||_N(String.fromCharCode(f)),y=_I(m)||_N(String.fromCharCode(m)),b=_A(f),v=_A(m);if(v?d=!1:y&&!(b||g)&&(d=!1),b?h=!1:g&&!(v||y)&&(h=!1),34===m&&'"'===u[0]&&f>=48&&f<=57&&(h=d=!1),d&&h&&(d=g,h=y),!d&&!h){p&&(a.content=_Q(a.content,u.index,""));continue}if(h)for(n=r.length-1;n>=0;n--){let d=r[n];if(r[n].level<s)break;if(d.single===p&&r[n].level===s){let s,h;d=r[n],p?(s=t.md.options.quotes[2],h=t.md.options.quotes[3]):(s=t.md.options.quotes[0],h=t.md.options.quotes[1]),a.content=_Q(a.content,u.index,h),e[d.token].content=_Q(e[d.token].content,d.pos,s),l+=h.length-1,d.token===i&&(l+=s.length-1),c=(o=a.content).length,r.length=n;continue s}}d?r.push({token:i,pos:u.index,single:p,level:s}):h&&p&&(a.content=_Q(a.content,u.index,""))}}}(e.tokens[t].children,e)}],["text_join",function(e){let t,n,r=e.tokens,i=r.length;for(let e=0;e<i;e++){if("inline"!==r[e].type)continue;let i=r[e].children,a=i.length;for(t=0;t<a;t++)"text_special"===i[t].type&&(i[t].type="text");for(t=n=0;t<a;t++)"text"===i[t].type&&t+1<a&&"text"===i[t+1].type?i[t+1].content=i[t].content+i[t+1].content:(t!==n&&(i[n]=i[t]),n++);t!==n&&(i.length=n)}}]];function _0(){this.ruler=new _H;for(let e=0;e<_X.length;e++)this.ruler.push(_X[e][0],_X[e][1])}function _1(e,t,n,r){this.src=e,this.md=t,this.env=n,this.tokens=r,this.bMarks=[],this.eMarks=[],this.tShift=[],this.sCount=[],this.bsCount=[],this.blkIndent=0,this.line=0,this.lineMax=0,this.tight=!1,this.ddIndent=-1,this.listIndent=-1,this.parentType="root",this.level=0;let i=this.src;for(let e=0,t=0,n=0,r=0,a=i.length,s=!1;t<a;t++){let o=i.charCodeAt(t);if(!s)if(_C(o)){n++,9===o?r+=4-r%4:r++;continue}else s=!0;(10===o||t===a-1)&&(10!==o&&t++,this.bMarks.push(e),this.eMarks.push(t),this.tShift.push(n),this.sCount.push(r),this.bsCount.push(0),s=!1,n=0,r=0,e=t+1)}this.bMarks.push(i.length),this.eMarks.push(i.length),this.tShift.push(0),this.sCount.push(0),this.bsCount.push(0),this.lineMax=this.bMarks.length-1}function _2(e,t){let n=e.bMarks[t]+e.tShift[t],r=e.eMarks[t];return e.src.slice(n,r)}function _5(e){let t=[],n=e.length,r=0,i=e.charCodeAt(r),a=!1,s=0,o="";for(;r<n;)124===i&&(a?(o+=e.substring(s,r-1),s=r):(t.push(o+e.substring(s,r)),o="",s=r+1)),a=92===i,r++,i=e.charCodeAt(r);return t.push(o+e.substring(s)),t}function _3(e,t){let n=e.eMarks[t],r=e.bMarks[t]+e.tShift[t],i=e.src.charCodeAt(r++);return 42!==i&&45!==i&&43!==i||r<n&&!_C(e.src.charCodeAt(r))?-1:r}function _4(e,t){let n=e.bMarks[t]+e.tShift[t],r=e.eMarks[t],i=n;if(i+1>=r)return -1;let a=e.src.charCodeAt(i++);if(a<48||a>57)return -1;for(;;){if(i>=r)return -1;if((a=e.src.charCodeAt(i++))>=48&&a<=57){if(i-n>=10)return -1;continue}if(41===a||46===a)break;return -1}return i<r&&!_C(a=e.src.charCodeAt(i))?-1:i}_0.prototype.process=function(e){let t=this.ruler.getRules("");for(let n=0,r=t.length;n<r;n++)t[n](e)},_0.prototype.State=_z,_1.prototype.push=function(e,t,n){let r=new _U(e,t,n);return r.block=!0,n<0&&this.level--,r.level=this.level,n>0&&this.level++,this.tokens.push(r),r},_1.prototype.isEmpty=function(e){return this.bMarks[e]+this.tShift[e]>=this.eMarks[e]},_1.prototype.skipEmptyLines=function(e){for(let t=this.lineMax;e<t&&!(this.bMarks[e]+this.tShift[e]<this.eMarks[e]);e++);return e},_1.prototype.skipSpaces=function(e){for(let t=this.src.length;e<t&&_C(this.src.charCodeAt(e));e++);return e},_1.prototype.skipSpacesBack=function(e,t){if(e<=t)return e;for(;e>t;)if(!_C(this.src.charCodeAt(--e)))return e+1;return e},_1.prototype.skipChars=function(e,t){for(let n=this.src.length;e<n&&this.src.charCodeAt(e)===t;e++);return e},_1.prototype.skipCharsBack=function(e,t,n){if(e<=n)return e;for(;e>n;)if(t!==this.src.charCodeAt(--e))return e+1;return e},_1.prototype.getLines=function(e,t,n,r){if(e>=t)return"";let i=Array(t-e);for(let a=0,s=e;s<t;s++,a++){let e,o=0,l=this.bMarks[s],c=l;for(e=s+1<t||r?this.eMarks[s]+1:this.eMarks[s];c<e&&o<n;){let e=this.src.charCodeAt(c);if(_C(e))9===e?o+=4-(o+this.bsCount[s])%4:o++;else if(c-l<this.tShift[s])o++;else break;c++}o>n?i[a]=Array(o-n+1).join(" ")+this.src.slice(c,e):i[a]=this.src.slice(c,e)}return i.join("")},_1.prototype.Token=_U;let _6="<[A-Za-z][A-Za-z0-9\\-]*(?:\\s+[a-zA-Z_:][a-zA-Z0-9:._-]*(?:\\s*=\\s*(?:[^\"'=<>`\\x00-\\x20]+|'[^']*'|\"[^\"]*\"))?)*\\s*\\/?>",_9="<\\/[A-Za-z][A-Za-z0-9\\-]*\\s*>",_8=RegExp("^(?:"+_6+"|"+_9+"|<!---?>|<!--(?:[^-]|-[^-]|--[^>])*-->|<[?][\\s\\S]*?[?]>|<![A-Za-z][^>]*>|<!\\[CDATA\\[[\\s\\S]*?\\]\\]>)"),_7=RegExp("^(?:"+_6+"|"+_9+")"),Ee=[[/^<(script|pre|style|textarea)(?=(\s|>|$))/i,/<\/(script|pre|style|textarea)>/i,!0],[/^<!--/,/-->/,!0],[/^<\?/,/\?>/,!0],[/^<![A-Z]/,/>/,!0],[/^<!\[CDATA\[/,/\]\]>/,!0],[RegExp("^</?(address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h1|h2|h3|h4|h5|h6|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul)(?=(\\s|/?>|$))","i"),/^$/,!0],[RegExp(_7.source+"\\s*$"),/^$/,!1]],Et=[["table",function(e,t,n,r){let i;if(t+2>n)return!1;let a=t+1;if(e.sCount[a]<e.blkIndent||e.sCount[a]-e.blkIndent>=4)return!1;let s=e.bMarks[a]+e.tShift[a];if(s>=e.eMarks[a])return!1;let o=e.src.charCodeAt(s++);if(124!==o&&45!==o&&58!==o||s>=e.eMarks[a])return!1;let l=e.src.charCodeAt(s++);if(124!==l&&45!==l&&58!==l&&!_C(l)||45===o&&_C(l))return!1;for(;s<e.eMarks[a];){let t=e.src.charCodeAt(s);if(124!==t&&45!==t&&58!==t&&!_C(t))return!1;s++}let c=_2(e,t+1),u=c.split("|"),d=[];for(let e=0;e<u.length;e++){let t=u[e].trim();if(!t)if(0===e||e===u.length-1)continue;else return!1;if(!/^:?-+:?$/.test(t))return!1;58===t.charCodeAt(t.length-1)?d.push(58===t.charCodeAt(0)?"center":"right"):58===t.charCodeAt(0)?d.push("left"):d.push("")}if(-1===(c=_2(e,t).trim()).indexOf("|")||e.sCount[t]-e.blkIndent>=4)return!1;(u=_5(c)).length&&""===u[0]&&u.shift(),u.length&&""===u[u.length-1]&&u.pop();let h=u.length;if(0===h||h!==d.length)return!1;if(r)return!0;let p=e.parentType;e.parentType="table";let f=e.md.block.ruler.getRules("blockquote"),m=e.push("table_open","table",1),g=[t,0];m.map=g,e.push("thead_open","thead",1).map=[t,t+1],e.push("tr_open","tr",1).map=[t,t+1];for(let t=0;t<u.length;t++){let n=e.push("th_open","th",1);d[t]&&(n.attrs=[["style","text-align:"+d[t]]]);let r=e.push("inline","",0);r.content=u[t].trim(),r.children=[],e.push("th_close","th",-1)}e.push("tr_close","tr",-1),e.push("thead_close","thead",-1);let y=0;for(a=t+2;a<n&&!(e.sCount[a]<e.blkIndent);a++){let r=!1;for(let t=0,i=f.length;t<i;t++)if(f[t](e,a,n,!0)){r=!0;break}if(r||!(c=_2(e,a).trim())||e.sCount[a]-e.blkIndent>=4||((u=_5(c)).length&&""===u[0]&&u.shift(),u.length&&""===u[u.length-1]&&u.pop(),(y+=h-u.length)>65536))break;a===t+2&&(e.push("tbody_open","tbody",1).map=i=[t+2,0]),e.push("tr_open","tr",1).map=[a,a+1];for(let t=0;t<h;t++){let n=e.push("td_open","td",1);d[t]&&(n.attrs=[["style","text-align:"+d[t]]]);let r=e.push("inline","",0);r.content=u[t]?u[t].trim():"",r.children=[],e.push("td_close","td",-1)}e.push("tr_close","tr",-1)}return i&&(e.push("tbody_close","tbody",-1),i[1]=a),e.push("table_close","table",-1),g[1]=a,e.parentType=p,e.line=a,!0},["paragraph","reference"]],["code",function(e,t,n){if(e.sCount[t]-e.blkIndent<4)return!1;let r=t+1,i=r;for(;r<n;){if(e.isEmpty(r)){r++;continue}if(e.sCount[r]-e.blkIndent>=4){i=++r;continue}break}e.line=i;let a=e.push("code_block","code",0);return a.content=e.getLines(t,i,4+e.blkIndent,!1)+"\n",a.map=[t,e.line],!0}],["fence",function(e,t,n,r){let i=e.bMarks[t]+e.tShift[t],a=e.eMarks[t];if(e.sCount[t]-e.blkIndent>=4||i+3>a)return!1;let s=e.src.charCodeAt(i);if(126!==s&&96!==s)return!1;let o=i,l=(i=e.skipChars(i,s))-o;if(l<3)return!1;let c=e.src.slice(o,i),u=e.src.slice(i,a);if(96===s&&u.indexOf(String.fromCharCode(s))>=0)return!1;if(r)return!0;let d=t,h=!1;for(;!(++d>=n)&&(!((i=o=e.bMarks[d]+e.tShift[d])<(a=e.eMarks[d]))||!(e.sCount[d]<e.blkIndent));){;if(!(e.src.charCodeAt(i)!==s||e.sCount[d]-e.blkIndent>=4||(i=e.skipChars(i,s))-o<l)&&!((i=e.skipSpaces(i))<a)){h=!0;break}}l=e.sCount[t],e.line=d+ +!!h;let p=e.push("fence","code",0);return p.info=u,p.content=e.getLines(t+1,d,l,!0),p.markup=c,p.map=[t,e.line],!0},["paragraph","reference","blockquote","list"]],["blockquote",function(e,t,n,r){let i,a=e.bMarks[t]+e.tShift[t],s=e.eMarks[t],o=e.lineMax;if(e.sCount[t]-e.blkIndent>=4||62!==e.src.charCodeAt(a))return!1;if(r)return!0;let l=[],c=[],u=[],d=[],h=e.md.block.ruler.getRules("blockquote"),p=e.parentType;e.parentType="blockquote";let f=!1;for(i=t;i<n;i++){let t=e.sCount[i]<e.blkIndent;if((a=e.bMarks[i]+e.tShift[i])>=(s=e.eMarks[i]))break;if(62===e.src.charCodeAt(a++)&&!t){let t,n,r=e.sCount[i]+1;32===e.src.charCodeAt(a)?(a++,r++,n=!1,t=!0):9===e.src.charCodeAt(a)?(t=!0,(e.bsCount[i]+r)%4==3?(a++,r++,n=!1):n=!0):t=!1;let o=r;for(l.push(e.bMarks[i]),e.bMarks[i]=a;a<s;){let t=e.src.charCodeAt(a);if(_C(t))9===t?o+=4-(o+e.bsCount[i]+ +!!n)%4:o++;else break;a++}f=a>=s,c.push(e.bsCount[i]),e.bsCount[i]=e.sCount[i]+1+ +!!t,u.push(e.sCount[i]),e.sCount[i]=o-r,d.push(e.tShift[i]),e.tShift[i]=a-e.bMarks[i];continue}if(f)break;let r=!1;for(let t=0,a=h.length;t<a;t++)if(h[t](e,i,n,!0)){r=!0;break}if(r){e.lineMax=i,0!==e.blkIndent&&(l.push(e.bMarks[i]),c.push(e.bsCount[i]),d.push(e.tShift[i]),u.push(e.sCount[i]),e.sCount[i]-=e.blkIndent);break}l.push(e.bMarks[i]),c.push(e.bsCount[i]),d.push(e.tShift[i]),u.push(e.sCount[i]),e.sCount[i]=-1}let m=e.blkIndent;e.blkIndent=0;let g=e.push("blockquote_open","blockquote",1);g.markup=">";let y=[t,0];g.map=y,e.md.block.tokenize(e,t,i),e.push("blockquote_close","blockquote",-1).markup=">",e.lineMax=o,e.parentType=p,y[1]=e.line;for(let n=0;n<d.length;n++)e.bMarks[n+t]=l[n],e.tShift[n+t]=d[n],e.sCount[n+t]=u[n],e.bsCount[n+t]=c[n];return e.blkIndent=m,!0},["paragraph","reference","blockquote","list"]],["hr",function(e,t,n,r){let i=e.eMarks[t];if(e.sCount[t]-e.blkIndent>=4)return!1;let a=e.bMarks[t]+e.tShift[t],s=e.src.charCodeAt(a++);if(42!==s&&45!==s&&95!==s)return!1;let o=1;for(;a<i;){let t=e.src.charCodeAt(a++);if(t!==s&&!_C(t))return!1;t===s&&o++}if(o<3)return!1;if(r)return!0;e.line=t+1;let l=e.push("hr","hr",0);return l.map=[t,e.line],l.markup=Array(o+1).join(String.fromCharCode(s)),!0},["paragraph","reference","blockquote","list"]],["list",function(e,t,n,r){let i,a,s,o,l,c,u,d=t,h=!0;if(e.sCount[d]-e.blkIndent>=4||e.listIndent>=0&&e.sCount[d]-e.listIndent>=4&&e.sCount[d]<e.blkIndent)return!1;let p=!1;if(r&&"paragraph"===e.parentType&&e.sCount[d]>=e.blkIndent&&(p=!0),(u=_4(e,d))>=0){if(l=!0,s=e.bMarks[d]+e.tShift[d],c=Number(e.src.slice(s,u-1)),p&&1!==c)return!1}else{if(!((u=_3(e,d))>=0))return!1;l=!1}if(p&&e.skipSpaces(u)>=e.eMarks[d])return!1;if(r)return!0;let f=e.src.charCodeAt(u-1),m=e.tokens.length;l?(o=e.push("ordered_list_open","ol",1),1!==c&&(o.attrs=[["start",c]])):o=e.push("bullet_list_open","ul",1);let g=[d,0];o.map=g,o.markup=String.fromCharCode(f);let y=!1,b=e.md.block.ruler.getRules("list"),v=e.parentType;for(e.parentType="list";d<n;){let t;a=u,i=e.eMarks[d];let r=e.sCount[d]+u-(e.bMarks[d]+e.tShift[d]),c=r;for(;a<i;){let t=e.src.charCodeAt(a);if(9===t)c+=4-(c+e.bsCount[d])%4;else if(32===t)c++;else break;a++}let p=a;(t=p>=i?1:c-r)>4&&(t=1);let m=r+t;(o=e.push("list_item_open","li",1)).markup=String.fromCharCode(f);let g=[d,0];o.map=g,l&&(o.info=e.src.slice(s,u-1));let v=e.tight,k=e.tShift[d],x=e.sCount[d],_=e.listIndent;if(e.listIndent=e.blkIndent,e.blkIndent=m,e.tight=!0,e.tShift[d]=p-e.bMarks[d],e.sCount[d]=c,p>=i&&e.isEmpty(d+1)?e.line=Math.min(e.line+2,n):e.md.block.tokenize(e,d,n,!0),(!e.tight||y)&&(h=!1),y=e.line-d>1&&e.isEmpty(e.line-1),e.blkIndent=e.listIndent,e.listIndent=_,e.tShift[d]=k,e.sCount[d]=x,e.tight=v,(o=e.push("list_item_close","li",-1)).markup=String.fromCharCode(f),d=e.line,g[1]=d,d>=n||e.sCount[d]<e.blkIndent||e.sCount[d]-e.blkIndent>=4)break;let E=!1;for(let t=0,r=b.length;t<r;t++)if(b[t](e,d,n,!0)){E=!0;break}if(E)break;if(l){if((u=_4(e,d))<0)break;s=e.bMarks[d]+e.tShift[d]}else if((u=_3(e,d))<0)break;if(f!==e.src.charCodeAt(u-1))break}return(o=l?e.push("ordered_list_close","ol",-1):e.push("bullet_list_close","ul",-1)).markup=String.fromCharCode(f),g[1]=d,e.line=d,e.parentType=v,h&&function(e,t){let n=e.level+2;for(let r=t+2,i=e.tokens.length-2;r<i;r++)e.tokens[r].level===n&&"paragraph_open"===e.tokens[r].type&&(e.tokens[r+2].hidden=!0,e.tokens[r].hidden=!0,r+=2)}(e,m),!0},["paragraph","reference","blockquote"]],["reference",function(e,t,n,r){let i,a=e.bMarks[t]+e.tShift[t],s=e.eMarks[t],o=t+1;if(e.sCount[t]-e.blkIndent>=4||91!==e.src.charCodeAt(a))return!1;function l(t){let n=e.lineMax;if(t>=n||e.isEmpty(t))return null;let r=!1;if(e.sCount[t]-e.blkIndent>3&&(r=!0),e.sCount[t]<0&&(r=!0),!r){let r=e.md.block.ruler.getRules("reference"),i=e.parentType;e.parentType="reference";let a=!1;for(let i=0,s=r.length;i<s;i++)if(r[i](e,t,n,!0)){a=!0;break}if(e.parentType=i,a)return null}let i=e.bMarks[t]+e.tShift[t],a=e.eMarks[t];return e.src.slice(i,a+1)}let c=e.src.slice(a,s+1);s=c.length;let u=-1;for(a=1;a<s;a++){let e=c.charCodeAt(a);if(91===e)return!1;if(93===e){u=a;break}if(10===e){let e=l(o);null!==e&&(c+=e,s=c.length,o++)}else if(92===e&&++a<s&&10===c.charCodeAt(a)){let e=l(o);null!==e&&(c+=e,s=c.length,o++)}}if(u<0||58!==c.charCodeAt(u+1))return!1;for(a=u+2;a<s;a++){let e=c.charCodeAt(a);if(10===e){let e=l(o);null!==e&&(c+=e,s=c.length,o++)}else if(_C(e));else break}let d=e.md.helpers.parseLinkDestination(c,a,s);if(!d.ok)return!1;let h=e.md.normalizeLink(d.str);if(!e.md.validateLink(h))return!1;let p=a=d.pos,f=o,m=a;for(;a<s;a++){let e=c.charCodeAt(a);if(10===e){let e=l(o);null!==e&&(c+=e,s=c.length,o++)}else if(_C(e));else break}let g=e.md.helpers.parseLinkTitle(c,a,s);for(;g.can_continue;){let t=l(o);if(null===t)break;c+=t,a=s,s=c.length,o++,g=e.md.helpers.parseLinkTitle(c,a,s,g)}for(a<s&&m!==a&&g.ok?(i=g.str,a=g.pos):(i="",a=p,o=f);a<s&&_C(c.charCodeAt(a));)a++;if(a<s&&10!==c.charCodeAt(a)&&i)for(i="",a=p,o=f;a<s&&_C(c.charCodeAt(a));)a++;if(a<s&&10!==c.charCodeAt(a))return!1;let y=_D(c.slice(1,u));return!!y&&(!!r||(void 0===e.env.references&&(e.env.references={}),void 0===e.env.references[y]&&(e.env.references[y]={title:i,href:h}),e.line=o,!0))}],["html_block",function(e,t,n,r){let i=e.bMarks[t]+e.tShift[t],a=e.eMarks[t];if(e.sCount[t]-e.blkIndent>=4||!e.md.options.html||60!==e.src.charCodeAt(i))return!1;let s=e.src.slice(i,a),o=0;for(;o<Ee.length&&!Ee[o][0].test(s);o++);if(o===Ee.length)return!1;if(r)return Ee[o][2];let l=t+1;if(!Ee[o][1].test(s)){for(;l<n&&!(e.sCount[l]<e.blkIndent);l++)if(i=e.bMarks[l]+e.tShift[l],a=e.eMarks[l],s=e.src.slice(i,a),Ee[o][1].test(s)){0!==s.length&&l++;break}}e.line=l;let c=e.push("html_block","",0);return c.map=[t,l],c.content=e.getLines(t,l,e.blkIndent,!0),!0},["paragraph","reference","blockquote"]],["heading",function(e,t,n,r){let i=e.bMarks[t]+e.tShift[t],a=e.eMarks[t];if(e.sCount[t]-e.blkIndent>=4)return!1;let s=e.src.charCodeAt(i);if(35!==s||i>=a)return!1;let o=1;for(s=e.src.charCodeAt(++i);35===s&&i<a&&o<=6;)o++,s=e.src.charCodeAt(++i);if(o>6||i<a&&!_C(s))return!1;if(r)return!0;a=e.skipSpacesBack(a,i);let l=e.skipCharsBack(a,35,i);l>i&&_C(e.src.charCodeAt(l-1))&&(a=l),e.line=t+1;let c=e.push("heading_open","h"+String(o),1);c.markup="########".slice(0,o),c.map=[t,e.line];let u=e.push("inline","",0);return u.content=e.src.slice(i,a).trim(),u.map=[t,e.line],u.children=[],e.push("heading_close","h"+String(o),-1).markup="########".slice(0,o),!0},["paragraph","reference","blockquote"]],["lheading",function(e,t,n){let r,i=e.md.block.ruler.getRules("paragraph");if(e.sCount[t]-e.blkIndent>=4)return!1;let a=e.parentType;e.parentType="paragraph";let s=0,o=t+1;for(;o<n&&!e.isEmpty(o);o++){if(e.sCount[o]-e.blkIndent>3)continue;if(e.sCount[o]>=e.blkIndent){let t=e.bMarks[o]+e.tShift[o],n=e.eMarks[o];if(t<n&&(45===(r=e.src.charCodeAt(t))||61===r)&&(t=e.skipChars(t,r),(t=e.skipSpaces(t))>=n)){s=61===r?1:2;break}}if(e.sCount[o]<0)continue;let t=!1;for(let r=0,a=i.length;r<a;r++)if(i[r](e,o,n,!0)){t=!0;break}if(t)break}if(!s)return!1;let l=e.getLines(t,o,e.blkIndent,!1).trim();e.line=o+1;let c=e.push("heading_open","h"+String(s),1);c.markup=String.fromCharCode(r),c.map=[t,e.line];let u=e.push("inline","",0);return u.content=l,u.map=[t,e.line-1],u.children=[],e.push("heading_close","h"+String(s),-1).markup=String.fromCharCode(r),e.parentType=a,!0}],["paragraph",function(e,t,n){let r=e.md.block.ruler.getRules("paragraph"),i=e.parentType,a=t+1;for(e.parentType="paragraph";a<n&&!e.isEmpty(a);a++){if(e.sCount[a]-e.blkIndent>3||e.sCount[a]<0)continue;let t=!1;for(let i=0,s=r.length;i<s;i++)if(r[i](e,a,n,!0)){t=!0;break}if(t)break}let s=e.getLines(t,a,e.blkIndent,!1).trim();e.line=a,e.push("paragraph_open","p",1).map=[t,e.line];let o=e.push("inline","",0);return o.content=s,o.map=[t,e.line],o.children=[],e.push("paragraph_close","p",-1),e.parentType=i,!0}]];function En(){this.ruler=new _H;for(let e=0;e<Et.length;e++)this.ruler.push(Et[e][0],Et[e][1],{alt:(Et[e][2]||[]).slice()})}function Er(e,t,n,r){this.src=e,this.env=n,this.md=t,this.tokens=r,this.tokens_meta=Array(r.length),this.pos=0,this.posMax=this.src.length,this.level=0,this.pending="",this.pendingLevel=0,this.cache={},this.delimiters=[],this._prev_delimiters=[],this.backticks={},this.backticksScanned=!1,this.linkLevel=0}En.prototype.tokenize=function(e,t,n){let r=this.ruler.getRules(""),i=r.length,a=e.md.options.maxNesting,s=t,o=!1;for(;s<n&&(e.line=s=e.skipEmptyLines(s),!(s>=n)&&!(e.sCount[s]<e.blkIndent));){if(e.level>=a){e.line=n;break}let t=e.line,l=!1;for(let a=0;a<i;a++)if(l=r[a](e,s,n,!1)){if(t>=e.line)throw Error("block rule didn't increment state.line");break}if(!l)throw Error("none of the block rules matched");e.tight=!o,e.isEmpty(e.line-1)&&(o=!0),(s=e.line)<n&&e.isEmpty(s)&&(o=!0,e.line=++s)}},En.prototype.parse=function(e,t,n,r){if(!e)return;let i=new this.State(e,t,n,r);this.tokenize(i,i.line,i.lineMax)},En.prototype.State=_1,Er.prototype.pushPending=function(){let e=new _U("text","",0);return e.content=this.pending,e.level=this.pendingLevel,this.tokens.push(e),this.pending="",e},Er.prototype.push=function(e,t,n){this.pending&&this.pushPending();let r=new _U(e,t,n),i=null;return n<0&&(this.level--,this.delimiters=this._prev_delimiters.pop()),r.level=this.level,n>0&&(this.level++,this._prev_delimiters.push(this.delimiters),this.delimiters=[],i={delimiters:this.delimiters}),this.pendingLevel=this.level,this.tokens.push(r),this.tokens_meta.push(i),r},Er.prototype.scanDelims=function(e,t){let n=this.posMax,r=this.src.charCodeAt(e),i=e>0?this.src.charCodeAt(e-1):32,a=e;for(;a<n&&this.src.charCodeAt(a)===r;)a++;let s=a-e,o=a<n?this.src.charCodeAt(a):32,l=_I(i)||_N(String.fromCharCode(i)),c=_I(o)||_N(String.fromCharCode(o)),u=_A(i),d=_A(o),h=!d&&(!c||u||l),p=!u&&(!l||d||c);return{can_open:h&&(t||!p||l),can_close:p&&(t||!h||c),length:s}},Er.prototype.Token=_U;let Ei=/(?:^|[^a-z0-9.+-])([a-z][a-z0-9.+-]*)$/i,Ea=[];for(let e=0;e<256;e++)Ea.push(0);function Es(e,t){let n,r=[],i=t.length;for(let a=0;a<i;a++){let i=t[a];if(126!==i.marker||-1===i.end)continue;let s=t[i.end];(n=e.tokens[i.token]).type="s_open",n.tag="s",n.nesting=1,n.markup="~~",n.content="",(n=e.tokens[s.token]).type="s_close",n.tag="s",n.nesting=-1,n.markup="~~",n.content="","text"===e.tokens[s.token-1].type&&"~"===e.tokens[s.token-1].content&&r.push(s.token-1)}for(;r.length;){let t=r.pop(),i=t+1;for(;i<e.tokens.length&&"s_close"===e.tokens[i].type;)i++;t!==--i&&(n=e.tokens[i],e.tokens[i]=e.tokens[t],e.tokens[t]=n)}}"\\!\"#$%&'()*+,./:;<=>?@[]^_`{|}~-".split("").forEach(function(e){Ea[e.charCodeAt(0)]=1});let Eo={tokenize:function(e,t){let n=e.pos,r=e.src.charCodeAt(n);if(t||126!==r)return!1;let i=e.scanDelims(e.pos,!0),a=i.length,s=String.fromCharCode(r);if(a<2)return!1;a%2&&(e.push("text","",0).content=s,a--);for(let t=0;t<a;t+=2)e.push("text","",0).content=s+s,e.delimiters.push({marker:r,length:0,token:e.tokens.length-1,end:-1,open:i.can_open,close:i.can_close});return e.pos+=i.length,!0},postProcess:function(e){let t=e.tokens_meta,n=e.tokens_meta.length;Es(e,e.delimiters);for(let r=0;r<n;r++)t[r]&&t[r].delimiters&&Es(e,t[r].delimiters)}};function El(e,t){let n=t.length;for(let r=n-1;r>=0;r--){let n=t[r];if(95!==n.marker&&42!==n.marker||-1===n.end)continue;let i=t[n.end],a=r>0&&t[r-1].end===n.end+1&&t[r-1].marker===n.marker&&t[r-1].token===n.token-1&&t[n.end+1].token===i.token+1,s=String.fromCharCode(n.marker),o=e.tokens[n.token];o.type=a?"strong_open":"em_open",o.tag=a?"strong":"em",o.nesting=1,o.markup=a?s+s:s,o.content="";let l=e.tokens[i.token];l.type=a?"strong_close":"em_close",l.tag=a?"strong":"em",l.nesting=-1,l.markup=a?s+s:s,l.content="",a&&(e.tokens[t[r-1].token].content="",e.tokens[t[n.end+1].token].content="",r--)}}let Ec={tokenize:function(e,t){let n=e.pos,r=e.src.charCodeAt(n);if(t||95!==r&&42!==r)return!1;let i=e.scanDelims(e.pos,42===r);for(let t=0;t<i.length;t++)e.push("text","",0).content=String.fromCharCode(r),e.delimiters.push({marker:r,length:i.length,token:e.tokens.length-1,end:-1,open:i.can_open,close:i.can_close});return e.pos+=i.length,!0},postProcess:function(e){let t=e.tokens_meta,n=e.tokens_meta.length;El(e,e.delimiters);for(let r=0;r<n;r++)t[r]&&t[r].delimiters&&El(e,t[r].delimiters)}},Eu=/^([a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*)$/,Ed=/^([a-zA-Z][a-zA-Z0-9+.-]{1,31}):([^<>\x00-\x20]*)$/,Eh=/^&#((?:x[a-f0-9]{1,6}|[0-9]{1,7}));/i,Ep=/^&([a-z][a-z0-9]{1,31});/i;function Ef(e){let t={},n=e.length;if(!n)return;let r=0,i=-2,a=[];for(let s=0;s<n;s++){let n=e[s];if(a.push(0),(e[r].marker!==n.marker||i!==n.token-1)&&(r=s),i=n.token,n.length=n.length||0,!n.close)continue;t.hasOwnProperty(n.marker)||(t[n.marker]=[-1,-1,-1,-1,-1,-1]);let o=t[n.marker][3*!!n.open+n.length%3],l=r-a[r]-1,c=l;for(;l>o;l-=a[l]+1){let t=e[l];if(t.marker===n.marker&&t.open&&t.end<0){let r=!1;if((t.close||n.open)&&(t.length+n.length)%3==0&&(t.length%3!=0||n.length%3!=0)&&(r=!0),!r){let r=l>0&&!e[l-1].open?a[l-1]+1:0;a[s]=s-l+r,a[l]=r,n.open=!1,t.end=s,t.close=!1,c=-1,i=-2;break}}}-1!==c&&(t[n.marker][3*!!n.open+(n.length||0)%3]=c)}}let Em=[["text",function(e,t){let n=e.pos;for(;n<e.posMax&&!function(e){switch(e){case 10:case 33:case 35:case 36:case 37:case 38:case 42:case 43:case 45:case 58:case 60:case 61:case 62:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 125:case 126:return!0;default:return!1}}(e.src.charCodeAt(n));)n++;return n!==e.pos&&(t||(e.pending+=e.src.slice(e.pos,n)),e.pos=n,!0)}],["linkify",function(e,t){if(!e.md.options.linkify||e.linkLevel>0)return!1;let n=e.pos;if(n+3>e.posMax||58!==e.src.charCodeAt(n)||47!==e.src.charCodeAt(n+1)||47!==e.src.charCodeAt(n+2))return!1;let r=e.pending.match(Ei);if(!r)return!1;let i=r[1],a=e.md.linkify.matchAtStart(e.src.slice(n-i.length));if(!a)return!1;let s=a.url;if(s.length<=i.length)return!1;s=s.replace(/\*+$/,"");let o=e.md.normalizeLink(s);if(!e.md.validateLink(o))return!1;if(!t){e.pending=e.pending.slice(0,-i.length);let t=e.push("link_open","a",1);t.attrs=[["href",o]],t.markup="linkify",t.info="auto",e.push("text","",0).content=e.md.normalizeLinkText(s);let n=e.push("link_close","a",-1);n.markup="linkify",n.info="auto"}return e.pos+=s.length-i.length,!0}],["newline",function(e,t){let n=e.pos;if(10!==e.src.charCodeAt(n))return!1;let r=e.pending.length-1,i=e.posMax;if(!t)if(r>=0&&32===e.pending.charCodeAt(r))if(r>=1&&32===e.pending.charCodeAt(r-1)){let t=r-1;for(;t>=1&&32===e.pending.charCodeAt(t-1);)t--;e.pending=e.pending.slice(0,t),e.push("hardbreak","br",0)}else e.pending=e.pending.slice(0,-1),e.push("softbreak","br",0);else e.push("softbreak","br",0);for(n++;n<i&&_C(e.src.charCodeAt(n));)n++;return e.pos=n,!0}],["escape",function(e,t){let n=e.pos,r=e.posMax;if(92!==e.src.charCodeAt(n)||++n>=r)return!1;let i=e.src.charCodeAt(n);if(10===i){for(t||e.push("hardbreak","br",0),n++;n<r&&_C(i=e.src.charCodeAt(n));)n++;return e.pos=n,!0}let a=e.src[n];if(i>=55296&&i<=56319&&n+1<r){let t=e.src.charCodeAt(n+1);t>=56320&&t<=57343&&(a+=e.src[n+1],n++)}let s="\\"+a;if(!t){let t=e.push("text_special","",0);i<256&&0!==Ea[i]?t.content=a:t.content=s,t.markup=s,t.info="escape"}return e.pos=n+1,!0}],["backticks",function(e,t){let n,r=e.pos;if(96!==e.src.charCodeAt(r))return!1;let i=r;r++;let a=e.posMax;for(;r<a&&96===e.src.charCodeAt(r);)r++;let s=e.src.slice(i,r),o=s.length;if(e.backticksScanned&&(e.backticks[o]||0)<=i)return t||(e.pending+=s),e.pos+=o,!0;let l=r;for(;-1!==(n=e.src.indexOf("`",l));){for(l=n+1;l<a&&96===e.src.charCodeAt(l);)l++;let i=l-n;if(i===o){if(!t){let t=e.push("code_inline","code",0);t.markup=s,t.content=e.src.slice(r,n).replace(/\n/g," ").replace(/^ (.+) $/,"$1")}return e.pos=l,!0}e.backticks[i]=n}return e.backticksScanned=!0,t||(e.pending+=s),e.pos+=o,!0}],["strikethrough",Eo.tokenize],["emphasis",Ec.tokenize],["link",function(e,t){let n,r,i,a,s="",o="",l=e.pos,c=!0;if(91!==e.src.charCodeAt(e.pos))return!1;let u=e.pos,d=e.posMax,h=e.pos+1,p=e.md.helpers.parseLinkLabel(e,e.pos,!0);if(p<0)return!1;let f=p+1;if(f<d&&40===e.src.charCodeAt(f)){for(c=!1,f++;f<d&&(_C(n=e.src.charCodeAt(f))||10===n);f++);if(f>=d)return!1;if(l=f,(i=e.md.helpers.parseLinkDestination(e.src,f,e.posMax)).ok){for(s=e.md.normalizeLink(i.str),e.md.validateLink(s)?f=i.pos:s="",l=f;f<d&&(_C(n=e.src.charCodeAt(f))||10===n);f++);if(i=e.md.helpers.parseLinkTitle(e.src,f,e.posMax),f<d&&l!==f&&i.ok)for(o=i.str,f=i.pos;f<d&&(_C(n=e.src.charCodeAt(f))||10===n);f++);}(f>=d||41!==e.src.charCodeAt(f))&&(c=!0),f++}if(c){if(void 0===e.env.references)return!1;if(f<d&&91===e.src.charCodeAt(f)?(l=f+1,(f=e.md.helpers.parseLinkLabel(e,f))>=0?r=e.src.slice(l,f++):f=p+1):f=p+1,r||(r=e.src.slice(h,p)),!(a=e.env.references[_D(r)]))return e.pos=u,!1;s=a.href,o=a.title}if(!t){e.pos=h,e.posMax=p;let t=e.push("link_open","a",1),n=[["href",s]];t.attrs=n,o&&n.push(["title",o]),e.linkLevel++,e.md.inline.tokenize(e),e.linkLevel--,e.push("link_close","a",-1)}return e.pos=f,e.posMax=d,!0}],["image",function(e,t){let n,r,i,a,s,o,l,c,u="",d=e.pos,h=e.posMax;if(33!==e.src.charCodeAt(e.pos)||91!==e.src.charCodeAt(e.pos+1))return!1;let p=e.pos+2,f=e.md.helpers.parseLinkLabel(e,e.pos+1,!1);if(f<0)return!1;if((a=f+1)<h&&40===e.src.charCodeAt(a)){for(a++;a<h&&(_C(n=e.src.charCodeAt(a))||10===n);a++);if(a>=h)return!1;for(c=a,(o=e.md.helpers.parseLinkDestination(e.src,a,e.posMax)).ok&&(u=e.md.normalizeLink(o.str),e.md.validateLink(u)?a=o.pos:u=""),c=a;a<h&&(_C(n=e.src.charCodeAt(a))||10===n);a++);if(o=e.md.helpers.parseLinkTitle(e.src,a,e.posMax),a<h&&c!==a&&o.ok)for(l=o.str,a=o.pos;a<h&&(_C(n=e.src.charCodeAt(a))||10===n);a++);else l="";if(a>=h||41!==e.src.charCodeAt(a))return e.pos=d,!1;a++}else{if(void 0===e.env.references)return!1;if(a<h&&91===e.src.charCodeAt(a)?(c=a+1,(a=e.md.helpers.parseLinkLabel(e,a))>=0?i=e.src.slice(c,a++):a=f+1):a=f+1,i||(i=e.src.slice(p,f)),!(s=e.env.references[_D(i)]))return e.pos=d,!1;u=s.href,l=s.title}if(!t){r=e.src.slice(p,f);let t=[];e.md.inline.parse(r,e.md,e.env,t);let n=e.push("image","img",0),i=[["src",u],["alt",""]];n.attrs=i,n.children=t,n.content=r,l&&i.push(["title",l])}return e.pos=a,e.posMax=h,!0}],["autolink",function(e,t){let n=e.pos;if(60!==e.src.charCodeAt(n))return!1;let r=e.pos,i=e.posMax;for(;;){if(++n>=i)return!1;let t=e.src.charCodeAt(n);if(60===t)return!1;if(62===t)break}let a=e.src.slice(r+1,n);if(Ed.test(a)){let n=e.md.normalizeLink(a);if(!e.md.validateLink(n))return!1;if(!t){let t=e.push("link_open","a",1);t.attrs=[["href",n]],t.markup="autolink",t.info="auto",e.push("text","",0).content=e.md.normalizeLinkText(a);let r=e.push("link_close","a",-1);r.markup="autolink",r.info="auto"}return e.pos+=a.length+2,!0}if(Eu.test(a)){let n=e.md.normalizeLink("mailto:"+a);if(!e.md.validateLink(n))return!1;if(!t){let t=e.push("link_open","a",1);t.attrs=[["href",n]],t.markup="autolink",t.info="auto",e.push("text","",0).content=e.md.normalizeLinkText(a);let r=e.push("link_close","a",-1);r.markup="autolink",r.info="auto"}return e.pos+=a.length+2,!0}return!1}],["html_inline",function(e,t){if(!e.md.options.html)return!1;let n=e.posMax,r=e.pos;if(60!==e.src.charCodeAt(r)||r+2>=n)return!1;let i=e.src.charCodeAt(r+1);if(33!==i&&63!==i&&47!==i&&!function(e){let t=32|e;return t>=97&&t<=122}(i))return!1;let a=e.src.slice(r).match(_8);if(!a)return!1;if(!t){var s,o;let t=e.push("html_inline","",0);t.content=a[0],s=t.content,/^<a[>\s]/i.test(s)&&e.linkLevel++,o=t.content,/^<\/a\s*>/i.test(o)&&e.linkLevel--}return e.pos+=a[0].length,!0}],["entity",function(e,t){let n=e.pos,r=e.posMax;if(38!==e.src.charCodeAt(n)||n+1>=r)return!1;if(35===e.src.charCodeAt(n+1)){let r=e.src.slice(n).match(Eh);if(r){if(!t){let t="x"===r[1][0].toLowerCase()?parseInt(r[1].slice(1),16):parseInt(r[1],10),n=e.push("text_special","",0);n.content=_p(t)?_f(t):_f(65533),n.markup=r[0],n.info="entity"}return e.pos+=r[0].length,!0}}else{let r=e.src.slice(n).match(Ep);if(r){let n=_a(r[0]);if(n!==r[0]){if(!t){let t=e.push("text_special","",0);t.content=n,t.markup=r[0],t.info="entity"}return e.pos+=r[0].length,!0}}}return!1}]],Eg=[["balance_pairs",function(e){let t=e.tokens_meta,n=e.tokens_meta.length;Ef(e.delimiters);for(let e=0;e<n;e++)t[e]&&t[e].delimiters&&Ef(t[e].delimiters)}],["strikethrough",Eo.postProcess],["emphasis",Ec.postProcess],["fragments_join",function(e){let t,n,r=0,i=e.tokens,a=e.tokens.length;for(t=n=0;t<a;t++)i[t].nesting<0&&r--,i[t].level=r,i[t].nesting>0&&r++,"text"===i[t].type&&t+1<a&&"text"===i[t+1].type?i[t+1].content=i[t].content+i[t+1].content:(t!==n&&(i[n]=i[t]),n++);t!==n&&(i.length=n)}]];function Ey(){this.ruler=new _H;for(let e=0;e<Em.length;e++)this.ruler.push(Em[e][0],Em[e][1]);this.ruler2=new _H;for(let e=0;e<Eg.length;e++)this.ruler2.push(Eg[e][0],Eg[e][1])}function Eb(e){let t=Array.prototype.slice.call(arguments,1);return t.forEach(function(t){t&&Object.keys(t).forEach(function(n){e[n]=t[n]})}),e}function Ev(e){return Object.prototype.toString.call(e)}function Ek(e){return"[object Function]"===Ev(e)}function Ex(e){return e.replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}Ey.prototype.skipToken=function(e){let t=e.pos,n=this.ruler.getRules(""),r=n.length,i=e.md.options.maxNesting,a=e.cache;if(void 0!==a[t]){e.pos=a[t];return}let s=!1;if(e.level<i){for(let i=0;i<r;i++)if(e.level++,s=n[i](e,!0),e.level--,s){if(t>=e.pos)throw Error("inline rule didn't increment state.pos");break}}else e.pos=e.posMax;!s&&e.pos++,a[t]=e.pos},Ey.prototype.tokenize=function(e){let t=this.ruler.getRules(""),n=t.length,r=e.posMax,i=e.md.options.maxNesting;for(;e.pos<r;){let a=e.pos,s=!1;if(e.level<i){for(let r=0;r<n;r++)if(s=t[r](e,!1)){if(a>=e.pos)throw Error("inline rule didn't increment state.pos");break}}if(s){if(e.pos>=r)break;continue}e.pending+=e.src[e.pos++]}e.pending&&e.pushPending()},Ey.prototype.parse=function(e,t,n,r){let i=new this.State(e,t,n,r);this.tokenize(i);let a=this.ruler2.getRules(""),s=a.length;for(let e=0;e<s;e++)a[e](i)},Ey.prototype.State=Er;let E_={fuzzyLink:!0,fuzzyEmail:!0,fuzzyIP:!1},EE={"http:":{validate:function(e,t,n){let r=e.slice(t);return(n.re.http||(n.re.http=RegExp("^\\/\\/"+n.re.src_auth+n.re.src_host_port_strict+n.re.src_path,"i")),n.re.http.test(r))?r.match(n.re.http)[0].length:0}},"https:":"http:","ftp:":"http:","//":{validate:function(e,t,n){let r=e.slice(t);return(n.re.no_http||(n.re.no_http=RegExp("^"+n.re.src_auth+"(?:localhost|(?:(?:"+n.re.src_domain+")\\.)+"+n.re.src_domain_root+")"+n.re.src_port+n.re.src_host_terminator+n.re.src_path,"i")),n.re.no_http.test(r))?t>=3&&":"===e[t-3]||t>=3&&"/"===e[t-3]?0:r.match(n.re.no_http)[0].length:0}},"mailto:":{validate:function(e,t,n){let r=e.slice(t);return(n.re.mailto||(n.re.mailto=RegExp("^"+n.re.src_email_name+"@"+n.re.src_host_strict,"i")),n.re.mailto.test(r))?r.match(n.re.mailto)[0].length:0}}},ET="biz|com|edu|gov|net|org|pro|web|xxx|aero|asia|coop|info|museum|name|shop|".split("|");function ES(){return function(e,t){t.normalize(e)}}function Ew(e){let t=e.re=function(e){let t={};e=e||{},t.src_Any=x0.source,t.src_Cc=x1.source,t.src_Z=x4.source,t.src_P=x5.source,t.src_ZPCc=[t.src_Z,t.src_P,t.src_Cc].join("|"),t.src_ZCc=[t.src_Z,t.src_Cc].join("|");let n="[><]";return t.src_pseudo_letter="(?:(?!"+n+"|"+t.src_ZPCc+")"+t.src_Any+")",t.src_ip4="(?:(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)",t.src_auth="(?:(?:(?!"+t.src_ZCc+"|[@/\\[\\]()]).)+@)?",t.src_port="(?::(?:6(?:[0-4]\\d{3}|5(?:[0-4]\\d{2}|5(?:[0-2]\\d|3[0-5])))|[1-5]?\\d{1,4}))?",t.src_host_terminator="(?=$|"+n+"|"+t.src_ZPCc+")(?!"+(e["---"]?"-(?!--)|":"-|")+"_|:\\d|\\.-|\\.(?!$|"+t.src_ZPCc+"))",t.src_path="(?:[/?#](?:(?!"+t.src_ZCc+"|"+n+"|[()[\\]{}.,\"'?!\\-;]).|\\[(?:(?!"+t.src_ZCc+"|\\]).)*\\]|\\((?:(?!"+t.src_ZCc+"|[)]).)*\\)|\\{(?:(?!"+t.src_ZCc+'|[}]).)*\\}|\\"(?:(?!'+t.src_ZCc+'|["]).)+\\"|\\\'(?:(?!'+t.src_ZCc+"|[']).)+\\'|\\'(?="+t.src_pseudo_letter+"|[-])|\\.{2,}[a-zA-Z0-9%/&]|\\.(?!"+t.src_ZCc+"|[.]|$)|"+(e["---"]?"\\-(?!--(?:[^-]|$))(?:-*)|":"\\-+|")+",(?!"+t.src_ZCc+"|$)|;(?!"+t.src_ZCc+"|$)|\\!+(?!"+t.src_ZCc+"|[!]|$)|\\?(?!"+t.src_ZCc+"|[?]|$))+|\\/)?",t.src_email_name='[\\-;:&=\\+\\$,\\.a-zA-Z0-9_][\\-;:&=\\+\\$,\\"\\.a-zA-Z0-9_]*',t.src_xn="xn--[a-z0-9\\-]{1,59}",t.src_domain_root="(?:"+t.src_xn+"|"+t.src_pseudo_letter+"{1,63})",t.src_domain="(?:"+t.src_xn+"|(?:"+t.src_pseudo_letter+")|(?:"+t.src_pseudo_letter+"(?:-|"+t.src_pseudo_letter+"){0,61}"+t.src_pseudo_letter+"))",t.src_host="(?:(?:(?:(?:"+t.src_domain+")\\.)*"+t.src_domain+"))",t.tpl_host_fuzzy="(?:"+t.src_ip4+"|(?:(?:(?:"+t.src_domain+")\\.)+(?:%TLDS%)))",t.tpl_host_no_ip_fuzzy="(?:(?:(?:"+t.src_domain+")\\.)+(?:%TLDS%))",t.src_host_strict=t.src_host+t.src_host_terminator,t.tpl_host_fuzzy_strict=t.tpl_host_fuzzy+t.src_host_terminator,t.src_host_port_strict=t.src_host+t.src_port+t.src_host_terminator,t.tpl_host_port_fuzzy_strict=t.tpl_host_fuzzy+t.src_port+t.src_host_terminator,t.tpl_host_port_no_ip_fuzzy_strict=t.tpl_host_no_ip_fuzzy+t.src_port+t.src_host_terminator,t.tpl_host_fuzzy_test="localhost|www\\.|\\.\\d{1,3}\\.|(?:\\.(?:%TLDS%)(?:"+t.src_ZPCc+"|>|$))",t.tpl_email_fuzzy="(^|"+n+'|"|\\(|'+t.src_ZCc+")("+t.src_email_name+"@"+t.tpl_host_fuzzy_strict+")",t.tpl_link_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|]|"+t.src_ZPCc+"))((?![$+<=>^`|])"+t.tpl_host_port_fuzzy_strict+t.src_path+")",t.tpl_link_no_ip_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|]|"+t.src_ZPCc+"))((?![$+<=>^`|])"+t.tpl_host_port_no_ip_fuzzy_strict+t.src_path+")",t}(e.__opts__),n=e.__tlds__.slice();function r(e){return e.replace("%TLDS%",t.src_tlds)}e.onCompile(),e.__tlds_replaced__||n.push("a[cdefgilmnoqrstuwxz]|b[abdefghijmnorstvwyz]|c[acdfghiklmnoruvwxyz]|d[ejkmoz]|e[cegrstu]|f[ijkmor]|g[abdefghilmnpqrstuwy]|h[kmnrtu]|i[delmnoqrst]|j[emop]|k[eghimnprwyz]|l[abcikrstuvy]|m[acdeghklmnopqrstuvwxyz]|n[acefgilopruz]|om|p[aefghklmnrstwy]|qa|r[eosuw]|s[abcdeghijklmnortuvxyz]|t[cdfghjklmnortvwz]|u[agksyz]|v[aceginu]|w[fs]|y[et]|z[amw]"),n.push(t.src_xn),t.src_tlds=n.join("|"),t.email_fuzzy=RegExp(r(t.tpl_email_fuzzy),"i"),t.link_fuzzy=RegExp(r(t.tpl_link_fuzzy),"i"),t.link_no_ip_fuzzy=RegExp(r(t.tpl_link_no_ip_fuzzy),"i"),t.host_fuzzy_test=RegExp(r(t.tpl_host_fuzzy_test),"i");let i=[];function a(e,t){throw Error('(LinkifyIt) Invalid schema "'+e+'": '+t)}e.__compiled__={},Object.keys(e.__schemas__).forEach(function(t){let n=e.__schemas__[t];if(null===n)return;let r={validate:null,link:null};if(e.__compiled__[t]=r,"[object Object]"===Ev(n)){if("[object RegExp]"===Ev(n.validate)){var s;s=n.validate,r.validate=function(e,t){let n=e.slice(t);return s.test(n)?n.match(s)[0].length:0}}else Ek(n.validate)?r.validate=n.validate:a(t,n);Ek(n.normalize)?r.normalize=n.normalize:n.normalize?a(t,n):r.normalize=ES();return}if("[object String]"===Ev(n))return void i.push(t);a(t,n)}),i.forEach(function(t){e.__compiled__[e.__schemas__[t]]&&(e.__compiled__[t].validate=e.__compiled__[e.__schemas__[t]].validate,e.__compiled__[t].normalize=e.__compiled__[e.__schemas__[t]].normalize)}),e.__compiled__[""]={validate:null,normalize:ES()};let s=Object.keys(e.__compiled__).filter(function(t){return t.length>0&&e.__compiled__[t]}).map(Ex).join("|");e.re.schema_test=RegExp("(^|(?!_)(?:[><]|"+t.src_ZPCc+"))("+s+")","i"),e.re.schema_search=RegExp("(^|(?!_)(?:[><]|"+t.src_ZPCc+"))("+s+")","ig"),e.re.schema_at_start=RegExp("^"+e.re.schema_search.source,"i"),e.re.pretest=RegExp("("+e.re.schema_test.source+")|("+e.re.host_fuzzy_test.source+")|@","i"),e.__index__=-1,e.__text_cache__=""}function EC(e,t){let n=e.__index__,r=e.__last_index__,i=e.__text_cache__.slice(n,r);this.schema=e.__schema__.toLowerCase(),this.index=n+t,this.lastIndex=r+t,this.raw=i,this.text=i,this.url=i}function EA(e,t){let n=new EC(e,t);return e.__compiled__[n.schema].normalize(n,e),n}function EN(e,t){if(!(this instanceof EN))return new EN(e,t);!t&&Object.keys(e||{}).reduce(function(e,t){return e||E_.hasOwnProperty(t)},!1)&&(t=e,e={}),this.__opts__=Eb({},E_,t),this.__index__=-1,this.__last_index__=-1,this.__schema__="",this.__text_cache__="",this.__schemas__=Eb({},EE,e),this.__compiled__={},this.__tlds__=ET,this.__tlds_replaced__=!1,this.re={},Ew(this)}EN.prototype.add=function(e,t){return this.__schemas__[e]=t,Ew(this),this},EN.prototype.set=function(e){return this.__opts__=Eb(this.__opts__,e),this},EN.prototype.test=function(e){let t,n,r,i,a,s,o,l;if(this.__text_cache__=e,this.__index__=-1,!e.length)return!1;if(this.re.schema_test.test(e)){for((o=this.re.schema_search).lastIndex=0;null!==(t=o.exec(e));)if(i=this.testSchemaAt(e,t[2],o.lastIndex)){this.__schema__=t[2],this.__index__=t.index+t[1].length,this.__last_index__=t.index+t[0].length+i;break}}return this.__opts__.fuzzyLink&&this.__compiled__["http:"]&&(l=e.search(this.re.host_fuzzy_test))>=0&&(this.__index__<0||l<this.__index__)&&null!==(n=e.match(this.__opts__.fuzzyIP?this.re.link_fuzzy:this.re.link_no_ip_fuzzy))&&(a=n.index+n[1].length,(this.__index__<0||a<this.__index__)&&(this.__schema__="",this.__index__=a,this.__last_index__=n.index+n[0].length)),this.__opts__.fuzzyEmail&&this.__compiled__["mailto:"]&&e.indexOf("@")>=0&&null!==(r=e.match(this.re.email_fuzzy))&&(a=r.index+r[1].length,s=r.index+r[0].length,(this.__index__<0||a<this.__index__||a===this.__index__&&s>this.__last_index__)&&(this.__schema__="mailto:",this.__index__=a,this.__last_index__=s)),this.__index__>=0},EN.prototype.pretest=function(e){return this.re.pretest.test(e)},EN.prototype.testSchemaAt=function(e,t,n){return this.__compiled__[t.toLowerCase()]?this.__compiled__[t.toLowerCase()].validate(e,n,this):0},EN.prototype.match=function(e){let t=[],n=0;this.__index__>=0&&this.__text_cache__===e&&(t.push(EA(this,n)),n=this.__last_index__);let r=n?e.slice(n):e;for(;this.test(r);)t.push(EA(this,n)),r=r.slice(this.__last_index__),n+=this.__last_index__;return t.length?t:null},EN.prototype.matchAtStart=function(e){if(this.__text_cache__=e,this.__index__=-1,!e.length)return null;let t=this.re.schema_at_start.exec(e);if(!t)return null;let n=this.testSchemaAt(e,t[2],t[0].length);return n?(this.__schema__=t[2],this.__index__=t.index+t[1].length,this.__last_index__=t.index+t[0].length+n,EA(this,0)):null},EN.prototype.tlds=function(e,t){return(e=Array.isArray(e)?e:[e],t)?this.__tlds__=this.__tlds__.concat(e).sort().filter(function(e,t,n){return e!==n[t-1]}).reverse():(this.__tlds__=e.slice(),this.__tlds_replaced__=!0),Ew(this),this},EN.prototype.normalize=function(e){e.schema||(e.url="http://"+e.url),"mailto:"!==e.schema||/^mailto:/i.test(e.url)||(e.url="mailto:"+e.url)},EN.prototype.onCompile=function(){};let EI=/^xn--/,ED=/[^\0-\x7F]/,EM=/[\x2E\u3002\uFF0E\uFF61]/g,EO={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},ER=Math.floor,EP=String.fromCharCode;function EL(e){throw RangeError(EO[e])}function EF(e,t){let n=e.split("@"),r="";return n.length>1&&(r=n[0]+"@",e=n[1]),r+(function(e,t){let n=[],r=e.length;for(;r--;)n[r]=t(e[r]);return n})((e=e.replace(EM,".")).split("."),t).join(".")}let Ej=function(e,t){return e+22+75*(e<26)-((0!=t)<<5)},EB=function(e,t,n){let r=0;for(e=n?ER(e/700):e>>1,e+=ER(e/t);e>455;r+=36)e=ER(e/35);return ER(r+36*e/(e+38))},EH=function(e){let t=[],n=e.length,r=0,i=128,a=72,s=e.lastIndexOf("-");s<0&&(s=0);for(let n=0;n<s;++n)e.charCodeAt(n)>=128&&EL("not-basic"),t.push(e.charCodeAt(n));for(let l=s>0?s+1:0;l<n;){let s=r;for(let t=1,i=36;;i+=36){var o;l>=n&&EL("invalid-input");let s=(o=e.charCodeAt(l++))>=48&&o<58?26+(o-48):o>=65&&o<91?o-65:o>=97&&o<123?o-97:36;s>=36&&EL("invalid-input"),s>ER((0x7fffffff-r)/t)&&EL("overflow"),r+=s*t;let c=i<=a?1:i>=a+26?26:i-a;if(s<c)break;let u=36-c;t>ER(0x7fffffff/u)&&EL("overflow"),t*=u}let c=t.length+1;a=EB(r-s,c,0==s),ER(r/c)>0x7fffffff-i&&EL("overflow"),i+=ER(r/c),r%=c,t.splice(r++,0,i)}return String.fromCodePoint(...t)},EU=function(e){let t=[],n=(e=function(e){let t=[],n=0,r=e.length;for(;n<r;){let i=e.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){let r=e.charCodeAt(n++);(64512&r)==56320?t.push(((1023&i)<<10)+(1023&r)+65536):(t.push(i),n--)}else t.push(i)}return t}(e)).length,r=128,i=0,a=72;for(let n of e)n<128&&t.push(EP(n));let s=t.length,o=s;for(s&&t.push("-");o<n;){let n=0x7fffffff;for(let t of e)t>=r&&t<n&&(n=t);let l=o+1;for(let c of(n-r>ER((0x7fffffff-i)/l)&&EL("overflow"),i+=(n-r)*l,r=n,e))if(c<r&&++i>0x7fffffff&&EL("overflow"),c===r){let e=i;for(let n=36;;n+=36){let r=n<=a?1:n>=a+26?26:n-a;if(e<r)break;let i=e-r,s=36-r;t.push(EP(Ej(r+i%s,0))),e=ER(i/s)}t.push(EP(Ej(e,0))),a=EB(i,l,o===s),i=0,++o}++i,++r}return t.join("")},Ez={toASCII:function(e){return EF(e,function(e){return ED.test(e)?"xn--"+EU(e):e})},toUnicode:function(e){return EF(e,function(e){return EI.test(e)?EH(e.slice(4).toLowerCase()):e})}},EV={default:{options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"",highlight:null,maxNesting:100},components:{core:{},block:{},inline:{}}},zero:{options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline","text_join"]},block:{rules:["paragraph"]},inline:{rules:["text"],rules2:["balance_pairs","fragments_join"]}}},commonmark:{options:{html:!0,xhtmlOut:!0,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline","text_join"]},block:{rules:["blockquote","code","fence","heading","hr","html_block","lheading","list","reference","paragraph"]},inline:{rules:["autolink","backticks","emphasis","entity","escape","html_inline","image","link","newline","text"],rules2:["balance_pairs","emphasis","fragments_join"]}}}},EG=/^(vbscript|javascript|file|data):/,Eq=/^data:image\/(gif|png|jpeg|webp);/;function EZ(e){let t=e.trim().toLowerCase();return!EG.test(t)||Eq.test(t)}let E$=["http:","https:","mailto:"];function EW(e){let t=xQ(e,!0);if(t.hostname&&(!t.protocol||E$.indexOf(t.protocol)>=0))try{t.hostname=Ez.toASCII(t.hostname)}catch(e){}return xH(xU(t))}function EY(e){let t=xQ(e,!0);if(t.hostname&&(!t.protocol||E$.indexOf(t.protocol)>=0))try{t.hostname=Ez.toUnicode(t.hostname)}catch(e){}return xj(xU(t),xj.defaultChars+"%")}function EK(e,t){if(!(this instanceof EK))return new EK(e,t);t||_O.isString(e)||(t=e||{},e="default"),this.inline=new Ey,this.block=new En,this.core=new _0,this.renderer=new _B,this.linkify=new EN,this.validateLink=EZ,this.normalizeLink=EW,this.normalizeLinkText=EY,this.utils=_O,this.helpers=_O.assign({},_F),this.options={},this.configure(e),t&&this.set(t)}EK.prototype.set=function(e){return _O.assign(this.options,e),this},EK.prototype.configure=function(e){let t=this;if(_O.isString(e)){let t=e;if(!(e=EV[t]))throw Error('Wrong `markdown-it` preset "'+t+'", check name')}if(!e)throw Error("Wrong `markdown-it` preset, can't be empty");return e.options&&t.set(e.options),e.components&&Object.keys(e.components).forEach(function(n){e.components[n].rules&&t[n].ruler.enableOnly(e.components[n].rules),e.components[n].rules2&&t[n].ruler2.enableOnly(e.components[n].rules2)}),this},EK.prototype.enable=function(e,t){let n=[];Array.isArray(e)||(e=[e]),["core","block","inline"].forEach(function(t){n=n.concat(this[t].ruler.enable(e,!0))},this),n=n.concat(this.inline.ruler2.enable(e,!0));let r=e.filter(function(e){return 0>n.indexOf(e)});if(r.length&&!t)throw Error("MarkdownIt. Failed to enable unknown rule(s): "+r);return this},EK.prototype.disable=function(e,t){let n=[];Array.isArray(e)||(e=[e]),["core","block","inline"].forEach(function(t){n=n.concat(this[t].ruler.disable(e,!0))},this),n=n.concat(this.inline.ruler2.disable(e,!0));let r=e.filter(function(e){return 0>n.indexOf(e)});if(r.length&&!t)throw Error("MarkdownIt. Failed to disable unknown rule(s): "+r);return this},EK.prototype.use=function(e){let t=[this].concat(Array.prototype.slice.call(arguments,1));return e.apply(e,t),this},EK.prototype.parse=function(e,t){if("string"!=typeof e)throw Error("Input data should be a String");let n=new this.core.State(e,this,t);return this.core.process(n),n.tokens},EK.prototype.render=function(e,t){return t=t||{},this.renderer.render(this.parse(e,t),this.options,t)},EK.prototype.parseInline=function(e,t){let n=new this.core.State(e,this,t);return n.inlineMode=!0,this.core.process(n),n.tokens},EK.prototype.renderInline=function(e,t){return t=t||{},this.renderer.render(this.parseInline(e,t),this.options,t)};let EJ=new eK({nodes:{doc:{content:"block+"},paragraph:{content:"inline*",group:"block",parseDOM:[{tag:"p"}],toDOM:()=>["p",0]},blockquote:{content:"block+",group:"block",parseDOM:[{tag:"blockquote"}],toDOM:()=>["blockquote",0]},horizontal_rule:{group:"block",parseDOM:[{tag:"hr"}],toDOM:()=>["div",["hr"]]},heading:{attrs:{level:{default:1}},content:"(text | image)*",group:"block",defining:!0,parseDOM:[{tag:"h1",attrs:{level:1}},{tag:"h2",attrs:{level:2}},{tag:"h3",attrs:{level:3}},{tag:"h4",attrs:{level:4}},{tag:"h5",attrs:{level:5}},{tag:"h6",attrs:{level:6}}],toDOM:e=>["h"+e.attrs.level,0]},code_block:{content:"text*",group:"block",code:!0,defining:!0,marks:"",attrs:{params:{default:""}},parseDOM:[{tag:"pre",preserveWhitespace:"full",getAttrs:e=>({params:e.getAttribute("data-params")||""})}],toDOM:e=>["pre",e.attrs.params?{"data-params":e.attrs.params}:{},["code",0]]},ordered_list:{content:"list_item+",group:"block",attrs:{order:{default:1},tight:{default:!1}},parseDOM:[{tag:"ol",getAttrs:e=>({order:e.hasAttribute("start")?+e.getAttribute("start"):1,tight:e.hasAttribute("data-tight")})}],toDOM:e=>["ol",{start:1==e.attrs.order?null:e.attrs.order,"data-tight":e.attrs.tight?"true":null},0]},bullet_list:{content:"list_item+",group:"block",attrs:{tight:{default:!1}},parseDOM:[{tag:"ul",getAttrs:e=>({tight:e.hasAttribute("data-tight")})}],toDOM:e=>["ul",{"data-tight":e.attrs.tight?"true":null},0]},list_item:{content:"block+",defining:!0,parseDOM:[{tag:"li"}],toDOM:()=>["li",0]},text:{group:"inline"},image:{inline:!0,attrs:{src:{},alt:{default:null},title:{default:null}},group:"inline",draggable:!0,parseDOM:[{tag:"img[src]",getAttrs:e=>({src:e.getAttribute("src"),title:e.getAttribute("title"),alt:e.getAttribute("alt")})}],toDOM:e=>["img",e.attrs]},hard_break:{inline:!0,group:"inline",selectable:!1,parseDOM:[{tag:"br"}],toDOM:()=>["br"]}},marks:{em:{parseDOM:[{tag:"i"},{tag:"em"},{style:"font-style=italic"},{style:"font-style=normal",clearMark:e=>"em"==e.type.name}],toDOM:()=>["em"]},strong:{parseDOM:[{tag:"strong"},{tag:"b",getAttrs:e=>"normal"!=e.style.fontWeight&&null},{style:"font-weight=400",clearMark:e=>"strong"==e.type.name},{style:"font-weight",getAttrs:e=>/^(bold(er)?|[5-9]\d{2,})$/.test(e)&&null}],toDOM:()=>["strong"]},link:{attrs:{href:{},title:{default:null}},inclusive:!1,parseDOM:[{tag:"a[href]",getAttrs:e=>({href:e.getAttribute("href"),title:e.getAttribute("title")})}],toDOM:e=>["a",e.attrs]},code:{code:!0,parseDOM:[{tag:"code"}],toDOM:()=>["code"]}}});class EQ{top(){return this.stack[this.stack.length-1]}push(e){this.stack.length&&this.top().content.push(e)}addText(e){if(!e)return;let t=this.top(),n=t.content,r=n[n.length-1],i=this.schema.text(e,t.marks),a;r&&(a=function(e,t){if(e.isText&&t.isText&&ek.sameSet(e.marks,t.marks))return e.withText(e.text+t.text)}(r,i))?n[n.length-1]=a:n.push(i)}openMark(e){let t=this.top();t.marks=e.addToSet(t.marks)}closeMark(e){let t=this.top();t.marks=e.removeFromSet(t.marks)}parseTokens(e){for(let t=0;t<e.length;t++){let n=e[t],r=this.tokenHandlers[n.type];if(!r)throw Error("Token type `"+n.type+"` not supported by Markdown parser");r(this,n,e,t)}}addNode(e,t,n){let r=this.top(),i=e.createAndFill(t,n,r?r.marks:[]);return i?(this.push(i),i):null}openNode(e,t){this.stack.push({type:e,attrs:t,content:[],marks:ek.none})}closeNode(){let e=this.stack.pop();return this.addNode(e.type,e.attrs,e.content)}constructor(e,t){this.schema=e,this.tokenHandlers=t,this.stack=[{type:e.topNodeType,attrs:null,content:[],marks:ek.none}]}}function EX(e,t,n,r){return e.getAttrs?e.getAttrs(t,n,r):e.attrs instanceof Function?e.attrs(t):e.attrs}function E0(e,t){return e.noCloseToken||"code_inline"==t||"code_block"==t||"fence"==t}function E1(e){return"\n"==e[e.length-1]?e.slice(0,e.length-1):e}function E2(){}function E5(e,t){for(;++t<e.length;)if("list_item_open"!=e[t].type)return e[t].hidden;return!1}new class{parse(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=new EQ(this.schema,this.tokenHandlers),r;n.parseTokens(this.tokenizer.parse(e,t));do r=n.closeNode();while(n.stack.length)return r||this.schema.topNodeType.createAndFill()}constructor(e,t,n){this.schema=e,this.tokenizer=t,this.tokens=n,this.tokenHandlers=function(e,t){let n=Object.create(null);for(let r in t){let i=t[r];if(i.block){let t=e.nodeType(i.block);E0(i,r)?n[r]=(e,n,r,a)=>{e.openNode(t,EX(i,n,r,a)),e.addText(E1(n.content)),e.closeNode()}:(n[r+"_open"]=(e,n,r,a)=>e.openNode(t,EX(i,n,r,a)),n[r+"_close"]=e=>e.closeNode())}else if(i.node){let t=e.nodeType(i.node);n[r]=(e,n,r,a)=>e.addNode(t,EX(i,n,r,a))}else if(i.mark){let t=e.marks[i.mark];E0(i,r)?n[r]=(e,n,r,a)=>{e.openMark(t.create(EX(i,n,r,a))),e.addText(E1(n.content)),e.closeMark(t)}:(n[r+"_open"]=(e,n,r,a)=>e.openMark(t.create(EX(i,n,r,a))),n[r+"_close"]=e=>e.closeMark(t))}else if(i.ignore)E0(i,r)?n[r]=E2:(n[r+"_open"]=E2,n[r+"_close"]=E2);else throw RangeError("Unrecognized parsing spec "+JSON.stringify(i))}return n.text=(e,t)=>e.addText(t.content),n.inline=(e,t)=>e.parseTokens(t.children),n.softbreak=n.softbreak||(e=>e.addText(" ")),n}(e,n)}}(EJ,EK("commonmark",{html:!1}),{blockquote:{block:"blockquote"},paragraph:{block:"paragraph"},list_item:{block:"list_item"},bullet_list:{block:"bullet_list",getAttrs:(e,t,n)=>({tight:E5(t,n)})},ordered_list:{block:"ordered_list",getAttrs:(e,t,n)=>({order:+e.attrGet("start")||1,tight:E5(t,n)})},heading:{block:"heading",getAttrs:e=>({level:+e.tag.slice(1)})},code_block:{block:"code_block",noCloseToken:!0},fence:{block:"code_block",getAttrs:e=>({params:e.info||""}),noCloseToken:!0},hr:{node:"horizontal_rule"},image:{node:"image",getAttrs:e=>({src:e.attrGet("src"),title:e.attrGet("title")||null,alt:e.children[0]&&e.children[0].content||null})},hardbreak:{node:"hard_break"},em:{mark:"em"},strong:{mark:"strong"},link:{mark:"link",getAttrs:e=>({href:e.attrGet("href"),title:e.attrGet("title")||null})},code_inline:{mark:"code",noCloseToken:!0}});let E3={open:"",close:"",mixable:!0},E4=new class{serialize(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t=Object.assign({},this.options,t);let n=new E9(this.nodes,this.marks,t);return n.renderContent(e),n.out}constructor(e,t,n={}){this.nodes=e,this.marks=t,this.options=n}}({blockquote(e,t){e.wrapBlock("> ",null,t,()=>e.renderContent(t))},code_block(e,t){let n=t.textContent.match(/`{3,}/gm),r=n?n.sort().slice(-1)[0]+"`":"```";e.write(r+(t.attrs.params||"")+"\n"),e.text(t.textContent,!1),e.write("\n"),e.write(r),e.closeBlock(t)},heading(e,t){e.write(e.repeat("#",t.attrs.level)+" "),e.renderInline(t,!1),e.closeBlock(t)},horizontal_rule(e,t){e.write(t.attrs.markup||"---"),e.closeBlock(t)},bullet_list(e,t){e.renderList(t,"  ",()=>(t.attrs.bullet||"*")+" ")},ordered_list(e,t){let n=t.attrs.order||1,r=String(n+t.childCount-1).length,i=e.repeat(" ",r+2);e.renderList(t,i,t=>{let i=String(n+t);return e.repeat(" ",r-i.length)+i+". "})},list_item(e,t){e.renderContent(t)},paragraph(e,t){e.renderInline(t),e.closeBlock(t)},image(e,t){e.write("!["+e.esc(t.attrs.alt||"")+"]("+t.attrs.src.replace(/[\(\)]/g,"\\$&")+(t.attrs.title?' "'+t.attrs.title.replace(/"/g,'\\"')+'"':"")+")")},hard_break(e,t,n,r){for(let i=r+1;i<n.childCount;i++)if(n.child(i).type!=t.type)return void e.write("\\\n")},text(e,t){e.text(t.text,!e.inAutolink)}},{em:{open:"*",close:"*",mixable:!0,expelEnclosingWhitespace:!0},strong:{open:"**",close:"**",mixable:!0,expelEnclosingWhitespace:!0},link:{open:(e,t,n,r)=>(e.inAutolink=function(e,t,n){if(e.attrs.title||!/^\w+:/.test(e.attrs.href))return!1;let r=t.child(n);return!!r.isText&&r.text==e.attrs.href&&r.marks[r.marks.length-1]==e&&(n==t.childCount-1||!e.isInSet(t.child(n+1).marks))}(t,n,r),e.inAutolink?"<":"["),close(e,t,n,r){let{inAutolink:i}=e;return e.inAutolink=void 0,i?">":"]("+t.attrs.href.replace(/[\(\)"]/g,"\\$&")+(t.attrs.title?' "'.concat(t.attrs.title.replace(/"/g,'\\"'),'"'):"")+")"},mixable:!0},code:{open:(e,t,n,r)=>E6(n.child(r),-1),close:(e,t,n,r)=>E6(n.child(r-1),1),escape:!1}});function E6(e,t){let n=/`+/g,r,i=0;if(e.isText)for(;r=n.exec(e.text);)i=Math.max(i,r[0].length);let a=i>0&&t>0?" `":"`";for(let e=0;e<i;e++)a+="`";return i>0&&t<0&&(a+=" "),a}class E9{flushClose(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2;if(this.closed){if(this.atBlank()||(this.out+="\n"),e>1){let t=this.delim,n=/\s+$/.exec(t);n&&(t=t.slice(0,t.length-n[0].length));for(let n=1;n<e;n++)this.out+=t+"\n"}this.closed=null}}getMark(e){let t=this.marks[e];if(!t){if(!1!==this.options.strict)throw Error("Mark type `".concat(e,"` not supported by Markdown renderer"));t=E3}return t}wrapBlock(e,t,n,r){let i=this.delim;this.write(null!=t?t:e),this.delim+=e,r(),this.delim=i,this.closeBlock(n)}atBlank(){return/(^|\n)$/.test(this.out)}ensureNewLine(){this.atBlank()||(this.out+="\n")}write(e){this.flushClose(),this.delim&&this.atBlank()&&(this.out+=this.delim),e&&(this.out+=e)}closeBlock(e){this.closed=e}text(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1],n=e.split("\n");for(let e=0;e<n.length;e++)this.write(),!t&&"["==n[e][0]&&/(^|[^\\])\!$/.test(this.out)&&(this.out=this.out.slice(0,this.out.length-1)+"\\!"),this.out+=t?this.esc(n[e],this.atBlockStart):n[e],e!=n.length-1&&(this.out+="\n")}render(e,t,n){if(this.nodes[e.type.name])this.nodes[e.type.name](this,e,t,n);else if(!1!==this.options.strict)throw Error("Token type `"+e.type.name+"` not supported by Markdown renderer");else!e.type.isLeaf&&(e.type.inlineContent?this.renderInline(e):this.renderContent(e),e.isBlock&&this.closeBlock(e))}renderContent(e){e.forEach((t,n,r)=>this.render(t,e,r))}renderInline(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1];this.atBlockStart=t;let n=[],r="",i=(t,i,a)=>{let s=t?t.marks:[];t&&t.type.name===this.options.hardBreakNodeName&&(s=s.filter(t=>{if(a+1==e.childCount)return!1;let n=e.child(a+1);return t.isInSet(n.marks)&&(!n.isText||/\S/.test(n.text))}));let o=r;if(r="",t&&t.isText&&s.some(e=>{let t=this.getMark(e.type.name);return t&&t.expelEnclosingWhitespace&&!e.isInSet(n)})){let[e,r,i]=/^(\s*)(.*)$/m.exec(t.text);r&&(o+=r,(t=i?t.withText(i):null)||(s=n))}if(t&&t.isText&&s.some(t=>{let n=this.getMark(t.type.name);return n&&n.expelEnclosingWhitespace&&(a==e.childCount-1||!t.isInSet(e.child(a+1).marks))})){let[e,i,a]=/^(.*?)(\s*)$/m.exec(t.text);a&&(r=a,(t=i?t.withText(i):null)||(s=n))}let l=s.length?s[s.length-1]:null,c=l&&!1===this.getMark(l.type.name).escape,u=s.length-!!c;i:for(let e=0;e<u;e++){let t=s[e];if(!this.getMark(t.type.name).mixable)break;for(let r=0;r<n.length;r++){let i=n[r];if(!this.getMark(i.type.name).mixable)break;if(t.eq(i)){e>r?s=s.slice(0,r).concat(t).concat(s.slice(r,e)).concat(s.slice(e+1,u)):r>e&&(s=s.slice(0,e).concat(s.slice(e+1,r)).concat(t).concat(s.slice(r,u)));continue i}}}let d=0;for(;d<Math.min(n.length,u)&&s[d].eq(n[d]);)++d;for(;d<n.length;)this.text(this.markString(n.pop(),!1,e,a),!1);if(o&&this.text(o),t){for(;n.length<u;){let t=s[n.length];n.push(t),this.text(this.markString(t,!0,e,a),!1),this.atBlockStart=!1}c&&t.isText?this.text(this.markString(l,!0,e,a)+t.text+this.markString(l,!1,e,a+1),!1):this.render(t,e,a),this.atBlockStart=!1}(null==t?void 0:t.isText)&&t.nodeSize>0&&(this.atBlockStart=!1)};e.forEach(i),i(null,0,e.childCount),this.atBlockStart=!1}renderList(e,t,n){this.closed&&this.closed.type==e.type?this.flushClose(3):this.inTightList&&this.flushClose(1);let r=void 0!==e.attrs.tight?e.attrs.tight:this.options.tightLists,i=this.inTightList;this.inTightList=r,e.forEach((i,a,s)=>{s&&r&&this.flushClose(1),this.wrapBlock(t,n(s),e,()=>this.render(i,e,s))}),this.inTightList=i}esc(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e=e.replace(/[`*\\~\[\]_]/g,(t,n)=>"_"==t&&n>0&&n+1<e.length&&e[n-1].match(/\w/)&&e[n+1].match(/\w/)?t:"\\"+t),t&&(e=e.replace(/^(\+[ ]|[\-*>])/,"\\$&").replace(/^(\s*)(#{1,6})(\s|$)/,"$1\\$2$3").replace(/^(\s*\d+)\.\s/,"$1\\. ")),this.options.escapeExtraCharacters&&(e=e.replace(this.options.escapeExtraCharacters,"\\$&")),e}quote(e){let t=-1==e.indexOf('"')?'""':-1==e.indexOf("'")?"''":"()";return t[0]+e+t[1]}repeat(e,t){let n="";for(let r=0;r<t;r++)n+=e;return n}markString(e,t,n,r){let i=this.getMark(e.type.name),a=t?i.open:i.close;return"string"==typeof a?a:a(this,e,n,r)}getEnclosingWhitespace(e){return{leading:(e.match(/^(\s+)/)||[void 0])[0],trailing:(e.match(/(\s+)$/)||[void 0])[0]}}constructor(e,t,n){this.nodes=e,this.marks=t,this.options=n,this.delim="",this.out="",this.closed=null,this.inAutolink=void 0,this.atBlockStart=!1,this.inTightList=!1,void 0===this.options.tightLists&&(this.options.tightLists=!1),void 0===this.options.hardBreakNodeName&&(this.options.hardBreakNodeName="hard_break")}}var E8=e.i(605458);let E7=(0,P.memo)(e=>{let{className:t,...n}=e;return(0,ee.jsx)(vN,{className:(0,E8.cn)("size-full [&>*:first-child]:mt-0 [&>*:last-child]:mb-0 [&_code]:whitespace-pre-wrap [&_code]:break-words [&_pre]:max-w-full [&_pre]:overflow-x-auto",t),...n})},(e,t)=>e.children===t.children);E7.displayName="Response";var Te=e.i(88014),Tt=e.i(859951);let Tn=e=>{let{suggestion:t,onApply:n,artifactKind:r}=e,[i,a]=(0,P.useState)(!1),{width:s}=ep();return(0,ee.jsx)(er.AnimatePresence,{children:i?(0,ee.jsxs)(ei.motion.div,{animate:{opacity:1,y:-20},className:"-right-12 md:-right-16 absolute z-50 flex w-56 flex-col gap-3 rounded-2xl border bg-background p-3 font-sans text-sm shadow-xl",exit:{opacity:0,y:-10},initial:{opacity:0,y:-10},transition:{type:"spring",stiffness:500,damping:30},whileHover:{scale:1.05},children:[(0,ee.jsxs)("div",{className:"flex flex-row items-center justify-between",children:[(0,ee.jsxs)("div",{className:"flex flex-row items-center gap-2",children:[(0,ee.jsx)("div",{className:"size-4 rounded-full bg-muted-foreground/25"}),(0,ee.jsx)("div",{className:"font-medium",children:"Assistant"})]}),(0,ee.jsx)("button",{className:"cursor-pointer text-gray-500 text-xs",onClick:()=>{a(!1)},type:"button",children:(0,ee.jsx)(v4.CrossIcon,{size:12})})]}),(0,ee.jsx)("div",{children:t.description}),(0,ee.jsx)(Tt.Button,{className:"w-fit rounded-full px-3 py-1.5",onClick:n,variant:"outline",children:"Apply"})]},t.id):(0,ee.jsx)(ei.motion.div,{className:$("cursor-pointer p-1 text-muted-foreground",{"-right-8 absolute":"text"===r}),onClick:()=>{a(!0)},whileHover:{scale:1.1},children:(0,ee.jsx)(v4.MessageIcon,{size:s&&s<768?16:14})})})},Tr=new ns("suggestions"),Ti=new nr({key:Tr,state:{init:()=>({decorations:ix.empty,selected:null}),apply(e,t){let n=e.getMeta(Tr);return n||{decorations:t.decorations.map(e.mapping,e.doc),selected:t.selected}}},props:{decorations(e){var t,n;return null!=(n=null==(t=this.getState(e))?void 0:t.decorations)?n:ix.empty}}}),Ta=e=>{let t=eQ.fromSchema(To),n=(0,iK.renderToString)((0,ee.jsx)(E7,{children:e})),r=document.createElement("div");return r.innerHTML=n,t.parse(r)},Ts=e=>E4.serialize(e),To=new eK({nodes:nf(tu.spec.nodes,"paragraph block*","block"),marks:tu.spec.marks});function Tl(e){return xw(new RegExp("^(#{1,".concat(e,"})\\s$")),To.nodes.heading,()=>({level:e}))}let Tc=(0,P.memo)(function(e){let{content:t,onSaveContent:n,suggestions:r,status:i}=e,a=(0,P.useRef)(null),s=(0,P.useRef)(null);return(0,P.useEffect)(()=>{if(a.current&&!s.current){var e,n,r,i;let o,l,c,u=nn.create({doc:Ta(t),plugins:[...(o=[(r=(e={schema:To,menuBar:!1}).schema,l=xT.concat(xx,xk),(c=r.nodes.blockquote)&&l.push(xS(/^\s*>\s$/,c)),(c=r.nodes.ordered_list)&&l.push(xS(/^(\d+)\.\s$/,c,e=>({order:+e[1]}),(e,t)=>t.childCount+t.attrs.order==+e[1])),(c=r.nodes.bullet_list)&&l.push(xS(/^\s*([-+*])\s$/,c)),(c=r.nodes.code_block)&&l.push(xw(/^```$/,c)),(c=r.nodes.heading)&&l.push((i=c,xw(RegExp("^(#{1,6})\\s$"),i,e=>({level:e[1].length})))),xy({rules:l})),ka(function(e,t){let n={},r;function i(e,r){if(t){let n=t[e];if(!1===n)return;n&&(e=n)}n[e]=r}if(i("Mod-z",k_),i("Shift-Mod-z",kE),i("Backspace",xv),xL||i("Mod-y",kE),i("Alt-ArrowUp",kA),i("Alt-ArrowDown",kN),i("Mod-BracketLeft",kI),i("Escape",kO),(r=e.marks.strong)&&(i("Mod-b",kH(r)),i("Mod-B",kH(r))),(r=e.marks.em)&&(i("Mod-i",kH(r)),i("Mod-I",kH(r))),(r=e.marks.code)&&i("Mod-`",kH(r)),(r=e.nodes.bullet_list)&&i("Shift-Ctrl-8",nm(r)),(r=e.nodes.ordered_list)&&i("Shift-Ctrl-9",nm(r)),(r=e.nodes.blockquote)&&i("Ctrl->",kj(r)),r=e.nodes.hard_break){let e=r,t=kU(kM,(t,n)=>(n&&n(t.tr.replaceSelectionWith(e.create()).scrollIntoView()),!0));i("Mod-Enter",t),i("Shift-Enter",t),xL&&i("Ctrl-Enter",t)}if(r=e.nodes.list_item){var a,s,o;i("Enter",(a=r,function(e,t){let{$from:n,$to:r,node:i}=e.selection;if(i&&i.isBlock||n.depth<2||!n.sameParent(r))return!1;let s=n.node(-1);if(s.type!=a)return!1;if(0==n.parent.content.size&&n.node(-1).childCount==n.indexAfter(-1)){if(3==n.depth||n.node(-3).type!=a||n.index(-2)!=n.node(-2).childCount-1)return!1;if(t){let r=eg.empty,i=n.index(-1)?1:n.index(-2)?2:3;for(let e=n.depth-i;e>=n.depth-3;e--)r=eg.from(n.node(e).copy(r));let s=n.indexAfter(-1)<n.node(-2).childCount?1:n.indexAfter(-2)<n.node(-3).childCount?2:3;r=r.append(eg.from(a.createAndFill()));let o=n.before(n.depth-(i-1)),l=e.tr.replace(o,n.after(-s),new e_(r,4-i,0)),c=-1;l.doc.nodesBetween(o,l.doc.content.size,(e,t)=>{if(c>-1)return!1;e.isTextblock&&0==e.content.size&&(c=t+1)}),c>-1&&l.setSelection(tY.near(l.doc.resolve(c))),t(l.scrollIntoView())}return!0}let o=r.pos==n.end()?s.contentMatchAt(0).defaultType:null,l=e.tr.delete(n.pos,r.pos),c=o?[null,{type:o}]:void 0;return!!tD(l.doc,n.pos,2,c)&&(t&&t(l.split(n.pos,2,c).scrollIntoView()),!0)})),i("Mod-[",(s=r,function(e,t){let{$from:n,$to:r}=e.selection,i=n.blockRange(r,e=>e.childCount>0&&e.firstChild.type==s);return!!i&&(!t||(n.node(i.depth-1).type==s?function(e,t,n,r){let i=e.tr,a=r.end,s=r.$to.end(r.depth);a<s&&(i.step(new tE(a-1,s,a,s,new e_(eg.from(n.create(null,r.parent.copy())),1,0),1,!0)),r=new eO(i.doc.resolve(r.$from.pos),i.doc.resolve(s),r.depth));let o=tw(r);if(null==o)return!1;i.lift(r,o);let l=i.doc.resolve(i.mapping.map(a,-1)-1);return tM(i.doc,l.pos)&&l.nodeBefore.type==l.nodeAfter.type&&i.join(l.pos),t(i.scrollIntoView()),!0}(e,t,s,i):function(e,t,n){let r=e.tr,i=n.parent;for(let e=n.end,t=n.endIndex-1,a=n.startIndex;t>a;t--)e-=i.child(t).nodeSize,r.delete(e-1,e+1);let a=r.doc.resolve(n.start),s=a.nodeAfter;if(r.mapping.map(n.end)!=n.start+a.nodeAfter.nodeSize)return!1;let o=0==n.startIndex,l=n.endIndex==i.childCount,c=a.node(-1),u=a.index(-1);if(!c.canReplace(u+ +!o,u+1,s.content.append(l?eg.empty:eg.from(i))))return!1;let d=a.pos,h=d+s.nodeSize;return r.step(new tE(d-!!o,h+ +!!l,d+1,h-1,new e_((o?eg.empty:eg.from(i.copy(eg.empty))).append(l?eg.empty:eg.from(i.copy(eg.empty))),+!o,+!l),+!o)),t(r.scrollIntoView()),!0}(e,t,i)))})),i("Mod-]",(o=r,function(e,t){let{$from:n,$to:r}=e.selection,i=n.blockRange(r,e=>e.childCount>0&&e.firstChild.type==o);if(!i)return!1;let a=i.startIndex;if(0==a)return!1;let s=i.parent,l=s.child(a-1);if(l.type!=o)return!1;if(t){let n=l.lastChild&&l.lastChild.type==s.type,r=eg.from(n?o.create():null),a=new e_(eg.from(o.create(null,eg.from(s.type.create(null,r)))),n?3:1,0),c=i.start,u=i.end;t(e.tr.step(new tE(c-(n?3:1),u,c,u,a,1,!0)).scrollIntoView())}return!0}))}if((r=e.nodes.paragraph)&&i("Shift-Ctrl-0",kB(r)),(r=e.nodes.code_block)&&i("Shift-Ctrl-\\",kB(r)),r=e.nodes.heading)for(let e=1;e<=6;e++)i("Shift-Ctrl-"+e,kB(r,{level:e}));if(r=e.nodes.horizontal_rule){let e=r;i("Mod-_",(t,n)=>(n&&n(t.tr.replaceSelectionWith(e.create()).scrollIntoView()),!0))}return n}(e.schema,e.mapKeys)),ka(kZ),function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new nr({view:t=>new k$(t,e)})}(),new nr({props:{decorations:k1,createSelectionBetween:(e,t,n)=>t.pos==n.pos&&kW.valid(n)?new kW(n):null,handleClick:kX,handleKeyDown:kJ,handleDOMEvents:{beforeinput:k0}}})],!1!==e.menuBar&&o.push((n={floating:!1!==e.floatingMenu,content:e.menuContent||function(e){var t,n;let r,i,a={};if((r=e.marks.strong)&&(a.toggleStrong=xR(r,{title:"Toggle strong style",icon:xs.strong})),(r=e.marks.em)&&(a.toggleEm=xR(r,{title:"Toggle emphasis",icon:xs.em})),(r=e.marks.code)&&(a.toggleCode=xR(r,{title:"Toggle code font",icon:xs.code})),(r=e.marks.link)&&(t=r,a.toggleLink=new k6({title:"Add or remove link",icon:xs.link,active:e=>xO(e,t),enable:e=>!e.selection.empty,run(e,n,r){if(xO(e,t))return kH(t)(e,n),!0;xA({title:"Create a link",fields:{href:new xI({label:"Link target",required:!0}),title:new xI({label:"Title"})},callback(e){kH(t,e)(r.state,r.dispatch),r.focus()}})}})),(i=e.nodes.image)&&(n=i,a.insertImage=new k6({title:"Insert image",label:"Image",enable:e=>xD(e,n),run(e,t,r){let{from:i,to:a}=e.selection,s=null;e.selection instanceof t1&&e.selection.node.type==n&&(s=e.selection.node.attrs),xA({title:"Insert image",fields:{src:new xI({label:"Location",required:!0,value:s&&s.src}),title:new xI({label:"Title",value:s&&s.title}),alt:new xI({label:"Description",value:s?s.alt:e.doc.textBetween(i,a," ")})},callback(e){r.dispatch(r.state.tr.replaceSelectionWith(n.createAndFill(e))),r.focus()}})}})),(i=e.nodes.bullet_list)&&(a.wrapBulletList=xP(i,{title:"Wrap in bullet list",icon:xs.bulletList})),(i=e.nodes.ordered_list)&&(a.wrapOrderedList=xP(i,{title:"Wrap in ordered list",icon:xs.orderedList})),(i=e.nodes.blockquote)&&(a.wrapBlockQuote=function(e,t){let n={run:(n,r)=>kj(e,t.attrs)(n,r),select:n=>kj(e,t.attrs)(n)};for(let e in t)n[e]=t[e];return new k6(n)}(i,{title:"Wrap in block quote",icon:xs.blockquote})),(i=e.nodes.paragraph)&&(a.makeParagraph=xh(i,{title:"Change to paragraph",label:"Plain"})),(i=e.nodes.code_block)&&(a.makeCodeBlock=xh(i,{title:"Change to code block",label:"Code"})),i=e.nodes.heading)for(let e=1;e<=10;e++)a["makeHead"+e]=xh(i,{title:"Change to heading "+e,label:"Level "+e,attrs:{level:e}});if(i=e.nodes.horizontal_rule){let e=i;a.insertHorizontalRule=new k6({title:"Insert horizontal rule",label:"Horizontal rule",enable:t=>xD(t,e),run(t,n){n(t.tr.replaceSelectionWith(e.create()))}})}let s=e=>e.filter(e=>e);return a.insertMenu=new xt(s([a.insertImage,a.insertHorizontalRule]),{label:"Insert"}),a.typeMenu=new xt(s([a.makeParagraph,a.makeCodeBlock,a.makeHead1&&new xi(s([a.makeHead1,a.makeHead2,a.makeHead3,a.makeHead4,a.makeHead5,a.makeHead6]),{label:"Heading"})]),{label:"Type..."}),a.inlineMenu=[s([a.toggleStrong,a.toggleEm,a.toggleCode,a.toggleLink])],a.blockMenu=[s([a.wrapBulletList,a.wrapOrderedList,a.wrapBlockQuote,xo,xl,xc])],a.fullMenu=a.inlineMenu.concat([[a.insertMenu,a.typeMenu]],[[xu,xd]],a.blockMenu),a}(e.schema).fullMenu},new nr({view:e=>new xm(e,n)}))),!1!==e.history&&o.push(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new nr({key:kv,state:{init:()=>new kh(ku.empty,ku.empty,null,0,-1),apply:(t,n,r)=>(function(e,t,n,r){let i=n.getMeta(kv),a;if(i)return i.historyState;n.getMeta(kk)&&(e=new kh(e.done,e.undone,null,0,-1));let s=n.getMeta("appendedTransaction");if(0==n.steps.length)return e;if(s&&s.getMeta(kv))if(s.getMeta(kv).redo)return new kh(e.done.addTransform(n,void 0,r,kb(t)),e.undone,kf(n.mapping.maps),e.prevTime,e.prevComposition);else return new kh(e.done,e.undone.addTransform(n,void 0,r,kb(t)),null,e.prevTime,e.prevComposition);if(!1===n.getMeta("addToHistory")||s&&!1===s.getMeta("addToHistory"))if(a=n.getMeta("rebased"))return new kh(e.done.rebased(n,a),e.undone.rebased(n,a),km(e.prevRanges,n.mapping),e.prevTime,e.prevComposition);else return new kh(e.done.addMaps(n.mapping.maps),e.undone.addMaps(n.mapping.maps),km(e.prevRanges,n.mapping),e.prevTime,e.prevComposition);{let i=n.getMeta("composition"),a=0==e.prevTime||!s&&e.prevComposition!=i&&(e.prevTime<(n.time||0)-r.newGroupDelay||!function(e,t){if(!t)return!1;if(!e.docChanged)return!0;let n=!1;return e.mapping.maps[0].forEach((e,r)=>{for(let i=0;i<t.length;i+=2)e<=t[i+1]&&r>=t[i]&&(n=!0)}),n}(n,e.prevRanges)),o=s?km(e.prevRanges,n.mapping):kf(n.mapping.maps);return new kh(e.done.addTransform(n,a?t.selection.getBookmark():void 0,r,kb(t)),ku.empty,o,n.time,null==i?e.prevComposition:i)}})(n,r,t,e)},config:e={depth:e.depth||100,newGroupDelay:e.newGroupDelay||500},props:{handleDOMEvents:{beforeinput(e,t){let n=t.inputType,r="historyUndo"==n?k_:"historyRedo"==n?kE:null;return!!r&&!!e.editable&&(t.preventDefault(),r(e.state,e.dispatch))}}}})}()),o.concat(new nr({props:{attributes:{class:"ProseMirror-example-setup-style"}}}))),xy({rules:[Tl(1),Tl(2),Tl(3),Tl(4),Tl(5),Tl(6)]}),Ti]});s.current=new iG(a.current,{state:u})}return()=>{s.current&&(s.current.destroy(),s.current=null)}},[t]),(0,P.useEffect)(()=>{s.current&&s.current.setProps({dispatchTransaction:e=>{(e=>{let{transaction:t,editorRef:n,onSaveContent:r}=e;if(!n||!n.current)return;let i=n.current.state.apply(t);if(n.current.updateState(i),t.docChanged&&!t.getMeta("no-save")){let e=Ts(i.doc);t.getMeta("no-debounce")?r(e,!1):r(e,!0)}})({transaction:e,editorRef:s,onSaveContent:n})}})},[n]),(0,P.useEffect)(()=>{if(s.current&&t){let e=Ts(s.current.state.doc);if("streaming"===i){let e=Ta(t),n=s.current.state.tr.replaceWith(0,s.current.state.doc.content.size,e.content);n.setMeta("no-save",!0),s.current.dispatch(n);return}if(e!==t){let e=Ta(t),n=s.current.state.tr.replaceWith(0,s.current.state.doc.content.size,e.content);n.setMeta("no-save",!0),s.current.dispatch(n)}}},[t,i]),(0,P.useEffect)(()=>{var e,n;if((null==(e=s.current)?void 0:e.state.doc)&&t){let e=((e,t)=>{let n=[];for(let t of e)n.push(ib.inline(t.selectionStart,t.selectionEnd,{class:"suggestion-highlight"},{suggestionId:t.id,type:"highlight"})),n.push(ib.widget(t.selectionStart,e=>{let{dom:n}=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"text",r=document.createElement("span"),i=(0,Te.createRoot)(r);return r.addEventListener("mousedown",e=>{e.preventDefault(),t.dom.blur()}),i.render((0,ee.jsx)(Tn,{artifactKind:n,onApply:()=>{let{state:n,dispatch:r}=t,i=n.tr,a=Tr.getState(n),s=null==a?void 0:a.decorations;if(s){let t=ix.create(n.doc,s.find().filter(t=>t.spec.suggestionId!==e.id));i.setMeta(Tr,{decorations:t,selected:null}),r(i)}let o=t.state.tr.replaceWith(e.selectionStart,e.selectionEnd,n.schema.text(e.suggestedText));o.setMeta("no-debounce",!0),r(o)},suggestion:e})),{dom:r,destroy:()=>{setTimeout(()=>{i.unmount()},0)}}}(t,e);return n},{suggestionId:t.id,type:"widget"}));return ix.create(t.state.doc,n)})((n=s.current.state.doc,r.map(e=>{var t;let r,i=(t=e.originalText,r=null,n.nodesBetween(0,n.content.size,(e,n)=>{if(e.isText&&e.text){let i=e.text.indexOf(t);if(-1!==i)return r={start:n+i,end:n+i+t.length},!1}return!0}),r);return i?{...e,selectionStart:i.start,selectionEnd:i.end}:{...e,selectionStart:0,selectionEnd:0}})).filter(e=>e.selectionStart&&e.selectionEnd),s.current),t=s.current.state.tr;t.setMeta(Tr,{decorations:e}),s.current.dispatch(t)}},[r,t]),(0,ee.jsx)("div",{className:"prose dark:prose-invert relative",ref:a})},function(e,t){return e.suggestions===t.suggestions&&e.currentVersionIndex===t.currentVersionIndex&&e.isCurrentVersion===t.isCurrentVersion&&("streaming"!==e.status||"streaming"!==t.status)&&e.content===t.content&&e.onSaveContent===t.onSaveContent});var Tu=e.i(95187),Td=(0,Tu.createServerReference)("40a3d36627abd5814739c7249a840c4c1f52a42d51",Tu.callServer,void 0,Tu.findSourceMapURL,"getSuggestions");let Th=new class{constructor(e){(0,H._)(this,"kind",void 0),(0,H._)(this,"description",void 0),(0,H._)(this,"content",void 0),(0,H._)(this,"actions",void 0),(0,H._)(this,"toolbar",void 0),(0,H._)(this,"initialize",void 0),(0,H._)(this,"onStreamPart",void 0),this.kind=e.kind,this.description=e.description,this.content=e.content,this.actions=e.actions||[],this.toolbar=e.toolbar||[],this.initialize=e.initialize||(async()=>({})),this.onStreamPart=e.onStreamPart}}({kind:"text",description:"Useful for text content, like drafting essays and emails.",initialize:async e=>{let{documentId:t,setMetadata:n}=e;n({suggestions:await Td({documentId:t})})},onStreamPart:e=>{let{streamPart:t,setMetadata:n,setArtifact:r}=e;"data-suggestion"===t.type&&n(e=>({suggestions:[...e.suggestions,t.data]})),"data-textDelta"===t.type&&r(e=>({...e,content:e.content+t.data,isVisible:"streaming"===e.status&&e.content.length>400&&e.content.length<450||e.isVisible,status:"streaming"}))},content:e=>{let{mode:t,status:n,content:r,isCurrentVersion:i,currentVersionIndex:a,onSaveContent:s,getDocumentContentById:o,isLoading:l,metadata:c}=e;if(l)return(0,ee.jsx)(v5,{artifactKind:"text"});if("diff"===t){let e=o(a-1),t=o(a);return(0,ee.jsx)(v2,{newContent:t,oldContent:e})}return(0,ee.jsxs)("div",{className:"flex flex-row px-4 py-8 md:p-20",children:[(0,ee.jsx)(Tc,{content:r,currentVersionIndex:a,isCurrentVersion:i,onSaveContent:s,status:n,suggestions:c?c.suggestions:[]}),(null==c?void 0:c.suggestions)&&c.suggestions.length>0?(0,ee.jsx)("div",{className:"h-dvh w-12 shrink-0 md:hidden"}):null]})},actions:[{icon:(0,ee.jsx)(v4.ClockRewind,{size:18}),description:"View changes",onClick:e=>{let{handleVersionChange:t}=e;t("toggle")},isDisabled:e=>{let{currentVersionIndex:t}=e;return 0===t}},{icon:(0,ee.jsx)(v4.UndoIcon,{size:18}),description:"View Previous version",onClick:e=>{let{handleVersionChange:t}=e;t("prev")},isDisabled:e=>{let{currentVersionIndex:t}=e;return 0===t}},{icon:(0,ee.jsx)(v4.RedoIcon,{size:18}),description:"View Next version",onClick:e=>{let{handleVersionChange:t}=e;t("next")},isDisabled:e=>{let{isCurrentVersion:t}=e;return!!t}},{icon:(0,ee.jsx)(v4.CopyIcon,{size:18}),description:"Copy to clipboard",onClick:e=>{let{content:t}=e;navigator.clipboard.writeText(t),ef.toast.success("Copied to clipboard!")}}],toolbar:[{icon:(0,ee.jsx)(v4.PenIcon,{}),description:"Add final polish",onClick:e=>{let{sendMessage:t}=e;t({role:"user",parts:[{type:"text",text:"Please add final polish and check for grammar, add section titles for better structure, and ensure everything reads smoothly."}]})}},{icon:(0,ee.jsx)(v4.MessageIcon,{}),description:"Request suggestions",onClick:e=>{let{sendMessage:t}=e;t({role:"user",parts:[{type:"text",text:"Please add suggestions you have that could improve the writing."}]})}}]});var Tp=e.i(589121);let Tf=(0,P.memo)(function(e){let{artifact:t,handleVersionChange:n,currentVersionIndex:r,isCurrentVersion:i,mode:a,metadata:s,setMetadata:o}=e,[l,c]=(0,P.useState)(!1),u=wZ.find(e=>e.kind===t.kind);if(!u)throw Error("Artifact definition not found!");let d={content:t.content,handleVersionChange:n,currentVersionIndex:r,isCurrentVersion:i,mode:a,metadata:s,setMetadata:o};return(0,ee.jsx)("div",{className:"flex flex-row gap-1",children:u.actions.map(e=>(0,ee.jsxs)(Tp.Tooltip,{children:[(0,ee.jsx)(Tp.TooltipTrigger,{asChild:!0,children:(0,ee.jsxs)(Tt.Button,{className:(0,E8.cn)("h-fit dark:hover:bg-zinc-700",{"p-2":!e.label,"px-2 py-1.5":e.label}),disabled:!!l||"streaming"===t.status||!!e.isDisabled&&e.isDisabled(d),onClick:async()=>{c(!0);try{await Promise.resolve(e.onClick(d))}catch(e){ef.toast.error("Failed to execute action")}finally{c(!1)}},variant:"outline",children:[e.icon,e.label]})}),(0,ee.jsx)(Tp.TooltipContent,{children:e.description})]},e.description))})},(e,t)=>e.artifact.status===t.artifact.status&&e.currentVersionIndex===t.currentVersionIndex&&e.isCurrentVersion===t.isCurrentVersion&&e.artifact.content===t.artifact.content),Tm=(0,P.memo)(function(){let{setArtifact:e}=B();return(0,ee.jsx)(Tt.Button,{className:"h-fit p-2 dark:hover:bg-zinc-700","data-testid":"artifact-close-button",onClick:()=>{e(e=>"streaming"===e.status?{...e,isVisible:!1}:{...F,status:"idle"})},variant:"outline",children:(0,ee.jsx)(v4.CrossIcon,{size:18})})},()=>!0);function Tg(e){let{status:t}=e,{containerRef:n,endRef:r,isAtBottom:i,scrollToBottom:a,onViewportEnter:s,onViewportLeave:o}=function(){let e=(0,P.useRef)(null),t=(0,P.useRef)(null),[n,r]=(0,P.useState)(!1),{data:i=!1,mutate:a}=(0,L.default)("messages:should-scroll",null,{fallbackData:!1}),s=(0,P.useCallback)(()=>{if(!e.current)return;let{scrollTop:t,scrollHeight:n,clientHeight:i}=e.current;r(t+i>=n-50)},[]);return(0,P.useEffect)(()=>{if(!e.current)return;let t=e.current,n=new ResizeObserver(()=>{requestAnimationFrame(()=>{s()})}),r=new MutationObserver(()=>{requestAnimationFrame(()=>{requestAnimationFrame(()=>{s()})})});return n.observe(t),r.observe(t,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["style","class","data-state"]}),s(),()=>{n.disconnect(),r.disconnect()}},[s]),(0,P.useEffect)(()=>{let t=e.current;if(t)return t.addEventListener("scroll",s),s(),()=>{t.removeEventListener("scroll",s)}},[s]),(0,P.useEffect)(()=>{if(i&&e.current){let t=e.current,n={top:t.scrollHeight,behavior:i};t.scrollTo(n),a(!1)}},[i,a]),{containerRef:e,endRef:t,isAtBottom:n,scrollToBottom:(0,P.useCallback)(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"smooth";a(e)},[a]),onViewportEnter:function(){r(!0)},onViewportLeave:function(){r(!1)}}}(),[l,c]=(0,P.useState)(!1);return(0,P.useEffect)(()=>{"submitted"===t&&c(!0)},[t]),{containerRef:n,endRef:r,isAtBottom:i,scrollToBottom:a,onViewportEnter:s,onViewportLeave:o,hasSentMessage:l}}e.s(["useMessages",()=>Tg],146924),e.s(["PreviewMessage",()=>S7,"ThinkingMessage",()=>we],57989);var Ty=e.i(842453);let Tb=(e,t)=>{switch(e){case"create":return"present"===t?"Creating":"Created";case"update":return"present"===t?"Updating":"Updated";case"request-suggestions":return"present"===t?"Adding suggestions":"Added suggestions to";default:return null}},Tv=(0,P.memo)(function(e){let{type:t,result:n,isReadonly:r}=e,{setArtifact:i}=B();return(0,ee.jsxs)("button",{className:"flex w-fit cursor-pointer flex-row items-start gap-3 rounded-xl border bg-background px-3 py-2",onClick:e=>{if(r)return void ef.toast.error("Viewing files in shared chats is currently not supported.");let t=e.currentTarget.getBoundingClientRect(),a={top:t.top,left:t.left,width:t.width,height:t.height};i({documentId:n.id,kind:n.kind,content:"",title:n.title,isVisible:!0,status:"idle",boundingBox:a})},type:"button",children:[(0,ee.jsx)("div",{className:"mt-1 text-muted-foreground",children:"create"===t?(0,ee.jsx)(v4.FileIcon,{}):"update"===t?(0,ee.jsx)(v4.PencilEditIcon,{}):"request-suggestions"===t?(0,ee.jsx)(v4.MessageIcon,{}):null}),(0,ee.jsx)("div",{className:"text-left",children:"".concat(Tb(t,"past"),' "').concat(n.title,'"')})]})},()=>!0),Tk=(0,P.memo)(function(e){let{type:t,args:n,isReadonly:r}=e,{setArtifact:i}=B();return(0,ee.jsxs)("button",{className:"cursor pointer flex w-fit flex-row items-start justify-between gap-3 rounded-xl border px-3 py-2",onClick:e=>{if(r)return void ef.toast.error("Viewing files in shared chats is currently not supported.");let t=e.currentTarget.getBoundingClientRect(),n={top:t.top,left:t.left,width:t.width,height:t.height};i(e=>({...e,isVisible:!0,boundingBox:n}))},type:"button",children:[(0,ee.jsxs)("div",{className:"flex flex-row items-start gap-3",children:[(0,ee.jsx)("div",{className:"mt-1 text-zinc-500",children:"create"===t?(0,ee.jsx)(v4.FileIcon,{}):"update"===t?(0,ee.jsx)(v4.PencilEditIcon,{}):"request-suggestions"===t?(0,ee.jsx)(v4.MessageIcon,{}):null}),(0,ee.jsx)("div",{className:"text-left",children:"".concat(Tb(t,"present")," ").concat("create"===t&&"title"in n&&n.title?'"'.concat(n.title,'"'):"update"===t&&"description"in n?'"'.concat(n.description,'"'):"request-suggestions"===t?"for document":"")})]}),(0,ee.jsx)("div",{className:"mt-1 animate-spin",children:(0,ee.jsx)(v4.LoaderIcon,{})})]})},()=>!0);function Tx(e){let{isReadonly:t,result:n,args:r}=e,{artifact:i,setArtifact:a}=B(),{data:s,isLoading:o}=(0,L.default)(n?"/api/document?id=".concat(n.id):null,W),l=(0,P.useMemo)(()=>null==s?void 0:s[0],[s]),c=(0,P.useRef)(null);if((0,P.useEffect)(()=>{var e;let t=null==(e=c.current)?void 0:e.getBoundingClientRect();i.documentId&&t&&a(e=>({...e,boundingBox:{left:t.x,top:t.y,width:t.width,height:t.height}}))},[i.documentId,a]),i.isVisible){if(n)return(0,ee.jsx)(Tv,{isReadonly:t,result:{id:n.id,title:n.title,kind:n.kind},type:"create"});if(r)return(0,ee.jsx)(Tk,{args:{title:r.title,kind:r.kind},isReadonly:t,type:"create"})}if(o){var u;return(0,ee.jsx)(T_,{artifactKind:null!=(u=n.kind)?u:r.kind})}let d=l||("streaming"===i.status?{title:i.title,kind:i.kind,content:i.content,id:i.documentId,createdAt:new Date,userId:"noop"}:null);return d?(0,ee.jsxs)("div",{className:"relative w-full cursor-pointer",children:[(0,ee.jsx)(TE,{hitboxRef:c,result:n,setArtifact:a}),(0,ee.jsx)(TT,{isStreaming:"streaming"===i.status,kind:d.kind,title:d.title}),(0,ee.jsx)(TS,{document:d})]}):(0,ee.jsx)(T_,{artifactKind:i.kind})}let T_=e=>{let{artifactKind:t}=e;return(0,ee.jsxs)("div",{className:"w-full",children:[(0,ee.jsxs)("div",{className:"flex h-[57px] flex-row items-center justify-between gap-2 rounded-t-2xl border border-b-0 p-4 dark:border-zinc-700 dark:bg-muted",children:[(0,ee.jsxs)("div",{className:"flex flex-row items-center gap-3",children:[(0,ee.jsx)("div",{className:"text-muted-foreground",children:(0,ee.jsx)("div",{className:"size-4 animate-pulse rounded-md bg-muted-foreground/20"})}),(0,ee.jsx)("div",{className:"h-4 w-24 animate-pulse rounded-lg bg-muted-foreground/20"})]}),(0,ee.jsx)("div",{children:(0,ee.jsx)(v4.FullscreenIcon,{})})]}),"image"===t?(0,ee.jsx)("div",{className:"overflow-y-scroll rounded-b-2xl border border-t-0 bg-muted dark:border-zinc-700",children:(0,ee.jsx)("div",{className:"h-[257px] w-full animate-pulse bg-muted-foreground/20"})}):(0,ee.jsx)("div",{className:"overflow-y-scroll rounded-b-2xl border border-t-0 bg-muted p-8 pt-4 dark:border-zinc-700",children:(0,ee.jsx)(v3,{})})]})},TE=(0,P.memo)(e=>{let{hitboxRef:t,result:n,setArtifact:r}=e,i=(0,P.useCallback)(e=>{let t=e.currentTarget.getBoundingClientRect();r(e=>"streaming"===e.status?{...e,isVisible:!0}:{...e,title:n.title,documentId:n.id,kind:n.kind,isVisible:!0,boundingBox:{left:t.x,top:t.y,width:t.width,height:t.height}})},[r,n]);return(0,ee.jsx)("div",{"aria-hidden":"true",className:"absolute top-0 left-0 z-10 size-full rounded-xl",onClick:i,ref:t,role:"presentation",children:(0,ee.jsx)("div",{className:"flex w-full items-center justify-end p-4",children:(0,ee.jsx)("div",{className:"absolute top-[13px] right-[9px] rounded-md p-2 hover:bg-zinc-100 dark:hover:bg-zinc-700",children:(0,ee.jsx)(v4.FullscreenIcon,{})})})})},(e,t)=>!!(0,en.default)(e.result,t.result)),TT=(0,P.memo)(e=>{let{title:t,kind:n,isStreaming:r}=e;return(0,ee.jsxs)("div",{className:"flex flex-row items-start justify-between gap-2 rounded-t-2xl border border-b-0 p-4 sm:items-center dark:border-zinc-700 dark:bg-muted",children:[(0,ee.jsxs)("div",{className:"flex flex-row items-start gap-3 sm:items-center",children:[(0,ee.jsx)("div",{className:"text-muted-foreground",children:r?(0,ee.jsx)("div",{className:"animate-spin",children:(0,ee.jsx)(v4.LoaderIcon,{})}):"image"===n?(0,ee.jsx)(v4.ImageIcon,{}):(0,ee.jsx)(v4.FileIcon,{})}),(0,ee.jsx)("div",{className:"-translate-y-1 font-medium sm:translate-y-0",children:t})]}),(0,ee.jsx)("div",{className:"w-8"})]})},(e,t)=>e.title===t.title&&e.isStreaming===t.isStreaming),TS=e=>{var t;let{document:n}=e,{artifact:r}=B(),i=$("h-[257px] overflow-y-scroll rounded-b-2xl border border-t-0 dark:border-zinc-700 dark:bg-muted",{"p-4 sm:px-14 sm:py-16":"text"===n.kind}),a={content:null!=(t=n.content)?t:"",isCurrentVersion:!0,currentVersionIndex:0,status:r.status,saveContent:()=>null,suggestions:[]};return(0,ee.jsx)("div",{className:i,children:"text"===n.kind?(0,ee.jsx)(Tc,{...a,onSaveContent:()=>null}):null})};e.i(953247);let Tw=e=>{let{children:t,className:n,...r}=e;return(0,ee.jsx)("div",{className:(0,E8.cn)("flex flex-col gap-2 overflow-hidden rounded-lg px-4 py-3 text-foreground text-sm","group-[.is-user]:bg-primary group-[.is-user]:text-primary-foreground","group-[.is-assistant]:bg-secondary group-[.is-assistant]:text-foreground","is-user:dark",n),...r,children:t})};var TC=e.i(406321),TC=TC,TA=e.i(409797),TN=e.i(733498),TI=e.i(949411),TI=TI,TD=e.i(475254);let TM=(0,TD.default)("wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.106-3.105c.32-.322.863-.22.983.218a6 6 0 0 1-8.259 7.057l-7.91 7.91a1 1 0 0 1-2.999-3l7.91-7.91a6 6 0 0 1 7.057-8.259c.438.12.54.662.219.984z",key:"1ngwbx"}]]);var TO=e.i(798031),TO=TO,TR=e.i(166778),TP=e.i(686711);let TL=e=>{let{className:t,...n}=e;return(0,ee.jsx)(TP.Collapsible,{className:(0,E8.cn)("not-prose mb-4 w-full rounded-md border",t),...n})},TF=e=>{let{className:t,type:n,state:r,...i}=e;return(0,ee.jsxs)(TP.CollapsibleTrigger,{className:(0,E8.cn)("flex w-full min-w-0 items-center justify-between gap-2 p-3",t),...i,children:[(0,ee.jsxs)("div",{className:"flex min-w-0 flex-1 items-center gap-2",children:[(0,ee.jsx)(TM,{className:"size-4 shrink-0 text-muted-foreground"}),(0,ee.jsx)("span",{className:"truncate font-medium text-sm",children:n})]}),(0,ee.jsxs)("div",{className:"flex shrink-0 items-center gap-2",children:[(e=>{let t={"input-streaming":(0,ee.jsx)(TN.CircleIcon,{className:"size-4"}),"input-available":(0,ee.jsx)(TI.default,{className:"size-4 animate-pulse"}),"output-available":(0,ee.jsx)(TC.default,{className:"size-4 text-green-600"}),"output-error":(0,ee.jsx)(TO.default,{className:"size-4 text-red-600"})};return(0,ee.jsxs)(TR.Badge,{className:"flex items-center gap-1 rounded-full text-xs",variant:"secondary",children:[t[e],(0,ee.jsx)("span",{children:{"input-streaming":"Pending","input-available":"Running","output-available":"Completed","output-error":"Error"}[e]})]})})(r),(0,ee.jsx)(TA.ChevronDownIcon,{className:"size-4 text-muted-foreground transition-transform group-data-[state=open]:rotate-180"})]})]})},Tj=e=>{let{className:t,...n}=e;return(0,ee.jsx)(TP.CollapsibleContent,{className:(0,E8.cn)("data-[state=closed]:fade-out-0 data-[state=closed]:slide-out-to-top-2 data-[state=open]:slide-in-from-top-2 text-popover-foreground outline-hidden data-[state=closed]:animate-out data-[state=open]:animate-in",t),...n})},TB=e=>{let{className:t,input:n,...r}=e;return(0,ee.jsx)("div",{className:(0,E8.cn)("space-y-2 overflow-hidden p-4",t),...r,children:(0,ee.jsx)("h4",{className:"font-medium text-muted-foreground text-xs uppercase tracking-wide",children:"Parameters"})})},TH=e=>{let{className:t,output:n,errorText:r,...i}=e;return n||r?(0,ee.jsxs)("div",{className:(0,E8.cn)("space-y-2 p-4",t),...i,children:[(0,ee.jsx)("h4",{className:"font-medium text-muted-foreground text-xs uppercase tracking-wide",children:r?"Error":"Result"}),(0,ee.jsxs)("div",{className:(0,E8.cn)("overflow-x-auto rounded-md text-xs [&_table]:w-full",r?"bg-destructive/10 text-destructive":"bg-muted/50 text-foreground"),children:[r&&(0,ee.jsx)("div",{children:r}),n&&(0,ee.jsx)("div",{children:n})]})]}):null},TU=e=>{let{className:t,children:n,...r}=e;return(0,ee.jsx)("div",{className:(0,E8.cn)("flex items-center gap-1",t),...r,children:n})},Tz=e=>{let{tooltip:t,children:n,label:r,className:i,variant:a="ghost",size:s="sm",...o}=e,l=(0,ee.jsxs)(Tt.Button,{className:(0,E8.cn)("relative size-9 p-1.5 text-muted-foreground hover:text-foreground",i),size:s,type:"button",variant:a,...o,children:[n,(0,ee.jsx)("span",{className:"sr-only",children:r||t})]});return t?(0,ee.jsx)(Tp.TooltipProvider,{children:(0,ee.jsxs)(Tp.Tooltip,{children:[(0,ee.jsx)(Tp.TooltipTrigger,{asChild:!0,children:l}),(0,ee.jsx)(Tp.TooltipContent,{children:(0,ee.jsx)("p",{children:t})})]})}):l},TV=(0,P.memo)(function(e){var t;let{chatId:n,message:r,vote:i,isLoading:a}=e,{mutate:s}=(0,ea.useSWRConfig)(),[o,l]=function(){let[e,t]=(0,P.useState)(null);return[e,(0,P.useCallback)(async e=>{if(!(null==navigator?void 0:navigator.clipboard))return console.warn("Clipboard not supported"),!1;try{return await navigator.clipboard.writeText(e),t(e),!0}catch(e){return console.warn("Copy failed",e),t(null),!1}},[])]}();if(a)return null;let c=null==(t=r.parts)?void 0:t.filter(e=>"text"===e.type).map(e=>e.text).join("\n").trim(),u=async()=>{if(!c)return void ef.toast.error("There's no text to copy!");await l(c),ef.toast.success("Copied to clipboard!")};return"user"===r.role?(0,ee.jsx)(TU,{className:"-mr-0.5 justify-end",children:(0,ee.jsx)(Tz,{onClick:u,tooltip:"Copy",children:(0,ee.jsx)(v4.CopyIcon,{})})}):(0,ee.jsxs)(TU,{className:"-ml-0.5",children:[(0,ee.jsx)(Tz,{onClick:u,tooltip:"Copy",children:(0,ee.jsx)(v4.CopyIcon,{})}),(0,ee.jsx)(Tz,{"data-testid":"message-upvote",disabled:(null==i?void 0:i.is_upvoted)===!0,className:(null==i?void 0:i.is_upvoted)===!0?"bg-green-500/20 text-green-600 hover:bg-green-500/30 hover:text-green-700 dark:text-green-400 dark:hover:text-green-300":"",onClick:()=>{let e=fetch("/api/vote",{method:"PATCH",body:JSON.stringify({chatId:n,messageId:r.id,type:"up"})});ef.toast.promise(e,{loading:"Upvoting Response...",success:()=>(s("/api/vote?chatId=".concat(n),e=>e?[...e.filter(e=>e.message_id!==r.id),{chat_id:n,message_id:r.id,is_upvoted:!0,created_at:new Date().toISOString()}]:[],{revalidate:!1}),"Upvoted Response!"),error:"Failed to upvote response."})},tooltip:"Upvote Response",children:(0,ee.jsx)(v4.ThumbUpIcon,{})}),(0,ee.jsx)(Tz,{"data-testid":"message-downvote",disabled:(null==i?void 0:i.is_upvoted)===!1,className:(null==i?void 0:i.is_upvoted)===!1?"bg-red-500/20 text-red-600 hover:bg-red-500/30 hover:text-red-700 dark:text-red-400 dark:hover:text-red-300":"",onClick:()=>{let e=fetch("/api/vote",{method:"PATCH",body:JSON.stringify({chatId:n,messageId:r.id,type:"down"})});ef.toast.promise(e,{loading:"Downvoting Response...",success:()=>(s("/api/vote?chatId=".concat(n),e=>e?[...e.filter(e=>e.message_id!==r.id),{chat_id:n,message_id:r.id,is_upvoted:!1,created_at:new Date().toISOString()}]:[],{revalidate:!1}),"Downvoted Response!"),error:"Failed to downvote response."})},tooltip:"Downvote Response",children:(0,ee.jsx)(v4.ThumbDownIcon,{})})]})},(e,t)=>!!(0,en.default)(e.vote,t.vote)&&e.isLoading===t.isLoading);var TG=(0,Tu.createServerReference)("404661e4153bb69d6d88099efdcda982f44bf464b3",Tu.callServer,void 0,Tu.findSourceMapURL,"deleteTrailingMessages"),Tq=e.i(812885);function TZ(e){let{message:t,setMode:n,setMessages:r,regenerate:i}=e,[a,s]=(0,P.useState)(!1),[o,l]=(0,P.useState)(X(t)),c=(0,P.useRef)(null),u=(0,P.useCallback)(()=>{c.current&&(c.current.style.height="auto",c.current.style.height="".concat(c.current.scrollHeight+2,"px"))},[]);return(0,P.useEffect)(()=>{c.current&&u()},[u]),(0,ee.jsxs)("div",{className:"flex w-full flex-col gap-2",children:[(0,ee.jsx)(Tq.Textarea,{className:"w-full resize-none overflow-hidden rounded-xl bg-transparent text-base! outline-hidden","data-testid":"message-editor",onChange:e=>{l(e.target.value),u()},ref:c,value:o}),(0,ee.jsxs)("div",{className:"flex flex-row justify-end gap-2",children:[(0,ee.jsx)(Tt.Button,{className:"h-fit px-3 py-2",onClick:()=>{n("view")},variant:"outline",children:"Cancel"}),(0,ee.jsx)(Tt.Button,{className:"h-fit px-3 py-2","data-testid":"message-editor-send-button",disabled:a,onClick:async()=>{s(!0),await TG({id:t.id}),r(e=>{let n=e.findIndex(e=>e.id===t.id);if(-1!==n){let r={...t,parts:[{type:"text",text:o}]};return[...e.slice(0,n),r]}return e}),n("view"),i()},variant:"default",children:a?"Sending...":"Send"})]})]})}var T$=e.i(369340);let TW=(0,TD.default)("brain",[["path",{d:"M12 18V5",key:"adv99a"}],["path",{d:"M15 13a4.17 4.17 0 0 1-3-4 4.17 4.17 0 0 1-3 4",key:"1e3is1"}],["path",{d:"M17.598 6.5A3 3 0 1 0 12 5a3 3 0 1 0-5.598 1.5",key:"1gqd8o"}],["path",{d:"M17.997 5.125a4 4 0 0 1 2.526 5.77",key:"iwvgf7"}],["path",{d:"M18 18a4 4 0 0 0 2-7.464",key:"efp6ie"}],["path",{d:"M19.967 17.483A4 4 0 1 1 12 18a4 4 0 1 1-7.967-.517",key:"1gq6am"}],["path",{d:"M6 18a4 4 0 0 1-2-7.464",key:"k1g0md"}],["path",{d:"M6.003 5.125a4 4 0 0 0-2.526 5.77",key:"q97ue3"}]]),TY=(0,P.createContext)(null),TK=(0,P.memo)(e=>{let{className:t,isStreaming:n=!1,open:r,defaultOpen:i=!0,onOpenChange:a,duration:s,children:o,...l}=e,[c,u]=(0,T$.useControllableState)({prop:r,defaultProp:i,onChange:a}),[d,h]=(0,T$.useControllableState)({prop:s,defaultProp:0}),[p,f]=(0,P.useState)(!1),[m,g]=(0,P.useState)(null);return(0,P.useEffect)(()=>{n?null===m&&g(Date.now()):null!==m&&(h(Math.round((Date.now()-m)/1e3)),g(null))},[n,m,h]),(0,P.useEffect)(()=>{if(i&&!n&&c&&!p){let e=setTimeout(()=>{u(!1),f(!0)},500);return()=>clearTimeout(e)}},[n,c,i,u,p]),(0,ee.jsx)(TY.Provider,{value:{isStreaming:n,isOpen:c,setIsOpen:u,duration:d},children:(0,ee.jsx)(TP.Collapsible,{className:(0,E8.cn)("not-prose",t),onOpenChange:e=>{u(e)},open:c,...l,children:o})})}),TJ=(0,P.memo)(e=>{let{className:t,children:n,...r}=e,{isStreaming:i,isOpen:a,duration:s}=(()=>{let e=(0,P.useContext)(TY);if(!e)throw Error("Reasoning components must be used within Reasoning");return e})();return(0,ee.jsx)(TP.CollapsibleTrigger,{className:(0,E8.cn)("flex items-center gap-1.5 text-muted-foreground text-xs transition-colors hover:text-foreground",t),...r,children:null!=n?n:(0,ee.jsxs)(ee.Fragment,{children:[(0,ee.jsx)(TW,{className:"size-4"}),i||0===s?(0,ee.jsx)("p",{children:"Thinking..."}):(0,ee.jsxs)("p",{children:["Thought for ",s,"s"]}),(0,ee.jsx)(TA.ChevronDownIcon,{className:(0,E8.cn)("size-3 text-muted-foreground transition-transform",a?"rotate-180":"rotate-0")})]})})}),TQ=(0,P.memo)(e=>{let{className:t,children:n,...r}=e;return(0,ee.jsx)(TP.CollapsibleContent,{className:(0,E8.cn)("mt-2 text-muted-foreground text-xs","data-[state=closed]:fade-out-0 data-[state=closed]:slide-out-to-top-2 data-[state=open]:slide-in-from-top-2 outline-hidden data-[state=closed]:animate-out data-[state=open]:animate-in",t),...r,children:(0,ee.jsx)(E7,{className:"grid gap-2",children:n})})});function TX(e){let{isLoading:t,reasoning:n}=e,[r,i]=(0,P.useState)(t);return(0,P.useEffect)(()=>{t&&i(!0)},[t]),(0,ee.jsxs)(TK,{"data-testid":"message-reasoning",defaultOpen:r,isStreaming:t,children:[(0,ee.jsx)(TJ,{}),(0,ee.jsx)(TQ,{children:n})]})}TK.displayName="Reasoning",TJ.displayName="ReasoningTrigger",TQ.displayName="ReasoningContent";var T0=e.i(657688);let T1=e=>{let{size:t=16}=e;return(0,ee.jsxs)("svg",{height:t,strokeLinejoin:"round",style:{color:"currentcolor"},viewBox:"0 0 16 16",width:t,children:[(0,ee.jsx)("title",{children:"Loader"}),(0,ee.jsxs)("g",{clipPath:"url(#clip0_2393_1490)",children:[(0,ee.jsx)("path",{d:"M8 0V4",stroke:"currentColor",strokeWidth:"1.5"}),(0,ee.jsx)("path",{d:"M8 16V12",opacity:"0.5",stroke:"currentColor",strokeWidth:"1.5"}),(0,ee.jsx)("path",{d:"M3.29773 1.52783L5.64887 4.7639",opacity:"0.9",stroke:"currentColor",strokeWidth:"1.5"}),(0,ee.jsx)("path",{d:"M12.7023 1.52783L10.3511 4.7639",opacity:"0.1",stroke:"currentColor",strokeWidth:"1.5"}),(0,ee.jsx)("path",{d:"M12.7023 14.472L10.3511 11.236",opacity:"0.4",stroke:"currentColor",strokeWidth:"1.5"}),(0,ee.jsx)("path",{d:"M3.29773 14.472L5.64887 11.236",opacity:"0.6",stroke:"currentColor",strokeWidth:"1.5"}),(0,ee.jsx)("path",{d:"M15.6085 5.52783L11.8043 6.7639",opacity:"0.2",stroke:"currentColor",strokeWidth:"1.5"}),(0,ee.jsx)("path",{d:"M0.391602 10.472L4.19583 9.23598",opacity:"0.7",stroke:"currentColor",strokeWidth:"1.5"}),(0,ee.jsx)("path",{d:"M15.6085 10.4722L11.8043 9.2361",opacity:"0.3",stroke:"currentColor",strokeWidth:"1.5"}),(0,ee.jsx)("path",{d:"M0.391602 5.52783L4.19583 6.7639",opacity:"0.8",stroke:"currentColor",strokeWidth:"1.5"})]}),(0,ee.jsx)("defs",{children:(0,ee.jsx)("clipPath",{id:"clip0_2393_1490",children:(0,ee.jsx)("rect",{fill:"white",height:"16",width:"16"})})})]})},T2=e=>{let{className:t,size:n=16,...r}=e;return(0,ee.jsx)("div",{className:(0,E8.cn)("inline-flex animate-spin items-center justify-center",t),...r,children:(0,ee.jsx)(T1,{size:n})})},T5=e=>{let{attachment:t,isUploading:n=!1,onRemove:r}=e,{name:i,url:a,contentType:s}=t;return(0,ee.jsxs)("div",{className:"group relative size-16 overflow-hidden rounded-lg border bg-muted","data-testid":"input-attachment-preview",children:[(null==s?void 0:s.startsWith("image"))?(0,ee.jsx)(T0.default,{alt:null!=i?i:"An image attachment",className:"size-full object-cover",height:64,src:a,width:64}):(0,ee.jsx)("div",{className:"flex size-full items-center justify-center text-muted-foreground text-xs",children:"File"}),n&&(0,ee.jsx)("div",{className:"absolute inset-0 flex items-center justify-center bg-black/50",children:(0,ee.jsx)(T2,{size:16})}),r&&!n&&(0,ee.jsx)(Tt.Button,{className:"absolute top-0.5 right-0.5 size-4 rounded-full p-0 opacity-0 transition-opacity group-hover:opacity-100",onClick:r,size:"sm",variant:"destructive",children:(0,ee.jsx)(v4.CrossSmallIcon,{size:8})}),(0,ee.jsx)("div",{className:"absolute inset-x-0 bottom-0 truncate bg-linear-to-t from-black/80 to-transparent px-1 py-0.5 text-[10px] text-white",children:i})]})};var T3=e.i(810980);let T4=(0,TD.default)("tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]),T6=(0,TD.default)("lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);var T9=e.i(555436);let T8=(0,TD.default)("file-text",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]),T7=(0,TD.default)("key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);var Se=e.i(39312),St=e.i(365559);function Sn(e){let{result:t}=e;return(0,ee.jsxs)(ei.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"w-full max-w-4xl rounded-lg border border-purple-200 bg-gradient-to-br from-purple-50 to-pink-50 p-6 shadow-sm",children:[(0,ee.jsxs)("div",{className:"mb-4 flex items-start justify-between",children:[(0,ee.jsxs)("div",{className:"flex items-center gap-3",children:[(0,ee.jsx)("div",{className:"rounded-full bg-purple-500 p-2",children:(0,ee.jsx)(T3.BookOpen,{className:"h-5 w-5 text-white"})}),(0,ee.jsxs)("div",{children:[(0,ee.jsx)("h3",{className:"font-semibold text-purple-900",children:"Grammar Explanation"}),(0,ee.jsx)("p",{className:"text-sm text-purple-600",children:t.query})]})]}),(0,ee.jsxs)(TR.Badge,{variant:"outline",className:"border-purple-300 text-purple-700",children:[t.responseTime,"ms"]})]}),(0,ee.jsxs)("div",{className:"mb-4",children:[(0,ee.jsxs)("h4",{className:"mb-2 text-sm font-medium text-purple-800",children:["Sources (",t.sources.length,")"]}),(0,ee.jsx)(St.Accordion,{type:"multiple",className:"space-y-2",children:t.sources.map((e,t)=>(0,ee.jsxs)(St.AccordionItem,{value:"source-".concat(t),className:"rounded-md border border-purple-200 bg-white",children:[(0,ee.jsx)(St.AccordionTrigger,{className:"px-4 hover:bg-purple-50",children:(0,ee.jsxs)("div",{className:"flex items-center gap-3",children:[(0,ee.jsx)(TR.Badge,{className:"bg-purple-500",children:t+1}),(0,ee.jsx)("span",{className:"text-sm font-medium",children:e.grammarPoint}),(0,ee.jsxs)(TR.Badge,{variant:"outline",className:"ml-auto mr-2",children:[Math.round(100*e.relevanceScore),"%"]})]})}),(0,ee.jsxs)(St.AccordionContent,{className:"px-4 pb-4",children:[(0,ee.jsxs)("div",{className:"mb-2 flex items-center gap-2",children:[(0,ee.jsx)(T4,{className:"h-4 w-4 text-purple-500"}),(0,ee.jsxs)("span",{className:"text-sm text-gray-600",children:[e.category.en," (",e.category.vi,")"]})]}),(0,ee.jsx)("div",{className:"mb-3 rounded bg-purple-50 p-3",children:(0,ee.jsx)("p",{className:"text-sm text-gray-700",children:e.contextualizedChunk})}),e.examples.length>0&&(0,ee.jsxs)("div",{className:"mb-3",children:[(0,ee.jsx)("p",{className:"mb-1 text-xs font-medium text-purple-700",children:"Examples:"}),(0,ee.jsx)("ul",{className:"list-inside list-disc space-y-1",children:e.examples.map((e,t)=>(0,ee.jsx)("li",{className:"text-sm text-gray-600",children:e},t))})]}),(0,ee.jsx)("div",{className:"mb-2 flex flex-wrap gap-1",children:e.keywords.en.slice(0,5).map((e,t)=>(0,ee.jsx)(TR.Badge,{variant:"secondary",className:"text-xs",children:e},t))}),(0,ee.jsx)("div",{className:"mt-2 flex items-center gap-2",children:(()=>{var t;let n=(t=e.searchMethod).includes("semantic")?{icon:T9.Search,color:"text-blue-500",label:"Semantic"}:t.includes("fulltext")?{icon:T8,color:"text-green-500",label:"Full-text"}:t.includes("keyword")?{icon:T7,color:"text-orange-500",label:"Keyword"}:{icon:Se.Zap,color:"text-purple-500",label:"Hybrid"},r=n.icon;return(0,ee.jsxs)(ee.Fragment,{children:[(0,ee.jsx)(r,{className:"h-3 w-3 ".concat(n.color)}),(0,ee.jsxs)("p",{className:"text-xs text-gray-500",children:["Retrieved via: ",(0,ee.jsx)("span",{className:"font-medium",children:e.searchMethod})]})]})})()})]})]},e.id))})]}),t.relatedTopics.length>0&&(0,ee.jsxs)("div",{children:[(0,ee.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,ee.jsx)(T6,{className:"h-4 w-4 text-purple-500"}),(0,ee.jsx)("h4",{className:"text-sm font-medium text-purple-800",children:"Related Topics"})]}),(0,ee.jsx)("div",{className:"flex flex-wrap gap-2",children:t.relatedTopics.map((e,t)=>(0,ee.jsx)(TR.Badge,{variant:"outline",className:"border-purple-300 text-purple-700",children:e},t))})]})]})}var Sr=e.i(283086);let Si=(0,TD.default)("globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);function Sa(e){let{result:t}=e;return(0,ee.jsxs)(ei.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"w-full max-w-4xl rounded-lg border border-amber-200 bg-gradient-to-br from-amber-50 to-orange-50 p-6 shadow-sm",children:[(0,ee.jsxs)("div",{className:"mb-4 flex items-start justify-between",children:[(0,ee.jsxs)("div",{className:"flex items-center gap-3",children:[(0,ee.jsx)("div",{className:"rounded-full bg-amber-500 p-2",children:(0,ee.jsx)(Sr.Sparkles,{className:"h-5 w-5 text-white"})}),(0,ee.jsxs)("div",{children:[(0,ee.jsx)("h3",{className:"font-semibold text-amber-900",children:"Vietnamese Folklore"}),(0,ee.jsx)("p",{className:"text-sm text-amber-600",children:t.query})]})]}),(0,ee.jsxs)(TR.Badge,{variant:"outline",className:"border-amber-300 text-amber-700",children:[t.responseTime,"ms"]})]}),(0,ee.jsxs)("div",{className:"mb-4",children:[(0,ee.jsxs)("h4",{className:"mb-2 text-sm font-medium text-amber-800",children:["Items (",t.items.length,")"]}),(0,ee.jsx)(St.Accordion,{type:"multiple",className:"space-y-2",children:t.items.map((e,t)=>{var n;return(0,ee.jsxs)(St.AccordionItem,{value:"item-".concat(t),className:"rounded-md border border-amber-200 bg-white",children:[(0,ee.jsx)(St.AccordionTrigger,{className:"px-4 hover:bg-amber-50",children:(0,ee.jsxs)("div",{className:"flex items-center gap-3",children:[(0,ee.jsx)(TR.Badge,{className:"bg-amber-500",children:t+1}),(0,ee.jsx)("span",{className:"text-sm font-medium",children:e.viContent[0]}),(0,ee.jsxs)(TR.Badge,{variant:"outline",className:"ml-auto mr-2",children:[Math.round(100*e.relevanceScore),"%"]})]})}),(0,ee.jsxs)(St.AccordionContent,{className:"px-4 pb-4",children:[(0,ee.jsxs)("div",{className:"mb-3 flex items-center gap-4",children:[(0,ee.jsx)(TR.Badge,{variant:"secondary",children:e.type}),(0,ee.jsxs)("span",{className:"text-sm text-gray-600",children:[e.category.en,"  ",null==(n=e.subCategory)?void 0:n.en]})]}),(0,ee.jsxs)("div",{className:"mb-3 rounded bg-amber-50 p-3",children:[(0,ee.jsx)("p",{className:"mb-1 text-xs font-medium text-amber-700",children:"Vietnamese:"}),e.viContent.map((e,t)=>(0,ee.jsx)("p",{className:"text-sm font-medium text-gray-800",children:e},t))]}),(0,ee.jsxs)("div",{className:"mb-3 rounded bg-orange-50 p-3",children:[(0,ee.jsx)("p",{className:"mb-1 text-xs font-medium text-orange-700",children:"English:"}),e.enContent.map((e,t)=>(0,ee.jsx)("p",{className:"text-sm text-gray-700 italic",children:e},t))]}),(0,ee.jsxs)("div",{className:"mb-3",children:[(0,ee.jsx)("p",{className:"mb-1 text-xs font-medium text-amber-700",children:"Meaning:"}),(0,ee.jsx)("p",{className:"text-sm text-gray-700",children:e.definition.en}),(0,ee.jsx)("p",{className:"text-sm text-gray-600 italic",children:e.definition.vi})]}),(0,ee.jsx)("div",{className:"flex items-center gap-2",children:(()=>{var t;let n=(t=e.searchMethod).includes("semantic")?{icon:T9.Search,color:"text-blue-500",label:"Semantic"}:t.includes("fulltext")?{icon:T8,color:"text-green-500",label:"Full-text"}:t.includes("jsonb")?{icon:T7,color:"text-orange-500",label:"JSONB"}:{icon:Se.Zap,color:"text-amber-500",label:"Hybrid"},r=n.icon;return(0,ee.jsxs)(ee.Fragment,{children:[(0,ee.jsx)(r,{className:"h-3 w-3 ".concat(n.color)}),(0,ee.jsxs)("p",{className:"text-xs text-gray-500",children:["Retrieved via: ",(0,ee.jsx)("span",{className:"font-medium",children:e.searchMethod})]})]})})()})]})]},e.id)})})]}),(0,ee.jsxs)("div",{className:"mb-3 rounded bg-amber-100 p-3",children:[(0,ee.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,ee.jsx)(Si,{className:"h-4 w-4 text-amber-600"}),(0,ee.jsx)("p",{className:"text-xs font-medium text-amber-800",children:"Cultural Context"})]}),(0,ee.jsx)("p",{className:"text-sm text-amber-900",children:t.culturalContext})]}),t.usageExamples.length>0&&(0,ee.jsxs)("div",{children:[(0,ee.jsx)("p",{className:"mb-2 text-xs font-medium text-amber-800",children:"Usage Examples:"}),(0,ee.jsx)("ul",{className:"list-inside list-disc space-y-1",children:t.usageExamples.map((e,t)=>(0,ee.jsx)("li",{className:"text-sm text-gray-700",children:e},t))})]})]})}let Ss=(0,TD.default)("external-link",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);var So=e.i(54943),So=So,Sl=e.i(576144),Sl=Sl,TI=TI;function Sc(e){let{result:t}=e,[n,r]=P.default.useState(!1),[i,a]=P.default.useState([]),[s,o]=P.default.useState(!1);return(0,ee.jsxs)(ei.motion.div,{animate:{opacity:1,y:0},className:"mb-4 overflow-hidden rounded-lg border border-cyan-200 bg-gradient-to-br from-cyan-50 to-blue-50 dark:border-cyan-800 dark:from-cyan-950/30 dark:to-blue-950/30",initial:{opacity:0,y:10},transition:{duration:.3},children:[(0,ee.jsxs)("div",{className:"flex items-center justify-between border-b border-cyan-200 bg-cyan-100/50 px-4 py-3 dark:border-cyan-800 dark:bg-cyan-900/30",children:[(0,ee.jsxs)("div",{className:"flex items-center gap-2",children:[(0,ee.jsx)(So.default,{className:"size-4 text-cyan-600 dark:text-cyan-400"}),(0,ee.jsx)("h3",{className:"font-medium text-foreground text-sm",children:"Search Results"})]}),(0,ee.jsxs)("div",{className:"flex items-center gap-1.5 text-muted-foreground text-xs",children:[(0,ee.jsx)(TI.default,{className:"size-3"}),(0,ee.jsxs)("span",{children:[t.responseTime,"ms"]})]})]}),(0,ee.jsxs)("div",{className:"space-y-4 p-4",children:[(0,ee.jsxs)("div",{className:"flex items-start gap-2",children:[(0,ee.jsx)("span",{className:"inline-flex items-center rounded-full bg-cyan-100 px-2.5 py-0.5 font-medium text-cyan-800 text-xs dark:bg-cyan-900/50 dark:text-cyan-300",children:"Query"}),(0,ee.jsxs)("p",{className:"text-muted-foreground text-sm italic",children:['"',t.query,'"']})]}),t.answer&&(0,ee.jsxs)("div",{className:"space-y-2",children:[(0,ee.jsxs)("div",{className:"flex items-center gap-2",children:[(0,ee.jsx)(Sl.default,{className:"size-4 text-cyan-600 dark:text-cyan-400"}),(0,ee.jsx)("h4",{className:"font-semibold text-foreground text-sm",children:"Answer"})]}),(0,ee.jsx)("p",{className:"rounded-md bg-white/60 p-3 text-foreground text-sm leading-relaxed dark:bg-black/20",children:t.answer})]}),t.sources&&t.sources.length>0&&(0,ee.jsxs)("div",{className:"space-y-3",children:[(0,ee.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ee.jsxs)("div",{className:"flex items-center gap-2",children:[(0,ee.jsxs)("h4",{className:"font-semibold text-foreground text-sm",children:["Sources (",t.sources.length,")"]}),(0,ee.jsx)("button",{type:"button","aria-expanded":s,"aria-controls":"sources-section",onClick:()=>o(e=>!e),className:"inline-flex items-center rounded-md border border-cyan-200 bg-white/60 px-2 py-1 text-xs text-cyan-700 transition-colors hover:bg-cyan-50 dark:border-cyan-800 dark:bg-black/20 dark:text-cyan-300 dark:hover:bg-cyan-900/20",title:s?"Collapse Sources":"Expand Sources",children:(0,ee.jsx)(TA.ChevronDownIcon,{className:"size-4 transition-transform ".concat(s?"rotate-180":"rotate-0")})})]}),s&&(0,ee.jsx)("button",{type:"button",className:"text-sm px-2 py-1 rounded border border-input bg-background hover:bg-accent",onClick:()=>{let e=!n;r(e),e?a(t.sources.map((e,t)=>"source-".concat(t))):a([])}})]}),s&&(0,ee.jsx)("div",{id:"sources-section",className:"space-y-3",children:(0,ee.jsx)(St.Accordion,{type:"multiple",className:"space-y-2",value:i,onValueChange:e=>a(Array.isArray(e)?e:[]),children:t.sources.map((e,t)=>(0,ee.jsxs)(St.AccordionItem,{value:"source-".concat(t),className:"border border-cyan-200/60 bg-white/60 rounded-md dark:border-cyan-800/60 dark:bg-black/20",children:[(0,ee.jsxs)(St.AccordionTrigger,{className:"flex items-center gap-3 px-3 py-2",children:[(0,ee.jsx)("div",{className:"flex size-6 shrink-0 items-center justify-center rounded-full bg-cyan-100 font-semibold text-cyan-700 text-xs dark:bg-cyan-900/50 dark:text-cyan-300",children:t+1}),(0,ee.jsx)("span",{className:"flex-1 text-left font-medium text-foreground text-sm truncate",children:e.title}),(0,ee.jsx)(Ss,{className:"size-3.5 shrink-0 text-muted-foreground transition-colors group-hover:text-cyan-600 dark:group-hover:text-cyan-400"})]}),(0,ee.jsxs)(St.AccordionContent,{className:"px-3 pb-3 pt-0",children:[(0,ee.jsx)("a",{className:"block font-medium text-cyan-700 text-xs mb-1 truncate hover:underline dark:text-cyan-300",href:e.url,rel:"noopener noreferrer",target:"_blank",children:e.url}),(0,ee.jsx)("p",{className:"text-muted-foreground text-xs leading-relaxed mb-1",children:e.content}),(0,ee.jsxs)("div",{className:"flex items-center gap-2 text-muted-foreground text-xs",children:[(0,ee.jsx)("span",{className:"truncate",children:new URL(e.url).hostname}),e.score&&(0,ee.jsxs)(ee.Fragment,{children:[(0,ee.jsx)("span",{children:""}),(0,ee.jsxs)("span",{className:"font-medium",children:[Math.round(100*e.score),"% relevant"]})]})]})]})]},e.url))})})]}),t.followUpQuestions&&t.followUpQuestions.length>0&&(0,ee.jsxs)("div",{className:"space-y-2",children:[(0,ee.jsxs)("h4",{className:"font-semibold text-foreground text-sm",children:[(0,ee.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,ee.jsx)("span",{className:"font-medium text-base",children:"Sources"}),(0,ee.jsx)("button",{type:"button",className:"text-sm px-2 py-1 rounded border border-input bg-background hover:bg-accent",onClick:()=>r(e=>!e),children:n?"Hide all sources":"Show all sources"})]}),"Related Questions"]}),(0,ee.jsx)("div",{className:"space-y-1.5",children:t.followUpQuestions.map((e,t)=>(0,ee.jsxs)("div",{className:"flex items-start gap-2 rounded-md bg-white/60 px-3 py-2 text-sm dark:bg-black/20",children:[(0,ee.jsx)("span",{className:"text-cyan-600 dark:text-cyan-400",children:""}),(0,ee.jsx)("span",{className:"text-muted-foreground",children:e})]},t))})]}),t.images&&t.images.length>0&&(0,ee.jsxs)("div",{className:"space-y-2",children:[(0,ee.jsx)("h4",{className:"font-semibold text-foreground text-sm",children:"Related Images"}),(0,ee.jsx)("div",{className:"grid grid-cols-2 gap-2 sm:grid-cols-3",children:t.images.map((e,t)=>(0,ee.jsx)("a",{className:"overflow-hidden rounded-md border border-cyan-200/60 transition-all hover:border-cyan-300 hover:shadow-sm dark:border-cyan-800/60 dark:hover:border-cyan-700",href:e,rel:"noopener noreferrer",target:"_blank",children:(0,ee.jsx)("img",{alt:"Search result ".concat(t+1),className:"size-full object-cover",loading:"lazy",src:e})},t))})]})]})]})}let Su=(0,TD.default)("user-round",[["circle",{cx:"12",cy:"8",r:"5",key:"1hypcn"}],["path",{d:"M20 21a8 8 0 0 0-16 0",key:"rfgkzh"}]]);function Sd(e){let{persona:t}=e;return(0,ee.jsx)(ei.motion.div,{animate:{opacity:1,y:0},className:"mb-4 overflow-hidden rounded-lg border border-blue-200 bg-gradient-to-br from-blue-50 to-indigo-50 dark:border-blue-800 dark:from-blue-950/30 dark:to-indigo-950/30",initial:{opacity:0,y:10},transition:{duration:.3},children:(0,ee.jsxs)("div",{className:"flex items-start gap-4 p-4",children:[(0,ee.jsx)("div",{className:"flex size-14 shrink-0 items-center justify-center rounded-full bg-gradient-to-br from-blue-500 to-indigo-600 text-white shadow-md",children:(0,ee.jsx)(Su,{className:"size-7"})}),(0,ee.jsxs)("div",{className:"flex-1 space-y-2",children:[(0,ee.jsxs)("div",{className:"flex items-baseline gap-2",children:[(0,ee.jsx)("h3",{className:"font-semibold text-foreground text-lg",children:t.name}),(0,ee.jsxs)("span",{className:"text-muted-foreground text-sm",children:["(",t.role,")"]})]}),(0,ee.jsxs)("div",{className:"flex items-start gap-2",children:[(0,ee.jsx)("span",{className:"inline-flex items-center rounded-full bg-blue-100 px-2.5 py-0.5 font-medium text-blue-800 text-xs dark:bg-blue-900/50 dark:text-blue-300",children:"Personality"}),(0,ee.jsx)("p",{className:"text-muted-foreground text-sm leading-relaxed",children:t.personality})]})]})]})})}var Sh=e.i(860278),Sh=Sh,Sp=e.i(455607),Sp=Sp,Sf=e.i(517170),Sf=Sf;function Sm(e){let{scene:t}=e;return(0,ee.jsx)(ei.motion.div,{animate:{opacity:1,y:0},className:"mb-4 overflow-hidden rounded-lg border border-emerald-200 bg-gradient-to-br from-emerald-50 to-teal-50 dark:border-emerald-800 dark:from-emerald-950/30 dark:to-teal-950/30",initial:{opacity:0,y:10},transition:{duration:.3,delay:.1},children:(0,ee.jsxs)("div",{className:"space-y-4 p-4",children:[(0,ee.jsxs)("div",{className:"flex items-start gap-3",children:[(0,ee.jsx)("div",{className:"mt-0.5 flex size-8 shrink-0 items-center justify-center rounded-lg bg-emerald-100 text-emerald-700 dark:bg-emerald-900/50 dark:text-emerald-300",children:(0,ee.jsx)(Sp.default,{className:"size-4"})}),(0,ee.jsxs)("div",{className:"flex-1",children:[(0,ee.jsx)("h4",{className:"mb-1 font-semibold text-foreground text-sm",children:"Situation"}),(0,ee.jsx)("p",{className:"text-muted-foreground text-sm leading-relaxed",children:t.situation})]})]}),(0,ee.jsxs)("div",{className:"flex items-start gap-3",children:[(0,ee.jsx)("div",{className:"mt-0.5 flex size-8 shrink-0 items-center justify-center rounded-lg bg-teal-100 text-teal-700 dark:bg-teal-900/50 dark:text-teal-300",children:(0,ee.jsx)(Sh.default,{className:"size-4"})}),(0,ee.jsxs)("div",{className:"flex-1",children:[(0,ee.jsx)("h4",{className:"mb-1 font-semibold text-foreground text-sm",children:"Context"}),(0,ee.jsx)("p",{className:"text-muted-foreground text-sm leading-relaxed",children:t.context})]})]}),t.learningObjectives.length>0&&(0,ee.jsxs)("div",{className:"flex items-start gap-3",children:[(0,ee.jsx)("div",{className:"mt-0.5 flex size-8 shrink-0 items-center justify-center rounded-lg bg-emerald-100 text-emerald-700 dark:bg-emerald-900/50 dark:text-emerald-300",children:(0,ee.jsx)(Sf.default,{className:"size-4"})}),(0,ee.jsxs)("div",{className:"flex-1",children:[(0,ee.jsx)("h4",{className:"mb-2 font-semibold text-foreground text-sm",children:"Learning Objectives"}),(0,ee.jsx)("ul",{className:"space-y-1.5",children:t.learningObjectives.map((e,t)=>(0,ee.jsxs)("li",{className:"flex items-start gap-2 text-muted-foreground text-sm",children:[(0,ee.jsx)("span",{className:"mt-1.5 size-1.5 shrink-0 rounded-full bg-emerald-500"}),(0,ee.jsx)("span",{className:"leading-relaxed",children:e})]},t))})]})]})]})})}var Sg=e.i(361653),Sg=Sg,Sy=e.i(123287),Sy=Sy,Sb=e.i(680818),Sb=Sb;function Sv(e){var t,n;let{feedback:r}=e;return(0,ee.jsx)(ei.motion.div,{animate:{opacity:1,y:0},className:"mb-4 overflow-hidden rounded-lg border border-purple-200 bg-gradient-to-br from-purple-50 to-pink-50 dark:border-purple-800 dark:from-purple-950/30 dark:to-pink-950/30",initial:{opacity:0,y:10},transition:{duration:.3},children:(0,ee.jsxs)("div",{className:"space-y-4 p-4",children:[(0,ee.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ee.jsxs)("div",{className:"flex items-center gap-3",children:[(0,ee.jsx)("div",{className:"flex size-10 shrink-0 items-center justify-center rounded-lg bg-purple-100 text-purple-700 dark:bg-purple-900/50 dark:text-purple-300",children:(0,ee.jsx)(Sy.default,{className:"size-5"})}),(0,ee.jsxs)("div",{children:[(0,ee.jsx)("h4",{className:"font-semibold text-foreground text-sm",children:"Evaluation Results"}),(0,ee.jsx)("p",{className:"text-muted-foreground text-xs",children:"Your Vietnamese response"})]})]}),(0,ee.jsx)("div",{className:"flex size-16 items-center justify-center rounded-lg border-2 font-bold text-2xl ".concat((t=r.score)>=8?"bg-green-100 dark:bg-green-900/30 border-green-200 dark:border-green-800":t>=6?"bg-yellow-100 dark:bg-yellow-900/30 border-yellow-200 dark:border-yellow-800":"bg-red-100 dark:bg-red-900/30 border-red-200 dark:border-red-800"),children:(0,ee.jsxs)("span",{className:(n=r.score)>=8?"text-green-600 dark:text-green-400":n>=6?"text-yellow-600 dark:text-yellow-400":"text-red-600 dark:text-red-400",children:[r.score,(0,ee.jsx)("span",{className:"text-sm",children:"/10"})]})})]}),(0,ee.jsx)("div",{className:"rounded-lg bg-white/50 p-3 dark:bg-gray-900/20",children:(0,ee.jsx)("p",{className:"text-foreground text-sm leading-relaxed",children:r.feedback})}),r.corrections.length>0&&(0,ee.jsxs)("div",{className:"space-y-2",children:[(0,ee.jsxs)("div",{className:"flex items-center gap-2",children:[(0,ee.jsx)(Sg.default,{className:"size-4 text-purple-600 dark:text-purple-400"}),(0,ee.jsx)("h5",{className:"font-semibold text-foreground text-sm",children:"Corrections"})]}),(0,ee.jsx)("div",{className:"space-y-3",children:r.corrections.map((e,t)=>(0,ee.jsxs)(ei.motion.div,{animate:{opacity:1,x:0},className:"rounded-lg border border-purple-200 bg-white/70 p-3 dark:border-purple-800/50 dark:bg-gray-900/30",initial:{opacity:0,x:-10},transition:{duration:.2,delay:.05*t},children:[(0,ee.jsx)("div",{className:"mb-2 flex items-start gap-2",children:(0,ee.jsxs)("div",{className:"flex-1",children:[(0,ee.jsxs)("div",{className:"mb-1 flex items-center gap-2",children:[(0,ee.jsx)("span",{className:"rounded bg-red-100 px-2 py-0.5 font-mono text-red-700 text-xs dark:bg-red-900/30 dark:text-red-400",children:"Original"}),(0,ee.jsx)("span",{className:"font-medium text-sm line-through decoration-red-500",children:e.original})]}),(0,ee.jsxs)("div",{className:"flex items-center gap-2",children:[(0,ee.jsx)("span",{className:"rounded bg-green-100 px-2 py-0.5 font-mono text-green-700 text-xs dark:bg-green-900/30 dark:text-green-400",children:"Corrected"}),(0,ee.jsx)("span",{className:"font-medium text-green-700 text-sm dark:text-green-400",children:e.corrected})]})]})}),(0,ee.jsxs)("p",{className:"text-muted-foreground text-xs leading-relaxed",children:[(0,ee.jsx)("span",{className:"font-semibold",children:"Why:"})," ",e.explanation]})]},t))})]}),r.suggestions.length>0&&(0,ee.jsxs)("div",{className:"space-y-2",children:[(0,ee.jsxs)("div",{className:"flex items-center gap-2",children:[(0,ee.jsx)(T6,{className:"size-4 text-amber-600 dark:text-amber-400"}),(0,ee.jsx)("h5",{className:"font-semibold text-foreground text-sm",children:"Tips for Improvement"})]}),(0,ee.jsx)("ul",{className:"space-y-2",children:r.suggestions.map((e,t)=>(0,ee.jsxs)(ei.motion.li,{animate:{opacity:1,x:0},className:"flex items-start gap-2 rounded-lg bg-amber-50 p-2.5 text-muted-foreground text-sm dark:bg-amber-900/10",initial:{opacity:0,x:-10},transition:{duration:.2,delay:.05*t},children:[(0,ee.jsx)(Sb.default,{className:"mt-0.5 size-4 shrink-0 text-amber-600 dark:text-amber-400"}),(0,ee.jsx)("span",{className:"leading-relaxed",children:e})]},t))})]})]})})}var Sk=e.i(23737),Sk=Sk,Sx=e.i(168118);function S_(e){let{prompt:t}=e;return(0,ee.jsx)(ei.motion.div,{animate:{opacity:1,y:0},className:"mb-4 overflow-hidden rounded-lg border border-indigo-200 bg-gradient-to-br from-indigo-50 to-violet-50 dark:border-indigo-800 dark:from-indigo-950/30 dark:to-violet-950/30",initial:{opacity:0,y:10},transition:{duration:.3,delay:.2},children:(0,ee.jsxs)("div",{className:"space-y-4 p-4",children:[(0,ee.jsxs)("div",{className:"flex items-start gap-3",children:[(0,ee.jsx)("div",{className:"mt-0.5 flex size-8 shrink-0 items-center justify-center rounded-lg bg-indigo-100 text-indigo-700 dark:bg-indigo-900/50 dark:text-indigo-300",children:(0,ee.jsx)(Sk.default,{className:"size-4"})}),(0,ee.jsxs)("div",{className:"flex-1",children:[(0,ee.jsx)("h4",{className:"mb-2 font-semibold text-foreground text-sm",children:"Your Turn"}),(0,ee.jsx)("p",{className:"text-foreground text-sm leading-relaxed",children:t.prompt})]})]}),t.expectedLength&&(0,ee.jsxs)("div",{className:"flex items-center gap-2 rounded-lg bg-white/50 px-3 py-2 dark:bg-gray-900/20",children:[(0,ee.jsx)(Sx.InfoIcon,{className:"size-4 text-indigo-600 dark:text-indigo-400"}),(0,ee.jsxs)("span",{className:"text-muted-foreground text-xs",children:["Expected length: ",(0,ee.jsx)("span",{className:"font-medium",children:t.expectedLength})]})]}),t.hints.length>0&&(0,ee.jsxs)("div",{className:"space-y-2",children:[(0,ee.jsx)("h5",{className:"flex items-center gap-2 font-semibold text-foreground text-xs uppercase tracking-wide",children:" Helpful Hints"}),(0,ee.jsx)("ul",{className:"space-y-1.5",children:t.hints.map((e,t)=>(0,ee.jsxs)(ei.motion.li,{animate:{opacity:1,x:0},className:"flex items-start gap-2 text-muted-foreground text-sm",initial:{opacity:0,x:-10},transition:{duration:.2,delay:.1+.05*t},children:[(0,ee.jsx)("span",{className:"mt-1.5 size-1.5 shrink-0 rounded-full bg-indigo-500"}),(0,ee.jsx)("span",{className:"leading-relaxed",children:e})]},t))})]}),(0,ee.jsx)("div",{className:"mt-4 rounded-lg border border-indigo-300 bg-indigo-100/50 p-3 dark:border-indigo-700/50 dark:bg-indigo-900/20",children:(0,ee.jsx)("p",{className:"text-center text-indigo-700 text-sm dark:text-indigo-300",children:"Type your Vietnamese response in the chat below "})})]})})}var SE=e.i(628574);let ST=(0,TD.default)("graduation-cap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]);var SS=e.i(25652),Sw=e.i(972520),SC=e.i(531278),SA=e.i(522016),SN=e.i(859016);function SI(e){let{data:t}=e,[n,r]=(0,P.useState)(t.topics||[]),[i,a]=(0,P.useState)(!1),[s,o]=(0,P.useState)(null);(0,P.useEffect)(()=>{if(t.topics&&t.topics.length>0){r(t.topics),a(!1);return}t.topicIds&&t.topicIds.length>0&&l(t.topicIds)},[t.topicIds,t.topics]);let l=async e=>{try{a(!0),o(null),console.log("[TopicSearchResults] Fetching topics:",e);let t=(0,SN.createClient)(),{data:n,error:i}=await t.from("topics").select("\n          topic_id,\n          vietnamese_title,\n          english_title,\n          topic_description,\n          slug,\n          zone_id,\n          sort_order,\n          zones!inner (\n            name,\n            level\n          ),\n          lessons (\n            id\n          )\n        ").in("topic_id",e).eq("status","published").order("sort_order",{ascending:!0});if(i){console.error("[TopicSearchResults] Database error:",i),o(i.message);return}if(!n||0===n.length){console.warn("[TopicSearchResults] No topics found"),o("No topics found");return}let s=n.map(e=>({topic_id:e.topic_id,vietnamese_title:e.vietnamese_title,english_title:e.english_title,topic_description:e.topic_description,slug:e.slug,zone_name:e.zones.name,zone_level:e.zones.level,lesson_count:Array.isArray(e.lessons)?e.lessons.length:0,sort_order:e.sort_order}));console.log("[TopicSearchResults] Fetched topics:",s.length),r(s)}catch(e){console.error("[TopicSearchResults] Fetch error:",e),o(e instanceof Error?e.message:"Failed to load topics")}finally{a(!1)}};return i?(0,ee.jsx)("div",{className:"w-full space-y-4 my-6",children:(0,ee.jsxs)("div",{className:"flex items-center justify-center gap-2 text-muted-foreground",children:[(0,ee.jsx)(SC.Loader2,{className:"w-5 h-5 animate-spin"}),(0,ee.jsx)("p",{children:"Loading topics..."})]})}):s?(0,ee.jsx)("div",{className:"w-full space-y-4 my-6",children:(0,ee.jsx)(SE.Card,{className:"border-destructive/50 bg-destructive/5",children:(0,ee.jsx)(SE.CardContent,{className:"pt-6",children:(0,ee.jsxs)("p",{className:"text-sm text-destructive",children:["Error loading topics: ",s]})})})}):n&&0!==n.length?(0,ee.jsxs)("div",{className:"w-full space-y-4 my-6",children:[(0,ee.jsxs)(ei.motion.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"flex items-center justify-between",children:[(0,ee.jsxs)("div",{className:"flex items-center gap-2",children:[(0,ee.jsx)(T3.BookOpen,{className:"w-5 h-5 text-primary"}),(0,ee.jsx)("h3",{className:"font-semibold text-lg",children:"Vietnamese Topics"})]}),(0,ee.jsxs)(TR.Badge,{variant:"secondary",className:"gap-1",children:[(0,ee.jsx)("span",{className:"font-semibold",children:n.length}),(0,ee.jsx)("span",{className:"text-muted-foreground",children:"found"})]})]}),(0,ee.jsx)("div",{className:"grid gap-4 md:grid-cols-2",children:n.map((e,t)=>{var n;let r=(e=>{let t={1:{bg:"bg-emerald-50 dark:bg-emerald-950/30",text:"text-emerald-700 dark:text-emerald-400",border:"border-emerald-200 dark:border-emerald-800"},2:{bg:"bg-sky-50 dark:bg-sky-950/30",text:"text-sky-700 dark:text-sky-400",border:"border-sky-200 dark:border-sky-800"},3:{bg:"bg-violet-50 dark:bg-violet-950/30",text:"text-violet-700 dark:text-violet-400",border:"border-violet-200 dark:border-violet-800"},4:{bg:"bg-amber-50 dark:bg-amber-950/30",text:"text-amber-700 dark:text-amber-400",border:"border-amber-200 dark:border-amber-800"},5:{bg:"bg-rose-50 dark:bg-rose-950/30",text:"text-rose-700 dark:text-rose-400",border:"border-rose-200 dark:border-rose-800"}};return t[e]||t[1]})(e.zone_level);return(0,ee.jsx)(ei.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1*t},children:(0,ee.jsxs)(SE.Card,{className:"group relative overflow-hidden border-2 hover:border-primary/50 hover:shadow-lg transition-all duration-300",children:[(0,ee.jsx)("div",{className:"absolute top-0 right-0 w-32 h-32 bg-gradient-to-br from-primary/10 to-transparent rounded-full blur-2xl -z-10 group-hover:scale-150 transition-transform duration-500"}),(0,ee.jsxs)(SE.CardHeader,{className:"space-y-3",children:[(0,ee.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ee.jsxs)(TR.Badge,{variant:"outline",className:"gap-1.5 ".concat(r.bg," ").concat(r.text," ").concat(r.border," font-medium"),children:[(n=e.zone_level)<=2?(0,ee.jsx)(Sr.Sparkles,{className:"w-3.5 h-3.5"}):n<=3?(0,ee.jsx)(SS.TrendingUp,{className:"w-3.5 h-3.5"}):(0,ee.jsx)(ST,{className:"w-3.5 h-3.5"}),e.zone_name]}),(0,ee.jsxs)("div",{className:"flex items-center gap-1 text-sm text-muted-foreground",children:[(0,ee.jsx)(T3.BookOpen,{className:"w-4 h-4"}),(0,ee.jsxs)("span",{children:[e.lesson_count," lessons"]})]})]}),(0,ee.jsxs)("div",{className:"space-y-1",children:[(0,ee.jsx)(SE.CardTitle,{className:"text-xl group-hover:text-primary transition-colors",children:e.vietnamese_title}),(0,ee.jsx)(SE.CardDescription,{className:"text-base font-medium",children:e.english_title})]})]}),(0,ee.jsxs)(SE.CardContent,{className:"space-y-4",children:[(0,ee.jsx)("p",{className:"text-sm text-muted-foreground leading-relaxed",children:e.topic_description}),(0,ee.jsx)(Tt.Button,{asChild:!0,className:"w-full group/button",size:"lg",children:(0,ee.jsxs)(SA.default,{href:"/learn/".concat(e.slug),children:[(0,ee.jsx)("span",{children:"Explore Topic"}),(0,ee.jsx)(Sw.ArrowRight,{className:"w-4 h-4 ml-2 group-hover/button:translate-x-1 transition-transform"})]})})]})]})},e.topic_id)})}),(0,ee.jsxs)(ei.motion.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1*n.length+.2},className:"flex items-center justify-between pt-2 text-sm text-muted-foreground",children:[(0,ee.jsxs)("p",{children:["Showing ",(0,ee.jsx)("span",{className:"font-medium text-foreground",children:n.length})," topic",1!==n.length?"s":"",t.query&&(0,ee.jsxs)(ee.Fragment,{children:[" ","for ",(0,ee.jsxs)("span",{className:"font-medium text-foreground",children:['"',t.query,'"']})]})]}),t.responseTime&&(0,ee.jsxs)("p",{className:"text-xs",children:["Loaded in ",(0,ee.jsxs)("span",{className:"font-medium",children:[t.responseTime,"ms"]})]})]})]}):(0,ee.jsx)("div",{className:"w-full space-y-4 my-6",children:(0,ee.jsx)(SE.Card,{children:(0,ee.jsx)(SE.CardContent,{className:"pt-6",children:(0,ee.jsx)("p",{className:"text-sm text-muted-foreground",children:"No topics found matching your query."})})})})}var SD=e.i(343794),SM=e.i(55545),SO=e.i(455024),SR=e.i(99151),SP=e.i(845110),SL=e.i(234662),SF=e.i(585890);function Sj(e,t){var n,r,i,a,s,o,l,c;let u=(0,SO.getDefaultOptions)(),d=null!=(c=null!=(l=null!=(o=null!=(s=null==t?void 0:t.weekStartsOn)?s:null==t||null==(r=t.locale)||null==(n=r.options)?void 0:n.weekStartsOn)?o:u.weekStartsOn)?l:null==(a=u.locale)||null==(i=a.options)?void 0:i.weekStartsOn)?c:0,h=(0,q.toDate)(e,null==t?void 0:t.in),p=h.getDay();return h.setDate(h.getDate()-(7*(p<d)+p-d)),h.setHours(0,0,0,0),h}function SB(e,t){return Sj(e,{...t,weekStartsOn:1})}var SH=e.i(677241);function SU(e,t){let n=(0,q.toDate)(e,null==t?void 0:t.in),r=n.getFullYear(),i=(0,SH.constructFrom)(n,0);i.setFullYear(r+1,0,4),i.setHours(0,0,0,0);let a=SB(i),s=(0,SH.constructFrom)(n,0);s.setFullYear(r,0,4),s.setHours(0,0,0,0);let o=SB(s);return n.getTime()>=a.getTime()?r+1:n.getTime()>=o.getTime()?r:r-1}function Sz(e,t){var n,r,i,a,s,o,l,c;let u=(0,q.toDate)(e,null==t?void 0:t.in),d=u.getFullYear(),h=(0,SO.getDefaultOptions)(),p=null!=(c=null!=(l=null!=(o=null!=(s=null==t?void 0:t.firstWeekContainsDate)?s:null==t||null==(r=t.locale)||null==(n=r.options)?void 0:n.firstWeekContainsDate)?o:h.firstWeekContainsDate)?l:null==(a=h.locale)||null==(i=a.options)?void 0:i.firstWeekContainsDate)?c:1,f=(0,SH.constructFrom)((null==t?void 0:t.in)||e,0);f.setFullYear(d+1,0,p),f.setHours(0,0,0,0);let m=Sj(f,t),g=(0,SH.constructFrom)((null==t?void 0:t.in)||e,0);g.setFullYear(d,0,p),g.setHours(0,0,0,0);let y=Sj(g,t);return+u>=+m?d+1:+u>=+y?d:d-1}let SV={y(e,t){let n=e.getFullYear(),r=n>0?n:1-n;return G("yy"===t?r%100:r,t.length)},M(e,t){let n=e.getMonth();return"M"===t?String(n+1):G(n+1,2)},d:(e,t)=>G(e.getDate(),t.length),a(e,t){let n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];default:return"am"===n?"a.m.":"p.m."}},h:(e,t)=>G(e.getHours()%12||12,t.length),H:(e,t)=>G(e.getHours(),t.length),m:(e,t)=>G(e.getMinutes(),t.length),s:(e,t)=>G(e.getSeconds(),t.length),S(e,t){let n=t.length;return G(Math.trunc(e.getMilliseconds()*Math.pow(10,n-3)),t.length)}},SG={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Sq={G:function(e,t,n){let r=+(e.getFullYear()>0);switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if("yo"===t){let t=e.getFullYear();return n.ordinalNumber(t>0?t:1-t,{unit:"year"})}return SV.y(e,t)},Y:function(e,t,n,r){let i=Sz(e,r),a=i>0?i:1-i;return"YY"===t?G(a%100,2):"Yo"===t?n.ordinalNumber(a,{unit:"year"}):G(a,t.length)},R:function(e,t){return G(SU(e),t.length)},u:function(e,t){return G(e.getFullYear(),t.length)},Q:function(e,t,n){let r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return G(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){let r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return G(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){let r=e.getMonth();switch(t){case"M":case"MM":return SV.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){let r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return G(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){let i=function(e,t){let n=(0,q.toDate)(e,null==t?void 0:t.in);return Math.round((Sj(n,t)-function(e,t){var n,r,i,a,s,o,l,c;let u=(0,SO.getDefaultOptions)(),d=null!=(c=null!=(l=null!=(o=null!=(s=null==t?void 0:t.firstWeekContainsDate)?s:null==t||null==(r=t.locale)||null==(n=r.options)?void 0:n.firstWeekContainsDate)?o:u.firstWeekContainsDate)?l:null==(a=u.locale)||null==(i=a.options)?void 0:i.firstWeekContainsDate)?c:1,h=Sz(e,t),p=(0,SH.constructFrom)((null==t?void 0:t.in)||e,0);return p.setFullYear(h,0,d),p.setHours(0,0,0,0),Sj(p,t)}(n,t))/SL.millisecondsInWeek)+1}(e,r);return"wo"===t?n.ordinalNumber(i,{unit:"week"}):G(i,t.length)},I:function(e,t,n){let r=function(e,t){let n=(0,q.toDate)(e,void 0);return Math.round((SB(n)-function(e,t){let n=SU(e,void 0),r=(0,SH.constructFrom)(e,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),SB(r)}(n))/SL.millisecondsInWeek)+1}(e);return"Io"===t?n.ordinalNumber(r,{unit:"week"}):G(r,t.length)},d:function(e,t,n){return"do"===t?n.ordinalNumber(e.getDate(),{unit:"date"}):SV.d(e,t)},D:function(e,t,n){let r=function(e,t){let n=(0,q.toDate)(e,void 0);return function(e,t,n){let[r,i]=(0,SP.normalizeDates)(void 0,e,t),a=(0,SF.startOfDay)(r),s=(0,SF.startOfDay)(i);return Math.round((a-(0,SR.getTimezoneOffsetInMilliseconds)(a)-(s-(0,SR.getTimezoneOffsetInMilliseconds)(s)))/SL.millisecondsInDay)}(n,function(e,t){let n=(0,q.toDate)(e,void 0);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}(n))+1}(e);return"Do"===t?n.ordinalNumber(r,{unit:"dayOfYear"}):G(r,t.length)},E:function(e,t,n){let r=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){let i=e.getDay(),a=(i-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(a);case"ee":return G(a,2);case"eo":return n.ordinalNumber(a,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){let i=e.getDay(),a=(i-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(a);case"cc":return G(a,t.length);case"co":return n.ordinalNumber(a,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(e,t,n){let r=e.getDay(),i=0===r?7:r;switch(t){case"i":return String(i);case"ii":return G(i,t.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){let r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(e,t,n){let r,i=e.getHours();switch(r=12===i?SG.noon:0===i?SG.midnight:i/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},B:function(e,t,n){let r,i=e.getHours();switch(r=i>=17?SG.evening:i>=12?SG.afternoon:i>=4?SG.morning:SG.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},h:function(e,t,n){if("ho"===t){let t=e.getHours()%12;return 0===t&&(t=12),n.ordinalNumber(t,{unit:"hour"})}return SV.h(e,t)},H:function(e,t,n){return"Ho"===t?n.ordinalNumber(e.getHours(),{unit:"hour"}):SV.H(e,t)},K:function(e,t,n){let r=e.getHours()%12;return"Ko"===t?n.ordinalNumber(r,{unit:"hour"}):G(r,t.length)},k:function(e,t,n){let r=e.getHours();return(0===r&&(r=24),"ko"===t)?n.ordinalNumber(r,{unit:"hour"}):G(r,t.length)},m:function(e,t,n){return"mo"===t?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):SV.m(e,t)},s:function(e,t,n){return"so"===t?n.ordinalNumber(e.getSeconds(),{unit:"second"}):SV.s(e,t)},S:function(e,t){return SV.S(e,t)},X:function(e,t,n){let r=e.getTimezoneOffset();if(0===r)return"Z";switch(t){case"X":return S$(r);case"XXXX":case"XX":return SW(r);default:return SW(r,":")}},x:function(e,t,n){let r=e.getTimezoneOffset();switch(t){case"x":return S$(r);case"xxxx":case"xx":return SW(r);default:return SW(r,":")}},O:function(e,t,n){let r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+SZ(r,":");default:return"GMT"+SW(r,":")}},z:function(e,t,n){let r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+SZ(r,":");default:return"GMT"+SW(r,":")}},t:function(e,t,n){return G(Math.trunc(e/1e3),t.length)},T:function(e,t,n){return G(+e,t.length)}};function SZ(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=e>0?"-":"+",r=Math.abs(e),i=Math.trunc(r/60),a=r%60;return 0===a?n+String(i):n+String(i)+t+G(a,2)}function S$(e,t){return e%60==0?(e>0?"-":"+")+G(Math.abs(e)/60,2):SW(e,t)}function SW(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=Math.abs(e);return(e>0?"-":"+")+G(Math.trunc(n/60),2)+t+G(n%60,2)}let SY=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});default:return t.date({width:"full"})}},SK=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});default:return t.time({width:"full"})}},SJ={p:SK,P:(e,t)=>{let n,r=e.match(/(P+)(p+)?/)||[],i=r[1],a=r[2];if(!a)return SY(e,t);switch(i){case"P":n=t.dateTime({width:"short"});break;case"PP":n=t.dateTime({width:"medium"});break;case"PPP":n=t.dateTime({width:"long"});break;default:n=t.dateTime({width:"full"})}return n.replace("{{date}}",SY(i,t)).replace("{{time}}",SK(a,t))}},SQ=/^D+$/,SX=/^Y+$/,S0=["D","DD","YY","YYYY"],S1=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,S2=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,S5=/^'([^]*?)'?$/,S3=/''/g,S4=/[a-zA-Z]/,S6={latitude:37.763283,longitude:-122.41286,generationtime_ms:.027894973754882813,utc_offset_seconds:0,timezone:"GMT",timezone_abbreviation:"GMT",elevation:18,current_units:{time:"iso8601",interval:"seconds",temperature_2m:"C"},current:{time:"2024-10-07T19:30",interval:900,temperature_2m:29.3},hourly_units:{time:"iso8601",temperature_2m:"C"},hourly:{time:["2024-10-07T00:00","2024-10-07T01:00","2024-10-07T02:00","2024-10-07T03:00","2024-10-07T04:00","2024-10-07T05:00","2024-10-07T06:00","2024-10-07T07:00","2024-10-07T08:00","2024-10-07T09:00","2024-10-07T10:00","2024-10-07T11:00","2024-10-07T12:00","2024-10-07T13:00","2024-10-07T14:00","2024-10-07T15:00","2024-10-07T16:00","2024-10-07T17:00","2024-10-07T18:00","2024-10-07T19:00","2024-10-07T20:00","2024-10-07T21:00","2024-10-07T22:00","2024-10-07T23:00","2024-10-08T00:00","2024-10-08T01:00","2024-10-08T02:00","2024-10-08T03:00","2024-10-08T04:00","2024-10-08T05:00","2024-10-08T06:00","2024-10-08T07:00","2024-10-08T08:00","2024-10-08T09:00","2024-10-08T10:00","2024-10-08T11:00","2024-10-08T12:00","2024-10-08T13:00","2024-10-08T14:00","2024-10-08T15:00","2024-10-08T16:00","2024-10-08T17:00","2024-10-08T18:00","2024-10-08T19:00","2024-10-08T20:00","2024-10-08T21:00","2024-10-08T22:00","2024-10-08T23:00","2024-10-09T00:00","2024-10-09T01:00","2024-10-09T02:00","2024-10-09T03:00","2024-10-09T04:00","2024-10-09T05:00","2024-10-09T06:00","2024-10-09T07:00","2024-10-09T08:00","2024-10-09T09:00","2024-10-09T10:00","2024-10-09T11:00","2024-10-09T12:00","2024-10-09T13:00","2024-10-09T14:00","2024-10-09T15:00","2024-10-09T16:00","2024-10-09T17:00","2024-10-09T18:00","2024-10-09T19:00","2024-10-09T20:00","2024-10-09T21:00","2024-10-09T22:00","2024-10-09T23:00","2024-10-10T00:00","2024-10-10T01:00","2024-10-10T02:00","2024-10-10T03:00","2024-10-10T04:00","2024-10-10T05:00","2024-10-10T06:00","2024-10-10T07:00","2024-10-10T08:00","2024-10-10T09:00","2024-10-10T10:00","2024-10-10T11:00","2024-10-10T12:00","2024-10-10T13:00","2024-10-10T14:00","2024-10-10T15:00","2024-10-10T16:00","2024-10-10T17:00","2024-10-10T18:00","2024-10-10T19:00","2024-10-10T20:00","2024-10-10T21:00","2024-10-10T22:00","2024-10-10T23:00","2024-10-11T00:00","2024-10-11T01:00","2024-10-11T02:00","2024-10-11T03:00"],temperature_2m:[36.6,32.8,29.5,28.6,29.2,28.2,27.5,26.6,26.5,26,25,23.5,23.9,24.2,22.9,21,24,28.1,31.4,33.9,32.1,28.9,26.9,25.2,23,21.1,19.6,18.6,17.7,16.8,16.2,15.5,14.9,14.4,14.2,13.7,13.3,12.9,12.5,13.5,15.8,17.7,19.6,21,21.9,22.3,22,20.7,18.9,17.9,17.3,17,16.7,16.2,15.6,15.2,15,15,15.1,14.8,14.8,14.9,14.7,14.8,15.3,16.2,17.9,19.6,20.5,21.6,21,20.7,19.3,18.7,18.4,17.9,17.3,17,17,16.8,16.4,16.2,16,15.8,15.7,15.4,15.4,16.1,16.7,17,18.6,19,19.5,19.4,18.5,17.9,17.5,16.7,16.3,16.1]},daily_units:{time:"iso8601",sunrise:"iso8601",sunset:"iso8601"},daily:{time:["2024-10-07","2024-10-08","2024-10-09","2024-10-10","2024-10-11"],sunrise:["2024-10-07T07:15","2024-10-08T07:16","2024-10-09T07:17","2024-10-10T07:18","2024-10-11T07:19"],sunset:["2024-10-07T19:00","2024-10-08T18:58","2024-10-09T18:57","2024-10-10T18:55","2024-10-11T18:54"]}};function S9(e){return Math.ceil(e)}function S8(e){let{weatherAtLocation:t=S6}=e,n=Math.max(...t.hourly.temperature_2m.slice(0,24)),r=Math.min(...t.hourly.temperature_2m.slice(0,24)),i=function(e,t,n){let r=+(0,q.toDate)(e,void 0),[i,a]=[+(0,q.toDate)(t.start,void 0),+(0,q.toDate)(t.end,null==n?void 0:n.in)].sort((e,t)=>e-t);return r>=i&&r<=a}(new Date(t.current.time),{start:new Date(t.daily.sunrise[0]),end:new Date(t.daily.sunset[0])}),[a,s]=(0,P.useState)(!1);(0,P.useEffect)(()=>{let e=()=>{s(window.innerWidth<768)};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]);let o=a?5:6,l=t.hourly.time.findIndex(e=>new Date(e)>=new Date(t.current.time)),c=t.hourly.time.slice(l,l+o),u=t.hourly.temperature_2m.slice(l,l+o);return(0,ee.jsxs)("div",{className:(0,SD.default)("skeleton-bg flex max-w-[500px] flex-col gap-4 rounded-2xl p-4",{"bg-blue-400":i},{"bg-indigo-900":!i}),children:[(0,ee.jsxs)("div",{className:"flex flex-row items-center justify-between",children:[(0,ee.jsxs)("div",{className:"flex flex-row items-center gap-2",children:[(0,ee.jsx)("div",{className:(0,SD.default)("skeleton-div size-10 rounded-full",{"bg-yellow-300":i},{"bg-indigo-100":!i})}),(0,ee.jsxs)("div",{className:"font-medium text-4xl text-blue-50",children:[S9(t.current.temperature_2m),t.current_units.temperature_2m]})]}),(0,ee.jsx)("div",{className:"text-blue-50",children:"H:".concat(S9(n)," L:").concat(S9(r),"")})]}),(0,ee.jsx)("div",{className:"flex flex-row justify-between",children:c.map((e,n)=>(0,ee.jsxs)("div",{className:"flex flex-col items-center gap-1",children:[(0,ee.jsx)("div",{className:"text-blue-100 text-xs",children:function(e,t,n){var r,i,a,s,o,l,c,u,d,h,p,f,m,g,y,b,v;let k=(0,SO.getDefaultOptions)(),x=null!=(d=k.locale)?d:SM.defaultLocale,_=null!=(m=null!=(f=null!=(p=(h=void 0,null==n||null==(i=n.locale)||null==(r=i.options)?void 0:r.firstWeekContainsDate))?p:k.firstWeekContainsDate)?f:null==(s=k.locale)||null==(a=s.options)?void 0:a.firstWeekContainsDate)?m:1,E=null!=(v=null!=(b=null!=(y=null!=(g=null==n?void 0:n.weekStartsOn)?g:null==n||null==(l=n.locale)||null==(o=l.options)?void 0:o.weekStartsOn)?y:k.weekStartsOn)?b:null==(u=k.locale)||null==(c=u.options)?void 0:c.weekStartsOn)?v:0,T=(0,q.toDate)(e,null==n?void 0:n.in);if(!(T instanceof Date||"object"==typeof T&&"[object Date]"===Object.prototype.toString.call(T))&&"number"!=typeof T||isNaN(+(0,q.toDate)(T)))throw RangeError("Invalid time value");let S="ha".match(S2).map(e=>{let t=e[0];return"p"===t||"P"===t?(0,SJ[t])(e,x.formatLong):e}).join("").match(S1).map(e=>{if("''"===e)return{isToken:!1,value:"'"};let t=e[0];if("'"===t)return{isToken:!1,value:function(e){let t=e.match(S5);return t?t[1].replace(S3,"'"):e}(e)};if(Sq[t])return{isToken:!0,value:e};if(t.match(S4))throw RangeError("Format string contains an unescaped latin alphabet character `"+t+"`");return{isToken:!1,value:e}});x.localize.preprocessor&&(S=x.localize.preprocessor(T,S));let w={firstWeekContainsDate:_,weekStartsOn:E,locale:x};return S.map(t=>{if(!t.isToken)return t.value;let r=t.value;return(!(null==n?void 0:n.useAdditionalWeekYearTokens)&&SX.test(r)||!(null==n?void 0:n.useAdditionalDayOfYearTokens)&&SQ.test(r))&&function(e,t,n){let r=function(e,t,n){let r="Y"===e[0]?"years":"days of the month";return"Use `".concat(e.toLowerCase(),"` instead of `").concat(e,"` (in `").concat(t,"`) for formatting ").concat(r," to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md")}(e,t,n);if(console.warn(r),S0.includes(e))throw RangeError(r)}(r,"ha",String(e)),(0,Sq[r[0]])(T,r,x.localize,w)}).join("")}(new Date(e),"ha")}),(0,ee.jsx)("div",{className:(0,SD.default)("skeleton-div size-6 rounded-full",{"bg-yellow-300":i},{"bg-indigo-200":!i})}),(0,ee.jsxs)("div",{className:"text-blue-50 text-sm",children:[S9(u[n]),t.hourly_units.temperature_2m]})]},e))})]})}let S7=(0,P.memo)(e=>{var t,n,r;let{chatId:i,message:a,vote:s,isLoading:o,setMessages:l,regenerate:c,isReadonly:u,requiresScrollPadding:d}=e,[h,p]=(0,P.useState)("view"),f=a.parts.filter(e=>"file"===e.type);return(0,Ty.useDataStream)(),(0,ee.jsx)(ei.motion.div,{animate:{opacity:1},className:"group/message w-full","data-role":a.role,"data-testid":"message-".concat(a.role),initial:{opacity:0},children:(0,ee.jsxs)("div",{className:$("flex w-full items-start gap-2 md:gap-3",{"justify-end":"user"===a.role&&"edit"!==h,"justify-start":"assistant"===a.role}),children:["assistant"===a.role&&(0,ee.jsx)("div",{className:"-mt-1 flex size-8 shrink-0 items-center justify-center rounded-full bg-background ring-1 ring-border",children:(0,ee.jsx)(v4.SparklesIcon,{size:14})}),(0,ee.jsxs)("div",{className:$("flex flex-col",{"gap-2 md:gap-4":null==(t=a.parts)?void 0:t.some(e=>{var t;return"text"===e.type&&(null==(t=e.text)?void 0:t.trim())}),"min-h-96":"assistant"===a.role&&d,"w-full":"assistant"===a.role&&(null==(n=a.parts)?void 0:n.some(e=>{var t;return"text"===e.type&&(null==(t=e.text)?void 0:t.trim())}))||"edit"===h,"max-w-[calc(100%-2.5rem)] sm:max-w-[min(fit-content,80%)]":"user"===a.role&&"edit"!==h}),children:[f.length>0&&(0,ee.jsx)("div",{className:"flex flex-row justify-end gap-2","data-testid":"message-attachments",children:f.map(e=>{var t;return(0,ee.jsx)(T5,{attachment:{name:null!=(t=e.filename)?t:"file",contentType:e.mediaType,url:e.url}},e.url)})}),null==(r=a.parts)?void 0:r.map((e,t)=>{var n;let{type:r}=e,i="message-".concat(a.id,"-part-").concat(t);if("reasoning"===r&&(null==(n=e.text)?void 0:n.trim().length)>0)return(0,ee.jsx)(TX,{isLoading:o,reasoning:e.text},i);if("text"===r){if("view"===h)return(0,ee.jsx)("div",{children:(0,ee.jsx)(Tw,{className:$({"w-fit break-words rounded-2xl px-3 py-2 text-right text-white":"user"===a.role,"bg-transparent px-0 py-0 text-left":"assistant"===a.role}),"data-testid":"message-content",style:"user"===a.role?{backgroundColor:"#006cff"}:void 0,children:(0,ee.jsx)(E7,{children:Q(e.text)})})},i);if("edit"===h)return(0,ee.jsxs)("div",{className:"flex w-full flex-row items-start gap-3",children:[(0,ee.jsx)("div",{className:"size-8"}),(0,ee.jsx)("div",{className:"min-w-0 flex-1",children:(0,ee.jsx)(TZ,{message:a,regenerate:c,setMessages:l,setMode:p},a.id)})]},i)}if("data-grammarExplanation"===r)return(0,ee.jsx)(Sn,{result:e.data},i);if("data-folkloreResult"===r)return(0,ee.jsx)(Sa,{result:e.data},i);if("data-tavilySearchResult"===r)return(0,ee.jsx)(Sc,{result:e.data},i);if("data-conversationPersona"===r)return(0,ee.jsx)(Sd,{persona:e.data},i);if("data-conversationSceneIntro"===r)return(0,ee.jsx)(Sm,{scene:e.data},i);if("data-conversationEvalFeedback"===r)return(0,ee.jsx)(Sv,{feedback:e.data},i);if("data-conversationUserInputPrompt"===r)return(0,ee.jsx)(S_,{prompt:e.data},i);if("data-topicResults"===r)return(0,ee.jsx)(SI,{data:e.data},i);if("tool-getWeather"===r){let{toolCallId:t,state:n}=e;return(0,ee.jsxs)(TL,{defaultOpen:!0,children:[(0,ee.jsx)(TF,{state:n,type:"tool-getWeather"}),(0,ee.jsxs)(Tj,{children:["input-available"===n&&(0,ee.jsx)(TB,{input:e.input}),"output-available"===n&&(0,ee.jsx)(TH,{errorText:void 0,output:(0,ee.jsx)(S8,{weatherAtLocation:e.output})})]})]},t)}if("tool-createDocument"===r){let{toolCallId:t}=e;return e.output&&"error"in e.output?(0,ee.jsxs)("div",{className:"rounded-lg border border-red-200 bg-red-50 p-4 text-red-500 dark:bg-red-950/50",children:["Error creating document: ",String(e.output.error)]},t):(0,ee.jsx)(Tx,{isReadonly:u,result:e.output},t)}if("tool-updateDocument"===r){let{toolCallId:t}=e;return e.output&&"error"in e.output?(0,ee.jsxs)("div",{className:"rounded-lg border border-red-200 bg-red-50 p-4 text-red-500 dark:bg-red-950/50",children:["Error updating document: ",String(e.output.error)]},t):(0,ee.jsx)("div",{className:"relative",children:(0,ee.jsx)(Tx,{args:{...e.output,isUpdate:!0},isReadonly:u,result:e.output})},t)}if("tool-requestSuggestions"===r){let{toolCallId:t,state:n}=e;return(0,ee.jsxs)(TL,{defaultOpen:!0,children:[(0,ee.jsx)(TF,{state:n,type:"tool-requestSuggestions"}),(0,ee.jsxs)(Tj,{children:["input-available"===n&&(0,ee.jsx)(TB,{input:e.input}),"output-available"===n&&(0,ee.jsx)(TH,{errorText:void 0,output:"error"in e.output?(0,ee.jsxs)("div",{className:"rounded border p-2 text-red-500",children:["Error: ",String(e.output.error)]}):(0,ee.jsx)(Tv,{isReadonly:u,result:e.output,type:"request-suggestions"})})]})]},t)}return null}),!u&&(0,ee.jsx)(TV,{chatId:i,isLoading:o,message:a,setMode:p,vote:s},"action-".concat(a.id))]})]})})},(e,t)=>e.isLoading===t.isLoading&&e.message.id===t.message.id&&e.requiresScrollPadding===t.requiresScrollPadding&&!!(0,en.default)(e.message.parts,t.message.parts)&&(!(0,en.default)(e.vote,t.vote),!1)),we=()=>(0,ee.jsx)(ei.motion.div,{animate:{opacity:1},className:"group/message w-full","data-role":"assistant","data-testid":"message-assistant-loading",initial:{opacity:0},children:(0,ee.jsxs)("div",{className:"flex items-start justify-start gap-3",children:[(0,ee.jsx)("div",{className:"-mt-1 flex size-8 shrink-0 items-center justify-center rounded-full bg-background ring-1 ring-border",children:(0,ee.jsx)(v4.SparklesIcon,{size:14})}),(0,ee.jsx)("div",{className:"flex w-full flex-col gap-2 md:gap-4",children:(0,ee.jsx)("div",{className:"p-0 text-muted-foreground text-sm",children:(0,ee.jsx)(wt,{children:"Thinking..."})})})]})}),wt=e=>{let{children:t}=e;return(0,ee.jsx)(ei.motion.div,{animate:{backgroundPosition:["100% 50%","-100% 50%"]},className:"flex items-center text-transparent",style:{background:"linear-gradient(90deg, hsl(var(--muted-foreground)) 0%, hsl(var(--muted-foreground)) 35%, hsl(var(--foreground)) 50%, hsl(var(--muted-foreground)) 65%, hsl(var(--muted-foreground)) 100%)",backgroundSize:"200% 100%",WebkitBackgroundClip:"text",backgroundClip:"text"},transition:{duration:1.5,repeat:1/0,ease:"linear"},children:t})},wn=(0,P.memo)(function(e){var t;let{chatId:n,status:r,votes:i,messages:a,setMessages:s,regenerate:o,isReadonly:l}=e,{containerRef:c,endRef:u,onViewportEnter:d,onViewportLeave:h,hasSentMessage:p}=Tg({status:r});return(0,ee.jsxs)("div",{className:"flex h-full flex-col items-center gap-4 overflow-y-scroll px-4 pt-20",ref:c,children:[a.map((e,t)=>(0,ee.jsx)(S7,{chatId:n,isLoading:"streaming"===r&&t===a.length-1,isReadonly:l,message:e,regenerate:o,requiresScrollPadding:p&&t===a.length-1,setMessages:s,vote:i?i.find(t=>t.message_id===e.id):void 0},e.id)),"submitted"===r&&a.length>0&&(null==(t=a.at(-1))?void 0:t.role)==="user"&&(0,ee.jsx)(we,{}),(0,ee.jsx)(ei.motion.div,{className:"min-h-[24px] min-w-[24px] shrink-0",onViewportEnter:d,onViewportLeave:h,ref:u})]})},function(e,t){return"streaming"===e.artifactStatus&&"streaming"===t.artifactStatus||e.status===t.status&&(!e.status||!t.status)&&e.messages.length===t.messages.length&&!!(0,en.default)(e.votes,t.votes)});e.s(["MultimodalInput",()=>wO],201105);var wr=e.i(129402),wi=(0,Tu.createServerReference)("40592004c2dee7f30475faccbd268c8d1828d6c16a",Tu.callServer,void 0,Tu.findSourceMapURL,"saveChatModelAsCookie"),wa=e.i(507800);let ws=[{id:"chat-model",name:"Friendly Tutor",description:"A friendly tutor that gives quick, simple, and easy-to-understand explanations.",icon:v4.SparklesIcon},{id:"chat-model-reasoning",name:"Insightful Tutor",description:"An analytical tutor that provides deeper reasoning and detailed grammar insights.",icon:v4.CpuIcon}];var wo=e.i(831361),wl=e.i(243970),wc=e.i(326357);let wu=e=>{let{percent:t}=e,n=2*Math.PI*10,r=n*(1-t/100);return(0,ee.jsxs)("svg",{"aria-label":"".concat(t.toFixed(2),"% of model context used"),height:"28",role:"img",style:{color:"currentcolor"},viewBox:"0 0 ".concat(24," ").concat(24),width:"28",children:[(0,ee.jsx)("circle",{cx:12,cy:12,fill:"none",opacity:"0.25",r:10,stroke:"currentColor",strokeWidth:2}),(0,ee.jsx)("circle",{cx:12,cy:12,fill:"none",opacity:"0.7",r:10,stroke:"currentColor",strokeDasharray:"".concat(n," ").concat(n),strokeDashoffset:r,strokeLinecap:"round",strokeWidth:2,transform:"rotate(-90 ".concat(12," ").concat(12,")")})]})};function wd(e){let{label:t,tokens:n,costText:r}=e;return(0,ee.jsxs)("div",{className:"flex items-center justify-between text-xs",children:[(0,ee.jsx)("span",{className:"text-muted-foreground",children:t}),(0,ee.jsxs)("div",{className:"flex items-center gap-2 font-mono",children:[(0,ee.jsx)("span",{className:"min-w-[4ch] text-right",children:void 0===n?"":n.toLocaleString()}),null!=r&&!Number.isNaN(Number.parseFloat(r))&&(0,ee.jsxs)("span",{className:"text-muted-foreground",children:["$",Number.parseFloat(r).toFixed(6)]})]})]})}let wh=e=>{var t,n,r,i,a,s,o,l,c,u,d,h,p,f,m;let{className:g,usage:y,...b}=e,v=null!=(p=null==y?void 0:y.totalTokens)?p:0,k=null!=(m=null!=(f=null==y||null==(t=y.context)?void 0:t.totalMax)?f:null==y||null==(n=y.context)?void 0:n.combinedMax)?m:null==y||null==(r=y.context)?void 0:r.inputMax,x="number"==typeof k&&Number.isFinite(k)&&k>0,_=x?Math.min(100,v/k*100):0;return(0,ee.jsxs)(wo.DropdownMenu,{children:[(0,ee.jsx)(wo.DropdownMenuTrigger,{asChild:!0,children:(0,ee.jsxs)("button",{className:(0,E8.cn)("inline-flex select-none items-center gap-1 rounded-md text-sm","cursor-pointer bg-background text-foreground",g),type:"button",...b,children:[(0,ee.jsxs)("span",{className:"hidden font-medium text-muted-foreground",children:[_.toFixed(1),"%"]}),(0,ee.jsx)(wu,{percent:_})]})}),(0,ee.jsx)(wo.DropdownMenuContent,{align:"end",className:"w-fit p-3",side:"top",children:(0,ee.jsxs)("div",{className:"min-w-[240px] space-y-2",children:[(0,ee.jsxs)("div",{className:"flex items-start justify-between text-sm",children:[(0,ee.jsxs)("span",{children:[_.toFixed(1),"%"]}),(0,ee.jsx)("span",{className:"text-muted-foreground",children:x?"".concat(v," / ").concat(k," tokens"):"".concat(v," tokens")})]}),(0,ee.jsx)("div",{className:"space-y-2",children:(0,ee.jsx)(wl.Progress,{className:"h-2 bg-muted",value:_})}),(0,ee.jsxs)("div",{className:"mt-1 space-y-1",children:[(null==y?void 0:y.cachedInputTokens)&&y.cachedInputTokens>0&&(0,ee.jsx)(wd,{costText:null==y||null==(a=y.costUSD)||null==(i=a.cacheReadUSD)?void 0:i.toString(),label:"Cache Hits",tokens:null==y?void 0:y.cachedInputTokens}),(0,ee.jsx)(wd,{costText:null==y||null==(o=y.costUSD)||null==(s=o.inputUSD)?void 0:s.toString(),label:"Input",tokens:null==y?void 0:y.inputTokens}),(0,ee.jsx)(wd,{costText:null==y||null==(c=y.costUSD)||null==(l=c.outputUSD)?void 0:l.toString(),label:"Output",tokens:null==y?void 0:y.outputTokens}),(0,ee.jsx)(wd,{costText:null==y||null==(d=y.costUSD)||null==(u=d.reasoningUSD)?void 0:u.toString(),label:"Reasoning",tokens:(null==y?void 0:y.reasoningTokens)&&y.reasoningTokens>0?y.reasoningTokens:void 0}),(null==y||null==(h=y.costUSD)?void 0:h.totalUSD)!==void 0&&(0,ee.jsxs)(ee.Fragment,{children:[(0,ee.jsx)(wc.Separator,{className:"mt-1"}),(0,ee.jsxs)("div",{className:"flex items-center justify-between pt-1 text-xs",children:[(0,ee.jsx)("span",{className:"text-muted-foreground",children:"Total cost"}),(0,ee.jsxs)("div",{className:"flex items-center gap-2 font-mono",children:[(0,ee.jsx)("span",{className:"min-w-[4ch] text-right"}),(0,ee.jsx)("span",{children:Number.isNaN(Number.parseFloat(y.costUSD.totalUSD.toString()))?"":"$".concat(Number.parseFloat(y.costUSD.totalUSD.toString()).toFixed(6))})]})]})]})]})]})})]})};var wp=e.i(557778);let wf=(0,TD.default)("send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]),wm=(0,TD.default)("square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);var wg=e.i(995926);let wy=e=>{let{className:t,...n}=e;return(0,ee.jsx)("form",{className:(0,E8.cn)("w-full overflow-hidden rounded-xl border bg-background shadow-xs",t),suppressHydrationWarning:!0,...n})},wb=e=>{let{onChange:t,className:n,placeholder:r="What would you like to know?",minHeight:i=48,maxHeight:a=164,disableAutoResize:s=!1,resizeOnNewLinesOnly:o=!1,...l}=e;return(0,ee.jsx)(Tq.Textarea,{className:(0,E8.cn)("w-full resize-none rounded-none border-none p-3 shadow-none outline-hidden ring-0",s||o?"field-sizing-fixed":"field-sizing-content max-h-[6lh]","bg-transparent dark:bg-transparent","focus-visible:ring-0",n),name:"message",onChange:e=>{null==t||t(e)},onKeyDown:e=>{if("Enter"===e.key){if(e.nativeEvent.isComposing||e.shiftKey)return;e.preventDefault();let t=e.currentTarget.form;t&&t.requestSubmit()}},placeholder:r,suppressHydrationWarning:!0,...l})},wv=e=>{let{className:t,...n}=e;return(0,ee.jsx)("div",{className:(0,E8.cn)("flex items-center justify-between p-1",t),...n})},wk=e=>{let{className:t,...n}=e;return(0,ee.jsx)("div",{className:(0,E8.cn)("flex items-center gap-1","[&_button:first-child]:rounded-bl-xl",t),...n})},wx=e=>{let{className:t,variant:n="default",size:r="icon",status:i,children:a,...s}=e,o=(0,ee.jsx)(wf,{className:"size-4"});return"submitted"===i?o=(0,ee.jsx)(wp.Loader2Icon,{className:"size-4 animate-spin"}):"streaming"===i?o=(0,ee.jsx)(wm,{className:"size-4"}):"error"===i&&(o=(0,ee.jsx)(wg.XIcon,{className:"size-4"})),(0,ee.jsx)(Tt.Button,{className:(0,E8.cn)("gap-1.5 rounded-lg",t),size:r,type:"submit",variant:n,...s,children:null!=a?a:o})},w_=e=>(0,ee.jsx)(wa.Select,{...e}),wE=e=>{let{className:t,...n}=e;return(0,ee.jsx)(wa.SelectContent,{className:(0,E8.cn)(t),...n})};var wT=e.i(686311);let wS=(0,TD.default)("book-check",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}],["path",{d:"m9 9.5 2 2 4-4",key:"1dth82"}]]),ww=(0,TD.default)("compass",[["path",{d:"m16.24 7.76-1.804 5.411a2 2 0 0 1-1.265 1.265L7.76 16.24l1.804-5.411a2 2 0 0 1 1.265-1.265z",key:"9ktpf1"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);e.i(69578);let wC=e=>{let{suggestion:t,onClick:n,className:r,variant:i="outline",size:a="sm",children:s,...o}=e;return(0,ee.jsx)(Tt.Button,{className:(0,E8.cn)("cursor-pointer rounded-full px-4",r),onClick:()=>{null==n||n(t)},size:a,type:"button",variant:i,...o,children:s||t})},wA=(0,P.memo)(function(e){let{chatId:t,sendMessage:n}=e,r=[{text:"Start a role-play conversation about ordering food",icon:wT.MessageSquare,color:"blue",category:"roleplay"},{text:"Check my Vietnamese grammar for mistakes",icon:wS,color:"purple",category:"grammar_check"},{text:"Recommend Vietnamese learning topics related to travel",icon:ww,color:"emerald",category:"topic_recommendation"},{text:"Search for recent events happening in Ho Chi Minh City",icon:T9.Search,color:"rose",category:"local_events"}];return(0,ee.jsx)("div",{className:"grid w-full gap-2 sm:grid-cols-2","data-testid":"suggested-actions",suppressHydrationWarning:!0,children:r.map((e,r)=>{let i=e.icon,a="purple"===e.color?"text-purple-500":"text-amber-500",s="purple"===e.color?"border-purple-200 hover:border-purple-300":"border-amber-200 hover:border-amber-300",o="purple"===e.color?"hover:bg-purple-50":"hover:bg-amber-50";return(0,ee.jsx)(ei.motion.div,{animate:{opacity:1,y:0},exit:{opacity:0,y:20},initial:{opacity:0,y:20},transition:{delay:.05*r},children:(0,ee.jsx)(wC,{className:(0,E8.cn)("h-auto w-full whitespace-normal border p-3 text-left transition-colors",s,o),onClick:e=>{window.history.replaceState({},"","/ai/chat/".concat(t)),n({role:"user",parts:[{type:"text",text:e}]})},suggestion:e.text,children:(0,ee.jsxs)("div",{className:"flex items-start gap-2",children:[(0,ee.jsx)(i,{className:(0,E8.cn)("mt-0.5 h-4 w-4 flex-shrink-0",a)}),(0,ee.jsx)("span",{className:"text-sm",children:e.text})]})})},e.text)})})},(e,t)=>e.chatId===t.chatId);var wN=e.i(107233),wI=e.i(194983);let wD=[{id:"search",label:"Search Web",description:"Search for current information on the internet",icon:T9.Search,color:"text-blue-500",prompt:"Search for: "},{id:"conversation",label:"Role-play Conversation",description:"Practice Vietnamese with interactive conversations",icon:wI.MessageCircle,color:"text-green-500",prompt:"Start a Vietnamese conversation about: "},{id:"grammar",label:"Explain Grammar",description:"Get detailed Vietnamese grammar explanations",icon:T3.BookOpen,color:"text-purple-500",prompt:"Explain Vietnamese grammar: "},{id:"folklore",label:"Vietnamese Folklore",description:"Discover proverbs, folk songs, and cultural wisdom",icon:Sr.Sparkles,color:"text-amber-500",prompt:"Find Vietnamese proverb or folk song about: "}];function wM(e){let{onToolSelect:t,disabled:n=!1}=e,[r,i]=(0,P.useState)(!1);return(0,ee.jsx)(Tp.TooltipProvider,{children:(0,ee.jsxs)(wo.DropdownMenu,{open:r,onOpenChange:i,children:[(0,ee.jsxs)(Tp.Tooltip,{children:[(0,ee.jsx)(Tp.TooltipTrigger,{asChild:!0,children:(0,ee.jsx)(wo.DropdownMenuTrigger,{asChild:!0,children:(0,ee.jsx)(Tt.Button,{className:"aspect-square h-8 rounded-lg p-1 transition-colors hover:bg-accent",disabled:n,variant:"ghost","data-testid":"tool-selector-button",children:(0,ee.jsx)(wN.Plus,{size:16,className:"transition-transform group-hover:rotate-90"})})})}),(0,ee.jsx)(Tp.TooltipContent,{children:(0,ee.jsx)("p",{children:"Select a tool"})})]}),(0,ee.jsxs)(wo.DropdownMenuContent,{align:"start",className:"w-[280px]",children:[(0,ee.jsx)(wo.DropdownMenuLabel,{children:"Select a Tool"}),(0,ee.jsx)(wo.DropdownMenuSeparator,{}),wD.map(e=>{let n=e.icon;return(0,ee.jsxs)(wo.DropdownMenuItem,{onClick:()=>{t(e),i(!1)},className:"flex cursor-pointer items-start gap-3 p-3",children:[(0,ee.jsx)(n,{className:"mt-0.5 h-5 w-5 flex-shrink-0 ".concat(e.color)}),(0,ee.jsxs)("div",{className:"flex flex-col gap-0.5",children:[(0,ee.jsx)("span",{className:"font-medium text-sm",children:e.label}),(0,ee.jsx)("span",{className:"text-muted-foreground text-xs",children:e.description})]})]},e.id)})]})]})})}let wO=(0,P.memo)(function(e){let{chatId:t,input:n,setInput:r,status:i,stop:a,messages:s,setMessages:o,sendMessage:l,className:c,selectedModelId:u,onModelChange:d,usage:h}=e,p=(0,P.useRef)(null),{width:f}=ep(),m=(0,P.useCallback)(()=>{p.current&&(p.current.style.height="44px")},[]);(0,P.useEffect)(()=>{p.current&&m()},[m]);let g=(0,P.useCallback)(()=>{p.current&&(p.current.style.height="44px")},[]),[y,b]=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{initializeWithValue:r=!0}=n,i=(0,P.useCallback)(e=>n.serializer?n.serializer(e):JSON.stringify(e),[n]),a=(0,P.useCallback)(e=>{let r;if(n.deserializer)return n.deserializer(e);if("undefined"===e)return;let i=t instanceof Function?t():t;try{r=JSON.parse(e)}catch(e){return console.error("Error parsing JSON:",e),i}return r},[n,t]),s=(0,P.useCallback)(()=>{let n=t instanceof Function?t():t;if(eu)return n;try{let t=window.localStorage.getItem(e);return t?a(t):n}catch(t){return console.warn("Error reading localStorage key ".concat(e,":"),t),n}},[t,e,a]),[o,l]=(0,P.useState)(()=>r?s():t instanceof Function?t():t),c=ec(t=>{eu&&console.warn("Tried setting localStorage key ".concat(e," even though environment is not a client"));try{let n=t instanceof Function?t(s()):t;window.localStorage.setItem(e,i(n)),l(n),window.dispatchEvent(new StorageEvent("local-storage",{key:e}))}catch(t){console.warn("Error setting localStorage key ".concat(e,":"),t)}}),u=ec(()=>{eu&&console.warn("Tried removing localStorage key ".concat(e," even though environment is not a client"));let n=t instanceof Function?t():t;window.localStorage.removeItem(e),l(n),window.dispatchEvent(new StorageEvent("local-storage",{key:e}))});(0,P.useEffect)(()=>{l(s())},[e]);let d=(0,P.useCallback)(t=>{t.key&&t.key!==e||l(s())},[e,s]);return el("storage",d),el("local-storage",d),[o,c,u]}("input","");(0,P.useEffect)(()=>{p.current&&(r(p.current.value||y||""),m())},[m,y,r]),(0,P.useEffect)(()=>{b(n)},[n,b]);let v=(0,P.useCallback)(()=>{if(window.history.replaceState({},"","/ai/chat/".concat(t)),l({role:"user",parts:[{type:"text",text:n}]}),b(""),g(),r(""),f&&f>768){var e;null==(e=p.current)||e.focus()}},[n,r,l,b,f,t,g]),k=(0,P.useMemo)(()=>({usage:h}),[h]);return(0,ee.jsxs)("div",{className:(0,E8.cn)("pointer-events-auto relative flex w-full flex-col",c),children:[0===s.length&&(0,ee.jsx)("div",{className:"mb-4",children:(0,ee.jsx)(wA,{chatId:t,sendMessage:l})}),(0,ee.jsxs)(wy,{className:"rounded-xl border border-border bg-background p-3 shadow-xs transition-all duration-200 focus-within:border-border hover:border-muted-foreground/50",onSubmit:e=>{e.preventDefault(),"ready"!==i?ef.toast.error("Please wait for the model to finish its response!"):v()},children:[(0,ee.jsxs)("div",{className:"flex flex-row items-start gap-1 sm:gap-2",children:[(0,ee.jsx)(wb,{autoFocus:!0,className:"grow resize-none border-0! border-none! bg-transparent p-2 text-sm outline-none ring-0 [-ms-overflow-style:none] [scrollbar-width:none] placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-0 focus-visible:ring-offset-0 [&::-webkit-scrollbar]:hidden","data-testid":"multimodal-input",disableAutoResize:!0,maxHeight:200,minHeight:44,onChange:e=>{r(e.target.value)},placeholder:"Send a message...",ref:p,rows:1,value:n})," ",(0,ee.jsx)(wh,{...k})]}),(0,ee.jsxs)(wv,{className:"!border-top-0 border-t-0! p-0 shadow-none dark:border-0 dark:border-transparent!",children:[(0,ee.jsxs)(wk,{className:"gap-0 sm:gap-0.5",children:[(0,ee.jsx)(wM,{onToolSelect:e=>{r(e.prompt),p.current&&p.current.focus()},disabled:"ready"!==i}),(0,ee.jsx)(wR,{onModelChange:d,selectedModelId:u})]}),"ready"!==i?(0,ee.jsx)(wP,{setMessages:o,stop:a}):(0,ee.jsx)(wx,{className:"size-8 rounded-full bg-primary text-primary-foreground transition-colors duration-200 hover:bg-primary/90 disabled:bg-muted disabled:text-muted-foreground",disabled:!n.trim(),status:i,children:(0,ee.jsx)(v4.ArrowUpIcon,{size:14})})]})]})]})},(e,t)=>e.input===t.input&&e.status===t.status&&e.selectedModelId===t.selectedModelId),wR=(0,P.memo)(function(e){let{selectedModelId:t,onModelChange:n}=e,[r,i]=(0,P.useState)(t);(0,P.useEffect)(()=>{i(t)},[t]);let a=ws.find(e=>e.id===r);return(0,ee.jsxs)(w_,{onValueChange:e=>{let t=ws.find(t=>t.name===e);t&&(i(t.id),null==n||n(t.id),(0,P.startTransition)(()=>{wi(t.id)}))},value:null==a?void 0:a.name,children:[(0,ee.jsxs)(wr.Trigger,{className:"flex h-8 items-center gap-2 rounded-lg border-0 bg-background px-2 text-foreground shadow-none transition-colors hover:bg-accent focus:outline-none focus:ring-0 focus-visible:ring-0 focus-visible:ring-offset-0",type:"button",children:[(()=>{let e=(null==a?void 0:a.icon)||v4.CpuIcon;return(0,ee.jsx)(e,{size:16})})(),(0,ee.jsx)("span",{className:"hidden font-medium text-xs sm:block",children:null==a?void 0:a.name}),(0,ee.jsx)(v4.ChevronDownIcon,{size:16})]}),(0,ee.jsx)(wE,{className:"min-w-[260px] p-0",children:(0,ee.jsx)("div",{className:"flex flex-col gap-px",children:ws.map(e=>(0,ee.jsxs)(wa.SelectItem,{value:e.name,children:[(0,ee.jsx)("div",{className:"truncate font-medium text-xs",children:e.name}),(0,ee.jsx)("div",{className:"mt-px truncate text-[10px] text-muted-foreground leading-tight",children:e.description})]},e.id))})})]})}),wP=(0,P.memo)(function(e){let{stop:t,setMessages:n}=e;return(0,ee.jsx)(Tt.Button,{className:"size-7 rounded-full bg-foreground p-1 text-background transition-colors duration-200 hover:bg-foreground/90 disabled:bg-muted disabled:text-muted-foreground","data-testid":"stop-button",onClick:e=>{e.preventDefault(),t(),n(e=>e)},children:(0,ee.jsx)(v4.StopIcon,{size:14})})});var wL=e.i(887652),wF=e.i(895420),wj=e.i(148077);let wB=e=>{let{description:t,icon:n,selectedTool:r,setSelectedTool:i,isToolbarVisible:a,setIsToolbarVisible:s,isAnimating:o,sendMessage:l,onClick:c}=e,[u,d]=(0,P.useState)(!1);(0,P.useEffect)(()=>{r!==t&&d(!1)},[r,t]);let h=()=>{if(!a&&s)return void s(!0);if(!r){d(!0),i(t);return}r!==t?i(t):(i(null),c({sendMessage:l}))};return(0,ee.jsxs)(Tp.Tooltip,{open:u&&!o,children:[(0,ee.jsx)(Tp.TooltipTrigger,{asChild:!0,children:(0,ee.jsx)(ei.motion.div,{animate:{opacity:1,transition:{delay:.1}},className:(0,SD.default)("rounded-full p-3",{"bg-primary text-primary-foreground!":r===t}),exit:{scale:.9,opacity:0,transition:{duration:.1}},initial:{scale:1,opacity:0},onClick:()=>{h()},onHoverEnd:()=>{r!==t&&d(!1)},onHoverStart:()=>{d(!0)},onKeyDown:e=>{"Enter"===e.key&&h()},whileHover:{scale:1.1},whileTap:{scale:.95},children:r===t?(0,ee.jsx)(v4.ArrowUpIcon,{}):n})}),(0,ee.jsx)(Tp.TooltipContent,{className:"rounded-2xl bg-foreground p-3 px-4 text-background",side:"left",sideOffset:16,children:t})]})},wH=[...Array(6)].map(e=>(0,wj.nanoid)(5)),wU=e=>{let{setSelectedTool:t,sendMessage:n,isAnimating:r}=e,i=["Elementary","Middle School","Keep current level","High School","College","Graduate"],a=(0,wL.useMotionValue)(-80),s=(0,wF.useTransform)(a,[0,-202],[0,5]),[o,l]=(0,P.useState)(2),[c,u]=(0,P.useState)(!1);return(0,P.useEffect)(()=>{let e=s.on("change",e=>{l(Math.min(5,Math.max(0,Math.round(Math.abs(e)))))});return()=>e()},[s]),(0,ee.jsxs)("div",{className:"relative flex flex-col items-center justify-end",children:[wH.map(e=>(0,ee.jsx)(ei.motion.div,{animate:{opacity:1},className:"flex size-[40px] flex-row items-center justify-center",exit:{opacity:0},initial:{opacity:0},transition:{delay:.1},children:(0,ee.jsx)("div",{className:"size-2 rounded-full bg-muted-foreground/40"})},e)),(0,ee.jsx)(Tp.TooltipProvider,{children:(0,ee.jsxs)(Tp.Tooltip,{open:!r,children:[(0,ee.jsx)(Tp.TooltipTrigger,{asChild:!0,children:(0,ee.jsx)(ei.motion.div,{className:(0,SD.default)("absolute flex flex-row items-center rounded-full border bg-background p-3",{"bg-primary text-primary-foreground":2!==o,"bg-background text-foreground":2===o}),drag:"y",dragConstraints:{top:-202,bottom:0},dragElastic:0,dragMomentum:!1,onClick:()=>{2!==o&&c&&(n({role:"user",parts:[{type:"text",text:"Please adjust the reading level to ".concat(i[o]," level.")}]}),t(null))},onDragEnd:()=>{2===o?t(null):u(!0)},onDragStart:()=>{u(!1)},style:{y:a},transition:{duration:.1},whileHover:{scale:1.05},whileTap:{scale:.95},children:2===o?(0,ee.jsx)(v4.SummarizeIcon,{}):(0,ee.jsx)(v4.ArrowUpIcon,{})})}),(0,ee.jsx)(Tp.TooltipContent,{className:"rounded-2xl bg-foreground p-3 px-4 text-background text-sm",side:"left",sideOffset:16,children:i[o]})]})})]})},wz=e=>{let{isToolbarVisible:t,selectedTool:n,setSelectedTool:r,sendMessage:i,isAnimating:a,setIsToolbarVisible:s,tools:o}=e,[l,...c]=o;return(0,ee.jsxs)(ei.motion.div,{animate:{opacity:1,scale:1},className:"flex flex-col gap-1.5",exit:{opacity:0,scale:.95},initial:{opacity:0,scale:.95},children:[(0,ee.jsx)(er.AnimatePresence,{children:t&&c.map(e=>(0,ee.jsx)(wB,{description:e.description,icon:e.icon,isAnimating:a,onClick:t=>{let{sendMessage:n}=t;e.onClick({sendMessage:n})},selectedTool:n,sendMessage:i,setSelectedTool:r},e.description))}),(0,ee.jsx)(wB,{description:l.description,icon:l.icon,isAnimating:a,isToolbarVisible:t,onClick:e=>{let{sendMessage:t}=e;l.onClick({sendMessage:t})},selectedTool:n,sendMessage:i,setIsToolbarVisible:s,setSelectedTool:r})]})},wV=(0,P.memo)(e=>{let{isToolbarVisible:t,setIsToolbarVisible:n,sendMessage:r,status:i,stop:a,setMessages:s,artifactKind:o}=e,l=(0,P.useRef)(null),c=(0,P.useRef)(void 0),[u,d]=(0,P.useState)(null),[h,p]=(0,P.useState)(!1);!function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"mousedown",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};el(n,n=>{let r=n.target;r&&r.isConnected&&(Array.isArray(e)?e.filter(e=>!!e.current).every(e=>e.current&&!e.current.contains(r)):e.current&&!e.current.contains(r))&&t(n)},void 0,r)}(l,()=>{n(!1),d(null)}),(0,P.useEffect)(()=>()=>{c.current&&clearTimeout(c.current)},[]),(0,P.useEffect)(()=>{"streaming"===i&&n(!1)},[i,n]);let f=wZ.find(e=>e.kind===o);if(!f)throw Error("Artifact definition not found!");let m=f.toolbar;return 0===m.length?null:(0,ee.jsx)(Tp.TooltipProvider,{delayDuration:0,children:(0,ee.jsx)(ei.motion.div,{animate:t?"adjust-reading-level"===u?{opacity:1,y:0,height:258,transition:{delay:0},scale:.95}:{opacity:1,y:0,height:50*m.length,transition:{delay:0},scale:1}:{opacity:1,y:0,height:54,transition:{delay:0}},className:"absolute right-6 bottom-6 flex cursor-pointer flex-col justify-end rounded-full border bg-background p-1.5 shadow-lg",exit:{opacity:0,y:-20,transition:{duration:.1}},initial:{opacity:0,y:-20,scale:1},onAnimationComplete:()=>{p(!1)},onAnimationStart:()=>{p(!0)},onHoverEnd:()=>{"streaming"!==i&&(c.current&&clearTimeout(c.current),c.current=setTimeout(()=>{d(null),n(!1)},2e3))},onHoverStart:()=>{"streaming"!==i&&(c.current&&clearTimeout(c.current),n(!0))},ref:l,transition:{type:"spring",stiffness:300,damping:25},children:"streaming"===i?(0,ee.jsx)(ei.motion.div,{animate:{scale:1.4},className:"p-3",exit:{scale:1},initial:{scale:1},onClick:()=>{a(),s(e=>e)},children:(0,ee.jsx)(v4.StopIcon,{})},"stop-icon"):"adjust-reading-level"===u?(0,ee.jsx)(wU,{isAnimating:h,sendMessage:r,setSelectedTool:d},"reading-level-selector"):(0,ee.jsx)(wz,{isAnimating:h,isToolbarVisible:t,selectedTool:u,sendMessage:r,setIsToolbarVisible:n,setSelectedTool:d,tools:m},"tools")})})},(e,t)=>e.status===t.status&&e.isToolbarVisible===t.isToolbarVisible&&e.artifactKind===t.artifactKind);var wG=e.i(396644);let wq=e=>{let{handleVersionChange:t,documents:n,currentVersionIndex:r}=e,{artifact:i}=B(),{width:a}=ep(),s=a<768,{mutate:o}=(0,ea.useSWRConfig)(),[l,c]=(0,P.useState)(!1);if(n)return(0,ee.jsxs)(ei.motion.div,{animate:{y:0},className:"absolute bottom-0 z-50 flex w-full flex-col justify-between gap-4 border-t bg-background p-4 lg:flex-row",exit:{y:s?200:77},initial:{y:s?200:77},transition:{type:"spring",stiffness:140,damping:20},children:[(0,ee.jsxs)("div",{children:[(0,ee.jsx)("div",{children:"You are viewing a previous version"}),(0,ee.jsx)("div",{className:"text-muted-foreground text-sm",children:"Restore this version to make edits"})]}),(0,ee.jsxs)("div",{className:"flex flex-row gap-4",children:[(0,ee.jsxs)(Tt.Button,{disabled:l,onClick:async()=>{c(!0),o("/api/document?id=".concat(i.documentId),await fetch("/api/document?id=".concat(i.documentId,"&timestamp=").concat(J(n,r)),{method:"DELETE"}),{optimisticData:n?[...n.filter(e=>{var t,i;return t=new Date(e.createdAt),i=new Date(J(n,r)),+(0,q.toDate)(t)>+(0,q.toDate)(i)})]:[]})},children:[(0,ee.jsx)("div",{children:"Restore this version"}),l&&(0,ee.jsx)("div",{className:"animate-spin",children:(0,ee.jsx)(v4.LoaderIcon,{})})]}),(0,ee.jsx)(Tt.Button,{onClick:()=>{t("latest")},variant:"outline",children:"Back to latest version"})]})]})},wZ=[Th],w$=(0,P.memo)(function(e){let{chatId:t,input:n,setInput:r,status:i,stop:a,sendMessage:s,messages:o,setMessages:l,regenerate:c,votes:u,isReadonly:d,selectedModelId:h}=e,{artifact:p,setArtifact:f,metadata:m,setMetadata:g}=B(),{data:y,isLoading:b,mutate:v}=(0,L.default)("init"!==p.documentId&&"streaming"!==p.status?"/api/document?id=".concat(p.documentId):null,W),[k,x]=(0,P.useState)("edit"),[_,E]=(0,P.useState)(null),[T,S]=(0,P.useState)(-1),{open:w}=(0,wG.useSidebar)();(0,P.useEffect)(()=>{if(y&&y.length>0){let e=y.at(-1);e&&(E(e),S(y.length-1),f(t=>{var n;return{...t,content:null!=(n=e.content)?n:""}}))}},[y,f]),(0,P.useEffect)(()=>{v()},[v]);let{mutate:C}=(0,ea.useSWRConfig)(),[A,N]=(0,P.useState)(!1),I=(0,P.useCallback)(e=>{p&&C("/api/document?id=".concat(p.documentId),async t=>{if(!t)return[];let n=t.at(-1);return n&&n.content?n.content!==e?(await fetch("/api/document?id=".concat(p.documentId),{method:"POST",body:JSON.stringify({title:p.title,content:e,kind:p.kind})}),N(!1),[...t,{...n,content:e,createdAt:new Date}]):t:(N(!1),t)},{revalidate:!1})},[p,C]),D=ed(I,2e3),M=(0,P.useCallback)((e,t)=>{_&&e!==_.content&&(N(!0),t?D(e):I(e))},[_,D,I]);function O(e){var t;return y&&y[e]&&null!=(t=y[e].content)?t:""}let R=e=>{y&&("latest"===e&&(S(y.length-1),x("edit")),"toggle"===e&&x(e=>"edit"===e?"diff":"edit"),"prev"===e?T>0&&S(e=>e-1):"next"===e&&T<y.length-1&&S(e=>e+1))},[F,j]=(0,P.useState)(!1),H=!y||!(y.length>0)||T===y.length-1,{width:U,height:z}=ep(),V=!!U&&U<768,G=wZ.find(e=>e.kind===p.kind);if(!G)throw Error("Artifact definition not found!");return(0,P.useEffect)(()=>{"init"!==p.documentId&&G.initialize&&G.initialize({documentId:p.documentId,setMetadata:g})},[p.documentId,G,g]),(0,ee.jsx)(er.AnimatePresence,{children:p.isVisible&&(0,ee.jsxs)(ei.motion.div,{animate:{opacity:1},className:"fixed top-0 left-0 z-50 flex h-dvh w-dvw flex-row bg-transparent","data-testid":"artifact",exit:{opacity:0,transition:{delay:.4}},initial:{opacity:1},children:[!V&&(0,ee.jsx)(ei.motion.div,{animate:{width:U,right:0},className:"fixed h-dvh bg-background",exit:{width:w?U-256:U,right:0},initial:{width:w?U-256:U,right:0}}),!V&&(0,ee.jsxs)(ei.motion.div,{animate:{opacity:1,x:0,scale:1,transition:{delay:.1,type:"spring",stiffness:300,damping:30}},className:"relative h-dvh w-[400px] shrink-0 bg-muted dark:bg-background",exit:{opacity:0,x:0,scale:1,transition:{duration:0}},initial:{opacity:0,x:10,scale:1},children:[(0,ee.jsx)(er.AnimatePresence,{children:!H&&(0,ee.jsx)(ei.motion.div,{animate:{opacity:1},className:"absolute top-0 left-0 z-50 h-dvh w-[400px] bg-zinc-900/50",exit:{opacity:0},initial:{opacity:0}})}),(0,ee.jsxs)("div",{className:"flex h-full flex-col items-center justify-between",children:[(0,ee.jsx)(wn,{artifactStatus:p.status,chatId:t,isReadonly:d,messages:o,regenerate:c,setMessages:l,status:i,votes:u}),(0,ee.jsx)("div",{className:"relative flex w-full flex-row items-end gap-2 px-4 pb-4",children:(0,ee.jsx)(wO,{chatId:t,className:"bg-background dark:bg-muted",input:n,messages:o,selectedModelId:h,sendMessage:s,setInput:r,setMessages:l,status:i,stop:a})})]})]}),(0,ee.jsxs)(ei.motion.div,{animate:V?{opacity:1,x:0,y:0,height:z,width:U||"calc(100dvw)",borderRadius:0,transition:{delay:0,type:"spring",stiffness:300,damping:30,duration:.8}}:{opacity:1,x:400,y:0,height:z,width:U?U-400:"calc(100dvw-400px)",borderRadius:0,transition:{delay:0,type:"spring",stiffness:300,damping:30,duration:.8}},className:"fixed flex h-dvh flex-col overflow-y-scroll border-zinc-200 bg-background md:border-l dark:border-zinc-700 dark:bg-muted",exit:{opacity:0,scale:.5,transition:{delay:.1,type:"spring",stiffness:600,damping:30}},initial:{opacity:1,x:p.boundingBox.left,y:p.boundingBox.top,height:p.boundingBox.height,width:p.boundingBox.width,borderRadius:50},children:[(0,ee.jsxs)("div",{className:"flex flex-row items-start justify-between p-2",children:[(0,ee.jsxs)("div",{className:"flex flex-row items-start gap-4",children:[(0,ee.jsx)(Tm,{}),(0,ee.jsxs)("div",{className:"flex flex-col",children:[(0,ee.jsx)("div",{className:"font-medium",children:p.title}),A?(0,ee.jsx)("div",{className:"text-muted-foreground text-sm",children:"Saving changes..."}):_?(0,ee.jsx)("div",{className:"text-muted-foreground text-sm",children:(()=>{let e=new Date(_.created_at||_.createdAt);return isNaN(e.getTime())?"Recently updated":"Updated ".concat((0,et.formatDistance)(e,new Date,{addSuffix:!0}))})()}):(0,ee.jsx)("div",{className:"mt-2 h-3 w-32 animate-pulse rounded-md bg-muted-foreground/20"})]})]}),(0,ee.jsx)(Tf,{artifact:p,currentVersionIndex:T,handleVersionChange:R,isCurrentVersion:H,metadata:m,mode:k,setMetadata:g})]}),(0,ee.jsxs)("div",{className:"h-full max-w-full! items-center overflow-y-scroll bg-background dark:bg-muted",children:[(0,ee.jsx)(G.content,{content:H?p.content:O(T),currentVersionIndex:T,getDocumentContentById:O,isCurrentVersion:H,isInline:!1,isLoading:b&&!p.content,metadata:m,mode:k,onSaveContent:M,setMetadata:g,status:p.status,suggestions:[],title:p.title}),(0,ee.jsx)(er.AnimatePresence,{children:H&&(0,ee.jsx)(wV,{artifactKind:p.kind,isToolbarVisible:F,sendMessage:s,setIsToolbarVisible:j,setMessages:l,status:i,stop:a})})]}),(0,ee.jsx)(er.AnimatePresence,{children:!H&&(0,ee.jsx)(wq,{currentVersionIndex:T,documents:y,handleVersionChange:R})})]})]})})},(e,t)=>e.status===t.status&&!!(0,en.default)(e.votes,t.votes)&&e.input===t.input&&!!(0,en.default)(e.messages,t.messages.length))},298821,722219,952598,990715,e=>{"use strict";e.s([],298821),e.i(292135),e.s(["$ZodAny",()=>a.$ZodAny,"$ZodArray",()=>a.$ZodArray,"$ZodAsyncError",()=>n.$ZodAsyncError,"$ZodBase64",()=>a.$ZodBase64,"$ZodBase64URL",()=>a.$ZodBase64URL,"$ZodBigInt",()=>a.$ZodBigInt,"$ZodBigIntFormat",()=>a.$ZodBigIntFormat,"$ZodBoolean",()=>a.$ZodBoolean,"$ZodCIDRv4",()=>a.$ZodCIDRv4,"$ZodCIDRv6",()=>a.$ZodCIDRv6,"$ZodCUID",()=>a.$ZodCUID,"$ZodCUID2",()=>a.$ZodCUID2,"$ZodCatch",()=>a.$ZodCatch,"$ZodCheck",()=>s.$ZodCheck,"$ZodCheckBigIntFormat",()=>s.$ZodCheckBigIntFormat,"$ZodCheckEndsWith",()=>s.$ZodCheckEndsWith,"$ZodCheckGreaterThan",()=>s.$ZodCheckGreaterThan,"$ZodCheckIncludes",()=>s.$ZodCheckIncludes,"$ZodCheckLengthEquals",()=>s.$ZodCheckLengthEquals,"$ZodCheckLessThan",()=>s.$ZodCheckLessThan,"$ZodCheckLowerCase",()=>s.$ZodCheckLowerCase,"$ZodCheckMaxLength",()=>s.$ZodCheckMaxLength,"$ZodCheckMaxSize",()=>s.$ZodCheckMaxSize,"$ZodCheckMimeType",()=>s.$ZodCheckMimeType,"$ZodCheckMinLength",()=>s.$ZodCheckMinLength,"$ZodCheckMinSize",()=>s.$ZodCheckMinSize,"$ZodCheckMultipleOf",()=>s.$ZodCheckMultipleOf,"$ZodCheckNumberFormat",()=>s.$ZodCheckNumberFormat,"$ZodCheckOverwrite",()=>s.$ZodCheckOverwrite,"$ZodCheckProperty",()=>s.$ZodCheckProperty,"$ZodCheckRegex",()=>s.$ZodCheckRegex,"$ZodCheckSizeEquals",()=>s.$ZodCheckSizeEquals,"$ZodCheckStartsWith",()=>s.$ZodCheckStartsWith,"$ZodCheckStringFormat",()=>s.$ZodCheckStringFormat,"$ZodCheckUpperCase",()=>s.$ZodCheckUpperCase,"$ZodCodec",()=>a.$ZodCodec,"$ZodCustom",()=>a.$ZodCustom,"$ZodCustomStringFormat",()=>a.$ZodCustomStringFormat,"$ZodDate",()=>a.$ZodDate,"$ZodDefault",()=>a.$ZodDefault,"$ZodDiscriminatedUnion",()=>a.$ZodDiscriminatedUnion,"$ZodE164",()=>a.$ZodE164,"$ZodEmail",()=>a.$ZodEmail,"$ZodEmoji",()=>a.$ZodEmoji,"$ZodEncodeError",()=>n.$ZodEncodeError,"$ZodEnum",()=>a.$ZodEnum,"$ZodError",()=>i.$ZodError,"$ZodFile",()=>a.$ZodFile,"$ZodFunction",()=>a.$ZodFunction,"$ZodGUID",()=>a.$ZodGUID,"$ZodIPv4",()=>a.$ZodIPv4,"$ZodIPv6",()=>a.$ZodIPv6,"$ZodISODate",()=>a.$ZodISODate,"$ZodISODateTime",()=>a.$ZodISODateTime,"$ZodISODuration",()=>a.$ZodISODuration,"$ZodISOTime",()=>a.$ZodISOTime,"$ZodIntersection",()=>a.$ZodIntersection,"$ZodJWT",()=>a.$ZodJWT,"$ZodKSUID",()=>a.$ZodKSUID,"$ZodLazy",()=>a.$ZodLazy,"$ZodLiteral",()=>a.$ZodLiteral,"$ZodMap",()=>a.$ZodMap,"$ZodNaN",()=>a.$ZodNaN,"$ZodNanoID",()=>a.$ZodNanoID,"$ZodNever",()=>a.$ZodNever,"$ZodNonOptional",()=>a.$ZodNonOptional,"$ZodNull",()=>a.$ZodNull,"$ZodNullable",()=>a.$ZodNullable,"$ZodNumber",()=>a.$ZodNumber,"$ZodNumberFormat",()=>a.$ZodNumberFormat,"$ZodObject",()=>a.$ZodObject,"$ZodObjectJIT",()=>a.$ZodObjectJIT,"$ZodOptional",()=>a.$ZodOptional,"$ZodPipe",()=>a.$ZodPipe,"$ZodPrefault",()=>a.$ZodPrefault,"$ZodPromise",()=>a.$ZodPromise,"$ZodReadonly",()=>a.$ZodReadonly,"$ZodRealError",()=>i.$ZodRealError,"$ZodRecord",()=>a.$ZodRecord,"$ZodRegistry",()=>d.$ZodRegistry,"$ZodSet",()=>a.$ZodSet,"$ZodString",()=>a.$ZodString,"$ZodStringFormat",()=>a.$ZodStringFormat,"$ZodSuccess",()=>a.$ZodSuccess,"$ZodSymbol",()=>a.$ZodSymbol,"$ZodTemplateLiteral",()=>a.$ZodTemplateLiteral,"$ZodTransform",()=>a.$ZodTransform,"$ZodTuple",()=>a.$ZodTuple,"$ZodType",()=>a.$ZodType,"$ZodULID",()=>a.$ZodULID,"$ZodURL",()=>a.$ZodURL,"$ZodUUID",()=>a.$ZodUUID,"$ZodUndefined",()=>a.$ZodUndefined,"$ZodUnion",()=>a.$ZodUnion,"$ZodUnknown",()=>a.$ZodUnknown,"$ZodVoid",()=>a.$ZodVoid,"$ZodXID",()=>a.$ZodXID,"$brand",()=>n.$brand,"$constructor",()=>n.$constructor,"$input",()=>d.$input,"$output",()=>d.$output,"Doc",()=>h.Doc,"JSONSchema",()=>m,"JSONSchemaGenerator",()=>f.JSONSchemaGenerator,"NEVER",()=>n.NEVER,"TimePrecision",()=>p.TimePrecision,"_any",()=>p._any,"_array",()=>p._array,"_base64",()=>p._base64,"_base64url",()=>p._base64url,"_bigint",()=>p._bigint,"_boolean",()=>p._boolean,"_catch",()=>p._catch,"_check",()=>p._check,"_cidrv4",()=>p._cidrv4,"_cidrv6",()=>p._cidrv6,"_coercedBigint",()=>p._coercedBigint,"_coercedBoolean",()=>p._coercedBoolean,"_coercedDate",()=>p._coercedDate,"_coercedNumber",()=>p._coercedNumber,"_coercedString",()=>p._coercedString,"_cuid",()=>p._cuid,"_cuid2",()=>p._cuid2,"_custom",()=>p._custom,"_date",()=>p._date,"_decode",()=>r._decode,"_decodeAsync",()=>r._decodeAsync,"_default",()=>p._default,"_discriminatedUnion",()=>p._discriminatedUnion,"_e164",()=>p._e164,"_email",()=>p._email,"_emoji",()=>p._emoji,"_encode",()=>r._encode,"_encodeAsync",()=>r._encodeAsync,"_endsWith",()=>p._endsWith,"_enum",()=>p._enum,"_file",()=>p._file,"_float32",()=>p._float32,"_float64",()=>p._float64,"_gt",()=>p._gt,"_gte",()=>p._gte,"_guid",()=>p._guid,"_includes",()=>p._includes,"_int",()=>p._int,"_int32",()=>p._int32,"_int64",()=>p._int64,"_intersection",()=>p._intersection,"_ipv4",()=>p._ipv4,"_ipv6",()=>p._ipv6,"_isoDate",()=>p._isoDate,"_isoDateTime",()=>p._isoDateTime,"_isoDuration",()=>p._isoDuration,"_isoTime",()=>p._isoTime,"_jwt",()=>p._jwt,"_ksuid",()=>p._ksuid,"_lazy",()=>p._lazy,"_length",()=>p._length,"_literal",()=>p._literal,"_lowercase",()=>p._lowercase,"_lt",()=>p._lt,"_lte",()=>p._lte,"_map",()=>p._map,"_max",()=>p._max,"_maxLength",()=>p._maxLength,"_maxSize",()=>p._maxSize,"_mime",()=>p._mime,"_min",()=>p._min,"_minLength",()=>p._minLength,"_minSize",()=>p._minSize,"_multipleOf",()=>p._multipleOf,"_nan",()=>p._nan,"_nanoid",()=>p._nanoid,"_nativeEnum",()=>p._nativeEnum,"_negative",()=>p._negative,"_never",()=>p._never,"_nonnegative",()=>p._nonnegative,"_nonoptional",()=>p._nonoptional,"_nonpositive",()=>p._nonpositive,"_normalize",()=>p._normalize,"_null",()=>p._null,"_nullable",()=>p._nullable,"_number",()=>p._number,"_optional",()=>p._optional,"_overwrite",()=>p._overwrite,"_parse",()=>r._parse,"_parseAsync",()=>r._parseAsync,"_pipe",()=>p._pipe,"_positive",()=>p._positive,"_promise",()=>p._promise,"_property",()=>p._property,"_readonly",()=>p._readonly,"_record",()=>p._record,"_refine",()=>p._refine,"_regex",()=>p._regex,"_safeDecode",()=>r._safeDecode,"_safeDecodeAsync",()=>r._safeDecodeAsync,"_safeEncode",()=>r._safeEncode,"_safeEncodeAsync",()=>r._safeEncodeAsync,"_safeParse",()=>r._safeParse,"_safeParseAsync",()=>r._safeParseAsync,"_set",()=>p._set,"_size",()=>p._size,"_startsWith",()=>p._startsWith,"_string",()=>p._string,"_stringFormat",()=>p._stringFormat,"_stringbool",()=>p._stringbool,"_success",()=>p._success,"_superRefine",()=>p._superRefine,"_symbol",()=>p._symbol,"_templateLiteral",()=>p._templateLiteral,"_toLowerCase",()=>p._toLowerCase,"_toUpperCase",()=>p._toUpperCase,"_transform",()=>p._transform,"_trim",()=>p._trim,"_tuple",()=>p._tuple,"_uint32",()=>p._uint32,"_uint64",()=>p._uint64,"_ulid",()=>p._ulid,"_undefined",()=>p._undefined,"_union",()=>p._union,"_unknown",()=>p._unknown,"_uppercase",()=>p._uppercase,"_url",()=>p._url,"_uuid",()=>p._uuid,"_uuidv4",()=>p._uuidv4,"_uuidv6",()=>p._uuidv6,"_uuidv7",()=>p._uuidv7,"_void",()=>p._void,"_xid",()=>p._xid,"clone",()=>a.clone,"config",()=>n.config,"decode",()=>r.decode,"decodeAsync",()=>r.decodeAsync,"encode",()=>r.encode,"encodeAsync",()=>r.encodeAsync,"flattenError",()=>i.flattenError,"formatError",()=>i.formatError,"globalConfig",()=>n.globalConfig,"globalRegistry",()=>d.globalRegistry,"isValidBase64",()=>a.isValidBase64,"isValidBase64URL",()=>a.isValidBase64URL,"isValidJWT",()=>a.isValidJWT,"locales",()=>u,"parse",()=>r.parse,"parseAsync",()=>r.parseAsync,"prettifyError",()=>i.prettifyError,"regexes",()=>c,"registry",()=>d.registry,"safeDecode",()=>r.safeDecode,"safeDecodeAsync",()=>r.safeDecodeAsync,"safeEncode",()=>r.safeEncode,"safeEncodeAsync",()=>r.safeEncodeAsync,"safeParse",()=>r.safeParse,"safeParseAsync",()=>r.safeParseAsync,"toDotPath",()=>i.toDotPath,"toJSONSchema",()=>f.toJSONSchema,"treeifyError",()=>i.treeifyError,"util",()=>l,"version",()=>o.version],712717);var t,n=e.i(197753),r=e.i(803108),i=e.i(374969),a=e.i(532952),s=e.i(355605),o=e.i(398477),l=e.i(922143),c=e.i(682358),u=e.i(554580),d=e.i(525527),h=e.i(698530),p=e.i(650215),f=e.i(34966),m=e.i(818249),g=e.i(712717),y=e.i(362201);e.i(342332);var b=e.i(789282),v=e.i(100364);e.s(["ZodFirstPartyTypeKind",()=>t,"ZodIssueCode",()=>k,"getErrorMap",()=>_,"setErrorMap",()=>x],306034);let k={invalid_type:"invalid_type",too_big:"too_big",too_small:"too_small",invalid_format:"invalid_format",not_multiple_of:"not_multiple_of",unrecognized_keys:"unrecognized_keys",invalid_union:"invalid_union",invalid_key:"invalid_key",invalid_element:"invalid_element",invalid_value:"invalid_value",custom:"custom"};function x(e){n.config({customError:e})}function _(){return n.config().customError}t||(t={});var E=e.i(40824);e.i(543365);var T=e.i(49732);function S(e){return p._coercedString(y.ZodString,e)}function w(e){return p._coercedNumber(y.ZodNumber,e)}function C(e){return p._coercedBoolean(y.ZodBoolean,e)}function A(e){return p._coercedBigint(y.ZodBigInt,e)}function N(e){return p._coercedDate(y.ZodDate,e)}e.s(["bigint",()=>A,"boolean",()=>C,"date",()=>N,"number",()=>w,"string",()=>S],313657);var I=e.i(313657);(0,n.config)((0,E.default)()),e.s(["$brand",()=>j.$brand,"$input",()=>F.$input,"$output",()=>F.$output,"NEVER",()=>j.NEVER,"TimePrecision",()=>V.TimePrecision,"ZodAny",()=>M.ZodAny,"ZodArray",()=>M.ZodArray,"ZodBase64",()=>M.ZodBase64,"ZodBase64URL",()=>M.ZodBase64URL,"ZodBigInt",()=>M.ZodBigInt,"ZodBigIntFormat",()=>M.ZodBigIntFormat,"ZodBoolean",()=>M.ZodBoolean,"ZodCIDRv4",()=>M.ZodCIDRv4,"ZodCIDRv6",()=>M.ZodCIDRv6,"ZodCUID",()=>M.ZodCUID,"ZodCUID2",()=>M.ZodCUID2,"ZodCatch",()=>M.ZodCatch,"ZodCodec",()=>M.ZodCodec,"ZodCustom",()=>M.ZodCustom,"ZodCustomStringFormat",()=>M.ZodCustomStringFormat,"ZodDate",()=>M.ZodDate,"ZodDefault",()=>M.ZodDefault,"ZodDiscriminatedUnion",()=>M.ZodDiscriminatedUnion,"ZodE164",()=>M.ZodE164,"ZodEmail",()=>M.ZodEmail,"ZodEmoji",()=>M.ZodEmoji,"ZodEnum",()=>M.ZodEnum,"ZodError",()=>R.ZodError,"ZodFile",()=>M.ZodFile,"ZodFirstPartyTypeKind",()=>t,"ZodFunction",()=>M.ZodFunction,"ZodGUID",()=>M.ZodGUID,"ZodIPv4",()=>M.ZodIPv4,"ZodIPv6",()=>M.ZodIPv6,"ZodISODate",()=>Z.ZodISODate,"ZodISODateTime",()=>Z.ZodISODateTime,"ZodISODuration",()=>Z.ZodISODuration,"ZodISOTime",()=>Z.ZodISOTime,"ZodIntersection",()=>M.ZodIntersection,"ZodIssueCode",()=>k,"ZodJWT",()=>M.ZodJWT,"ZodKSUID",()=>M.ZodKSUID,"ZodLazy",()=>M.ZodLazy,"ZodLiteral",()=>M.ZodLiteral,"ZodMap",()=>M.ZodMap,"ZodNaN",()=>M.ZodNaN,"ZodNanoID",()=>M.ZodNanoID,"ZodNever",()=>M.ZodNever,"ZodNonOptional",()=>M.ZodNonOptional,"ZodNull",()=>M.ZodNull,"ZodNullable",()=>M.ZodNullable,"ZodNumber",()=>M.ZodNumber,"ZodNumberFormat",()=>M.ZodNumberFormat,"ZodObject",()=>M.ZodObject,"ZodOptional",()=>M.ZodOptional,"ZodPipe",()=>M.ZodPipe,"ZodPrefault",()=>M.ZodPrefault,"ZodPromise",()=>M.ZodPromise,"ZodReadonly",()=>M.ZodReadonly,"ZodRealError",()=>R.ZodRealError,"ZodRecord",()=>M.ZodRecord,"ZodSet",()=>M.ZodSet,"ZodString",()=>M.ZodString,"ZodStringFormat",()=>M.ZodStringFormat,"ZodSuccess",()=>M.ZodSuccess,"ZodSymbol",()=>M.ZodSymbol,"ZodTemplateLiteral",()=>M.ZodTemplateLiteral,"ZodTransform",()=>M.ZodTransform,"ZodTuple",()=>M.ZodTuple,"ZodType",()=>M.ZodType,"ZodULID",()=>M.ZodULID,"ZodURL",()=>M.ZodURL,"ZodUUID",()=>M.ZodUUID,"ZodUndefined",()=>M.ZodUndefined,"ZodUnion",()=>M.ZodUnion,"ZodUnknown",()=>M.ZodUnknown,"ZodVoid",()=>M.ZodVoid,"ZodXID",()=>M.ZodXID,"_ZodString",()=>M._ZodString,"_default",()=>M._default,"_function",()=>M._function,"any",()=>M.any,"array",()=>M.array,"base64",()=>M.base64,"base64url",()=>M.base64url,"bigint",()=>M.bigint,"boolean",()=>M.boolean,"catch",()=>M.catch,"check",()=>M.check,"cidrv4",()=>M.cidrv4,"cidrv6",()=>M.cidrv6,"clone",()=>B.clone,"codec",()=>M.codec,"coerce",()=>$,"config",()=>j.config,"core",()=>D,"cuid",()=>M.cuid,"cuid2",()=>M.cuid2,"custom",()=>M.custom,"date",()=>M.date,"decode",()=>P.decode,"decodeAsync",()=>P.decodeAsync,"discriminatedUnion",()=>M.discriminatedUnion,"e164",()=>M.e164,"email",()=>M.email,"emoji",()=>M.emoji,"encode",()=>P.encode,"encodeAsync",()=>P.encodeAsync,"endsWith",()=>O._endsWith,"enum",()=>M.enum,"file",()=>M.file,"flattenError",()=>U.flattenError,"float32",()=>M.float32,"float64",()=>M.float64,"formatError",()=>U.formatError,"function",()=>M.function,"getErrorMap",()=>_,"globalRegistry",()=>F.globalRegistry,"gt",()=>O._gt,"gte",()=>O._gte,"guid",()=>M.guid,"hash",()=>M.hash,"hex",()=>M.hex,"hostname",()=>M.hostname,"httpUrl",()=>M.httpUrl,"includes",()=>O._includes,"instanceof",()=>M.instanceof,"int",()=>M.int,"int32",()=>M.int32,"int64",()=>M.int64,"intersection",()=>M.intersection,"ipv4",()=>M.ipv4,"ipv6",()=>M.ipv6,"iso",()=>Z,"json",()=>M.json,"jwt",()=>M.jwt,"keyof",()=>M.keyof,"ksuid",()=>M.ksuid,"lazy",()=>M.lazy,"length",()=>O._length,"literal",()=>M.literal,"locales",()=>q,"looseObject",()=>M.looseObject,"lowercase",()=>O._lowercase,"lt",()=>O._lt,"lte",()=>O._lte,"map",()=>M.map,"maxLength",()=>O._maxLength,"maxSize",()=>O._maxSize,"mime",()=>O._mime,"minLength",()=>O._minLength,"minSize",()=>O._minSize,"multipleOf",()=>O._multipleOf,"nan",()=>M.nan,"nanoid",()=>M.nanoid,"nativeEnum",()=>M.nativeEnum,"negative",()=>O._negative,"never",()=>M.never,"nonnegative",()=>O._nonnegative,"nonoptional",()=>M.nonoptional,"nonpositive",()=>O._nonpositive,"normalize",()=>O._normalize,"null",()=>M.null,"nullable",()=>M.nullable,"nullish",()=>M.nullish,"number",()=>M.number,"object",()=>M.object,"optional",()=>M.optional,"overwrite",()=>O._overwrite,"parse",()=>P.parse,"parseAsync",()=>P.parseAsync,"partialRecord",()=>M.partialRecord,"pipe",()=>M.pipe,"positive",()=>O._positive,"prefault",()=>M.prefault,"preprocess",()=>M.preprocess,"prettifyError",()=>U.prettifyError,"promise",()=>M.promise,"property",()=>O._property,"readonly",()=>M.readonly,"record",()=>M.record,"refine",()=>M.refine,"regex",()=>O._regex,"regexes",()=>H.regexes,"registry",()=>F.registry,"safeDecode",()=>P.safeDecode,"safeDecodeAsync",()=>P.safeDecodeAsync,"safeEncode",()=>P.safeEncode,"safeEncodeAsync",()=>P.safeEncodeAsync,"safeParse",()=>P.safeParse,"safeParseAsync",()=>P.safeParseAsync,"set",()=>M.set,"setErrorMap",()=>x,"size",()=>O._size,"startsWith",()=>O._startsWith,"strictObject",()=>M.strictObject,"string",()=>M.string,"stringFormat",()=>M.stringFormat,"stringbool",()=>M.stringbool,"success",()=>M.success,"superRefine",()=>M.superRefine,"symbol",()=>M.symbol,"templateLiteral",()=>M.templateLiteral,"toJSONSchema",()=>z.toJSONSchema,"toLowerCase",()=>O._toLowerCase,"toUpperCase",()=>O._toUpperCase,"transform",()=>M.transform,"treeifyError",()=>U.treeifyError,"trim",()=>O._trim,"tuple",()=>M.tuple,"uint32",()=>M.uint32,"uint64",()=>M.uint64,"ulid",()=>M.ulid,"undefined",()=>M.undefined,"union",()=>M.union,"unknown",()=>M.unknown,"uppercase",()=>O._uppercase,"url",()=>M.url,"util",()=>G.util,"uuid",()=>M.uuid,"uuidv4",()=>M.uuidv4,"uuidv6",()=>M.uuidv6,"uuidv7",()=>M.uuidv7,"void",()=>M.void,"xid",()=>M.xid],722219),e.i(298821);var D=g,M=y;e.s(["endsWith",()=>O._endsWith,"gt",()=>O._gt,"gte",()=>O._gte,"includes",()=>O._includes,"length",()=>O._length,"lowercase",()=>O._lowercase,"lt",()=>O._lt,"lte",()=>O._lte,"maxLength",()=>O._maxLength,"maxSize",()=>O._maxSize,"mime",()=>O._mime,"minLength",()=>O._minLength,"minSize",()=>O._minSize,"multipleOf",()=>O._multipleOf,"negative",()=>O._negative,"nonnegative",()=>O._nonnegative,"nonpositive",()=>O._nonpositive,"normalize",()=>O._normalize,"overwrite",()=>O._overwrite,"positive",()=>O._positive,"property",()=>O._property,"regex",()=>O._regex,"size",()=>O._size,"startsWith",()=>O._startsWith,"toLowerCase",()=>O._toLowerCase,"toUpperCase",()=>O._toUpperCase,"trim",()=>O._trim,"uppercase",()=>O._uppercase],430421);var O=p;e.i(430421);var R=b,P=v;e.s(["$brand",()=>L.$brand,"ZodFirstPartyTypeKind",()=>t,"ZodIssueCode",()=>k,"config",()=>L.config,"getErrorMap",()=>_,"setErrorMap",()=>x],458829),e.i(306034);var L=n;e.i(458829);var F=d,j=n,B=a,H=e.i(429321),U=i,z=f,V=e.i(650215),G=e.i(313088),q=u,Z=T,$=I;e.s(["default",()=>eb,"unstable_serialize",()=>eg],952598);var W=e.i(271645),Y=e.i(283599),K=e.i(271235),J=e.i(571712),Q=e.i(20353),Q=Q,X=e.i(646192),ee=e.i(546676),et=e.i(337256),en=e.i(97832),er=e.i(92180),ei=e.i(959150),ea=e.i(515358),es=e.i(802239);let eo=()=>{},el=eo(),ec=Object,eu=e=>e===el,ed=new WeakMap,eh=(e,t)=>e==="[object ".concat(t,"]"),ep=0,ef=e=>{let t,n,r=typeof e,i=ec.prototype.toString.call(e),a=eh(i,"Date"),s=eh(i,"RegExp"),o=eh(i,"Object");if(ec(e)!==e||a||s)t=a?e.toJSON():"symbol"==r?e.toString():"string"==r?JSON.stringify(e):""+e;else{if(t=ed.get(e))return t;if(t=++ep+"~",ed.set(e,t),Array.isArray(e)){for(n=0,t="@";n<e.length;n++)t+=ef(e[n])+",";ed.set(e,t)}if(o){t="#";let r=ec.keys(e).sort();for(;!eu(n=r.pop());)eu(e[n])||(t+=n+":"+ef(e[n])+",");ed.set(e,t)}}return t},em=e=>(e=>{if("function"==typeof e)try{e=e()}catch(t){e=""}let t=e;return[e="string"==typeof e?e:(Array.isArray(e)?e.length:e)?ef(e):"",t]})(e?e(0,null):null)[0],eg=e=>X.INFINITE_PREFIX+em(e),ey=Promise.resolve(),eb=(0,K.withMiddleware)(Y.default,e=>(t,n,r)=>{let i,a=(0,W.useRef)(!1),{cache:s,initialSize:o=1,revalidateAll:l=!1,persistSize:c=!1,revalidateFirstPage:u=!0,revalidateOnMount:d=!1,parallel:h=!1}=r,[,,,p]=J.SWRGlobalState.get(Q.c);try{(i=em(t))&&(i=X.INFINITE_PREFIX+i)}catch(e){}let[f,m,g]=(0,ee.createCacheHelper)(s,i),y=(0,W.useCallback)(()=>(0,et.isUndefined)(f()._l)?o:f()._l,[s,i,o]);(0,es.useSyncExternalStore)((0,W.useCallback)(e=>i?g(i,()=>{e()}):()=>{},[s,i]),y,y);let b=(0,W.useCallback)(()=>{let e=f()._l;return(0,et.isUndefined)(e)?o:e},[i,o]),v=(0,W.useRef)(b());(0,en.useIsomorphicLayoutEffect)(()=>{if(!a.current){a.current=!0;return}i&&m({_l:c?v.current:b()})},[i,s]);let k=d&&!a.current,x=e(i,async e=>{let i=f()._i,a=f()._r;m({_r:er.UNDEFINED});let o=[],c=b(),[d]=(0,ee.createCacheHelper)(s,e),g=d().data,y=[],v=null;for(let e=0;e<c;++e){let[c,d]=(0,ei.serialize)(t(e,h?null:v));if(!c)break;let[f,m]=(0,ee.createCacheHelper)(s,c),b=f().data,x=l||i||(0,et.isUndefined)(b)||u&&!e&&!(0,et.isUndefined)(g)||k||g&&!(0,et.isUndefined)(g[e])&&!r.compare(g[e],b);if(n&&("function"==typeof a?a(b,d):x)){let t=async()=>{if(c in p){let e=p[c];delete p[c],b=await e}else b=await n(d);m({data:b,_k:d}),o[e]=b};h?y.push(t):await t()}else o[e]=b;h||(v=b)}return h&&await Promise.all(y.map(e=>e())),m({_i:er.UNDEFINED}),o},r),_=(0,W.useCallback)(function(e,t){let n="boolean"==typeof t?{revalidate:t}:t||{},r=!1!==n.revalidate;return i?(r&&((0,et.isUndefined)(e)?m({_i:!0,_r:n.revalidate}):m({_i:!1,_r:n.revalidate})),arguments.length?x.mutate(e,{...n,revalidate:r}):x.mutate()):ey},[i,s]),E=(0,W.useCallback)(e=>{let n;if(!i)return ey;let[,r]=(0,ee.createCacheHelper)(s,i);if((0,ea.isFunction)(e)?n=e(b()):"number"==typeof e&&(n=e),"number"!=typeof n)return ey;r({_l:n}),v.current=n;let a=[],[o]=(0,ee.createCacheHelper)(s,i),l=null;for(let e=0;e<n;++e){let[n]=(0,ei.serialize)(t(e,l)),[r]=(0,ee.createCacheHelper)(s,n),i=n?r().data:er.UNDEFINED;if((0,et.isUndefined)(i))return _(o().data);a.push(i),l=i}return _(a)},[i,s,_,b]);return{size:b(),setSize:E,mutate:_,get data(){return x.data},get error(){return x.error},get isValidating(){return x.isValidating},get isLoading(){return x.isLoading}}});e.s(["SidebarHistory",()=>eG,"getChatHistoryPaginationKey",()=>eU],990715);var ev=e.i(843476),ek=e.i(677241),ex=e.i(24708),e_=e.i(845110),eE=e.i(585890);function eT(e,t,n){let[r,i]=(0,e_.normalizeDates)(null==n?void 0:n.in,e,t);return+(0,eE.startOfDay)(r)==+(0,eE.startOfDay)(i)}var eS=e.i(281092);function ew(e,t,n){let r=(0,eS.toDate)(e,null==n?void 0:n.in);return isNaN(t)?(0,ek.constructFrom)((null==n?void 0:n.in)||e,NaN):(t&&r.setDate(r.getDate()+t),r)}var eC=e.i(522016),eA=e.i(618566),eN=e.i(846696),eI=e.i(144210);let eD=(0,e.i(475254).default)("pencil-line",[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);var eM=e.i(643531),eO=e.i(831361),eR=e.i(396644),eP=e.i(859016);let eL={chats:"chat_sessions"};var eF=e.i(722219),eF=eF;eF.object({createdAt:eF.string()});var ej=e.i(95187),eB=(0,ej.createServerReference)("40f9590a388d9a5d1bcd972ec52e3fd38c7927fb93",ej.callServer,void 0,ej.findSourceMapURL,"updateChatTitle"),eH=(0,ej.createServerReference)("408ba46ed4abb27f277ca7040c4f2c6a02b2e632db",ej.callServer,void 0,ej.findSourceMapURL,"deleteChatSession");function eU(e,t){var n;return t&&(null===t.nextCursor||!1===t.hasMore)?null:["/api/history",null!=(n=null==t?void 0:t.nextCursor)?n:null,e]}let ez=async e=>{try{var t;console.log(" [Sidebar Fetcher] Fetching chat history:",e);let n=await fetch(e,{method:"GET",headers:{"Content-Type":"application/json"},credentials:"include"});if(!n.ok){let e=await n.json().catch(()=>({}));return console.error(" [Sidebar Fetcher] API error:",n.status,e),401===n.status&&console.warn(" [Sidebar Fetcher] Unauthorized - user may need to log in"),{success:!1,data:[],count:0,hasMore:!1,nextCursor:null}}let r=await n.json();return console.log(" [Sidebar Fetcher] Successfully fetched",(null==(t=r.data)?void 0:t.length)||0,"chats"),r}catch(e){return console.error(" [Sidebar Fetcher] Fetch error:",e),{success:!1,data:[],count:0,hasMore:!1,nextCursor:null}}},eV=e=>{let{chat:t,isActive:n,onDelete:r,onRename:i,setOpenMobile:a,isEditing:s,editedTitle:o,onEditChange:l,onEditSubmit:c,onEditCancel:u,isConfirmingDelete:d,onConfirmDelete:h}=e,[p,f]=(0,W.useState)(!1);return(0,ev.jsxs)(eR.SidebarMenuItem,{children:[(0,ev.jsx)(eR.SidebarMenuButton,{asChild:!s,isActive:n,children:s?(0,ev.jsx)("div",{className:"flex items-center w-full px-2",children:(0,ev.jsx)("input",{type:"text",value:o,onChange:e=>l(e.target.value),onKeyDown:e=>{"Enter"===e.key?c():"Escape"===e.key&&u()},onBlur:u,autoFocus:!0,className:"flex-1 bg-transparent border-none outline-none focus:ring-0 text-sm"})}):(0,ev.jsx)(eC.default,{href:"/ai/chat/".concat(t.id),onClick:()=>a(!1),children:(0,ev.jsx)("span",{children:t.title||"New Chat"})})}),!s&&(0,ev.jsxs)(eO.DropdownMenu,{modal:!0,open:p,onOpenChange:f,children:[(0,ev.jsx)(eO.DropdownMenuTrigger,{asChild:!0,children:(0,ev.jsxs)(eR.SidebarMenuAction,{className:"data-[state=open]:bg-sidebar-accent data-[state=open]:text-sidebar-accent-foreground mr-0.5",showOnHover:!n,children:[(0,ev.jsx)(eI.MoreHorizontalIcon,{}),(0,ev.jsx)("span",{className:"sr-only",children:"More"})]})}),(0,ev.jsxs)(eO.DropdownMenuContent,{side:"bottom",align:"end",children:[(0,ev.jsxs)(eO.DropdownMenuItem,{className:"cursor-pointer",onSelect:()=>i(t.id),children:[(0,ev.jsx)(eD,{className:"w-4 h-4"}),(0,ev.jsx)("span",{children:"Rename"})]}),(0,ev.jsx)(eO.DropdownMenuItem,{className:"cursor-pointer text-destructive focus:bg-destructive/15 focus:text-destructive dark:text-red-500",onSelect:e=>{d||e.preventDefault(),d?(h(t.id),f(!1)):r(t.id)},children:d?(0,ev.jsxs)(ev.Fragment,{children:[(0,ev.jsx)(eM.Check,{className:"w-4 h-4"}),(0,ev.jsx)("span",{children:"Confirm Delete"})]}):(0,ev.jsxs)(ev.Fragment,{children:[(0,ev.jsx)(eI.TrashIcon,{}),(0,ev.jsx)("span",{children:"Delete"})]})})]})]})]})};function eG(e){var t,n,r,i;let{user:a}=e,{setOpenMobile:s}=(0,eR.useSidebar)(),{id:o}=(0,eA.useParams)(),l=(0,eA.usePathname)(),[c,u]=(0,W.useState)(a?{id:a.id,email:a.email}:null),[d,h]=(0,W.useState)(null),[p,f]=(0,W.useState)(""),[m,g]=(0,W.useState)(null);(0,W.useEffect)(()=>{a||(async()=>{let e=(0,eP.createClient)(),{data:{user:t}}=await e.auth.getUser();console.log(" SidebarHistory - Client user:",t),u(t)})()},[a]);let y=(0,W.useRef)(null),{data:b,error:v,isLoading:k,size:x,setSize:_,mutate:E}=eb((e,t)=>{if(!c||t&&(!t.hasMore||!t.nextCursor))return null;if(0===e)return"/api/history?chat_type=chat&limit=15";let n=(null==t?void 0:t.nextCursor)?encodeURIComponent(t.nextCursor):"";return"/api/history?chat_type=chat&limit=15&cursor=".concat(n)},ez,{revalidateFirstPage:!0,revalidateOnFocus:!1,revalidateOnReconnect:!0,dedupingInterval:2e3,onError:e=>{console.error(" [SWR Infinite Error] Failed to fetch chat history:",e)}}),T=(null==b?void 0:b.flatMap(e=>e.data||[]))||[],S=k||x>0&&b&&void 0===b[x-1];null==b||null==(n=b[0])||null==(t=n.data)||t.length;let w=b&&((null==(r=b[b.length-1])?void 0:r.hasMore)===!1||!(null==(i=b[b.length-1])?void 0:i.nextCursor));(0,W.useEffect)(()=>{let e=y.current;if(!e||S||w)return;let t=e.parentElement;for(;t&&!t.classList.contains("overflow-y-auto")&&!t.classList.contains("overflow-auto");)t=t.parentElement;let n=t||e,r=()=>{let{scrollTop:e,scrollHeight:t,clientHeight:r}=n;t-e-r<200&&_(e=>e+1)};return n.addEventListener("scroll",r),()=>n.removeEventListener("scroll",r)},[S,w,_]),(0,W.useEffect)(()=>{E()},[l,E]),(0,W.useEffect)(()=>{if(!(null==c?void 0:c.id))return;let e=(0,eP.createClient)();console.log(" [Realtime] Setting up subscription for chat_sessions");let t=e.channel("chat_sessions_changes").on("postgres_changes",{event:"INSERT",schema:"public",table:eL.chats,filter:"user_id=eq.".concat(c.id)},e=>{console.log(" [Realtime] New chat created:",e.new),E()}).on("postgres_changes",{event:"UPDATE",schema:"public",table:eL.chats,filter:"user_id=eq.".concat(c.id)},e=>{console.log(" [Realtime] Chat updated:",e.new),E(t=>t?t.map(t=>({...t,data:t.data.map(t=>t.id===e.new.id?{...t,...e.new}:t)})):t,{revalidate:!1})}).subscribe(e=>{console.log(" [Realtime] Subscription status:",e)});return()=>{console.log(" [Realtime] Cleaning up subscription"),e.removeChannel(t)}},[null==c?void 0:c.id,E]);let C=(0,eA.useRouter)(),A=e=>{let t=null==T?void 0:T.find(t=>t.id===e);t&&(h(e),f(t.title||"New Chat"))},N=async()=>{if(!d||!p.trim())return void h(null);let e=p.trim();E(async t=>t?t.map(t=>({...t,data:t.data.map(t=>t.id===d?{...t,title:e,updated_at:new Date().toISOString()}:t)})):t,{revalidate:!1}),h(null),f("");try{await eB({chatId:d,title:e}),eN.toast.success("Chat title updated"),E()}catch(e){console.error(" Error updating chat title:",e),eN.toast.error("Failed to update chat title"),E()}},I=()=>{h(null),f("")},D=e=>{g(e),setTimeout(()=>{g(null)},5e3)},M=async e=>{console.log(" [Delete] Starting delete for chat:",e),E(async t=>t?t.map(t=>({...t,data:t.data.filter(t=>t.id!==e)})):t,{revalidate:!1}),g(null);try{await eH({chatId:e}),console.log(" [Delete] Chat deleted successfully:",e),eN.toast.success("Chat deleted successfully"),e===o&&C.push("/ai/chat"),E()}catch(e){console.error(" [Delete] Error deleting chat:",e),eN.toast.error("Failed to delete chat"),E()}};return c?k?(0,ev.jsxs)(eR.SidebarGroup,{children:[(0,ev.jsx)("div",{className:"px-2 py-1 text-xs text-sidebar-foreground/50",children:"Today"}),(0,ev.jsx)(eR.SidebarGroupContent,{children:(0,ev.jsx)("div",{className:"flex flex-col",children:[44,32,28,64,52].map(e=>(0,ev.jsx)("div",{className:"rounded-md h-8 flex gap-2 px-2 items-center",children:(0,ev.jsx)("div",{className:"h-4 rounded-md flex-1 max-w-[--skeleton-width] bg-sidebar-accent-foreground/10 animate-pulse",style:{"--skeleton-width":"".concat(e,"%")}})},e))})})]}):v?(0,ev.jsx)(eR.SidebarGroup,{children:(0,ev.jsx)(eR.SidebarGroupContent,{children:(0,ev.jsxs)("div",{className:"flex flex-col items-center justify-center gap-2 px-4 py-8 text-center",children:[(0,ev.jsx)("div",{className:"text-destructive text-sm font-medium",children:"Failed to load chat history"}),(0,ev.jsx)("div",{className:"text-xs text-muted-foreground",children:(null==v?void 0:v.message)||"An unexpected error occurred"}),(0,ev.jsx)("button",{onClick:()=>E(),className:"mt-2 px-3 py-1.5 text-xs rounded-md bg-sidebar-accent hover:bg-sidebar-accent/80 transition-colors",children:"Try Again"})]})})}):(null==T?void 0:T.length)===0?(0,ev.jsx)(eR.SidebarGroup,{children:(0,ev.jsx)(eR.SidebarGroupContent,{children:(0,ev.jsx)("div",{className:"text-zinc-500 w-full flex flex-row justify-center items-center text-sm gap-2",children:(0,ev.jsx)("div",{children:"Your conversations will appear here once you start chatting!"})})})}):(0,ev.jsx)(ev.Fragment,{children:(0,ev.jsx)(eR.SidebarGroup,{children:(0,ev.jsx)(eR.SidebarGroupContent,{ref:y,className:"overflow-y-auto",children:(0,ev.jsxs)(eR.SidebarMenu,{children:[T&&(()=>{let e=(e=>{let t=new Date,n=ew(t,-7,void 0),r=function(e,t,n){let r=(0,eS.toDate)(e,null==n?void 0:n.in);if(isNaN(-1))return(0,ek.constructFrom)((null==n?void 0:n.in)||e,NaN);if(!t)return r;let i=r.getDate(),a=(0,ek.constructFrom)((null==n?void 0:n.in)||e,r.getTime());return(a.setMonth(r.getMonth()+t+1,0),i>=a.getDate())?a:(r.setFullYear(a.getFullYear(),a.getMonth(),i),r)}(t,-1,void 0);return e.reduce((e,t)=>{var i,a;let s=new Date(t.updated_at||t.created_at);return eT((0,ek.constructFrom)(s,s),(0,ex.constructNow)((null==i?void 0:i.in)||s))?e.today.push(t):eT((0,ek.constructFrom)(s,s),ew((0,ex.constructNow)((null==a?void 0:a.in)||s),-1,void 0))?e.yesterday.push(t):s>n?e.lastWeek.push(t):s>r?e.lastMonth.push(t):e.older.push(t),e},{today:[],yesterday:[],lastWeek:[],lastMonth:[],older:[]})})(T);return(0,ev.jsxs)(ev.Fragment,{children:[e.today.length>0&&(0,ev.jsxs)(ev.Fragment,{children:[(0,ev.jsx)("div",{className:"px-2 py-1 text-xs text-sidebar-foreground/50",children:"Today"}),e.today.map(e=>(0,ev.jsx)(eV,{chat:e,isActive:e.id===o,onDelete:D,onRename:A,setOpenMobile:s,isEditing:d===e.id,editedTitle:p,onEditChange:f,onEditSubmit:N,onEditCancel:I,isConfirmingDelete:m===e.id,onConfirmDelete:M},e.id))]}),e.yesterday.length>0&&(0,ev.jsxs)(ev.Fragment,{children:[(0,ev.jsx)("div",{className:"px-2 py-1 text-xs text-sidebar-foreground/50 mt-6",children:"Yesterday"}),e.yesterday.map(e=>(0,ev.jsx)(eV,{chat:e,isActive:e.id===o,onDelete:D,onRename:A,setOpenMobile:s,isEditing:d===e.id,editedTitle:p,onEditChange:f,onEditSubmit:N,onEditCancel:I,isConfirmingDelete:m===e.id,onConfirmDelete:M},e.id))]}),e.lastWeek.length>0&&(0,ev.jsxs)(ev.Fragment,{children:[(0,ev.jsx)("div",{className:"px-2 py-1 text-xs text-sidebar-foreground/50 mt-6",children:"Last 7 days"}),e.lastWeek.map(e=>(0,ev.jsx)(eV,{chat:e,isActive:e.id===o,onDelete:D,onRename:A,setOpenMobile:s,isEditing:d===e.id,editedTitle:p,onEditChange:f,onEditSubmit:N,onEditCancel:I,isConfirmingDelete:m===e.id,onConfirmDelete:M},e.id))]}),e.lastMonth.length>0&&(0,ev.jsxs)(ev.Fragment,{children:[(0,ev.jsx)("div",{className:"px-2 py-1 text-xs text-sidebar-foreground/50 mt-6",children:"Last 30 days"}),e.lastMonth.map(e=>(0,ev.jsx)(eV,{chat:e,isActive:e.id===o,onDelete:D,onRename:A,setOpenMobile:s,isEditing:d===e.id,editedTitle:p,onEditChange:f,onEditSubmit:N,onEditCancel:I,isConfirmingDelete:m===e.id,onConfirmDelete:M},e.id))]}),e.older.length>0&&(0,ev.jsxs)(ev.Fragment,{children:[(0,ev.jsx)("div",{className:"px-2 py-1 text-xs text-sidebar-foreground/50 mt-6",children:"Older"}),e.older.map(e=>(0,ev.jsx)(eV,{chat:e,isActive:e.id===o,onDelete:D,onRename:A,setOpenMobile:s,isEditing:d===e.id,editedTitle:p,onEditChange:f,onEditSubmit:N,onEditCancel:I,isConfirmingDelete:m===e.id,onConfirmDelete:M},e.id))]})]})})(),S&&(0,ev.jsx)("div",{className:"px-2 py-2",children:(0,ev.jsx)("div",{className:"text-xs text-muted-foreground text-center",children:"Loading more..."})}),w&&T.length>0&&(0,ev.jsx)("div",{className:"px-2 py-2",children:(0,ev.jsx)("div",{className:"text-xs text-muted-foreground text-center",children:"No more chats"})})]})})})}):(0,ev.jsx)(eR.SidebarGroup,{children:(0,ev.jsx)(eR.SidebarGroupContent,{children:(0,ev.jsx)("div",{className:"text-zinc-500 w-full flex flex-row justify-center items-center text-sm gap-2",children:(0,ev.jsx)("div",{children:"Login to save and revisit previous chats!"})})})})}},26777,e=>{"use strict";let t;e.s(["Chat",()=>sq],26777);var n,r,i,a,s,o,l,c,u,d,h,p,f,m,g,y,b,v,k,x,_,E,T,S,w,C,A,N,I,D,M,O,R,P,L,F,j,B,H,U,z,V,G=e.i(247167),q=e.i(843476),Z=e.i(271645),$=e.i(467034),W="vercel.ai.error",Y=Symbol.for(W),K=class e extends Error{static isInstance(t){return e.hasMarker(t,W)}static hasMarker(e,t){let n=Symbol.for(t);return null!=e&&"object"==typeof e&&n in e&&"boolean"==typeof e[n]&&!0===e[n]}constructor({name:e,message:t,cause:r}){super(t),this[n]=!0,this.name=e,this.cause=r}};n=Y;var J=K,Q="AI_APICallError",X="vercel.ai.error.".concat(Q),ee=Symbol.for(X),et=class extends J{static isInstance(e){return J.hasMarker(e,X)}constructor({message:e,url:t,requestBodyValues:n,statusCode:i,responseHeaders:a,responseBody:s,cause:o,isRetryable:l=null!=i&&(408===i||409===i||429===i||i>=500),data:c}){super({name:Q,message:e,cause:o}),this[r]=!0,this.url=t,this.requestBodyValues=n,this.statusCode=i,this.responseHeaders=a,this.responseBody=s,this.isRetryable=l,this.data=c}};r=ee;var en="AI_EmptyResponseBodyError",er="vercel.ai.error.".concat(en),ei=Symbol.for(er),ea=class extends J{static isInstance(e){return J.hasMarker(e,er)}constructor({message:e="Empty response body"}={}){super({name:en,message:e}),this[i]=!0}};function es(e){return null==e?"unknown error":"string"==typeof e?e:e instanceof Error?e.message:JSON.stringify(e)}i=ei;var eo="AI_InvalidArgumentError",el="vercel.ai.error.".concat(eo),ec=Symbol.for(el),eu=class extends J{static isInstance(e){return J.hasMarker(e,el)}constructor({message:e,cause:t,argument:n}){super({name:eo,message:e,cause:t}),this[a]=!0,this.argument=n}};a=ec,Symbol.for("vercel.ai.error.".concat("AI_InvalidPromptError")),Symbol.for("vercel.ai.error.".concat("AI_InvalidResponseDataError"));var ed="AI_JSONParseError",eh="vercel.ai.error.".concat(ed),ep=Symbol.for(eh),ef=class extends J{static isInstance(e){return J.hasMarker(e,eh)}constructor({text:e,cause:t}){super({name:ed,message:"JSON parsing failed: Text: ".concat(e,".\nError message: ").concat(es(t)),cause:t}),this[s]=!0,this.text=e}};s=ep,Symbol.for("vercel.ai.error.".concat("AI_LoadAPIKeyError")),Symbol.for("vercel.ai.error.".concat("AI_LoadSettingError")),Symbol.for("vercel.ai.error.".concat("AI_NoContentGeneratedError"));var em="AI_NoSuchModelError",eg="vercel.ai.error.".concat(em),ey=Symbol.for(eg),eb=class extends J{static isInstance(e){return J.hasMarker(e,eg)}constructor({errorName:e=em,modelId:t,modelType:n,message:r="No such ".concat(n,": ").concat(t)}){super({name:e,message:r}),this[o]=!0,this.modelId=t,this.modelType=n}};o=ey,Symbol.for("vercel.ai.error.".concat("AI_TooManyEmbeddingValuesForCallError"));var ev="AI_TypeValidationError",ek="vercel.ai.error.".concat(ev),ex=Symbol.for(ek),e_=class e extends J{static isInstance(e){return J.hasMarker(e,ek)}static wrap(t){let{value:n,cause:r}=t;return e.isInstance(r)&&r.value===n?r:new e({value:n,cause:r})}constructor({value:e,cause:t}){super({name:ev,message:"Type validation failed: Value: ".concat(JSON.stringify(e),".\nError message: ").concat(es(t)),cause:t}),this[l]=!0,this.value=e}};l=ex;Symbol.for("vercel.ai.error.".concat("AI_UnsupportedFunctionalityError"));class eE extends Error{constructor(e,t){super(e),this.name="ParseError",this.type=t.type,this.field=t.field,this.value=t.value,this.line=t.line}}function eT(e){}class eS extends TransformStream{constructor({onError:e,onRetry:t,onComment:n}={}){let r;super({start(i){r=function(e){if("function"==typeof e)throw TypeError("`callbacks` must be an object, got a function instead. Did you mean `{onEvent: fn}`?");let{onEvent:t=eT,onError:n=eT,onRetry:r=eT,onComment:i}=e,a="",s=!0,o,l="",c="";function u(e){if(""===e)return void(l.length>0&&t({id:o,event:c||void 0,data:l.endsWith("\n")?l.slice(0,-1):l}),o=void 0,l="",c="");if(e.startsWith(":")){i&&i(e.slice(e.startsWith(": ")?2:1));return}let n=e.indexOf(":");if(-1!==n){let t=e.slice(0,n),r=" "===e[n+1]?2:1;d(t,e.slice(n+r),e);return}d(e,"",e)}function d(e,t,i){switch(e){case"event":c=t;break;case"data":l="".concat(l).concat(t,"\n");break;case"id":o=t.includes("\0")?void 0:t;break;case"retry":/^\d+$/.test(t)?r(parseInt(t,10)):n(new eE('Invalid `retry` value: "'.concat(t,'"'),{type:"invalid-retry",value:t,line:i}));break;default:n(new eE('Unknown field "'.concat(e.length>20?"".concat(e.slice(0,20),""):e,'"'),{type:"unknown-field",field:e,value:t,line:i}))}}return{feed:function(e){let t=s?e.replace(/^\xEF\xBB\xBF/,""):e,[n,r]=function(e){let t=[],n="",r=0;for(;r<e.length;){let i=e.indexOf("\r",r),a=e.indexOf("\n",r),s=-1;if(-1!==i&&-1!==a?s=Math.min(i,a):-1!==i?s=i===e.length-1?-1:i:-1!==a&&(s=a),-1===s){n=e.slice(r);break}{let n=e.slice(r,s);t.push(n),"\r"===e[(r=s+1)-1]&&"\n"===e[r]&&r++}}return[t,n]}("".concat(a).concat(t));for(let e of n)u(e);a=r,s=!1},reset:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};a&&e.consume&&u(a),s=!0,o=void 0,l="",c="",a=""}}}({onEvent:e=>{i.enqueue(e)},onError(t){"terminate"===e?i.error(t):"function"==typeof e&&e(t)},onRetry:t,onComment:n})},transform(e){r.feed(e)}})}}e.s(["default",()=>eC],818295),e.i(298821);var ew=e.i(722219);let eC=ew;var eA=e.i(100364);e.s([],38570),e.s(["getErrorMap",()=>eF,"setErrorMap",()=>eL],937904),e.s(["ZodError",()=>eO,"ZodIssueCode",()=>eD,"quotelessJson",()=>eM],169790),e.s(["ZodParsedType",()=>eN,"getParsedType",()=>eI,"objectUtil",()=>u,"util",()=>c],904783),function(e){e.assertEqual=e=>{},e.assertIs=function(e){},e.assertNever=function(e){throw Error()},e.arrayToEnum=e=>{let t={};for(let n of e)t[n]=n;return t},e.getValidEnumValues=t=>{let n=e.objectKeys(t).filter(e=>"number"!=typeof t[t[e]]),r={};for(let e of n)r[e]=t[e];return e.objectValues(r)},e.objectValues=t=>e.objectKeys(t).map(function(e){return t[e]}),e.objectKeys="function"==typeof Object.keys?e=>Object.keys(e):e=>{let t=[];for(let n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t},e.find=(e,t)=>{for(let n of e)if(t(n))return n},e.isInteger="function"==typeof Number.isInteger?e=>Number.isInteger(e):e=>"number"==typeof e&&Number.isFinite(e)&&Math.floor(e)===e,e.joinValues=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:" | ";return e.map(e=>"string"==typeof e?"'".concat(e,"'"):e).join(t)},e.jsonStringifyReplacer=(e,t)=>"bigint"==typeof t?t.toString():t}(c||(c={})),(u||(u={})).mergeShapes=(e,t)=>({...e,...t});let eN=c.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),eI=e=>{switch(typeof e){case"undefined":return eN.undefined;case"string":return eN.string;case"number":return Number.isNaN(e)?eN.nan:eN.number;case"boolean":return eN.boolean;case"function":return eN.function;case"bigint":return eN.bigint;case"symbol":return eN.symbol;case"object":if(Array.isArray(e))return eN.array;if(null===e)return eN.null;if(e.then&&"function"==typeof e.then&&e.catch&&"function"==typeof e.catch)return eN.promise;if("undefined"!=typeof Map&&e instanceof Map)return eN.map;if("undefined"!=typeof Set&&e instanceof Set)return eN.set;if("undefined"!=typeof Date&&e instanceof Date)return eN.date;return eN.object;default:return eN.unknown}},eD=c.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),eM=e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:");class eO extends Error{get errors(){return this.issues}format(e){let t=e||function(e){return e.message},n={_errors:[]},r=e=>{for(let i of e.issues)if("invalid_union"===i.code)i.unionErrors.map(r);else if("invalid_return_type"===i.code)r(i.returnTypeError);else if("invalid_arguments"===i.code)r(i.argumentsError);else if(0===i.path.length)n._errors.push(t(i));else{let e=n,r=0;for(;r<i.path.length;){let n=i.path[r];r===i.path.length-1?(e[n]=e[n]||{_errors:[]},e[n]._errors.push(t(i))):e[n]=e[n]||{_errors:[]},e=e[n],r++}}};return r(this),n}static assert(e){if(!(e instanceof eO))throw Error("Not a ZodError: ".concat(e))}toString(){return this.message}get message(){return JSON.stringify(this.issues,c.jsonStringifyReplacer,2)}get isEmpty(){return 0===this.issues.length}flatten(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e=>e.message,t=Object.create(null),n=[];for(let r of this.issues)if(r.path.length>0){let n=r.path[0];t[n]=t[n]||[],t[n].push(e(r))}else n.push(e(r));return{formErrors:n,fieldErrors:t}}get formErrors(){return this.flatten()}constructor(e){var t;super(),t=this,this.issues=[],this.addIssue=e=>{this.issues=[...this.issues,e]},this.addIssues=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];t.issues=[...t.issues,...e]};let n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}}eO.create=e=>new eO(e);let eR=(e,t)=>{let n;switch(e.code){case eD.invalid_type:n=e.received===eN.undefined?"Required":"Expected ".concat(e.expected,", received ").concat(e.received);break;case eD.invalid_literal:n="Invalid literal value, expected ".concat(JSON.stringify(e.expected,c.jsonStringifyReplacer));break;case eD.unrecognized_keys:n="Unrecognized key(s) in object: ".concat(c.joinValues(e.keys,", "));break;case eD.invalid_union:n="Invalid input";break;case eD.invalid_union_discriminator:n="Invalid discriminator value. Expected ".concat(c.joinValues(e.options));break;case eD.invalid_enum_value:n="Invalid enum value. Expected ".concat(c.joinValues(e.options),", received '").concat(e.received,"'");break;case eD.invalid_arguments:n="Invalid function arguments";break;case eD.invalid_return_type:n="Invalid function return type";break;case eD.invalid_date:n="Invalid date";break;case eD.invalid_string:"object"==typeof e.validation?"includes"in e.validation?(n='Invalid input: must include "'.concat(e.validation.includes,'"'),"number"==typeof e.validation.position&&(n="".concat(n," at one or more positions greater than or equal to ").concat(e.validation.position))):"startsWith"in e.validation?n='Invalid input: must start with "'.concat(e.validation.startsWith,'"'):"endsWith"in e.validation?n='Invalid input: must end with "'.concat(e.validation.endsWith,'"'):c.assertNever(e.validation):n="regex"!==e.validation?"Invalid ".concat(e.validation):"Invalid";break;case eD.too_small:n="array"===e.type?"Array must contain ".concat(e.exact?"exactly":e.inclusive?"at least":"more than"," ").concat(e.minimum," element(s)"):"string"===e.type?"String must contain ".concat(e.exact?"exactly":e.inclusive?"at least":"over"," ").concat(e.minimum," character(s)"):"number"===e.type||"bigint"===e.type?"Number must be ".concat(e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than ").concat(e.minimum):"date"===e.type?"Date must be ".concat(e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than ").concat(new Date(Number(e.minimum))):"Invalid input";break;case eD.too_big:n="array"===e.type?"Array must contain ".concat(e.exact?"exactly":e.inclusive?"at most":"less than"," ").concat(e.maximum," element(s)"):"string"===e.type?"String must contain ".concat(e.exact?"exactly":e.inclusive?"at most":"under"," ").concat(e.maximum," character(s)"):"number"===e.type?"Number must be ".concat(e.exact?"exactly":e.inclusive?"less than or equal to":"less than"," ").concat(e.maximum):"bigint"===e.type?"BigInt must be ".concat(e.exact?"exactly":e.inclusive?"less than or equal to":"less than"," ").concat(e.maximum):"date"===e.type?"Date must be ".concat(e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"," ").concat(new Date(Number(e.maximum))):"Invalid input";break;case eD.custom:n="Invalid input";break;case eD.invalid_intersection_types:n="Intersection results could not be merged";break;case eD.not_multiple_of:n="Number must be a multiple of ".concat(e.multipleOf);break;case eD.not_finite:n="Number must be finite";break;default:n=t.defaultError,c.assertNever(e)}return{message:n}},eP=eR;function eL(e){eP=e}function eF(){return eP}e.s(["DIRTY",()=>eV,"EMPTY_PATH",()=>eB,"INVALID",()=>ez,"OK",()=>eG,"ParseStatus",()=>eU,"addIssueToContext",()=>eH,"isAborted",()=>eq,"isAsync",()=>eW,"isDirty",()=>eZ,"isValid",()=>e$,"makeIssue",()=>ej],665354);let ej=e=>{let{data:t,path:n,errorMaps:r,issueData:i}=e,a=[...n,...i.path||[]],s={...i,path:a};if(void 0!==i.message)return{...i,path:a,message:i.message};let o="";for(let e of r.filter(e=>!!e).slice().reverse())o=e(s,{data:t,defaultError:o}).message;return{...i,path:a,message:o}},eB=[];function eH(e,t){let n=eP,r=ej({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,n,n===eR?void 0:eR].filter(e=>!!e)});e.common.issues.push(r)}class eU{dirty(){"valid"===this.value&&(this.value="dirty")}abort(){"aborted"!==this.value&&(this.value="aborted")}static mergeArray(e,t){let n=[];for(let r of t){if("aborted"===r.status)return ez;"dirty"===r.status&&e.dirty(),n.push(r.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,t){let n=[];for(let e of t){let t=await e.key,r=await e.value;n.push({key:t,value:r})}return eU.mergeObjectSync(e,n)}static mergeObjectSync(e,t){let n={};for(let r of t){let{key:t,value:i}=r;if("aborted"===t.status||"aborted"===i.status)return ez;"dirty"===t.status&&e.dirty(),"dirty"===i.status&&e.dirty(),"__proto__"!==t.value&&(void 0!==i.value||r.alwaysSet)&&(n[t.value]=i.value)}return{status:e.value,value:n}}constructor(){this.value="valid"}}let ez=Object.freeze({status:"aborted"}),eV=e=>({status:"dirty",value:e}),eG=e=>({status:"valid",value:e}),eq=e=>"aborted"===e.status,eZ=e=>"dirty"===e.status,e$=e=>"valid"===e.status,eW=e=>"undefined"!=typeof Promise&&e instanceof Promise;e.s([],527404),e.s(["BRAND",()=>tz,"NEVER",()=>nT,"Schema",()=>eQ,"ZodAny",()=>tm,"ZodArray",()=>tv,"ZodBigInt",()=>tc,"ZodBoolean",()=>tu,"ZodBranded",()=>tV,"ZodCatch",()=>tH,"ZodDate",()=>td,"ZodDefault",()=>tB,"ZodDiscriminatedUnion",()=>tE,"ZodEffects",()=>tL,"ZodEnum",()=>tO,"ZodFirstPartyTypeKind",()=>h,"ZodFunction",()=>tN,"ZodIntersection",()=>tT,"ZodLazy",()=>tI,"ZodLiteral",()=>tD,"ZodMap",()=>tC,"ZodNaN",()=>tU,"ZodNativeEnum",()=>tR,"ZodNever",()=>ty,"ZodNull",()=>tf,"ZodNullable",()=>tj,"ZodNumber",()=>tl,"ZodObject",()=>tk,"ZodOptional",()=>tF,"ZodPipeline",()=>tG,"ZodPromise",()=>tP,"ZodReadonly",()=>tq,"ZodRecord",()=>tw,"ZodSchema",()=>eQ,"ZodSet",()=>tA,"ZodString",()=>to,"ZodSymbol",()=>th,"ZodTransformer",()=>tL,"ZodTuple",()=>tS,"ZodType",()=>eQ,"ZodUndefined",()=>tp,"ZodUnion",()=>tx,"ZodUnknown",()=>tg,"ZodVoid",()=>tb,"any",()=>t4,"array",()=>t7,"bigint",()=>tX,"boolean",()=>t0,"coerce",()=>nE,"custom",()=>t$,"date",()=>t1,"datetimeRegex",()=>ts,"discriminatedUnion",()=>nr,"effect",()=>nm,"enum",()=>nh,"function",()=>nc,"instanceof",()=>tY,"intersection",()=>ni,"late",()=>tW,"lazy",()=>nu,"literal",()=>nd,"map",()=>no,"nan",()=>tQ,"nativeEnum",()=>np,"never",()=>t9,"null",()=>t3,"nullable",()=>ny,"number",()=>tJ,"object",()=>ne,"oboolean",()=>n_,"onumber",()=>nx,"optional",()=>ng,"ostring",()=>nk,"pipeline",()=>nv,"preprocess",()=>nb,"promise",()=>nf,"record",()=>ns,"set",()=>nl,"strictObject",()=>nt,"string",()=>tK,"symbol",()=>t2,"transformer",()=>nm,"tuple",()=>na,"undefined",()=>t5,"union",()=>nn,"unknown",()=>t6,"void",()=>t8],965638),function(e){e.errToObj=e=>"string"==typeof e?{message:e}:e||{},e.toString=e=>"string"==typeof e?e:null==e?void 0:e.message}(d||(d={}));class eY{get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}constructor(e,t,n,r){this._cachedPath=[],this.parent=e,this.data=t,this._path=n,this._key=r}}let eK=(e,t)=>{if(e$(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;let t=new eO(e.common.issues);return this._error=t,this._error}}};function eJ(e){if(!e)return{};let{errorMap:t,invalid_type_error:n,required_error:r,description:i}=e;if(t&&(n||r))throw Error('Can\'t use "invalid_type_error" or "required_error" in conjunction with custom error map.');return t?{errorMap:t,description:i}:{errorMap:(t,i)=>{var a,s;let{message:o}=e;return"invalid_enum_value"===t.code?{message:null!=o?o:i.defaultError}:void 0===i.data?{message:null!=(a=null!=o?o:r)?a:i.defaultError}:"invalid_type"!==t.code?{message:i.defaultError}:{message:null!=(s=null!=o?o:n)?s:i.defaultError}},description:i}}class eQ{get description(){return this._def.description}_getType(e){return eI(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:eI(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new eU,ctx:{common:e.parent.common,data:e.data,parsedType:eI(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){let t=this._parse(e);if(eW(t))throw Error("Synchronous parse encountered promise.");return t}_parseAsync(e){return Promise.resolve(this._parse(e))}parse(e,t){let n=this.safeParse(e,t);if(n.success)return n.data;throw n.error}safeParse(e,t){var n;let r={common:{issues:[],async:null!=(n=null==t?void 0:t.async)&&n,contextualErrorMap:null==t?void 0:t.errorMap},path:(null==t?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:eI(e)},i=this._parseSync({data:e,path:r.path,parent:r});return eK(r,i)}"~validate"(e){let t={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:eI(e)};if(!this["~standard"].async)try{let n=this._parseSync({data:e,path:[],parent:t});return e$(n)?{value:n.value}:{issues:t.common.issues}}catch(e){var n,r;(null==e||null==(r=e.message)||null==(n=r.toLowerCase())?void 0:n.includes("encountered"))&&(this["~standard"].async=!0),t.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:t}).then(e=>e$(e)?{value:e.value}:{issues:t.common.issues})}async parseAsync(e,t){let n=await this.safeParseAsync(e,t);if(n.success)return n.data;throw n.error}async safeParseAsync(e,t){let n={common:{issues:[],contextualErrorMap:null==t?void 0:t.errorMap,async:!0},path:(null==t?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:eI(e)},r=this._parse({data:e,path:n.path,parent:n});return eK(n,await (eW(r)?r:Promise.resolve(r)))}refine(e,t){return this._refinement((n,r)=>{let i=e(n),a=()=>r.addIssue({code:eD.custom,..."string"==typeof t||void 0===t?{message:t}:"function"==typeof t?t(n):t});return"undefined"!=typeof Promise&&i instanceof Promise?i.then(e=>!!e||(a(),!1)):!!i||(a(),!1)})}refinement(e,t){return this._refinement((n,r)=>!!e(n)||(r.addIssue("function"==typeof t?t(n,r):t),!1))}_refinement(e){return new tL({schema:this,typeName:h.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return tF.create(this,this._def)}nullable(){return tj.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return tv.create(this)}promise(){return tP.create(this,this._def)}or(e){return tx.create([this,e],this._def)}and(e){return tT.create(this,e,this._def)}transform(e){return new tL({...eJ(this._def),schema:this,typeName:h.ZodEffects,effect:{type:"transform",transform:e}})}default(e){return new tB({...eJ(this._def),innerType:this,defaultValue:"function"==typeof e?e:()=>e,typeName:h.ZodDefault})}brand(){return new tV({typeName:h.ZodBranded,type:this,...eJ(this._def)})}catch(e){return new tH({...eJ(this._def),innerType:this,catchValue:"function"==typeof e?e:()=>e,typeName:h.ZodCatch})}describe(e){return new this.constructor({...this._def,description:e})}pipe(e){return tG.create(this,e)}readonly(){return tq.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:e=>this["~validate"](e)}}}let eX=/^c[^\s-]{8,}$/i,e0=/^[0-9a-z]+$/,e1=/^[0-9A-HJKMNP-TV-Z]{26}$/i,e2=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,e5=/^[a-z0-9_-]{21}$/i,e3=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,e4=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,e6=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,e9=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,e8=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,e7=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,te=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,tt=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,tn=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,tr="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",ti=new RegExp("^".concat(tr,"$"));function ta(e){let t="[0-5]\\d";e.precision?t="".concat(t,"\\.\\d{").concat(e.precision,"}"):null==e.precision&&(t="".concat(t,"(\\.\\d+)?"));let n=e.precision?"+":"?";return"([01]\\d|2[0-3]):[0-5]\\d(:".concat(t,")").concat(n)}function ts(e){let t="".concat(tr,"T").concat(ta(e)),n=[];return n.push(e.local?"Z?":"Z"),e.offset&&n.push("([+-]\\d{2}:?\\d{2})"),t="".concat(t,"(").concat(n.join("|"),")"),new RegExp("^".concat(t,"$"))}class to extends eQ{_parse(e){var n,r,i,a;let s;if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==eN.string){let t=this._getOrReturnCtx(e);return eH(t,{code:eD.invalid_type,expected:eN.string,received:t.parsedType}),ez}let o=new eU;for(let l of this._def.checks)if("min"===l.kind)e.data.length<l.value&&(eH(s=this._getOrReturnCtx(e,s),{code:eD.too_small,minimum:l.value,type:"string",inclusive:!0,exact:!1,message:l.message}),o.dirty());else if("max"===l.kind)e.data.length>l.value&&(eH(s=this._getOrReturnCtx(e,s),{code:eD.too_big,maximum:l.value,type:"string",inclusive:!0,exact:!1,message:l.message}),o.dirty());else if("length"===l.kind){let t=e.data.length>l.value,n=e.data.length<l.value;(t||n)&&(s=this._getOrReturnCtx(e,s),t?eH(s,{code:eD.too_big,maximum:l.value,type:"string",inclusive:!0,exact:!0,message:l.message}):n&&eH(s,{code:eD.too_small,minimum:l.value,type:"string",inclusive:!0,exact:!0,message:l.message}),o.dirty())}else if("email"===l.kind)e6.test(e.data)||(eH(s=this._getOrReturnCtx(e,s),{validation:"email",code:eD.invalid_string,message:l.message}),o.dirty());else if("emoji"===l.kind)t||(t=RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),t.test(e.data)||(eH(s=this._getOrReturnCtx(e,s),{validation:"emoji",code:eD.invalid_string,message:l.message}),o.dirty());else if("uuid"===l.kind)e2.test(e.data)||(eH(s=this._getOrReturnCtx(e,s),{validation:"uuid",code:eD.invalid_string,message:l.message}),o.dirty());else if("nanoid"===l.kind)e5.test(e.data)||(eH(s=this._getOrReturnCtx(e,s),{validation:"nanoid",code:eD.invalid_string,message:l.message}),o.dirty());else if("cuid"===l.kind)eX.test(e.data)||(eH(s=this._getOrReturnCtx(e,s),{validation:"cuid",code:eD.invalid_string,message:l.message}),o.dirty());else if("cuid2"===l.kind)e0.test(e.data)||(eH(s=this._getOrReturnCtx(e,s),{validation:"cuid2",code:eD.invalid_string,message:l.message}),o.dirty());else if("ulid"===l.kind)e1.test(e.data)||(eH(s=this._getOrReturnCtx(e,s),{validation:"ulid",code:eD.invalid_string,message:l.message}),o.dirty());else if("url"===l.kind)try{new URL(e.data)}catch(t){eH(s=this._getOrReturnCtx(e,s),{validation:"url",code:eD.invalid_string,message:l.message}),o.dirty()}else"regex"===l.kind?(l.regex.lastIndex=0,l.regex.test(e.data)||(eH(s=this._getOrReturnCtx(e,s),{validation:"regex",code:eD.invalid_string,message:l.message}),o.dirty())):"trim"===l.kind?e.data=e.data.trim():"includes"===l.kind?e.data.includes(l.value,l.position)||(eH(s=this._getOrReturnCtx(e,s),{code:eD.invalid_string,validation:{includes:l.value,position:l.position},message:l.message}),o.dirty()):"toLowerCase"===l.kind?e.data=e.data.toLowerCase():"toUpperCase"===l.kind?e.data=e.data.toUpperCase():"startsWith"===l.kind?e.data.startsWith(l.value)||(eH(s=this._getOrReturnCtx(e,s),{code:eD.invalid_string,validation:{startsWith:l.value},message:l.message}),o.dirty()):"endsWith"===l.kind?e.data.endsWith(l.value)||(eH(s=this._getOrReturnCtx(e,s),{code:eD.invalid_string,validation:{endsWith:l.value},message:l.message}),o.dirty()):"datetime"===l.kind?ts(l).test(e.data)||(eH(s=this._getOrReturnCtx(e,s),{code:eD.invalid_string,validation:"datetime",message:l.message}),o.dirty()):"date"===l.kind?ti.test(e.data)||(eH(s=this._getOrReturnCtx(e,s),{code:eD.invalid_string,validation:"date",message:l.message}),o.dirty()):"time"===l.kind?new RegExp("^".concat(ta(l),"$")).test(e.data)||(eH(s=this._getOrReturnCtx(e,s),{code:eD.invalid_string,validation:"time",message:l.message}),o.dirty()):"duration"===l.kind?e4.test(e.data)||(eH(s=this._getOrReturnCtx(e,s),{validation:"duration",code:eD.invalid_string,message:l.message}),o.dirty()):"ip"===l.kind?(n=e.data,!(("v4"===(r=l.version)||!r)&&e9.test(n)||("v6"===r||!r)&&e7.test(n))&&1&&(eH(s=this._getOrReturnCtx(e,s),{validation:"ip",code:eD.invalid_string,message:l.message}),o.dirty())):"jwt"===l.kind?!function(e,t){if(!e3.test(e))return!1;try{let[n]=e.split(".");if(!n)return!1;let r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),i=JSON.parse(atob(r));if("object"!=typeof i||null===i||"typ"in i&&(null==i?void 0:i.typ)!=="JWT"||!i.alg||t&&i.alg!==t)return!1;return!0}catch(e){return!1}}(e.data,l.alg)&&(eH(s=this._getOrReturnCtx(e,s),{validation:"jwt",code:eD.invalid_string,message:l.message}),o.dirty()):"cidr"===l.kind?(i=e.data,!(("v4"===(a=l.version)||!a)&&e8.test(i)||("v6"===a||!a)&&te.test(i))&&1&&(eH(s=this._getOrReturnCtx(e,s),{validation:"cidr",code:eD.invalid_string,message:l.message}),o.dirty())):"base64"===l.kind?tt.test(e.data)||(eH(s=this._getOrReturnCtx(e,s),{validation:"base64",code:eD.invalid_string,message:l.message}),o.dirty()):"base64url"===l.kind?tn.test(e.data)||(eH(s=this._getOrReturnCtx(e,s),{validation:"base64url",code:eD.invalid_string,message:l.message}),o.dirty()):c.assertNever(l);return{status:o.value,value:e.data}}_regex(e,t,n){return this.refinement(t=>e.test(t),{validation:t,code:eD.invalid_string,...d.errToObj(n)})}_addCheck(e){return new to({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...d.errToObj(e)})}url(e){return this._addCheck({kind:"url",...d.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...d.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...d.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...d.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...d.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...d.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...d.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...d.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...d.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...d.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...d.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...d.errToObj(e)})}datetime(e){var t,n;return"string"==typeof e?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:void 0===(null==e?void 0:e.precision)?null:null==e?void 0:e.precision,offset:null!=(t=null==e?void 0:e.offset)&&t,local:null!=(n=null==e?void 0:e.local)&&n,...d.errToObj(null==e?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return"string"==typeof e?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:void 0===(null==e?void 0:e.precision)?null:null==e?void 0:e.precision,...d.errToObj(null==e?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...d.errToObj(e)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...d.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:null==t?void 0:t.position,...d.errToObj(null==t?void 0:t.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...d.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...d.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...d.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...d.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...d.errToObj(t)})}nonempty(e){return this.min(1,d.errToObj(e))}trim(){return new to({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new to({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new to({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>"datetime"===e.kind)}get isDate(){return!!this._def.checks.find(e=>"date"===e.kind)}get isTime(){return!!this._def.checks.find(e=>"time"===e.kind)}get isDuration(){return!!this._def.checks.find(e=>"duration"===e.kind)}get isEmail(){return!!this._def.checks.find(e=>"email"===e.kind)}get isURL(){return!!this._def.checks.find(e=>"url"===e.kind)}get isEmoji(){return!!this._def.checks.find(e=>"emoji"===e.kind)}get isUUID(){return!!this._def.checks.find(e=>"uuid"===e.kind)}get isNANOID(){return!!this._def.checks.find(e=>"nanoid"===e.kind)}get isCUID(){return!!this._def.checks.find(e=>"cuid"===e.kind)}get isCUID2(){return!!this._def.checks.find(e=>"cuid2"===e.kind)}get isULID(){return!!this._def.checks.find(e=>"ulid"===e.kind)}get isIP(){return!!this._def.checks.find(e=>"ip"===e.kind)}get isCIDR(){return!!this._def.checks.find(e=>"cidr"===e.kind)}get isBase64(){return!!this._def.checks.find(e=>"base64"===e.kind)}get isBase64url(){return!!this._def.checks.find(e=>"base64url"===e.kind)}get minLength(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}to.create=e=>{var t;return new to({checks:[],typeName:h.ZodString,coerce:null!=(t=null==e?void 0:e.coerce)&&t,...eJ(e)})};class tl extends eQ{_parse(e){let t;if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==eN.number){let t=this._getOrReturnCtx(e);return eH(t,{code:eD.invalid_type,expected:eN.number,received:t.parsedType}),ez}let n=new eU;for(let r of this._def.checks)"int"===r.kind?c.isInteger(e.data)||(eH(t=this._getOrReturnCtx(e,t),{code:eD.invalid_type,expected:"integer",received:"float",message:r.message}),n.dirty()):"min"===r.kind?(r.inclusive?e.data<r.value:e.data<=r.value)&&(eH(t=this._getOrReturnCtx(e,t),{code:eD.too_small,minimum:r.value,type:"number",inclusive:r.inclusive,exact:!1,message:r.message}),n.dirty()):"max"===r.kind?(r.inclusive?e.data>r.value:e.data>=r.value)&&(eH(t=this._getOrReturnCtx(e,t),{code:eD.too_big,maximum:r.value,type:"number",inclusive:r.inclusive,exact:!1,message:r.message}),n.dirty()):"multipleOf"===r.kind?0!==function(e,t){let n=(e.toString().split(".")[1]||"").length,r=(t.toString().split(".")[1]||"").length,i=n>r?n:r;return Number.parseInt(e.toFixed(i).replace(".",""))%Number.parseInt(t.toFixed(i).replace(".",""))/10**i}(e.data,r.value)&&(eH(t=this._getOrReturnCtx(e,t),{code:eD.not_multiple_of,multipleOf:r.value,message:r.message}),n.dirty()):"finite"===r.kind?Number.isFinite(e.data)||(eH(t=this._getOrReturnCtx(e,t),{code:eD.not_finite,message:r.message}),n.dirty()):c.assertNever(r);return{status:n.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,d.toString(t))}gt(e,t){return this.setLimit("min",e,!1,d.toString(t))}lte(e,t){return this.setLimit("max",e,!0,d.toString(t))}lt(e,t){return this.setLimit("max",e,!1,d.toString(t))}setLimit(e,t,n,r){return new tl({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:n,message:d.toString(r)}]})}_addCheck(e){return new tl({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:d.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:d.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:d.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:d.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:d.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:d.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:d.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:d.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:d.toString(e)})}get minValue(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find(e=>"int"===e.kind||"multipleOf"===e.kind&&c.isInteger(e.value))}get isFinite(){let e=null,t=null;for(let n of this._def.checks)if("finite"===n.kind||"int"===n.kind||"multipleOf"===n.kind)return!0;else"min"===n.kind?(null===t||n.value>t)&&(t=n.value):"max"===n.kind&&(null===e||n.value<e)&&(e=n.value);return Number.isFinite(t)&&Number.isFinite(e)}constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}}tl.create=e=>new tl({checks:[],typeName:h.ZodNumber,coerce:(null==e?void 0:e.coerce)||!1,...eJ(e)});class tc extends eQ{_parse(e){let t;if(this._def.coerce)try{e.data=BigInt(e.data)}catch(t){return this._getInvalidInput(e)}if(this._getType(e)!==eN.bigint)return this._getInvalidInput(e);let n=new eU;for(let r of this._def.checks)"min"===r.kind?(r.inclusive?e.data<r.value:e.data<=r.value)&&(eH(t=this._getOrReturnCtx(e,t),{code:eD.too_small,type:"bigint",minimum:r.value,inclusive:r.inclusive,message:r.message}),n.dirty()):"max"===r.kind?(r.inclusive?e.data>r.value:e.data>=r.value)&&(eH(t=this._getOrReturnCtx(e,t),{code:eD.too_big,type:"bigint",maximum:r.value,inclusive:r.inclusive,message:r.message}),n.dirty()):"multipleOf"===r.kind?e.data%r.value!==BigInt(0)&&(eH(t=this._getOrReturnCtx(e,t),{code:eD.not_multiple_of,multipleOf:r.value,message:r.message}),n.dirty()):c.assertNever(r);return{status:n.value,value:e.data}}_getInvalidInput(e){let t=this._getOrReturnCtx(e);return eH(t,{code:eD.invalid_type,expected:eN.bigint,received:t.parsedType}),ez}gte(e,t){return this.setLimit("min",e,!0,d.toString(t))}gt(e,t){return this.setLimit("min",e,!1,d.toString(t))}lte(e,t){return this.setLimit("max",e,!0,d.toString(t))}lt(e,t){return this.setLimit("max",e,!1,d.toString(t))}setLimit(e,t,n,r){return new tc({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:n,message:d.toString(r)}]})}_addCheck(e){return new tc({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:d.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:d.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:d.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:d.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:d.toString(t)})}get minValue(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}}tc.create=e=>{var t;return new tc({checks:[],typeName:h.ZodBigInt,coerce:null!=(t=null==e?void 0:e.coerce)&&t,...eJ(e)})};class tu extends eQ{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==eN.boolean){let t=this._getOrReturnCtx(e);return eH(t,{code:eD.invalid_type,expected:eN.boolean,received:t.parsedType}),ez}return eG(e.data)}}tu.create=e=>new tu({typeName:h.ZodBoolean,coerce:(null==e?void 0:e.coerce)||!1,...eJ(e)});class td extends eQ{_parse(e){let t;if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==eN.date){let t=this._getOrReturnCtx(e);return eH(t,{code:eD.invalid_type,expected:eN.date,received:t.parsedType}),ez}if(Number.isNaN(e.data.getTime()))return eH(this._getOrReturnCtx(e),{code:eD.invalid_date}),ez;let n=new eU;for(let r of this._def.checks)"min"===r.kind?e.data.getTime()<r.value&&(eH(t=this._getOrReturnCtx(e,t),{code:eD.too_small,message:r.message,inclusive:!0,exact:!1,minimum:r.value,type:"date"}),n.dirty()):"max"===r.kind?e.data.getTime()>r.value&&(eH(t=this._getOrReturnCtx(e,t),{code:eD.too_big,message:r.message,inclusive:!0,exact:!1,maximum:r.value,type:"date"}),n.dirty()):c.assertNever(r);return{status:n.value,value:new Date(e.data.getTime())}}_addCheck(e){return new td({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:d.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:d.toString(t)})}get minDate(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return null!=e?new Date(e):null}get maxDate(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return null!=e?new Date(e):null}}td.create=e=>new td({checks:[],coerce:(null==e?void 0:e.coerce)||!1,typeName:h.ZodDate,...eJ(e)});class th extends eQ{_parse(e){if(this._getType(e)!==eN.symbol){let t=this._getOrReturnCtx(e);return eH(t,{code:eD.invalid_type,expected:eN.symbol,received:t.parsedType}),ez}return eG(e.data)}}th.create=e=>new th({typeName:h.ZodSymbol,...eJ(e)});class tp extends eQ{_parse(e){if(this._getType(e)!==eN.undefined){let t=this._getOrReturnCtx(e);return eH(t,{code:eD.invalid_type,expected:eN.undefined,received:t.parsedType}),ez}return eG(e.data)}}tp.create=e=>new tp({typeName:h.ZodUndefined,...eJ(e)});class tf extends eQ{_parse(e){if(this._getType(e)!==eN.null){let t=this._getOrReturnCtx(e);return eH(t,{code:eD.invalid_type,expected:eN.null,received:t.parsedType}),ez}return eG(e.data)}}tf.create=e=>new tf({typeName:h.ZodNull,...eJ(e)});class tm extends eQ{_parse(e){return eG(e.data)}constructor(){super(...arguments),this._any=!0}}tm.create=e=>new tm({typeName:h.ZodAny,...eJ(e)});class tg extends eQ{_parse(e){return eG(e.data)}constructor(){super(...arguments),this._unknown=!0}}tg.create=e=>new tg({typeName:h.ZodUnknown,...eJ(e)});class ty extends eQ{_parse(e){let t=this._getOrReturnCtx(e);return eH(t,{code:eD.invalid_type,expected:eN.never,received:t.parsedType}),ez}}ty.create=e=>new ty({typeName:h.ZodNever,...eJ(e)});class tb extends eQ{_parse(e){if(this._getType(e)!==eN.undefined){let t=this._getOrReturnCtx(e);return eH(t,{code:eD.invalid_type,expected:eN.void,received:t.parsedType}),ez}return eG(e.data)}}tb.create=e=>new tb({typeName:h.ZodVoid,...eJ(e)});class tv extends eQ{_parse(e){let{ctx:t,status:n}=this._processInputParams(e),r=this._def;if(t.parsedType!==eN.array)return eH(t,{code:eD.invalid_type,expected:eN.array,received:t.parsedType}),ez;if(null!==r.exactLength){let e=t.data.length>r.exactLength.value,i=t.data.length<r.exactLength.value;(e||i)&&(eH(t,{code:e?eD.too_big:eD.too_small,minimum:i?r.exactLength.value:void 0,maximum:e?r.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:r.exactLength.message}),n.dirty())}if(null!==r.minLength&&t.data.length<r.minLength.value&&(eH(t,{code:eD.too_small,minimum:r.minLength.value,type:"array",inclusive:!0,exact:!1,message:r.minLength.message}),n.dirty()),null!==r.maxLength&&t.data.length>r.maxLength.value&&(eH(t,{code:eD.too_big,maximum:r.maxLength.value,type:"array",inclusive:!0,exact:!1,message:r.maxLength.message}),n.dirty()),t.common.async)return Promise.all([...t.data].map((e,n)=>r.type._parseAsync(new eY(t,e,t.path,n)))).then(e=>eU.mergeArray(n,e));let i=[...t.data].map((e,n)=>r.type._parseSync(new eY(t,e,t.path,n)));return eU.mergeArray(n,i)}get element(){return this._def.type}min(e,t){return new tv({...this._def,minLength:{value:e,message:d.toString(t)}})}max(e,t){return new tv({...this._def,maxLength:{value:e,message:d.toString(t)}})}length(e,t){return new tv({...this._def,exactLength:{value:e,message:d.toString(t)}})}nonempty(e){return this.min(1,e)}}tv.create=(e,t)=>new tv({type:e,minLength:null,maxLength:null,exactLength:null,typeName:h.ZodArray,...eJ(t)});class tk extends eQ{_getCached(){if(null!==this._cached)return this._cached;let e=this._def.shape(),t=c.objectKeys(e);return this._cached={shape:e,keys:t},this._cached}_parse(e){if(this._getType(e)!==eN.object){let t=this._getOrReturnCtx(e);return eH(t,{code:eD.invalid_type,expected:eN.object,received:t.parsedType}),ez}let{status:t,ctx:n}=this._processInputParams(e),{shape:r,keys:i}=this._getCached(),a=[];if(!(this._def.catchall instanceof ty&&"strip"===this._def.unknownKeys))for(let e in n.data)i.includes(e)||a.push(e);let s=[];for(let e of i){let t=r[e],i=n.data[e];s.push({key:{status:"valid",value:e},value:t._parse(new eY(n,i,n.path,e)),alwaysSet:e in n.data})}if(this._def.catchall instanceof ty){let e=this._def.unknownKeys;if("passthrough"===e)for(let e of a)s.push({key:{status:"valid",value:e},value:{status:"valid",value:n.data[e]}});else if("strict"===e)a.length>0&&(eH(n,{code:eD.unrecognized_keys,keys:a}),t.dirty());else if("strip"===e);else throw Error("Internal ZodObject error: invalid unknownKeys value.")}else{let e=this._def.catchall;for(let t of a){let r=n.data[t];s.push({key:{status:"valid",value:t},value:e._parse(new eY(n,r,n.path,t)),alwaysSet:t in n.data})}}return n.common.async?Promise.resolve().then(async()=>{let e=[];for(let t of s){let n=await t.key,r=await t.value;e.push({key:n,value:r,alwaysSet:t.alwaysSet})}return e}).then(e=>eU.mergeObjectSync(t,e)):eU.mergeObjectSync(t,s)}get shape(){return this._def.shape()}strict(e){return d.errToObj,new tk({...this._def,unknownKeys:"strict",...void 0!==e?{errorMap:(t,n)=>{var r,i,a,s;let o=null!=(a=null==(r=(i=this._def).errorMap)?void 0:r.call(i,t,n).message)?a:n.defaultError;return"unrecognized_keys"===t.code?{message:null!=(s=d.errToObj(e).message)?s:o}:{message:o}}}:{}})}strip(){return new tk({...this._def,unknownKeys:"strip"})}passthrough(){return new tk({...this._def,unknownKeys:"passthrough"})}extend(e){return new tk({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new tk({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:h.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new tk({...this._def,catchall:e})}pick(e){let t={};for(let n of c.objectKeys(e))e[n]&&this.shape[n]&&(t[n]=this.shape[n]);return new tk({...this._def,shape:()=>t})}omit(e){let t={};for(let n of c.objectKeys(this.shape))e[n]||(t[n]=this.shape[n]);return new tk({...this._def,shape:()=>t})}deepPartial(){return function e(t){if(t instanceof tk){let n={};for(let r in t.shape){let i=t.shape[r];n[r]=tF.create(e(i))}return new tk({...t._def,shape:()=>n})}if(t instanceof tv)return new tv({...t._def,type:e(t.element)});if(t instanceof tF)return tF.create(e(t.unwrap()));if(t instanceof tj)return tj.create(e(t.unwrap()));if(t instanceof tS)return tS.create(t.items.map(t=>e(t)));else return t}(this)}partial(e){let t={};for(let n of c.objectKeys(this.shape)){let r=this.shape[n];e&&!e[n]?t[n]=r:t[n]=r.optional()}return new tk({...this._def,shape:()=>t})}required(e){let t={};for(let n of c.objectKeys(this.shape))if(e&&!e[n])t[n]=this.shape[n];else{let e=this.shape[n];for(;e instanceof tF;)e=e._def.innerType;t[n]=e}return new tk({...this._def,shape:()=>t})}keyof(){return tM(c.objectKeys(this.shape))}constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}}tk.create=(e,t)=>new tk({shape:()=>e,unknownKeys:"strip",catchall:ty.create(),typeName:h.ZodObject,...eJ(t)}),tk.strictCreate=(e,t)=>new tk({shape:()=>e,unknownKeys:"strict",catchall:ty.create(),typeName:h.ZodObject,...eJ(t)}),tk.lazycreate=(e,t)=>new tk({shape:e,unknownKeys:"strip",catchall:ty.create(),typeName:h.ZodObject,...eJ(t)});class tx extends eQ{_parse(e){let{ctx:t}=this._processInputParams(e),n=this._def.options;if(t.common.async)return Promise.all(n.map(async e=>{let n={...t,common:{...t.common,issues:[]},parent:null};return{result:await e._parseAsync({data:t.data,path:t.path,parent:n}),ctx:n}})).then(function(e){for(let t of e)if("valid"===t.result.status)return t.result;for(let n of e)if("dirty"===n.result.status)return t.common.issues.push(...n.ctx.common.issues),n.result;let n=e.map(e=>new eO(e.ctx.common.issues));return eH(t,{code:eD.invalid_union,unionErrors:n}),ez});{let e,r=[];for(let i of n){let n={...t,common:{...t.common,issues:[]},parent:null},a=i._parseSync({data:t.data,path:t.path,parent:n});if("valid"===a.status)return a;"dirty"!==a.status||e||(e={result:a,ctx:n}),n.common.issues.length&&r.push(n.common.issues)}if(e)return t.common.issues.push(...e.ctx.common.issues),e.result;let i=r.map(e=>new eO(e));return eH(t,{code:eD.invalid_union,unionErrors:i}),ez}}get options(){return this._def.options}}tx.create=(e,t)=>new tx({options:e,typeName:h.ZodUnion,...eJ(t)});let t_=e=>{if(e instanceof tI)return t_(e.schema);if(e instanceof tL)return t_(e.innerType());if(e instanceof tD)return[e.value];if(e instanceof tO)return e.options;if(e instanceof tR)return c.objectValues(e.enum);else if(e instanceof tB)return t_(e._def.innerType);else if(e instanceof tp)return[void 0];else if(e instanceof tf)return[null];else if(e instanceof tF)return[void 0,...t_(e.unwrap())];else if(e instanceof tj)return[null,...t_(e.unwrap())];else if(e instanceof tV)return t_(e.unwrap());else if(e instanceof tq)return t_(e.unwrap());else if(e instanceof tH)return t_(e._def.innerType);else return[]};class tE extends eQ{_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==eN.object)return eH(t,{code:eD.invalid_type,expected:eN.object,received:t.parsedType}),ez;let n=this.discriminator,r=t.data[n],i=this.optionsMap.get(r);return i?t.common.async?i._parseAsync({data:t.data,path:t.path,parent:t}):i._parseSync({data:t.data,path:t.path,parent:t}):(eH(t,{code:eD.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),ez)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,t,n){let r=new Map;for(let n of t){let t=t_(n.shape[e]);if(!t.length)throw Error("A discriminator value for key `".concat(e,"` could not be extracted from all schema options"));for(let i of t){if(r.has(i))throw Error("Discriminator property ".concat(String(e)," has duplicate value ").concat(String(i)));r.set(i,n)}}return new tE({typeName:h.ZodDiscriminatedUnion,discriminator:e,options:t,optionsMap:r,...eJ(n)})}}class tT extends eQ{_parse(e){let{status:t,ctx:n}=this._processInputParams(e),r=(e,r)=>{if(eq(e)||eq(r))return ez;let i=function e(t,n){let r=eI(t),i=eI(n);if(t===n)return{valid:!0,data:t};if(r===eN.object&&i===eN.object){let r=c.objectKeys(n),i=c.objectKeys(t).filter(e=>-1!==r.indexOf(e)),a={...t,...n};for(let r of i){let i=e(t[r],n[r]);if(!i.valid)return{valid:!1};a[r]=i.data}return{valid:!0,data:a}}if(r===eN.array&&i===eN.array){if(t.length!==n.length)return{valid:!1};let r=[];for(let i=0;i<t.length;i++){let a=e(t[i],n[i]);if(!a.valid)return{valid:!1};r.push(a.data)}return{valid:!0,data:r}}if(r===eN.date&&i===eN.date&&+t==+n)return{valid:!0,data:t};return{valid:!1}}(e.value,r.value);return i.valid?((eZ(e)||eZ(r))&&t.dirty(),{status:t.value,value:i.data}):(eH(n,{code:eD.invalid_intersection_types}),ez)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(e=>{let[t,n]=e;return r(t,n)}):r(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}tT.create=(e,t,n)=>new tT({left:e,right:t,typeName:h.ZodIntersection,...eJ(n)});class tS extends eQ{_parse(e){let{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==eN.array)return eH(n,{code:eD.invalid_type,expected:eN.array,received:n.parsedType}),ez;if(n.data.length<this._def.items.length)return eH(n,{code:eD.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),ez;!this._def.rest&&n.data.length>this._def.items.length&&(eH(n,{code:eD.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());let r=[...n.data].map((e,t)=>{let r=this._def.items[t]||this._def.rest;return r?r._parse(new eY(n,e,n.path,t)):null}).filter(e=>!!e);return n.common.async?Promise.all(r).then(e=>eU.mergeArray(t,e)):eU.mergeArray(t,r)}get items(){return this._def.items}rest(e){return new tS({...this._def,rest:e})}}tS.create=(e,t)=>{if(!Array.isArray(e))throw Error("You must pass an array of schemas to z.tuple([ ... ])");return new tS({items:e,typeName:h.ZodTuple,rest:null,...eJ(t)})};class tw extends eQ{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==eN.object)return eH(n,{code:eD.invalid_type,expected:eN.object,received:n.parsedType}),ez;let r=[],i=this._def.keyType,a=this._def.valueType;for(let e in n.data)r.push({key:i._parse(new eY(n,e,n.path,e)),value:a._parse(new eY(n,n.data[e],n.path,e)),alwaysSet:e in n.data});return n.common.async?eU.mergeObjectAsync(t,r):eU.mergeObjectSync(t,r)}get element(){return this._def.valueType}static create(e,t,n){return new tw(t instanceof eQ?{keyType:e,valueType:t,typeName:h.ZodRecord,...eJ(n)}:{keyType:to.create(),valueType:e,typeName:h.ZodRecord,...eJ(t)})}}class tC extends eQ{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==eN.map)return eH(n,{code:eD.invalid_type,expected:eN.map,received:n.parsedType}),ez;let r=this._def.keyType,i=this._def.valueType,a=[...n.data.entries()].map((e,t)=>{let[a,s]=e;return{key:r._parse(new eY(n,a,n.path,[t,"key"])),value:i._parse(new eY(n,s,n.path,[t,"value"]))}});if(n.common.async){let e=new Map;return Promise.resolve().then(async()=>{for(let n of a){let r=await n.key,i=await n.value;if("aborted"===r.status||"aborted"===i.status)return ez;("dirty"===r.status||"dirty"===i.status)&&t.dirty(),e.set(r.value,i.value)}return{status:t.value,value:e}})}{let e=new Map;for(let n of a){let r=n.key,i=n.value;if("aborted"===r.status||"aborted"===i.status)return ez;("dirty"===r.status||"dirty"===i.status)&&t.dirty(),e.set(r.value,i.value)}return{status:t.value,value:e}}}}tC.create=(e,t,n)=>new tC({valueType:t,keyType:e,typeName:h.ZodMap,...eJ(n)});class tA extends eQ{_parse(e){let{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==eN.set)return eH(n,{code:eD.invalid_type,expected:eN.set,received:n.parsedType}),ez;let r=this._def;null!==r.minSize&&n.data.size<r.minSize.value&&(eH(n,{code:eD.too_small,minimum:r.minSize.value,type:"set",inclusive:!0,exact:!1,message:r.minSize.message}),t.dirty()),null!==r.maxSize&&n.data.size>r.maxSize.value&&(eH(n,{code:eD.too_big,maximum:r.maxSize.value,type:"set",inclusive:!0,exact:!1,message:r.maxSize.message}),t.dirty());let i=this._def.valueType;function a(e){let n=new Set;for(let r of e){if("aborted"===r.status)return ez;"dirty"===r.status&&t.dirty(),n.add(r.value)}return{status:t.value,value:n}}let s=[...n.data.values()].map((e,t)=>i._parse(new eY(n,e,n.path,t)));return n.common.async?Promise.all(s).then(e=>a(e)):a(s)}min(e,t){return new tA({...this._def,minSize:{value:e,message:d.toString(t)}})}max(e,t){return new tA({...this._def,maxSize:{value:e,message:d.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}tA.create=(e,t)=>new tA({valueType:e,minSize:null,maxSize:null,typeName:h.ZodSet,...eJ(t)});class tN extends eQ{_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==eN.function)return eH(t,{code:eD.invalid_type,expected:eN.function,received:t.parsedType}),ez;function n(e,n){return ej({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,eP,eR].filter(e=>!!e),issueData:{code:eD.invalid_arguments,argumentsError:n}})}function r(e,n){return ej({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,eP,eR].filter(e=>!!e),issueData:{code:eD.invalid_return_type,returnTypeError:n}})}let i={errorMap:t.common.contextualErrorMap},a=t.data;if(this._def.returns instanceof tP){let e=this;return eG(async function(){for(var t=arguments.length,s=Array(t),o=0;o<t;o++)s[o]=arguments[o];let l=new eO([]),c=await e._def.args.parseAsync(s,i).catch(e=>{throw l.addIssue(n(s,e)),l}),u=await Reflect.apply(a,this,c);return await e._def.returns._def.type.parseAsync(u,i).catch(e=>{throw l.addIssue(r(u,e)),l})})}{let e=this;return eG(function(){for(var t=arguments.length,s=Array(t),o=0;o<t;o++)s[o]=arguments[o];let l=e._def.args.safeParse(s,i);if(!l.success)throw new eO([n(s,l.error)]);let c=Reflect.apply(a,this,l.data),u=e._def.returns.safeParse(c,i);if(!u.success)throw new eO([r(c,u.error)]);return u.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return new tN({...this._def,args:tS.create(t).rest(tg.create())})}returns(e){return new tN({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,t,n){return new tN({args:e||tS.create([]).rest(tg.create()),returns:t||tg.create(),typeName:h.ZodFunction,...eJ(n)})}constructor(){super(...arguments),this.validate=this.implement}}class tI extends eQ{get schema(){return this._def.getter()}_parse(e){let{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}tI.create=(e,t)=>new tI({getter:e,typeName:h.ZodLazy,...eJ(t)});class tD extends eQ{_parse(e){if(e.data!==this._def.value){let t=this._getOrReturnCtx(e);return eH(t,{received:t.data,code:eD.invalid_literal,expected:this._def.value}),ez}return{status:"valid",value:e.data}}get value(){return this._def.value}}function tM(e,t){return new tO({values:e,typeName:h.ZodEnum,...eJ(t)})}tD.create=(e,t)=>new tD({value:e,typeName:h.ZodLiteral,...eJ(t)});class tO extends eQ{_parse(e){if("string"!=typeof e.data){let t=this._getOrReturnCtx(e),n=this._def.values;return eH(t,{expected:c.joinValues(n),received:t.parsedType,code:eD.invalid_type}),ez}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){let t=this._getOrReturnCtx(e),n=this._def.values;return eH(t,{received:t.data,code:eD.invalid_enum_value,options:n}),ez}return eG(e.data)}get options(){return this._def.values}get enum(){let e={};for(let t of this._def.values)e[t]=t;return e}get Values(){let e={};for(let t of this._def.values)e[t]=t;return e}get Enum(){let e={};for(let t of this._def.values)e[t]=t;return e}extract(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._def;return tO.create(e,{...this._def,...t})}exclude(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._def;return tO.create(this.options.filter(t=>!e.includes(t)),{...this._def,...t})}}tO.create=tM;class tR extends eQ{_parse(e){let t=c.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==eN.string&&n.parsedType!==eN.number){let e=c.objectValues(t);return eH(n,{expected:c.joinValues(e),received:n.parsedType,code:eD.invalid_type}),ez}if(this._cache||(this._cache=new Set(c.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){let e=c.objectValues(t);return eH(n,{received:n.data,code:eD.invalid_enum_value,options:e}),ez}return eG(e.data)}get enum(){return this._def.values}}tR.create=(e,t)=>new tR({values:e,typeName:h.ZodNativeEnum,...eJ(t)});class tP extends eQ{unwrap(){return this._def.type}_parse(e){let{ctx:t}=this._processInputParams(e);return t.parsedType!==eN.promise&&!1===t.common.async?(eH(t,{code:eD.invalid_type,expected:eN.promise,received:t.parsedType}),ez):eG((t.parsedType===eN.promise?t.data:Promise.resolve(t.data)).then(e=>this._def.type.parseAsync(e,{path:t.path,errorMap:t.common.contextualErrorMap})))}}tP.create=(e,t)=>new tP({type:e,typeName:h.ZodPromise,...eJ(t)});class tL extends eQ{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===h.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){let{status:t,ctx:n}=this._processInputParams(e),r=this._def.effect||null,i={addIssue:e=>{eH(n,e),e.fatal?t.abort():t.dirty()},get path(){return n.path}};if(i.addIssue=i.addIssue.bind(i),"preprocess"===r.type){let e=r.transform(n.data,i);if(n.common.async)return Promise.resolve(e).then(async e=>{if("aborted"===t.value)return ez;let r=await this._def.schema._parseAsync({data:e,path:n.path,parent:n});return"aborted"===r.status?ez:"dirty"===r.status||"dirty"===t.value?eV(r.value):r});{if("aborted"===t.value)return ez;let r=this._def.schema._parseSync({data:e,path:n.path,parent:n});return"aborted"===r.status?ez:"dirty"===r.status||"dirty"===t.value?eV(r.value):r}}if("refinement"===r.type){let e=e=>{let t=r.refinement(e,i);if(n.common.async)return Promise.resolve(t);if(t instanceof Promise)throw Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return e};if(!1!==n.common.async)return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(n=>"aborted"===n.status?ez:("dirty"===n.status&&t.dirty(),e(n.value).then(()=>({status:t.value,value:n.value}))));{let r=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return"aborted"===r.status?ez:("dirty"===r.status&&t.dirty(),e(r.value),{status:t.value,value:r.value})}}if("transform"===r.type)if(!1!==n.common.async)return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(e=>e$(e)?Promise.resolve(r.transform(e.value,i)).then(e=>({status:t.value,value:e})):ez);else{let e=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!e$(e))return ez;let a=r.transform(e.value,i);if(a instanceof Promise)throw Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:a}}c.assertNever(r)}}tL.create=(e,t,n)=>new tL({schema:e,typeName:h.ZodEffects,effect:t,...eJ(n)}),tL.createWithPreprocess=(e,t,n)=>new tL({schema:t,effect:{type:"preprocess",transform:e},typeName:h.ZodEffects,...eJ(n)});class tF extends eQ{_parse(e){return this._getType(e)===eN.undefined?eG(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}tF.create=(e,t)=>new tF({innerType:e,typeName:h.ZodOptional,...eJ(t)});class tj extends eQ{_parse(e){return this._getType(e)===eN.null?eG(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}tj.create=(e,t)=>new tj({innerType:e,typeName:h.ZodNullable,...eJ(t)});class tB extends eQ{_parse(e){let{ctx:t}=this._processInputParams(e),n=t.data;return t.parsedType===eN.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}tB.create=(e,t)=>new tB({innerType:e,typeName:h.ZodDefault,defaultValue:"function"==typeof t.default?t.default:()=>t.default,...eJ(t)});class tH extends eQ{_parse(e){let{ctx:t}=this._processInputParams(e),n={...t,common:{...t.common,issues:[]}},r=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return eW(r)?r.then(e=>({status:"valid",value:"valid"===e.status?e.value:this._def.catchValue({get error(){return new eO(n.common.issues)},input:n.data})})):{status:"valid",value:"valid"===r.status?r.value:this._def.catchValue({get error(){return new eO(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}tH.create=(e,t)=>new tH({innerType:e,typeName:h.ZodCatch,catchValue:"function"==typeof t.catch?t.catch:()=>t.catch,...eJ(t)});class tU extends eQ{_parse(e){if(this._getType(e)!==eN.nan){let t=this._getOrReturnCtx(e);return eH(t,{code:eD.invalid_type,expected:eN.nan,received:t.parsedType}),ez}return{status:"valid",value:e.data}}}tU.create=e=>new tU({typeName:h.ZodNaN,...eJ(e)});let tz=Symbol("zod_brand");class tV extends eQ{_parse(e){let{ctx:t}=this._processInputParams(e),n=t.data;return this._def.type._parse({data:n,path:t.path,parent:t})}unwrap(){return this._def.type}}class tG extends eQ{_parse(e){let{status:t,ctx:n}=this._processInputParams(e);if(n.common.async)return(async()=>{let e=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return"aborted"===e.status?ez:"dirty"===e.status?(t.dirty(),eV(e.value)):this._def.out._parseAsync({data:e.value,path:n.path,parent:n})})();{let e=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return"aborted"===e.status?ez:"dirty"===e.status?(t.dirty(),{status:"dirty",value:e.value}):this._def.out._parseSync({data:e.value,path:n.path,parent:n})}}static create(e,t){return new tG({in:e,out:t,typeName:h.ZodPipeline})}}class tq extends eQ{_parse(e){let t=this._def.innerType._parse(e),n=e=>(e$(e)&&(e.value=Object.freeze(e.value)),e);return eW(t)?t.then(e=>n(e)):n(t)}unwrap(){return this._def.innerType}}function tZ(e,t){let n="function"==typeof e?e(t):"string"==typeof e?{message:e}:e;return"string"==typeof n?{message:n}:n}function t$(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return e?tm.create().superRefine((r,i)=>{let a=e(r);if(a instanceof Promise)return a.then(e=>{if(!e){var a,s;let e=tZ(t,r),o=null==(s=null!=(a=e.fatal)?a:n)||s;i.addIssue({code:"custom",...e,fatal:o})}});if(!a){var s,o;let e=tZ(t,r),a=null==(o=null!=(s=e.fatal)?s:n)||o;i.addIssue({code:"custom",...e,fatal:a})}}):tm.create()}tq.create=(e,t)=>new tq({innerType:e,typeName:h.ZodReadonly,...eJ(t)});let tW={object:tk.lazycreate};!function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"}(h||(h={}));let tY=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{message:"Input not instance of ".concat(e.name)};return t$(t=>t instanceof e,t)},tK=to.create,tJ=tl.create,tQ=tU.create,tX=tc.create,t0=tu.create,t1=td.create,t2=th.create,t5=tp.create,t3=tf.create,t4=tm.create,t6=tg.create,t9=ty.create,t8=tb.create,t7=tv.create,ne=tk.create,nt=tk.strictCreate,nn=tx.create,nr=tE.create,ni=tT.create,na=tS.create,ns=tw.create,no=tC.create,nl=tA.create,nc=tN.create,nu=tI.create,nd=tD.create,nh=tO.create,np=tR.create,nf=tP.create,nm=tL.create,ng=tF.create,ny=tj.create,nb=tL.createWithPreprocess,nv=tG.create,nk=()=>tK().optional(),nx=()=>tJ().optional(),n_=()=>t0().optional(),nE={string:e=>to.create({...e,coerce:!0}),number:e=>tl.create({...e,coerce:!0}),boolean:e=>tu.create({...e,coerce:!0}),bigint:e=>tc.create({...e,coerce:!0}),date:e=>td.create({...e,coerce:!0})},nT=ez;function nS(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((e,t)=>({...e,...null!=t?t:{}}),{})}function nw(e){return Object.fromEntries([...e.headers])}function nC(e){return(e instanceof Error||e instanceof DOMException)&&("AbortError"===e.name||"ResponseAborted"===e.name||"TimeoutError"===e.name)}e.s(["BRAND",()=>tz,"DIRTY",()=>eV,"EMPTY_PATH",()=>eB,"INVALID",()=>ez,"NEVER",()=>nT,"OK",()=>eG,"ParseStatus",()=>eU,"Schema",()=>eQ,"ZodAny",()=>tm,"ZodArray",()=>tv,"ZodBigInt",()=>tc,"ZodBoolean",()=>tu,"ZodBranded",()=>tV,"ZodCatch",()=>tH,"ZodDate",()=>td,"ZodDefault",()=>tB,"ZodDiscriminatedUnion",()=>tE,"ZodEffects",()=>tL,"ZodEnum",()=>tO,"ZodError",()=>eO,"ZodFirstPartyTypeKind",()=>h,"ZodFunction",()=>tN,"ZodIntersection",()=>tT,"ZodIssueCode",()=>eD,"ZodLazy",()=>tI,"ZodLiteral",()=>tD,"ZodMap",()=>tC,"ZodNaN",()=>tU,"ZodNativeEnum",()=>tR,"ZodNever",()=>ty,"ZodNull",()=>tf,"ZodNullable",()=>tj,"ZodNumber",()=>tl,"ZodObject",()=>tk,"ZodOptional",()=>tF,"ZodParsedType",()=>eN,"ZodPipeline",()=>tG,"ZodPromise",()=>tP,"ZodReadonly",()=>tq,"ZodRecord",()=>tw,"ZodSchema",()=>eQ,"ZodSet",()=>tA,"ZodString",()=>to,"ZodSymbol",()=>th,"ZodTransformer",()=>tL,"ZodTuple",()=>tS,"ZodType",()=>eQ,"ZodUndefined",()=>tp,"ZodUnion",()=>tx,"ZodUnknown",()=>tg,"ZodVoid",()=>tb,"addIssueToContext",()=>eH,"any",()=>t4,"array",()=>t7,"bigint",()=>tX,"boolean",()=>t0,"coerce",()=>nE,"custom",()=>t$,"date",()=>t1,"datetimeRegex",()=>ts,"defaultErrorMap",()=>eR,"discriminatedUnion",()=>nr,"effect",()=>nm,"enum",()=>nh,"function",()=>nc,"getErrorMap",()=>eF,"getParsedType",()=>eI,"instanceof",()=>tY,"intersection",()=>ni,"isAborted",()=>eq,"isAsync",()=>eW,"isDirty",()=>eZ,"isValid",()=>e$,"late",()=>tW,"lazy",()=>nu,"literal",()=>nd,"makeIssue",()=>ej,"map",()=>no,"nan",()=>tQ,"nativeEnum",()=>np,"never",()=>t9,"null",()=>t3,"nullable",()=>ny,"number",()=>tJ,"object",()=>ne,"objectUtil",()=>u,"oboolean",()=>n_,"onumber",()=>nx,"optional",()=>ng,"ostring",()=>nk,"pipeline",()=>nv,"preprocess",()=>nb,"promise",()=>nf,"quotelessJson",()=>eM,"record",()=>ns,"set",()=>nl,"setErrorMap",()=>eL,"strictObject",()=>nt,"string",()=>tK,"symbol",()=>t2,"transformer",()=>nm,"tuple",()=>na,"undefined",()=>t5,"union",()=>nn,"unknown",()=>t6,"util",()=>c,"void",()=>t8],788685),e.i(38570),e.s(["defaultErrorMap",()=>eR,"getErrorMap",()=>eF,"setErrorMap",()=>eL],277290),e.i(937904),e.i(277290),e.i(665354),e.i(527404),e.i(904783),e.i(965638),e.i(169790),e.i(788685),!function(){let{prefix:e,size:t=16,alphabet:n="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",separator:r="-"}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(null!=e){if(n.includes(r))throw new eu({argument:"separator",message:'The separator "'.concat(r,'" must not be part of the alphabet "').concat(n,'".')})}}();var nA=["fetch failed","failed to fetch"];function nN(e){let{error:t,url:n,requestBodyValues:r}=e;if(nC(t))return t;if(t instanceof TypeError&&nA.includes(t.message.toLowerCase())){let e=t.cause;if(null!=e)return new et({message:"Cannot connect to API: ".concat(e.message),cause:e,url:n,requestBodyValues:r,isRetryable:!0})}return t}function nI(){var e,t,n;let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:globalThis;return r.window?"runtime/browser":(null==(e=r.navigator)?void 0:e.userAgent)?"runtime/".concat(r.navigator.userAgent.toLowerCase()):(null==(n=null==(t=r.process)?void 0:t.versions)?void 0:n.node)?"runtime/node.js/".concat(r.process.version.substring(0)):r.EdgeRuntime?"runtime/vercel-edge":"runtime/unknown"}function nD(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];let i=new Headers(function(e){if(null==e)return{};let t={};if(e instanceof Headers)e.forEach((e,n)=>{t[n.toLowerCase()]=e});else for(let[n,r]of(Array.isArray(e)||(e=Object.entries(e)),e))null!=r&&(t[n.toLowerCase()]=r);return t}(e)),a=i.get("user-agent")||"";return i.set("user-agent",[a,...n].filter(Boolean).join(" ")),Object.fromEntries(i.entries())}var nM="3.0.17",nO=async e=>{let{url:t,headers:n={},successfulResponseHandler:r,failedResponseHandler:i,abortSignal:a,fetch:s=globalThis.fetch}=e;try{let e=await s(t,{method:"GET",headers:nD(n,"ai-sdk/provider-utils/".concat(nM),nI()),signal:a}),o=nw(e);if(!e.ok){let n;try{n=await i({response:e,url:t,requestBodyValues:{}})}catch(n){if(nC(n)||et.isInstance(n))throw n;throw new et({message:"Failed to process error response",cause:n,statusCode:e.status,url:t,responseHeaders:o,requestBodyValues:{}})}throw n.value}try{return await r({response:e,url:t,requestBodyValues:{}})}catch(n){if(n instanceof Error&&(nC(n)||et.isInstance(n)))throw n;throw new et({message:"Failed to process successful response",cause:n,statusCode:e.status,url:t,responseHeaders:o,requestBodyValues:{}})}}catch(e){throw nN({error:e,url:t,requestBodyValues:{}})}};function nR(e){let{settingValue:t,environmentVariableName:n}=e;return"string"==typeof t?t:null!=t||void 0===G.default?void 0:null!=(t=G.default.env[n])&&"string"==typeof t?t:void 0}var nP=/"__proto__"\s*:/,nL=/"constructor"\s*:/;function nF(e){let t=JSON.parse(e);return null===t||"object"!=typeof t||!1===nP.test(e)&&!1===nL.test(e)?t:function(e){let t=[e];for(;t.length;){let e=t;for(let n of(t=[],e)){if(Object.prototype.hasOwnProperty.call(n,"__proto__")||Object.prototype.hasOwnProperty.call(n,"constructor")&&Object.prototype.hasOwnProperty.call(n.constructor,"prototype"))throw SyntaxError("Object contains forbidden prototype property");for(let e in n){let r=n[e];r&&"object"==typeof r&&t.push(r)}}}return e}(t)}function nj(e){let{stackTraceLimit:t}=Error;try{Error.stackTraceLimit=0}catch(t){return nF(e)}try{return nF(e)}finally{Error.stackTraceLimit=t}}var nB=Symbol.for("vercel.ai.validator");function nH(e){let t;return()=>(null==t&&(t=e()),t)}async function nU(e){let{value:t,schema:n}=e,r=await nz({value:t,schema:n});if(!r.success)throw e_.wrap({value:t,cause:r.error});return r.value}async function nz(e){var t;let{value:n,schema:r}=e,i="object"==typeof r&&null!==r&&nB in r&&!0===r[nB]&&"validate"in r?r:"function"==typeof r?r():(t=r,{[nB]:!0,validate:async e=>{let n=await t["~standard"].validate(e);return null==n.issues?{success:!0,value:n.value}:{success:!1,error:new e_({value:e,cause:n.issues})}}});try{if(null==i.validate)return{success:!0,value:n,rawValue:n};let e=await i.validate(n);if(e.success)return{success:!0,value:e.value,rawValue:n};return{success:!1,error:e_.wrap({value:n,cause:e.error}),rawValue:n}}catch(e){return{success:!1,error:e_.wrap({value:n,cause:e}),rawValue:n}}}async function nV(e){let{text:t,schema:n}=e;try{let e=nj(t);if(null==n)return e;return nU({value:e,schema:n})}catch(e){if(ef.isInstance(e)||e_.isInstance(e))throw e;throw new ef({text:t,cause:e})}}async function nG(e){let{text:t,schema:n}=e;try{let e=nj(t);if(null==n)return{success:!0,value:e,rawValue:e};return await nz({value:e,schema:n})}catch(e){return{success:!1,error:ef.isInstance(e)?e:new ef({text:t,cause:e}),rawValue:void 0}}}var nq=async e=>{let{url:t,headers:n,body:r,failedResponseHandler:i,successfulResponseHandler:a,abortSignal:s,fetch:o}=e;return nZ({url:t,headers:{"Content-Type":"application/json",...n},body:{content:JSON.stringify(r),values:r},failedResponseHandler:i,successfulResponseHandler:a,abortSignal:s,fetch:o})},nZ=async e=>{let{url:t,headers:n={},body:r,successfulResponseHandler:i,failedResponseHandler:a,abortSignal:s,fetch:o=globalThis.fetch}=e;try{let e=await o(t,{method:"POST",headers:nD(n,"ai-sdk/provider-utils/".concat(nM),nI()),body:r.content,signal:s}),l=nw(e);if(!e.ok){let n;try{n=await a({response:e,url:t,requestBodyValues:r.values})}catch(n){if(nC(n)||et.isInstance(n))throw n;throw new et({message:"Failed to process error response",cause:n,statusCode:e.status,url:t,responseHeaders:l,requestBodyValues:r.values})}throw n.value}try{return await i({response:e,url:t,requestBodyValues:r.values})}catch(n){if(n instanceof Error&&(nC(n)||et.isInstance(n)))throw n;throw new et({message:"Failed to process successful response",cause:n,statusCode:e.status,url:t,responseHeaders:l,requestBodyValues:r.values})}}catch(e){throw nN({error:e,url:t,requestBodyValues:r.values})}};async function n$(e){return"function"==typeof e&&(e=e()),Promise.resolve(e)}var nW=e=>{let{errorSchema:t,errorToMessage:n,isRetryable:r}=e;return async e=>{let{response:i,url:a,requestBodyValues:s}=e,o=await i.text(),l=nw(i);if(""===o.trim())return{responseHeaders:l,value:new et({message:i.statusText,url:a,requestBodyValues:s,statusCode:i.status,responseHeaders:l,responseBody:o,isRetryable:null==r?void 0:r(i)})};try{let e=await nV({text:o,schema:t});return{responseHeaders:l,value:new et({message:n(e),url:a,requestBodyValues:s,statusCode:i.status,responseHeaders:l,responseBody:o,data:e,isRetryable:null==r?void 0:r(i,e)})}}catch(e){return{responseHeaders:l,value:new et({message:i.statusText,url:a,requestBodyValues:s,statusCode:i.status,responseHeaders:l,responseBody:o,isRetryable:null==r?void 0:r(i)})}}}},nY=e=>async t=>{let{response:n,url:r,requestBodyValues:i}=t,a=await n.text(),s=await nG({text:a,schema:e}),o=nw(n);if(!s.success)throw new et({message:"Invalid JSON response",cause:s.error,statusCode:n.status,responseHeaders:o,responseBody:a,url:r,requestBodyValues:i});return{responseHeaders:o,value:s.value,rawValue:s.rawValue}},nK=Symbol("Let zodToJsonSchema decide on which parser to use"),nJ={name:void 0,$refStrategy:"root",basePath:["#"],effectStrategy:"input",pipeStrategy:"all",dateStrategy:"format:date-time",mapStrategy:"entries",removeAdditionalStrategy:"passthrough",allowedAdditionalProperties:!0,rejectedAdditionalProperties:!1,definitionPath:"definitions",strictUnions:!1,definitions:{},errorMessages:!1,patternStrategy:"escape",applyRegexFlags:!1,emailStrategy:"format:email",base64Strategy:"contentEncoding:base64",nameStrategy:"ref"};function nQ(e,t){return n7(e.type._def,t)}var nX=void 0,n0={cuid:/^[cC][^\s-]{8,}$/,cuid2:/^[0-9a-z]+$/,ulid:/^[0-9A-HJKMNP-TV-Z]{26}$/,email:/^(?!\.)(?!.*\.\.)([a-zA-Z0-9_'+\-\.]*)[a-zA-Z0-9_+-]@([a-zA-Z0-9][a-zA-Z0-9\-]*\.)+[a-zA-Z]{2,}$/,emoji:()=>(void 0===nX&&(nX=RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),nX),ipv4Cidr:/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,ipv6Cidr:/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,base64:/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,base64url:/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,nanoid:/^[a-zA-Z0-9_-]{21}$/,jwt:/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/};function n1(e,t){let n={type:"string"};if(e.checks)for(let r of e.checks)switch(r.kind){case"min":n.minLength="number"==typeof n.minLength?Math.max(n.minLength,r.value):r.value;break;case"max":n.maxLength="number"==typeof n.maxLength?Math.min(n.maxLength,r.value):r.value;break;case"email":switch(t.emailStrategy){case"format:email":n3(n,"email",r.message,t);break;case"format:idn-email":n3(n,"idn-email",r.message,t);break;case"pattern:zod":n4(n,n0.email,r.message,t)}break;case"url":n3(n,"uri",r.message,t);break;case"uuid":n3(n,"uuid",r.message,t);break;case"regex":n4(n,r.regex,r.message,t);break;case"cuid":n4(n,n0.cuid,r.message,t);break;case"cuid2":n4(n,n0.cuid2,r.message,t);break;case"startsWith":n4(n,RegExp("^".concat(n2(r.value,t))),r.message,t);break;case"endsWith":n4(n,RegExp("".concat(n2(r.value,t),"$")),r.message,t);break;case"datetime":n3(n,"date-time",r.message,t);break;case"date":n3(n,"date",r.message,t);break;case"time":n3(n,"time",r.message,t);break;case"duration":n3(n,"duration",r.message,t);break;case"length":n.minLength="number"==typeof n.minLength?Math.max(n.minLength,r.value):r.value,n.maxLength="number"==typeof n.maxLength?Math.min(n.maxLength,r.value):r.value;break;case"includes":n4(n,RegExp(n2(r.value,t)),r.message,t);break;case"ip":"v6"!==r.version&&n3(n,"ipv4",r.message,t),"v4"!==r.version&&n3(n,"ipv6",r.message,t);break;case"base64url":n4(n,n0.base64url,r.message,t);break;case"jwt":n4(n,n0.jwt,r.message,t);break;case"cidr":"v6"!==r.version&&n4(n,n0.ipv4Cidr,r.message,t),"v4"!==r.version&&n4(n,n0.ipv6Cidr,r.message,t);break;case"emoji":n4(n,n0.emoji(),r.message,t);break;case"ulid":n4(n,n0.ulid,r.message,t);break;case"base64":switch(t.base64Strategy){case"format:binary":n3(n,"binary",r.message,t);break;case"contentEncoding:base64":n.contentEncoding="base64";break;case"pattern:zod":n4(n,n0.base64,r.message,t)}break;case"nanoid":n4(n,n0.nanoid,r.message,t)}return n}function n2(e,t){return"escape"===t.patternStrategy?function(e){let t="";for(let n=0;n<e.length;n++)n5.has(e[n])||(t+="\\"),t+=e[n];return t}(e):e}var n5=new Set("ABCDEFGHIJKLMNOPQRSTUVXYZabcdefghijklmnopqrstuvxyz0123456789");function n3(e,t,n,r){var i;e.format||(null==(i=e.anyOf)?void 0:i.some(e=>e.format))?(e.anyOf||(e.anyOf=[]),e.format&&(e.anyOf.push({format:e.format}),delete e.format),e.anyOf.push({format:t,...n&&r.errorMessages&&{errorMessage:{format:n}}})):e.format=t}function n4(e,t,n,r){var i;e.pattern||(null==(i=e.allOf)?void 0:i.some(e=>e.pattern))?(e.allOf||(e.allOf=[]),e.pattern&&(e.allOf.push({pattern:e.pattern}),delete e.pattern),e.allOf.push({pattern:n6(t,r),...n&&r.errorMessages&&{errorMessage:{pattern:n}}})):e.pattern=n6(t,r)}function n6(e,t){var n;if(!t.applyRegexFlags||!e.flags)return e.source;let r={i:e.flags.includes("i"),m:e.flags.includes("m"),s:e.flags.includes("s")},i=r.i?e.source.toLowerCase():e.source,a="",s=!1,o=!1,l=!1;for(let e=0;e<i.length;e++){if(s){a+=i[e],s=!1;continue}if(r.i){if(o){if(i[e].match(/[a-z]/)){l?(a+=i[e],a+="".concat(i[e-2],"-").concat(i[e]).toUpperCase(),l=!1):"-"===i[e+1]&&(null==(n=i[e+2])?void 0:n.match(/[a-z]/))?(a+=i[e],l=!0):a+="".concat(i[e]).concat(i[e].toUpperCase());continue}}else if(i[e].match(/[a-z]/)){a+="[".concat(i[e]).concat(i[e].toUpperCase(),"]");continue}}if(r.m){if("^"===i[e]){a+="(^|(?<=[\r\n]))";continue}else if("$"===i[e]){a+="($|(?=[\r\n]))";continue}}if(r.s&&"."===i[e]){a+=o?"".concat(i[e],"\r\n"):"[".concat(i[e],"\r\n]");continue}a+=i[e],"\\"===i[e]?s=!0:o&&"]"===i[e]?o=!1:o||"["!==i[e]||(o=!0)}try{new RegExp(a)}catch(n){return console.warn("Could not convert regex pattern at ".concat(t.currentPath.join("/")," to a flag-independent form! Falling back to the flag-ignorant source")),e.source}return a}function n9(e,t){var n,r,i,a,s,o;let l={type:"object",additionalProperties:null!=(n=n7(e.valueType._def,{...t,currentPath:[...t.currentPath,"additionalProperties"]}))?n:t.allowedAdditionalProperties};if((null==(r=e.keyType)?void 0:r._def.typeName)===h.ZodString&&(null==(i=e.keyType._def.checks)?void 0:i.length)){let{type:n,...r}=n1(e.keyType._def,t);return{...l,propertyNames:r}}if((null==(a=e.keyType)?void 0:a._def.typeName)===h.ZodEnum)return{...l,propertyNames:{enum:e.keyType._def.values}};if((null==(s=e.keyType)?void 0:s._def.typeName)===h.ZodBranded&&e.keyType._def.type._def.typeName===h.ZodString&&(null==(o=e.keyType._def.type._def.checks)?void 0:o.length)){let{type:n,...r}=nQ(e.keyType._def,t);return{...l,propertyNames:r}}return l}var n8={ZodString:"string",ZodNumber:"number",ZodBigInt:"integer",ZodBoolean:"boolean",ZodNull:"null"};function n7(e,t){var n;let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=t.seen.get(e);if(t.override){let a=null==(n=t.override)?void 0:n.call(t,e,t,i,r);if(a!==nK)return a}if(i&&!r){let e=re(i,t);if(void 0!==e)return e}let a={def:e,path:t.currentPath,jsonSchema:void 0};t.seen.set(e,a);let s=((e,t,n)=>{switch(t){case h.ZodString:return n1(e,n);case h.ZodNumber:var r,i,a,s,o,l,c=e;let u={type:"number"};if(!c.checks)return u;for(let e of c.checks)switch(e.kind){case"int":u.type="integer";break;case"min":e.inclusive?u.minimum=e.value:u.exclusiveMinimum=e.value;break;case"max":e.inclusive?u.maximum=e.value:u.exclusiveMaximum=e.value;break;case"multipleOf":u.multipleOf=e.value}return u;case h.ZodObject:return function(e,t){let n={type:"object",properties:{}},r=[],i=e.shape();for(let e in i){let a=i[e];if(void 0===a||void 0===a._def)continue;let s=function(e){try{return e.isOptional()}catch(e){return!0}}(a),o=n7(a._def,{...t,currentPath:[...t.currentPath,"properties",e],propertyPath:[...t.currentPath,"properties",e]});void 0!==o&&(n.properties[e]=o,s||r.push(e))}r.length&&(n.required=r);let a=function(e,t){if("ZodNever"!==e.catchall._def.typeName)return n7(e.catchall._def,{...t,currentPath:[...t.currentPath,"additionalProperties"]});switch(e.unknownKeys){case"passthrough":return t.allowedAdditionalProperties;case"strict":return t.rejectedAdditionalProperties;case"strip":return"strict"===t.removeAdditionalStrategy?t.allowedAdditionalProperties:t.rejectedAdditionalProperties}}(e,t);return void 0!==a&&(n.additionalProperties=a),n}(e,n);case h.ZodBigInt:var d=e;let p={type:"integer",format:"int64"};if(!d.checks)return p;for(let e of d.checks)switch(e.kind){case"min":e.inclusive?p.minimum=e.value:p.exclusiveMinimum=e.value;break;case"max":e.inclusive?p.maximum=e.value:p.exclusiveMaximum=e.value;break;case"multipleOf":p.multipleOf=e.value}return p;case h.ZodBoolean:return{type:"boolean"};case h.ZodDate:return function e(t,n,r){let i=null!=r?r:n.dateStrategy;if(Array.isArray(i))return{anyOf:i.map((r,i)=>e(t,n,r))};switch(i){case"string":case"format:date-time":return{type:"string",format:"date-time"};case"format:date":return{type:"string",format:"date"};case"integer":var a=t;let s={type:"integer",format:"unix-time"};for(let e of a.checks)switch(e.kind){case"min":s.minimum=e.value;break;case"max":s.maximum=e.value}return s}}(e,n);case h.ZodUndefined:return{not:{}};case h.ZodNull:return{type:"null"};case h.ZodArray:var f,m,g,y=e,b=n;let v={type:"array"};return(null==(f=y.type)?void 0:f._def)&&(null==(g=null==(m=y.type)?void 0:m._def)?void 0:g.typeName)!==h.ZodAny&&(v.items=n7(y.type._def,{...b,currentPath:[...b.currentPath,"items"]})),y.minLength&&(v.minItems=y.minLength.value),y.maxLength&&(v.maxItems=y.maxLength.value),y.exactLength&&(v.minItems=y.exactLength.value,v.maxItems=y.exactLength.value),v;case h.ZodUnion:case h.ZodDiscriminatedUnion:return function(e,t){let n=e.options instanceof Map?Array.from(e.options.values()):e.options;if(n.every(e=>e._def.typeName in n8&&(!e._def.checks||!e._def.checks.length))){let e=n.reduce((e,t)=>{let n=n8[t._def.typeName];return n&&!e.includes(n)?[...e,n]:e},[]);return{type:e.length>1?e:e[0]}}if(n.every(e=>"ZodLiteral"===e._def.typeName&&!e.description)){let e=n.reduce((e,t)=>{let n=typeof t._def.value;switch(n){case"string":case"number":case"boolean":return[...e,n];case"bigint":return[...e,"integer"];case"object":if(null===t._def.value)return[...e,"null"];default:return e}},[]);if(e.length===n.length){let t=e.filter((e,t,n)=>n.indexOf(e)===t);return{type:t.length>1?t:t[0],enum:n.reduce((e,t)=>e.includes(t._def.value)?e:[...e,t._def.value],[])}}}else if(n.every(e=>"ZodEnum"===e._def.typeName))return{type:"string",enum:n.reduce((e,t)=>[...e,...t._def.values.filter(t=>!e.includes(t))],[])};var r=e,i=t;let a=(r.options instanceof Map?Array.from(r.options.values()):r.options).map((e,t)=>n7(e._def,{...i,currentPath:[...i.currentPath,"anyOf","".concat(t)]})).filter(e=>!!e&&(!i.strictUnions||"object"==typeof e&&Object.keys(e).length>0));return a.length?{anyOf:a}:void 0}(e,n);case h.ZodIntersection:var k=e,x=n;let _=[n7(k.left._def,{...x,currentPath:[...x.currentPath,"allOf","0"]}),n7(k.right._def,{...x,currentPath:[...x.currentPath,"allOf","1"]})].filter(e=>!!e),E=[];return _.forEach(e=>{if((!("type"in e)||"string"!==e.type)&&"allOf"in e)E.push(...e.allOf);else{let t=e;if("additionalProperties"in e&&!1===e.additionalProperties){let{additionalProperties:n,...r}=e;t=r}E.push(t)}}),E.length?{allOf:E}:void 0;case h.ZodTuple:return O=e,R=n,O.rest?{type:"array",minItems:O.items.length,items:O.items.map((e,t)=>n7(e._def,{...R,currentPath:[...R.currentPath,"items","".concat(t)]})).reduce((e,t)=>void 0===t?e:[...e,t],[]),additionalItems:n7(O.rest._def,{...R,currentPath:[...R.currentPath,"additionalItems"]})}:{type:"array",minItems:O.items.length,maxItems:O.items.length,items:O.items.map((e,t)=>n7(e._def,{...R,currentPath:[...R.currentPath,"items","".concat(t)]})).reduce((e,t)=>void 0===t?e:[...e,t],[])};case h.ZodRecord:return n9(e,n);case h.ZodLiteral:var T=e;let S=typeof T.value;return"bigint"!==S&&"number"!==S&&"boolean"!==S&&"string"!==S?{type:Array.isArray(T.value)?"array":"object"}:{type:"bigint"===S?"integer":S,const:T.value};case h.ZodEnum:return{type:"string",enum:Array.from(e.values)};case h.ZodNativeEnum:var w=e;let C=w.values,A=Object.keys(w.values).filter(e=>"number"!=typeof C[C[e]]).map(e=>C[e]),N=Array.from(new Set(A.map(e=>typeof e)));return{type:1===N.length?"string"===N[0]?"string":"number":["string","number"],enum:A};case h.ZodNullable:var I=e,D=n;if(["ZodString","ZodNumber","ZodBigInt","ZodBoolean","ZodNull"].includes(I.innerType._def.typeName)&&(!I.innerType._def.checks||!I.innerType._def.checks.length))return{type:[n8[I.innerType._def.typeName],"null"]};let M=n7(I.innerType._def,{...D,currentPath:[...D.currentPath,"anyOf","0"]});return M&&{anyOf:[M,{type:"null"}]};case h.ZodOptional:var O,R,P,L=e,F=n;if(F.currentPath.toString()===(null==(P=F.propertyPath)?void 0:P.toString()))return n7(L.innerType._def,F);let j=n7(L.innerType._def,{...F,currentPath:[...F.currentPath,"anyOf","1"]});return j?{anyOf:[{not:{}},j]}:{};case h.ZodMap:return r=e,"record"===(i=n).mapStrategy?n9(r,i):{type:"array",maxItems:125,items:{type:"array",items:[n7(r.keyType._def,{...i,currentPath:[...i.currentPath,"items","items","0"]})||{},n7(r.valueType._def,{...i,currentPath:[...i.currentPath,"items","items","1"]})||{}],minItems:2,maxItems:2}};case h.ZodSet:var B=e,H=n;let U={type:"array",uniqueItems:!0,items:n7(B.valueType._def,{...H,currentPath:[...H.currentPath,"items"]})};return B.minSize&&(U.minItems=B.minSize.value),B.maxSize&&(U.maxItems=B.maxSize.value),U;case h.ZodLazy:return()=>e.getter()._def;case h.ZodPromise:return n7(e.type._def,n);case h.ZodNaN:case h.ZodNever:return{not:{}};case h.ZodEffects:return a=e,"input"===(s=n).effectStrategy?n7(a.schema._def,s):{};case h.ZodAny:case h.ZodUnknown:return{};case h.ZodDefault:return o=e,l=n,{...n7(o.innerType._def,l),default:o.defaultValue()};case h.ZodBranded:return nQ(e,n);case h.ZodReadonly:case h.ZodCatch:return n7(e.innerType._def,n);case h.ZodPipeline:var z=e,V=n;if("input"===V.pipeStrategy)return n7(z.in._def,V);if("output"===V.pipeStrategy)return n7(z.out._def,V);let G=n7(z.in._def,{...V,currentPath:[...V.currentPath,"allOf","0"]}),q=n7(z.out._def,{...V,currentPath:[...V.currentPath,"allOf",G?"1":"0"]});return{allOf:[G,q].filter(e=>void 0!==e)};case h.ZodFunction:case h.ZodVoid:case h.ZodSymbol:default:return}})(e,e.typeName,t),o="function"==typeof s?n7(s(),t):s;if(o&&rt(e,t,o),t.postProcess){let n=t.postProcess(o,e,t);return a.jsonSchema=o,n}return a.jsonSchema=o,o}var re=(e,t)=>{switch(t.$refStrategy){case"root":return{$ref:e.path.join("/")};case"relative":return{$ref:((e,t)=>{let n=0;for(;n<e.length&&n<t.length&&e[n]===t[n];n++);return[(e.length-n).toString(),...t.slice(n)].join("/")})(t.currentPath,e.path)};case"none":case"seen":if(e.path.length<t.currentPath.length&&e.path.every((e,n)=>t.currentPath[n]===e))return console.warn("Recursive reference detected at ".concat(t.currentPath.join("/"),"! Defaulting to any")),{};return"seen"===t.$refStrategy?{}:void 0}},rt=(e,t,n)=>(e.description&&(n.description=e.description),n);function rn(e,t){var n,r;if("_zod"in e){let r=null!=(n=null==t?void 0:t.useReferences)&&n;return ri(()=>ew.toJSONSchema(e,{target:"draft-7",io:"output",reused:r?"ref":"inline"}),{validate:async t=>{let n=await eA.safeParseAsync(e,t);return n.success?{success:!0,value:n.data}:{success:!1,error:n.error}}})}let i=null!=(r=null==t?void 0:t.useReferences)&&r;return ri(()=>((e,t)=>{var n;let r=(e=>{let t,n="string"==typeof(t=e)?{...nJ,name:t}:{...nJ,...t},r=void 0!==n.name?[...n.basePath,n.definitionPath,n.name]:n.basePath;return{...n,currentPath:r,propertyPath:void 0,seen:new Map(Object.entries(n.definitions).map(e=>{let[t,r]=e;return[r._def,{def:r._def,path:[...n.basePath,n.definitionPath,t],jsonSchema:void 0}]}))}})(t),i="object"==typeof t&&t.definitions?Object.entries(t.definitions).reduce((e,t)=>{var n;let[i,a]=t;return{...e,[i]:null!=(n=n7(a._def,{...r,currentPath:[...r.basePath,r.definitionPath,i]},!0))?n:{}}},{}):void 0,a="string"==typeof t?t:(null==t?void 0:t.nameStrategy)==="title"||null==t?void 0:t.name,s=null!=(n=n7(e._def,void 0===a?r:{...r,currentPath:[...r.basePath,r.definitionPath,a]},!1))?n:{},o="object"==typeof t&&void 0!==t.name&&"title"===t.nameStrategy?t.name:void 0;void 0!==o&&(s.title=o);let l=void 0===a?i?{...s,[r.definitionPath]:i}:s:{$ref:[..."relative"===r.$refStrategy?[]:r.basePath,r.definitionPath,a].join("/"),[r.definitionPath]:{...i,[a]:s}};return l.$schema="http://json-schema.org/draft-07/schema#",l})(e,{$refStrategy:i?"root":"none"}),{validate:async t=>{let n=await e.safeParseAsync(t);return n.success?{success:!0,value:n.data}:{success:!1,error:n.error}}})}var rr=Symbol.for("vercel.ai.schema");function ri(e){let{validate:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return{[rr]:!0,_type:void 0,[nB]:!0,get jsonSchema(){return"function"==typeof e&&(e=e()),e},validate:t}}var{btoa:ra,atob:rs}=globalThis;e.i(818295);var ro=ew,rl=e.i(725150),rc=Symbol.for("vercel.ai.gateway.error"),ru=class e extends(f=Error,p=rc,f){static isInstance(t){return e.hasMarker(t)}static hasMarker(e){return"object"==typeof e&&null!==e&&rc in e&&!0===e[rc]}constructor({message:e,statusCode:t=500,cause:n}){super(e),this[p]=!0,this.statusCode=t,this.cause=n}},rd="GatewayAuthenticationError",rh=Symbol.for("vercel.ai.gateway.error.".concat(rd)),rp=class e extends(g=ru,m=rh,g){static isInstance(e){return ru.hasMarker(e)&&rh in e}static createContextualError(t){let{apiKeyProvided:n,oidcTokenProvided:r,message:i="Authentication failed",statusCode:a=401,cause:s}=t;return new e({message:n?"AI Gateway authentication failed: Invalid API key.\n\nCreate a new API key: https://vercel.com/d?to=%2F%5Bteam%5D%2F%7E%2Fai%2Fapi-keys\n\nProvide via 'apiKey' option or 'AI_GATEWAY_API_KEY' environment variable.":r?"AI Gateway authentication failed: Invalid OIDC token.\n\nRun 'npx vercel link' to link your project, then 'vc env pull' to fetch the token.\n\nAlternatively, use an API key: https://vercel.com/d?to=%2F%5Bteam%5D%2F%7E%2Fai%2Fapi-keys":"AI Gateway authentication failed: No authentication provided.\n\nOption 1 - API key:\nCreate an API key: https://vercel.com/d?to=%2F%5Bteam%5D%2F%7E%2Fai%2Fapi-keys\nProvide via 'apiKey' option or 'AI_GATEWAY_API_KEY' environment variable.\n\nOption 2 - OIDC token:\nRun 'npx vercel link' to link your project, then 'vc env pull' to fetch the token.",statusCode:a,cause:s})}constructor({message:e="Authentication failed",statusCode:t=401,cause:n}={}){super({message:e,statusCode:t,cause:n}),this[m]=!0,this.name=rd,this.type="authentication_error"}},rf="GatewayInvalidRequestError",rm=Symbol.for("vercel.ai.gateway.error.".concat(rf)),rg=class extends(b=ru,y=rm,b){static isInstance(e){return ru.hasMarker(e)&&rm in e}constructor({message:e="Invalid request",statusCode:t=400,cause:n}={}){super({message:e,statusCode:t,cause:n}),this[y]=!0,this.name=rf,this.type="invalid_request_error"}},ry="GatewayRateLimitError",rb=Symbol.for("vercel.ai.gateway.error.".concat(ry)),rv=class extends(k=ru,v=rb,k){static isInstance(e){return ru.hasMarker(e)&&rb in e}constructor({message:e="Rate limit exceeded",statusCode:t=429,cause:n}={}){super({message:e,statusCode:t,cause:n}),this[v]=!0,this.name=ry,this.type="rate_limit_exceeded"}},rk="GatewayModelNotFoundError",rx=Symbol.for("vercel.ai.gateway.error.".concat(rk)),r_=nH(()=>rn(ro.object({modelId:ro.string()}))),rE=class extends(_=ru,x=rx,_){static isInstance(e){return ru.hasMarker(e)&&rx in e}constructor({message:e="Model not found",statusCode:t=404,modelId:n,cause:r}={}){super({message:e,statusCode:t,cause:r}),this[x]=!0,this.name=rk,this.type="model_not_found",this.modelId=n}},rT="GatewayInternalServerError",rS=Symbol.for("vercel.ai.gateway.error.".concat(rT)),rw=class extends(T=ru,E=rS,T){static isInstance(e){return ru.hasMarker(e)&&rS in e}constructor({message:e="Internal server error",statusCode:t=500,cause:n}={}){super({message:e,statusCode:t,cause:n}),this[E]=!0,this.name=rT,this.type="internal_server_error"}},rC="GatewayResponseError",rA=Symbol.for("vercel.ai.gateway.error.".concat(rC)),rN=class extends(w=ru,S=rA,w){static isInstance(e){return ru.hasMarker(e)&&rA in e}constructor({message:e="Invalid response from Gateway",statusCode:t=502,response:n,validationError:r,cause:i}={}){super({message:e,statusCode:t,cause:i}),this[S]=!0,this.name=rC,this.type="response_error",this.response=n,this.validationError=r}};async function rI(e){let{response:t,statusCode:n,defaultMessage:r="Gateway request failed",cause:i,authMethod:a}=e,s=await nz({value:t,schema:rD});if(!s.success)return new rN({message:"Invalid error response format: ".concat(r),statusCode:n,response:t,validationError:s.error,cause:i});let o=s.value,l=o.error.type,c=o.error.message;switch(l){case"authentication_error":return rp.createContextualError({apiKeyProvided:"api-key"===a,oidcTokenProvided:"oidc"===a,statusCode:n,cause:i});case"invalid_request_error":return new rg({message:c,statusCode:n,cause:i});case"rate_limit_exceeded":return new rv({message:c,statusCode:n,cause:i});case"model_not_found":{let e=await nz({value:o.error.param,schema:r_});return new rE({message:c,statusCode:n,modelId:e.success?e.value.modelId:void 0,cause:i})}default:return new rw({message:c,statusCode:n,cause:i})}}var rD=nH(()=>rn(ro.object({error:ro.object({message:ro.string(),type:ro.string().nullish(),param:ro.unknown().nullish(),code:ro.union([ro.string(),ro.number()]).nullish()})})));function rM(e,t){var n;return ru.isInstance(e)?e:et.isInstance(e)?rI({response:function(e){if(void 0!==e.data)return e.data;if(null!=e.responseBody)try{return JSON.parse(e.responseBody)}catch(t){return e.responseBody}return{}}(e),statusCode:null!=(n=e.statusCode)?n:500,defaultMessage:"Gateway request failed",cause:e,authMethod:t}):rI({response:{},statusCode:500,defaultMessage:e instanceof Error?"Gateway request failed: ".concat(e.message):"Unknown Gateway error",cause:e,authMethod:t})}var rO="ai-gateway-auth-method";async function rR(e){let t=await nz({value:e[rO],schema:rP});return t.success?t.value:void 0}var rP=nH(()=>rn(ro.union([ro.literal("api-key"),ro.literal("oidc")]))),rL=class{async getAvailableModels(){try{let{value:e}=await nO({url:"".concat(this.config.baseURL,"/config"),headers:await n$(this.config.headers()),successfulResponseHandler:nY(rF),failedResponseHandler:nW({errorSchema:ro.any(),errorToMessage:e=>e}),fetch:this.config.fetch});return e}catch(e){throw await rM(e)}}async getCredits(){try{let e=new URL(this.config.baseURL),{value:t}=await nO({url:"".concat(e.origin,"/v1/credits"),headers:await n$(this.config.headers()),successfulResponseHandler:nY(rj),failedResponseHandler:nW({errorSchema:ro.any(),errorToMessage:e=>e}),fetch:this.config.fetch});return t}catch(e){throw await rM(e)}}constructor(e){this.config=e}},rF=nH(()=>rn(ro.object({models:ro.array(ro.object({id:ro.string(),name:ro.string(),description:ro.string().nullish(),pricing:ro.object({input:ro.string(),output:ro.string(),input_cache_read:ro.string().nullish(),input_cache_write:ro.string().nullish()}).transform(e=>{let{input:t,output:n,input_cache_read:r,input_cache_write:i}=e;return{input:t,output:n,...r?{cachedInputTokens:r}:{},...i?{cacheCreationInputTokens:i}:{}}}).nullish(),specification:ro.object({specificationVersion:ro.literal("v2"),provider:ro.string(),modelId:ro.string()}),modelType:ro.enum(["language","embedding","image"]).nullish()}))}))),rj=nH(()=>rn(ro.object({balance:ro.string(),total_used:ro.string()}).transform(e=>{let{balance:t,total_used:n}=e;return{balance:t,totalUsed:n}}))),rB=class{get provider(){return this.config.provider}async getArgs(e){let{abortSignal:t,...n}=e;return{args:this.maybeEncodeFileParts(n),warnings:[]}}async doGenerate(e){let{args:t,warnings:n}=await this.getArgs(e),{abortSignal:r}=e,i=await n$(this.config.headers());try{let{responseHeaders:a,value:s,rawValue:o}=await nq({url:this.getUrl(),headers:nS(i,e.headers,this.getModelConfigHeaders(this.modelId,!1),await n$(this.config.o11yHeaders)),body:t,successfulResponseHandler:nY(ro.any()),failedResponseHandler:nW({errorSchema:ro.any(),errorToMessage:e=>e}),...r&&{abortSignal:r},fetch:this.config.fetch});return{...s,request:{body:t},response:{headers:a,body:o},warnings:n}}catch(e){throw await rM(e,await rR(i))}}async doStream(e){let{args:t,warnings:n}=await this.getArgs(e),{abortSignal:r}=e,i=await n$(this.config.headers());try{let a,{value:s,responseHeaders:o}=await nq({url:this.getUrl(),headers:nS(i,e.headers,this.getModelConfigHeaders(this.modelId,!0),await n$(this.config.o11yHeaders)),body:t,successfulResponseHandler:(a=ro.any(),async e=>{let{response:t}=e,n=nw(t);if(null==t.body)throw new ea({});return{responseHeaders:n,value:function(e){let{stream:t,schema:n}=e;return t.pipeThrough(new TextDecoderStream).pipeThrough(new eS).pipeThrough(new TransformStream({async transform(e,t){let{data:r}=e;"[DONE]"!==r&&t.enqueue(await nG({text:r,schema:n}))}}))}({stream:t.body,schema:a})}}),failedResponseHandler:nW({errorSchema:ro.any(),errorToMessage:e=>e}),...r&&{abortSignal:r},fetch:this.config.fetch});return{stream:s.pipeThrough(new TransformStream({start(e){n.length>0&&e.enqueue({type:"stream-start",warnings:n})},transform(t,n){if(t.success){let r=t.value;("raw"!==r.type||e.includeRawChunks)&&("response-metadata"===r.type&&r.timestamp&&"string"==typeof r.timestamp&&(r.timestamp=new Date(r.timestamp)),n.enqueue(r))}else n.error(t.error)}})),request:{body:t},response:{headers:o}}}catch(e){throw await rM(e,await rR(i))}}isFilePart(e){return e&&"object"==typeof e&&"type"in e&&"file"===e.type}maybeEncodeFileParts(e){for(let t of e.prompt)for(let e of t.content)if(this.isFilePart(e)&&e.data instanceof Uint8Array){let t=Uint8Array.from(e.data),n=$.Buffer.from(t).toString("base64");e.data=new URL("data:".concat(e.mediaType||"application/octet-stream",";base64,").concat(n))}return e}getUrl(){return"".concat(this.config.baseURL,"/language-model")}getModelConfigHeaders(e,t){return{"ai-language-model-specification-version":"2","ai-language-model-id":e,"ai-language-model-streaming":String(t)}}constructor(e,t){this.modelId=e,this.config=t,this.specificationVersion="v2",this.supportedUrls={"*/*":[/.*/]}}},rH=class{get provider(){return this.config.provider}async doEmbed(e){var t;let{values:n,headers:r,abortSignal:i,providerOptions:a}=e,s=await n$(this.config.headers());try{let{responseHeaders:e,value:o,rawValue:l}=await nq({url:this.getUrl(),headers:nS(s,null!=r?r:{},this.getModelConfigHeaders(),await n$(this.config.o11yHeaders)),body:{input:1===n.length?n[0]:n,...a?{providerOptions:a}:{}},successfulResponseHandler:nY(rU),failedResponseHandler:nW({errorSchema:ro.any(),errorToMessage:e=>e}),...i&&{abortSignal:i},fetch:this.config.fetch});return{embeddings:o.embeddings,usage:null!=(t=o.usage)?t:void 0,providerMetadata:o.providerMetadata,response:{headers:e,body:l}}}catch(e){throw await rM(e,await rR(s))}}getUrl(){return"".concat(this.config.baseURL,"/embedding-model")}getModelConfigHeaders(){return{"ai-embedding-model-specification-version":"2","ai-model-id":this.modelId}}constructor(e,t){this.modelId=e,this.config=t,this.specificationVersion="v2",this.maxEmbeddingsPerCall=2048,this.supportsParallelCalls=!0}},rU=nH(()=>rn(ro.object({embeddings:ro.array(ro.array(ro.number())),usage:ro.object({tokens:ro.number()}).nullish(),providerMetadata:ro.record(ro.string(),ro.record(ro.string(),ro.unknown())).optional()})));async function rz(){var e;return null==(e=(0,rl.getContext)().headers)?void 0:e["x-vercel-id"]}async function rV(e){let t=nR({settingValue:e.apiKey,environmentVariableName:"AI_GATEWAY_API_KEY"});if(t)return{token:t,authMethod:"api-key"};try{return{token:await (0,rl.getVercelOidcToken)(),authMethod:"oidc"}}catch(e){return null}}!function(){var e,t,n;let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=null,a=null,s=null!=(e=r.metadataCacheRefreshMillis)?e:3e5,o=0,l=null!=(t=null==(n=r.baseURL)?void 0:n.replace(/\/$/,""))?t:"https://ai-gateway.vercel.sh/v1/ai",c=async()=>{let e=await rV(r);if(e)return nD({Authorization:"Bearer ".concat(e.token),"ai-gateway-protocol-version":"0.0.1",[rO]:e.authMethod,...r.headers},"ai-sdk/gateway/".concat("2.0.9"));throw rp.createContextualError({apiKeyProvided:!1,oidcTokenProvided:!1,statusCode:401})},u=()=>{let e=nR({settingValue:void 0,environmentVariableName:"VERCEL_DEPLOYMENT_ID"}),t=nR({settingValue:void 0,environmentVariableName:"VERCEL_ENV"}),n=nR({settingValue:void 0,environmentVariableName:"VERCEL_REGION"});return async()=>{let r=await rz();return{...e&&{"ai-o11y-deployment-id":e},...t&&{"ai-o11y-environment":t},...n&&{"ai-o11y-region":n},...r&&{"ai-o11y-request-id":r}}}},d=e=>new rB(e,{provider:"gateway",baseURL:l,headers:c,fetch:r.fetch,o11yHeaders:u()}),h=async()=>new rL({baseURL:l,headers:c,fetch:r.fetch}).getCredits().catch(async e=>{throw await rM(e,await rR(await c()))}),p=function(e){if(new.target)throw Error("The Gateway Provider model function cannot be called with the new keyword.");return d(e)};p.getAvailableModels=async()=>{var e,t,n;let u=null!=(n=null==(t=null==(e=r._internal)?void 0:e.currentDate)?void 0:t.call(e).getTime())?n:Date.now();return(!i||u-o>s)&&(o=u,i=new rL({baseURL:l,headers:c,fetch:r.fetch}).getAvailableModels().then(e=>(a=e,e)).catch(async e=>{throw await rM(e,await rR(await c()))})),a?Promise.resolve(a):i},p.getCredits=h,p.imageModel=e=>{throw new eb({modelId:e,modelType:"imageModel"})},p.languageModel=d,p.textEmbeddingModel=e=>new rH(e,{provider:"gateway",baseURL:l,headers:c,fetch:r.fetch,o11yHeaders:u()})}();var rG=function(){let{prefix:e,size:t=16,alphabet:n="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",separator:r="-"}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=()=>{let e=n.length,r=Array(t);for(let i=0;i<t;i++)r[i]=n[Math.random()*e|0];return r.join("")};if(null==e)return i;if(n.includes(r))throw new eu({argument:"separator",message:'The separator "'.concat(r,'" must not be part of the alphabet "').concat(n,'".')});return()=>"".concat(e).concat(r).concat(i())},rq=rG();function rZ(){var e,t,n;let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:globalThis;return r.window?"runtime/browser":(null==(e=r.navigator)?void 0:e.userAgent)?"runtime/".concat(r.navigator.userAgent.toLowerCase()):(null==(n=null==(t=r.process)?void 0:t.versions)?void 0:n.node)?"runtime/node.js/".concat(r.process.version.substring(0)):r.EdgeRuntime?"runtime/vercel-edge":"runtime/unknown"}function r$(e){if(null==e)return{};let t={};if(e instanceof Headers)e.forEach((e,n)=>{t[n.toLowerCase()]=e});else for(let[n,r]of(Array.isArray(e)||(e=Object.entries(e)),e))null!=r&&(t[n.toLowerCase()]=r);return t}function rW(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];let i=new Headers(r$(e)),a=i.get("user-agent")||"";return i.set("user-agent",[a,...n].filter(Boolean).join(" ")),Object.fromEntries(i.entries())}var rY=/"__proto__"\s*:/,rK=/"constructor"\s*:/;function rJ(e){let t=JSON.parse(e);return null===t||"object"!=typeof t||!1===rY.test(e)&&!1===rK.test(e)?t:function(e){let t=[e];for(;t.length;){let e=t;for(let n of(t=[],e)){if(Object.prototype.hasOwnProperty.call(n,"__proto__")||Object.prototype.hasOwnProperty.call(n,"constructor")&&Object.prototype.hasOwnProperty.call(n.constructor,"prototype"))throw SyntaxError("Object contains forbidden prototype property");for(let e in n){let r=n[e];r&&"object"==typeof r&&t.push(r)}}}return e}(t)}var rQ=Symbol.for("vercel.ai.validator");function rX(e){let t;return()=>(null==t&&(t=e()),t)}async function r0(e){let{value:t,schema:n}=e,r=await r1({value:t,schema:n});if(!r.success)throw e_.wrap({value:t,cause:r.error});return r.value}async function r1(e){var t;let{value:n,schema:r}=e,i="object"==typeof r&&null!==r&&rQ in r&&!0===r[rQ]&&"validate"in r?r:"function"==typeof r?r():(t=r,{[rQ]:!0,validate:async e=>{let n=await t["~standard"].validate(e);return null==n.issues?{success:!0,value:n.value}:{success:!1,error:new e_({value:e,cause:n.issues})}}});try{if(null==i.validate)return{success:!0,value:n,rawValue:n};let e=await i.validate(n);if(e.success)return{success:!0,value:e.value,rawValue:n};return{success:!1,error:e_.wrap({value:n,cause:e.error}),rawValue:n}}catch(e){return{success:!1,error:e_.wrap({value:n,cause:e}),rawValue:n}}}async function r2(e){let{text:t,schema:n}=e;try{let e=function(e){let{stackTraceLimit:t}=Error;try{Error.stackTraceLimit=0}catch(t){return rJ(e)}try{return rJ(e)}finally{Error.stackTraceLimit=t}}(t);if(null==n)return{success:!0,value:e,rawValue:e};return await r1({value:e,schema:n})}catch(e){return{success:!1,error:ef.isInstance(e)?e:new ef({text:t,cause:e}),rawValue:void 0}}}async function r5(e){return"function"==typeof e&&(e=e()),Promise.resolve(e)}var r3=Symbol("Let zodToJsonSchema decide on which parser to use"),r4={name:void 0,$refStrategy:"root",basePath:["#"],effectStrategy:"input",pipeStrategy:"all",dateStrategy:"format:date-time",mapStrategy:"entries",removeAdditionalStrategy:"passthrough",allowedAdditionalProperties:!0,rejectedAdditionalProperties:!1,definitionPath:"definitions",strictUnions:!1,definitions:{},errorMessages:!1,patternStrategy:"escape",applyRegexFlags:!1,emailStrategy:"format:email",base64Strategy:"contentEncoding:base64",nameStrategy:"ref"};function r6(e,t){return il(e.type._def,t)}var r9=void 0,r8={cuid:/^[cC][^\s-]{8,}$/,cuid2:/^[0-9a-z]+$/,ulid:/^[0-9A-HJKMNP-TV-Z]{26}$/,email:/^(?!\.)(?!.*\.\.)([a-zA-Z0-9_'+\-\.]*)[a-zA-Z0-9_+-]@([a-zA-Z0-9][a-zA-Z0-9\-]*\.)+[a-zA-Z]{2,}$/,emoji:()=>(void 0===r9&&(r9=RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),r9),ipv4Cidr:/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,ipv6Cidr:/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,base64:/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,base64url:/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,nanoid:/^[a-zA-Z0-9_-]{21}$/,jwt:/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/};function r7(e,t){let n={type:"string"};if(e.checks)for(let r of e.checks)switch(r.kind){case"min":n.minLength="number"==typeof n.minLength?Math.max(n.minLength,r.value):r.value;break;case"max":n.maxLength="number"==typeof n.maxLength?Math.min(n.maxLength,r.value):r.value;break;case"email":switch(t.emailStrategy){case"format:email":ir(n,"email",r.message,t);break;case"format:idn-email":ir(n,"idn-email",r.message,t);break;case"pattern:zod":ii(n,r8.email,r.message,t)}break;case"url":ir(n,"uri",r.message,t);break;case"uuid":ir(n,"uuid",r.message,t);break;case"regex":ii(n,r.regex,r.message,t);break;case"cuid":ii(n,r8.cuid,r.message,t);break;case"cuid2":ii(n,r8.cuid2,r.message,t);break;case"startsWith":ii(n,RegExp("^".concat(ie(r.value,t))),r.message,t);break;case"endsWith":ii(n,RegExp("".concat(ie(r.value,t),"$")),r.message,t);break;case"datetime":ir(n,"date-time",r.message,t);break;case"date":ir(n,"date",r.message,t);break;case"time":ir(n,"time",r.message,t);break;case"duration":ir(n,"duration",r.message,t);break;case"length":n.minLength="number"==typeof n.minLength?Math.max(n.minLength,r.value):r.value,n.maxLength="number"==typeof n.maxLength?Math.min(n.maxLength,r.value):r.value;break;case"includes":ii(n,RegExp(ie(r.value,t)),r.message,t);break;case"ip":"v6"!==r.version&&ir(n,"ipv4",r.message,t),"v4"!==r.version&&ir(n,"ipv6",r.message,t);break;case"base64url":ii(n,r8.base64url,r.message,t);break;case"jwt":ii(n,r8.jwt,r.message,t);break;case"cidr":"v6"!==r.version&&ii(n,r8.ipv4Cidr,r.message,t),"v4"!==r.version&&ii(n,r8.ipv6Cidr,r.message,t);break;case"emoji":ii(n,r8.emoji(),r.message,t);break;case"ulid":ii(n,r8.ulid,r.message,t);break;case"base64":switch(t.base64Strategy){case"format:binary":ir(n,"binary",r.message,t);break;case"contentEncoding:base64":n.contentEncoding="base64";break;case"pattern:zod":ii(n,r8.base64,r.message,t)}break;case"nanoid":ii(n,r8.nanoid,r.message,t)}return n}function ie(e,t){return"escape"===t.patternStrategy?function(e){let t="";for(let n=0;n<e.length;n++)it.has(e[n])||(t+="\\"),t+=e[n];return t}(e):e}var it=new Set("ABCDEFGHIJKLMNOPQRSTUVXYZabcdefghijklmnopqrstuvxyz0123456789");function ir(e,t,n,r){var i;e.format||(null==(i=e.anyOf)?void 0:i.some(e=>e.format))?(e.anyOf||(e.anyOf=[]),e.format&&(e.anyOf.push({format:e.format}),delete e.format),e.anyOf.push({format:t,...n&&r.errorMessages&&{errorMessage:{format:n}}})):e.format=t}function ii(e,t,n,r){var i;e.pattern||(null==(i=e.allOf)?void 0:i.some(e=>e.pattern))?(e.allOf||(e.allOf=[]),e.pattern&&(e.allOf.push({pattern:e.pattern}),delete e.pattern),e.allOf.push({pattern:ia(t,r),...n&&r.errorMessages&&{errorMessage:{pattern:n}}})):e.pattern=ia(t,r)}function ia(e,t){var n;if(!t.applyRegexFlags||!e.flags)return e.source;let r={i:e.flags.includes("i"),m:e.flags.includes("m"),s:e.flags.includes("s")},i=r.i?e.source.toLowerCase():e.source,a="",s=!1,o=!1,l=!1;for(let e=0;e<i.length;e++){if(s){a+=i[e],s=!1;continue}if(r.i){if(o){if(i[e].match(/[a-z]/)){l?(a+=i[e],a+="".concat(i[e-2],"-").concat(i[e]).toUpperCase(),l=!1):"-"===i[e+1]&&(null==(n=i[e+2])?void 0:n.match(/[a-z]/))?(a+=i[e],l=!0):a+="".concat(i[e]).concat(i[e].toUpperCase());continue}}else if(i[e].match(/[a-z]/)){a+="[".concat(i[e]).concat(i[e].toUpperCase(),"]");continue}}if(r.m){if("^"===i[e]){a+="(^|(?<=[\r\n]))";continue}else if("$"===i[e]){a+="($|(?=[\r\n]))";continue}}if(r.s&&"."===i[e]){a+=o?"".concat(i[e],"\r\n"):"[".concat(i[e],"\r\n]");continue}a+=i[e],"\\"===i[e]?s=!0:o&&"]"===i[e]?o=!1:o||"["!==i[e]||(o=!0)}try{new RegExp(a)}catch(n){return console.warn("Could not convert regex pattern at ".concat(t.currentPath.join("/")," to a flag-independent form! Falling back to the flag-ignorant source")),e.source}return a}function is(e,t){var n,r,i,a,s,o;let l={type:"object",additionalProperties:null!=(n=il(e.valueType._def,{...t,currentPath:[...t.currentPath,"additionalProperties"]}))?n:t.allowedAdditionalProperties};if((null==(r=e.keyType)?void 0:r._def.typeName)===h.ZodString&&(null==(i=e.keyType._def.checks)?void 0:i.length)){let{type:n,...r}=r7(e.keyType._def,t);return{...l,propertyNames:r}}if((null==(a=e.keyType)?void 0:a._def.typeName)===h.ZodEnum)return{...l,propertyNames:{enum:e.keyType._def.values}};if((null==(s=e.keyType)?void 0:s._def.typeName)===h.ZodBranded&&e.keyType._def.type._def.typeName===h.ZodString&&(null==(o=e.keyType._def.type._def.checks)?void 0:o.length)){let{type:n,...r}=r6(e.keyType._def,t);return{...l,propertyNames:r}}return l}var io={ZodString:"string",ZodNumber:"number",ZodBigInt:"integer",ZodBoolean:"boolean",ZodNull:"null"};function il(e,t){var n;let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=t.seen.get(e);if(t.override){let a=null==(n=t.override)?void 0:n.call(t,e,t,i,r);if(a!==r3)return a}if(i&&!r){let e=ic(i,t);if(void 0!==e)return e}let a={def:e,path:t.currentPath,jsonSchema:void 0};t.seen.set(e,a);let s=((e,t,n)=>{switch(t){case h.ZodString:return r7(e,n);case h.ZodNumber:var r,i,a,s,o,l,c=e;let u={type:"number"};if(!c.checks)return u;for(let e of c.checks)switch(e.kind){case"int":u.type="integer";break;case"min":e.inclusive?u.minimum=e.value:u.exclusiveMinimum=e.value;break;case"max":e.inclusive?u.maximum=e.value:u.exclusiveMaximum=e.value;break;case"multipleOf":u.multipleOf=e.value}return u;case h.ZodObject:return function(e,t){let n={type:"object",properties:{}},r=[],i=e.shape();for(let e in i){let a=i[e];if(void 0===a||void 0===a._def)continue;let s=function(e){try{return e.isOptional()}catch(e){return!0}}(a),o=il(a._def,{...t,currentPath:[...t.currentPath,"properties",e],propertyPath:[...t.currentPath,"properties",e]});void 0!==o&&(n.properties[e]=o,s||r.push(e))}r.length&&(n.required=r);let a=function(e,t){if("ZodNever"!==e.catchall._def.typeName)return il(e.catchall._def,{...t,currentPath:[...t.currentPath,"additionalProperties"]});switch(e.unknownKeys){case"passthrough":return t.allowedAdditionalProperties;case"strict":return t.rejectedAdditionalProperties;case"strip":return"strict"===t.removeAdditionalStrategy?t.allowedAdditionalProperties:t.rejectedAdditionalProperties}}(e,t);return void 0!==a&&(n.additionalProperties=a),n}(e,n);case h.ZodBigInt:var d=e;let p={type:"integer",format:"int64"};if(!d.checks)return p;for(let e of d.checks)switch(e.kind){case"min":e.inclusive?p.minimum=e.value:p.exclusiveMinimum=e.value;break;case"max":e.inclusive?p.maximum=e.value:p.exclusiveMaximum=e.value;break;case"multipleOf":p.multipleOf=e.value}return p;case h.ZodBoolean:return{type:"boolean"};case h.ZodDate:return function e(t,n,r){let i=null!=r?r:n.dateStrategy;if(Array.isArray(i))return{anyOf:i.map((r,i)=>e(t,n,r))};switch(i){case"string":case"format:date-time":return{type:"string",format:"date-time"};case"format:date":return{type:"string",format:"date"};case"integer":var a=t;let s={type:"integer",format:"unix-time"};for(let e of a.checks)switch(e.kind){case"min":s.minimum=e.value;break;case"max":s.maximum=e.value}return s}}(e,n);case h.ZodUndefined:return{not:{}};case h.ZodNull:return{type:"null"};case h.ZodArray:var f,m,g,y=e,b=n;let v={type:"array"};return(null==(f=y.type)?void 0:f._def)&&(null==(g=null==(m=y.type)?void 0:m._def)?void 0:g.typeName)!==h.ZodAny&&(v.items=il(y.type._def,{...b,currentPath:[...b.currentPath,"items"]})),y.minLength&&(v.minItems=y.minLength.value),y.maxLength&&(v.maxItems=y.maxLength.value),y.exactLength&&(v.minItems=y.exactLength.value,v.maxItems=y.exactLength.value),v;case h.ZodUnion:case h.ZodDiscriminatedUnion:return function(e,t){let n=e.options instanceof Map?Array.from(e.options.values()):e.options;if(n.every(e=>e._def.typeName in io&&(!e._def.checks||!e._def.checks.length))){let e=n.reduce((e,t)=>{let n=io[t._def.typeName];return n&&!e.includes(n)?[...e,n]:e},[]);return{type:e.length>1?e:e[0]}}if(n.every(e=>"ZodLiteral"===e._def.typeName&&!e.description)){let e=n.reduce((e,t)=>{let n=typeof t._def.value;switch(n){case"string":case"number":case"boolean":return[...e,n];case"bigint":return[...e,"integer"];case"object":if(null===t._def.value)return[...e,"null"];default:return e}},[]);if(e.length===n.length){let t=e.filter((e,t,n)=>n.indexOf(e)===t);return{type:t.length>1?t:t[0],enum:n.reduce((e,t)=>e.includes(t._def.value)?e:[...e,t._def.value],[])}}}else if(n.every(e=>"ZodEnum"===e._def.typeName))return{type:"string",enum:n.reduce((e,t)=>[...e,...t._def.values.filter(t=>!e.includes(t))],[])};var r=e,i=t;let a=(r.options instanceof Map?Array.from(r.options.values()):r.options).map((e,t)=>il(e._def,{...i,currentPath:[...i.currentPath,"anyOf","".concat(t)]})).filter(e=>!!e&&(!i.strictUnions||"object"==typeof e&&Object.keys(e).length>0));return a.length?{anyOf:a}:void 0}(e,n);case h.ZodIntersection:var k=e,x=n;let _=[il(k.left._def,{...x,currentPath:[...x.currentPath,"allOf","0"]}),il(k.right._def,{...x,currentPath:[...x.currentPath,"allOf","1"]})].filter(e=>!!e),E=[];return _.forEach(e=>{if((!("type"in e)||"string"!==e.type)&&"allOf"in e)E.push(...e.allOf);else{let t=e;if("additionalProperties"in e&&!1===e.additionalProperties){let{additionalProperties:n,...r}=e;t=r}E.push(t)}}),E.length?{allOf:E}:void 0;case h.ZodTuple:return O=e,R=n,O.rest?{type:"array",minItems:O.items.length,items:O.items.map((e,t)=>il(e._def,{...R,currentPath:[...R.currentPath,"items","".concat(t)]})).reduce((e,t)=>void 0===t?e:[...e,t],[]),additionalItems:il(O.rest._def,{...R,currentPath:[...R.currentPath,"additionalItems"]})}:{type:"array",minItems:O.items.length,maxItems:O.items.length,items:O.items.map((e,t)=>il(e._def,{...R,currentPath:[...R.currentPath,"items","".concat(t)]})).reduce((e,t)=>void 0===t?e:[...e,t],[])};case h.ZodRecord:return is(e,n);case h.ZodLiteral:var T=e;let S=typeof T.value;return"bigint"!==S&&"number"!==S&&"boolean"!==S&&"string"!==S?{type:Array.isArray(T.value)?"array":"object"}:{type:"bigint"===S?"integer":S,const:T.value};case h.ZodEnum:return{type:"string",enum:Array.from(e.values)};case h.ZodNativeEnum:var w=e;let C=w.values,A=Object.keys(w.values).filter(e=>"number"!=typeof C[C[e]]).map(e=>C[e]),N=Array.from(new Set(A.map(e=>typeof e)));return{type:1===N.length?"string"===N[0]?"string":"number":["string","number"],enum:A};case h.ZodNullable:var I=e,D=n;if(["ZodString","ZodNumber","ZodBigInt","ZodBoolean","ZodNull"].includes(I.innerType._def.typeName)&&(!I.innerType._def.checks||!I.innerType._def.checks.length))return{type:[io[I.innerType._def.typeName],"null"]};let M=il(I.innerType._def,{...D,currentPath:[...D.currentPath,"anyOf","0"]});return M&&{anyOf:[M,{type:"null"}]};case h.ZodOptional:var O,R,P,L=e,F=n;if(F.currentPath.toString()===(null==(P=F.propertyPath)?void 0:P.toString()))return il(L.innerType._def,F);let j=il(L.innerType._def,{...F,currentPath:[...F.currentPath,"anyOf","1"]});return j?{anyOf:[{not:{}},j]}:{};case h.ZodMap:return r=e,"record"===(i=n).mapStrategy?is(r,i):{type:"array",maxItems:125,items:{type:"array",items:[il(r.keyType._def,{...i,currentPath:[...i.currentPath,"items","items","0"]})||{},il(r.valueType._def,{...i,currentPath:[...i.currentPath,"items","items","1"]})||{}],minItems:2,maxItems:2}};case h.ZodSet:var B=e,H=n;let U={type:"array",uniqueItems:!0,items:il(B.valueType._def,{...H,currentPath:[...H.currentPath,"items"]})};return B.minSize&&(U.minItems=B.minSize.value),B.maxSize&&(U.maxItems=B.maxSize.value),U;case h.ZodLazy:return()=>e.getter()._def;case h.ZodPromise:return il(e.type._def,n);case h.ZodNaN:case h.ZodNever:return{not:{}};case h.ZodEffects:return a=e,"input"===(s=n).effectStrategy?il(a.schema._def,s):{};case h.ZodAny:case h.ZodUnknown:return{};case h.ZodDefault:return o=e,l=n,{...il(o.innerType._def,l),default:o.defaultValue()};case h.ZodBranded:return r6(e,n);case h.ZodReadonly:case h.ZodCatch:return il(e.innerType._def,n);case h.ZodPipeline:var z=e,V=n;if("input"===V.pipeStrategy)return il(z.in._def,V);if("output"===V.pipeStrategy)return il(z.out._def,V);let G=il(z.in._def,{...V,currentPath:[...V.currentPath,"allOf","0"]}),q=il(z.out._def,{...V,currentPath:[...V.currentPath,"allOf",G?"1":"0"]});return{allOf:[G,q].filter(e=>void 0!==e)};case h.ZodFunction:case h.ZodVoid:case h.ZodSymbol:default:return}})(e,e.typeName,t),o="function"==typeof s?il(s(),t):s;if(o&&iu(e,t,o),t.postProcess){let n=t.postProcess(o,e,t);return a.jsonSchema=o,n}return a.jsonSchema=o,o}var ic=(e,t)=>{switch(t.$refStrategy){case"root":return{$ref:e.path.join("/")};case"relative":return{$ref:((e,t)=>{let n=0;for(;n<e.length&&n<t.length&&e[n]===t[n];n++);return[(e.length-n).toString(),...t.slice(n)].join("/")})(t.currentPath,e.path)};case"none":case"seen":if(e.path.length<t.currentPath.length&&e.path.every((e,n)=>t.currentPath[n]===e))return console.warn("Recursive reference detected at ".concat(t.currentPath.join("/"),"! Defaulting to any")),{};return"seen"===t.$refStrategy?{}:void 0}},iu=(e,t,n)=>(e.description&&(n.description=e.description),n);function id(e,t){var n,r;if("_zod"in e){let r=null!=(n=null==t?void 0:t.useReferences)&&n;return ip(()=>ew.toJSONSchema(e,{target:"draft-7",io:"output",reused:r?"ref":"inline"}),{validate:async t=>{let n=await eA.safeParseAsync(e,t);return n.success?{success:!0,value:n.data}:{success:!1,error:n.error}}})}let i=null!=(r=null==t?void 0:t.useReferences)&&r;return ip(()=>((e,t)=>{var n;let r=(e=>{let t,n="string"==typeof(t=e)?{...r4,name:t}:{...r4,...t},r=void 0!==n.name?[...n.basePath,n.definitionPath,n.name]:n.basePath;return{...n,currentPath:r,propertyPath:void 0,seen:new Map(Object.entries(n.definitions).map(e=>{let[t,r]=e;return[r._def,{def:r._def,path:[...n.basePath,n.definitionPath,t],jsonSchema:void 0}]}))}})(t),i="object"==typeof t&&t.definitions?Object.entries(t.definitions).reduce((e,t)=>{var n;let[i,a]=t;return{...e,[i]:null!=(n=il(a._def,{...r,currentPath:[...r.basePath,r.definitionPath,i]},!0))?n:{}}},{}):void 0,a="string"==typeof t?t:(null==t?void 0:t.nameStrategy)==="title"||null==t?void 0:t.name,s=null!=(n=il(e._def,void 0===a?r:{...r,currentPath:[...r.basePath,r.definitionPath,a]},!1))?n:{},o="object"==typeof t&&void 0!==t.name&&"title"===t.nameStrategy?t.name:void 0;void 0!==o&&(s.title=o);let l=void 0===a?i?{...s,[r.definitionPath]:i}:s:{$ref:[..."relative"===r.$refStrategy?[]:r.basePath,r.definitionPath,a].join("/"),[r.definitionPath]:{...i,[a]:s}};return l.$schema="http://json-schema.org/draft-07/schema#",l})(e,{$refStrategy:i?"root":"none"}),{validate:async t=>{let n=await e.safeParseAsync(t);return n.success?{success:!0,value:n.data}:{success:!1,error:n.error}}})}var ih=Symbol.for("vercel.ai.schema");function ip(e){let{validate:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return{[ih]:!0,_type:void 0,[rQ]:!0,get jsonSchema(){return"function"==typeof e&&(e=e()),e},validate:t}}var{btoa:im,atob:ig}=globalThis,ro=ew,iy="object"==typeof globalThis?globalThis:"object"==typeof self?self:"object"==typeof window?window:e.g,ib="1.9.0",iv=/^(\d+)\.(\d+)\.(\d+)(-(.+))?$/,ik=function(e){var t=new Set([e]),n=new Set,r=e.match(iv);if(!r)return function(){return!1};var i={major:+r[1],minor:+r[2],patch:+r[3],prerelease:r[4]};if(null!=i.prerelease)return function(t){return t===e};function a(e){return n.add(e),!1}return function(e){if(t.has(e))return!0;if(n.has(e))return!1;var r=e.match(iv);if(!r)return a(e);var s={major:+r[1],minor:+r[2],patch:+r[3],prerelease:r[4]};if(null!=s.prerelease||i.major!==s.major)return a(e);if(0===i.major)return i.minor===s.minor&&i.patch<=s.patch?(t.add(e),!0):a(e);return i.minor<=s.minor?(t.add(e),!0):a(e)}}(ib),ix=Symbol.for("opentelemetry.js.api."+ib.split(".")[0]);function i_(e,t,n,r){void 0===r&&(r=!1);var i,a=iy[ix]=null!=(i=iy[ix])?i:{version:ib};if(!r&&a[e]){var s=Error("@opentelemetry/api: Attempted duplicate registration of API: "+e);return n.error(s.stack||s.message),!1}if(a.version!==ib){var s=Error("@opentelemetry/api: Registration of version v"+a.version+" for "+e+" does not match previously registered API v"+ib);return n.error(s.stack||s.message),!1}return a[e]=t,n.debug("@opentelemetry/api: Registered a global for "+e+" v"+ib+"."),!0}function iE(e){var t,n,r=null==(t=iy[ix])?void 0:t.version;if(r&&ik(r))return null==(n=iy[ix])?void 0:n[e]}function iT(e,t){t.debug("@opentelemetry/api: Unregistering a global for "+e+" v"+ib+".");var n=iy[ix];n&&delete n[e]}var iS=new function e(t){var n=this;n._currentContext=t?new Map(t):new Map,n.getValue=function(e){return n._currentContext.get(e)},n.setValue=function(t,r){var i=new e(n._currentContext);return i._currentContext.set(t,r),i},n.deleteValue=function(t){var r=new e(n._currentContext);return r._currentContext.delete(t),r}},iw=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,a=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)s.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return s},iC=function(e,t,n){if(n||2==arguments.length)for(var r,i=0,a=t.length;i<a;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))},iA=function(){function e(){}return e.prototype.active=function(){return iS},e.prototype.with=function(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];return t.call.apply(t,iC([n],iw(r),!1))},e.prototype.bind=function(e,t){return t},e.prototype.enable=function(){return this},e.prototype.disable=function(){return this},e}(),iN=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,a=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)s.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return s},iI=function(e,t,n){if(n||2==arguments.length)for(var r,i=0,a=t.length;i<a;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))},iD=function(){function e(e){this._namespace=e.namespace||"DiagComponentLogger"}return e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return iM("debug",this._namespace,e)},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return iM("error",this._namespace,e)},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return iM("info",this._namespace,e)},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return iM("warn",this._namespace,e)},e.prototype.verbose=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return iM("verbose",this._namespace,e)},e}();function iM(e,t,n){var r=iE("diag");if(r)return n.unshift(t),r[e].apply(r,iI([],iN(n),!1))}!function(e){e[e.NONE=0]="NONE",e[e.ERROR=30]="ERROR",e[e.WARN=50]="WARN",e[e.INFO=60]="INFO",e[e.DEBUG=70]="DEBUG",e[e.VERBOSE=80]="VERBOSE",e[e.ALL=9999]="ALL"}(C||(C={}));var iO=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,a=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)s.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return s},iR=function(e,t,n){if(n||2==arguments.length)for(var r,i=0,a=t.length;i<a;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))},iP=function(){function e(){function e(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=iE("diag");if(r)return r[e].apply(r,iR([],iO(t),!1))}}var t=this;t.setLogger=function(e,n){if(void 0===n&&(n={logLevel:C.INFO}),e===t){var r,i,a,s=Error("Cannot use diag as the logger for itself. Please use a DiagLogger implementation like ConsoleDiagLogger or a custom implementation");return t.error(null!=(r=s.stack)?r:s.message),!1}"number"==typeof n&&(n={logLevel:n});var o=iE("diag"),l=function(e,t){function n(n,r){var i=t[n];return"function"==typeof i&&e>=r?i.bind(t):function(){}}return e<C.NONE?e=C.NONE:e>C.ALL&&(e=C.ALL),t=t||{},{error:n("error",C.ERROR),warn:n("warn",C.WARN),info:n("info",C.INFO),debug:n("debug",C.DEBUG),verbose:n("verbose",C.VERBOSE)}}(null!=(i=n.logLevel)?i:C.INFO,e);if(o&&!n.suppressOverrideMessage){var c=null!=(a=Error().stack)?a:"<failed to generate stacktrace>";o.warn("Current logger will be overwritten from "+c),l.warn("Current logger will overwrite one already registered from "+c)}return i_("diag",l,t,!0)},t.disable=function(){iT("diag",t)},t.createComponentLogger=function(e){return new iD(e)},t.verbose=e("verbose"),t.debug=e("debug"),t.info=e("info"),t.warn=e("warn"),t.error=e("error")}return e.instance=function(){return this._instance||(this._instance=new e),this._instance},e}(),iL=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,a=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)s.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return s},iF=function(e,t,n){if(n||2==arguments.length)for(var r,i=0,a=t.length;i<a;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))},ij="context",iB=new iA,iH=function(){function e(){}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalContextManager=function(e){return i_(ij,e,iP.instance())},e.prototype.active=function(){return this._getContextManager().active()},e.prototype.with=function(e,t,n){for(var r,i=[],a=3;a<arguments.length;a++)i[a-3]=arguments[a];return(r=this._getContextManager()).with.apply(r,iF([e,t,n],iL(i),!1))},e.prototype.bind=function(e,t){return this._getContextManager().bind(e,t)},e.prototype._getContextManager=function(){return iE(ij)||iB},e.prototype.disable=function(){this._getContextManager().disable(),iT(ij,iP.instance())},e}();!function(e){e[e.NONE=0]="NONE",e[e.SAMPLED=1]="SAMPLED"}(A||(A={}));var iU="0000000000000000",iz="00000000000000000000000000000000",iV={traceId:iz,spanId:iU,traceFlags:A.NONE},iG=function(){function e(e){void 0===e&&(e=iV),this._spanContext=e}return e.prototype.spanContext=function(){return this._spanContext},e.prototype.setAttribute=function(e,t){return this},e.prototype.setAttributes=function(e){return this},e.prototype.addEvent=function(e,t){return this},e.prototype.addLink=function(e){return this},e.prototype.addLinks=function(e){return this},e.prototype.setStatus=function(e){return this},e.prototype.updateName=function(e){return this},e.prototype.end=function(e){},e.prototype.isRecording=function(){return!1},e.prototype.recordException=function(e,t){},e}(),iq=Symbol.for("OpenTelemetry Context Key SPAN");function iZ(e){return e.getValue(iq)||void 0}function i$(){return iZ(iH.getInstance().active())}function iW(e,t){return e.setValue(iq,t)}function iY(e){return e.deleteValue(iq)}function iK(e,t){return iW(e,new iG(t))}function iJ(e){var t;return null==(t=iZ(e))?void 0:t.spanContext()}var iQ=/^([0-9a-f]{32})$/i,iX=/^[0-9a-f]{16}$/i;function i0(e){var t,n;return t=e.traceId,iQ.test(t)&&t!==iz&&(n=e.spanId,iX.test(n)&&n!==iU)}function i1(e){return new iG(e)}var i2=iH.getInstance(),i5=function(){function e(){}return e.prototype.startSpan=function(e,t,n){if(void 0===n&&(n=i2.active()),null==t?void 0:t.root)return new iG;var r,i=n&&iJ(n);return"object"==typeof(r=i)&&"string"==typeof r.spanId&&"string"==typeof r.traceId&&"number"==typeof r.traceFlags&&i0(i)?new iG(i):new iG},e.prototype.startActiveSpan=function(e,t,n,r){if(!(arguments.length<2)){2==arguments.length?s=t:3==arguments.length?(i=t,s=n):(i=t,a=n,s=r);var i,a,s,o=null!=a?a:i2.active(),l=this.startSpan(e,i,o),c=iW(o,l);return i2.with(c,s,void 0,l)}},e}(),i3=new i5,i4=function(){function e(e,t,n,r){this._provider=e,this.name=t,this.version=n,this.options=r}return e.prototype.startSpan=function(e,t,n){return this._getTracer().startSpan(e,t,n)},e.prototype.startActiveSpan=function(e,t,n,r){var i=this._getTracer();return Reflect.apply(i.startActiveSpan,i,arguments)},e.prototype._getTracer=function(){if(this._delegate)return this._delegate;var e=this._provider.getDelegateTracer(this.name,this.version,this.options);return e?(this._delegate=e,this._delegate):i3},e}(),i6=new(function(){function e(){}return e.prototype.getTracer=function(e,t,n){return new i5},e}()),i9=function(){function e(){}return e.prototype.getTracer=function(e,t,n){var r;return null!=(r=this.getDelegateTracer(e,t,n))?r:new i4(this,e,t,n)},e.prototype.getDelegate=function(){var e;return null!=(e=this._delegate)?e:i6},e.prototype.setDelegate=function(e){this._delegate=e},e.prototype.getDelegateTracer=function(e,t,n){var r;return null==(r=this._delegate)?void 0:r.getTracer(e,t,n)},e}(),i8="trace";(function(){function e(){this._proxyTracerProvider=new i9,this.wrapSpanContext=i1,this.isSpanContextValid=i0,this.deleteSpan=iY,this.getSpan=iZ,this.getActiveSpan=i$,this.getSpanContext=iJ,this.setSpan=iW,this.setSpanContext=iK}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalTracerProvider=function(e){var t=i_(i8,this._proxyTracerProvider,iP.instance());return t&&this._proxyTracerProvider.setDelegate(e),t},e.prototype.getTracerProvider=function(){return iE(i8)||this._proxyTracerProvider},e.prototype.getTracer=function(e,t){return this.getTracerProvider().getTracer(e,t)},e.prototype.disable=function(){iT(i8,iP.instance()),this._proxyTracerProvider=new i9},e})().getInstance(),function(e){e[e.UNSET=0]="UNSET",e[e.OK=1]="OK",e[e.ERROR=2]="ERROR"}(N||(N={}));var i7=Object.defineProperty,ae=(Symbol.for("vercel.ai.error.".concat("AI_NoOutputSpecifiedError")),Symbol.for("vercel.ai.error.".concat("AI_InvalidArgumentError")),Symbol.for("vercel.ai.error.".concat("AI_InvalidStreamPartError")),Symbol.for("vercel.ai.error.".concat("AI_InvalidToolInputError")),Symbol.for("vercel.ai.error.".concat("AI_NoImageGeneratedError")),"AI_NoObjectGeneratedError"),at="vercel.ai.error.".concat(ae),an=Symbol.for(at),ar=class extends J{static isInstance(e){return J.hasMarker(e,at)}constructor({message:e="No object generated.",cause:t,text:n,response:r,usage:i,finishReason:a}){super({name:ae,message:e,cause:t}),this[I]=!0,this.text=n,this.response=r,this.usage=i,this.finishReason=a}};I=an,Symbol.for("vercel.ai.error.".concat("AI_NoOutputGeneratedError")),Symbol.for("vercel.ai.error.".concat("AI_NoSuchToolError")),Symbol.for("vercel.ai.error.".concat("AI_ToolCallRepairError")),Symbol.for("vercel.ai.error.".concat("AI_InvalidDataContentError")),Symbol.for("vercel.ai.error.".concat("AI_InvalidMessageRoleError")),Symbol.for("vercel.ai.error.".concat("AI_MessageConversionError")),Symbol.for("vercel.ai.error.".concat("AI_DownloadError")),Symbol.for("vercel.ai.error.".concat("AI_RetryError"));var ai="5.0.93",aa=ro.union([ro.string(),ro.instanceof(Uint8Array),ro.instanceof(ArrayBuffer),ro.custom(e=>{var t,n;return null!=(n=null==(t=globalThis.Buffer)?void 0:t.isBuffer(e))&&n},{message:"Must be a Buffer"})]),as=ro.lazy(()=>ro.union([ro.null(),ro.string(),ro.number(),ro.boolean(),ro.record(ro.string(),as),ro.array(as)])),ao=ro.record(ro.string(),ro.record(ro.string(),as)),al=ro.object({type:ro.literal("text"),text:ro.string(),providerOptions:ao.optional()}),ac=ro.object({type:ro.literal("image"),image:ro.union([aa,ro.instanceof(URL)]),mediaType:ro.string().optional(),providerOptions:ao.optional()}),au=ro.object({type:ro.literal("file"),data:ro.union([aa,ro.instanceof(URL)]),filename:ro.string().optional(),mediaType:ro.string(),providerOptions:ao.optional()}),ad=ro.object({type:ro.literal("reasoning"),text:ro.string(),providerOptions:ao.optional()}),ah=ro.object({type:ro.literal("tool-call"),toolCallId:ro.string(),toolName:ro.string(),input:ro.unknown(),providerOptions:ao.optional(),providerExecuted:ro.boolean().optional()}),ap=ro.discriminatedUnion("type",[ro.object({type:ro.literal("text"),value:ro.string()}),ro.object({type:ro.literal("json"),value:as}),ro.object({type:ro.literal("error-text"),value:ro.string()}),ro.object({type:ro.literal("error-json"),value:as}),ro.object({type:ro.literal("content"),value:ro.array(ro.union([ro.object({type:ro.literal("text"),text:ro.string()}),ro.object({type:ro.literal("media"),data:ro.string(),mediaType:ro.string()})]))})]),af=ro.object({type:ro.literal("tool-result"),toolCallId:ro.string(),toolName:ro.string(),output:ap,providerOptions:ao.optional()}),am=ro.object({role:ro.literal("system"),content:ro.string(),providerOptions:ao.optional()}),ag=ro.object({role:ro.literal("user"),content:ro.union([ro.string(),ro.array(ro.union([al,ac,au]))]),providerOptions:ao.optional()}),ay=ro.object({role:ro.literal("assistant"),content:ro.union([ro.string(),ro.array(ro.union([al,au,ad,ah,af]))]),providerOptions:ao.optional()}),ab=ro.object({role:ro.literal("tool"),content:ro.array(af),providerOptions:ao.optional()});ro.union([am,ag,ay,ab]),rG({prefix:"aitxt",size:24}),TransformStream;var av=rX(()=>id(ro.union([ro.strictObject({type:ro.literal("text-start"),id:ro.string(),providerMetadata:ao.optional()}),ro.strictObject({type:ro.literal("text-delta"),id:ro.string(),delta:ro.string(),providerMetadata:ao.optional()}),ro.strictObject({type:ro.literal("text-end"),id:ro.string(),providerMetadata:ao.optional()}),ro.strictObject({type:ro.literal("error"),errorText:ro.string()}),ro.strictObject({type:ro.literal("tool-input-start"),toolCallId:ro.string(),toolName:ro.string(),providerExecuted:ro.boolean().optional(),dynamic:ro.boolean().optional()}),ro.strictObject({type:ro.literal("tool-input-delta"),toolCallId:ro.string(),inputTextDelta:ro.string()}),ro.strictObject({type:ro.literal("tool-input-available"),toolCallId:ro.string(),toolName:ro.string(),input:ro.unknown(),providerExecuted:ro.boolean().optional(),providerMetadata:ao.optional(),dynamic:ro.boolean().optional()}),ro.strictObject({type:ro.literal("tool-input-error"),toolCallId:ro.string(),toolName:ro.string(),input:ro.unknown(),providerExecuted:ro.boolean().optional(),providerMetadata:ao.optional(),dynamic:ro.boolean().optional(),errorText:ro.string()}),ro.strictObject({type:ro.literal("tool-output-available"),toolCallId:ro.string(),output:ro.unknown(),providerExecuted:ro.boolean().optional(),dynamic:ro.boolean().optional(),preliminary:ro.boolean().optional()}),ro.strictObject({type:ro.literal("tool-output-error"),toolCallId:ro.string(),errorText:ro.string(),providerExecuted:ro.boolean().optional(),dynamic:ro.boolean().optional()}),ro.strictObject({type:ro.literal("reasoning-start"),id:ro.string(),providerMetadata:ao.optional()}),ro.strictObject({type:ro.literal("reasoning-delta"),id:ro.string(),delta:ro.string(),providerMetadata:ao.optional()}),ro.strictObject({type:ro.literal("reasoning-end"),id:ro.string(),providerMetadata:ao.optional()}),ro.strictObject({type:ro.literal("source-url"),sourceId:ro.string(),url:ro.string(),title:ro.string().optional(),providerMetadata:ao.optional()}),ro.strictObject({type:ro.literal("source-document"),sourceId:ro.string(),mediaType:ro.string(),title:ro.string(),filename:ro.string().optional(),providerMetadata:ao.optional()}),ro.strictObject({type:ro.literal("file"),url:ro.string(),mediaType:ro.string(),providerMetadata:ao.optional()}),ro.strictObject({type:ro.custom(e=>"string"==typeof e&&e.startsWith("data-"),{message:'Type must start with "data-"'}),id:ro.string().optional(),data:ro.unknown(),transient:ro.boolean().optional()}),ro.strictObject({type:ro.literal("start-step")}),ro.strictObject({type:ro.literal("finish-step")}),ro.strictObject({type:ro.literal("start"),messageId:ro.string().optional(),messageMetadata:ro.unknown().optional()}),ro.strictObject({type:ro.literal("finish"),finishReason:ro.enum(["stop","length","content-filter","tool-calls","error","other","unknown"]).optional(),messageMetadata:ro.unknown().optional()}),ro.strictObject({type:ro.literal("abort")}),ro.strictObject({type:ro.literal("message-metadata"),messageMetadata:ro.unknown()})])));async function ak(e){if(void 0===e)return{value:void 0,state:"undefined-input"};let t=await r2({text:e});return t.success?{value:t.value,state:"successful-parse"}:(t=await r2({text:function(e){let t=["ROOT"],n=-1,r=null;function i(e,i,a){switch(e){case'"':n=i,t.pop(),t.push(a),t.push("INSIDE_STRING");break;case"f":case"t":case"n":n=i,r=i,t.pop(),t.push(a),t.push("INSIDE_LITERAL");break;case"-":t.pop(),t.push(a),t.push("INSIDE_NUMBER");break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":n=i,t.pop(),t.push(a),t.push("INSIDE_NUMBER");break;case"{":n=i,t.pop(),t.push(a),t.push("INSIDE_OBJECT_START");break;case"[":n=i,t.pop(),t.push(a),t.push("INSIDE_ARRAY_START")}}function a(e,r){switch(e){case",":t.pop(),t.push("INSIDE_OBJECT_AFTER_COMMA");break;case"}":n=r,t.pop()}}function s(e,r){switch(e){case",":t.pop(),t.push("INSIDE_ARRAY_AFTER_COMMA");break;case"]":n=r,t.pop()}}for(let o=0;o<e.length;o++){let l=e[o];switch(t[t.length-1]){case"ROOT":i(l,o,"FINISH");break;case"INSIDE_OBJECT_START":switch(l){case'"':t.pop(),t.push("INSIDE_OBJECT_KEY");break;case"}":n=o,t.pop()}break;case"INSIDE_OBJECT_AFTER_COMMA":'"'===l&&(t.pop(),t.push("INSIDE_OBJECT_KEY"));break;case"INSIDE_OBJECT_KEY":'"'===l&&(t.pop(),t.push("INSIDE_OBJECT_AFTER_KEY"));break;case"INSIDE_OBJECT_AFTER_KEY":":"===l&&(t.pop(),t.push("INSIDE_OBJECT_BEFORE_VALUE"));break;case"INSIDE_OBJECT_BEFORE_VALUE":i(l,o,"INSIDE_OBJECT_AFTER_VALUE");break;case"INSIDE_OBJECT_AFTER_VALUE":a(l,o);break;case"INSIDE_STRING":switch(l){case'"':t.pop(),n=o;break;case"\\":t.push("INSIDE_STRING_ESCAPE");break;default:n=o}break;case"INSIDE_ARRAY_START":"]"===l?(n=o,t.pop()):(n=o,i(l,o,"INSIDE_ARRAY_AFTER_VALUE"));break;case"INSIDE_ARRAY_AFTER_VALUE":switch(l){case",":t.pop(),t.push("INSIDE_ARRAY_AFTER_COMMA");break;case"]":n=o,t.pop();break;default:n=o}break;case"INSIDE_ARRAY_AFTER_COMMA":i(l,o,"INSIDE_ARRAY_AFTER_VALUE");break;case"INSIDE_STRING_ESCAPE":t.pop(),n=o;break;case"INSIDE_NUMBER":switch(l){case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":n=o;break;case"e":case"E":case"-":case".":break;case",":t.pop(),"INSIDE_ARRAY_AFTER_VALUE"===t[t.length-1]&&s(l,o),"INSIDE_OBJECT_AFTER_VALUE"===t[t.length-1]&&a(l,o);break;case"}":t.pop(),"INSIDE_OBJECT_AFTER_VALUE"===t[t.length-1]&&a(l,o);break;case"]":t.pop(),"INSIDE_ARRAY_AFTER_VALUE"===t[t.length-1]&&s(l,o);break;default:t.pop()}break;case"INSIDE_LITERAL":{let i=e.substring(r,o+1);"false".startsWith(i)||"true".startsWith(i)||"null".startsWith(i)?n=o:(t.pop(),"INSIDE_OBJECT_AFTER_VALUE"===t[t.length-1]?a(l,o):"INSIDE_ARRAY_AFTER_VALUE"===t[t.length-1]&&s(l,o))}}}let o=e.slice(0,n+1);for(let n=t.length-1;n>=0;n--)switch(t[n]){case"INSIDE_STRING":o+='"';break;case"INSIDE_OBJECT_KEY":case"INSIDE_OBJECT_AFTER_KEY":case"INSIDE_OBJECT_AFTER_COMMA":case"INSIDE_OBJECT_START":case"INSIDE_OBJECT_BEFORE_VALUE":case"INSIDE_OBJECT_AFTER_VALUE":o+="}";break;case"INSIDE_ARRAY_START":case"INSIDE_ARRAY_AFTER_COMMA":case"INSIDE_ARRAY_AFTER_VALUE":o+="]";break;case"INSIDE_LITERAL":{let t=e.substring(r,e.length);"true".startsWith(t)?o+="true".slice(t.length):"false".startsWith(t)?o+="false".slice(t.length):"null".startsWith(t)&&(o+="null".slice(t.length))}}return o}(e)})).success?{value:t.value,state:"repaired-parse"}:{value:void 0,state:"failed-parse"}}function ax(e){return e.type.startsWith("tool-")}function a_(e){return ax(e)||"dynamic-tool"===e.type}function aE(e){return e.type.split("-").slice(1).join("-")}async function aT(e){let{stream:t,onError:n}=e,r=t.getReader();try{for(;;){let{done:e}=await r.read();if(e)break}}catch(e){null==n||n(e)}finally{r.releaseLock()}}rG({prefix:"aitxt",size:24}),rG({prefix:"aiobj",size:24});var aS=class{async processQueue(){if(!this.isProcessing){for(this.isProcessing=!0;this.queue.length>0;)await this.queue[0](),this.queue.shift();this.isProcessing=!1}}async run(e){return new Promise((t,n)=>{this.queue.push(async()=>{try{await e(),t()}catch(e){n(e)}}),this.processQueue()})}constructor(){this.queue=[],this.isProcessing=!1}};rG({prefix:"aiobj",size:24}),((e,t)=>{for(var n in t)i7(e,n,{get:t[n],enumerable:!0})})({},{object:()=>aC,text:()=>aw});var aw=()=>({type:"text",responseFormat:{type:"text"},async parsePartial(e){let{text:t}=e;return{partial:t}},async parseOutput(e){let{text:t}=e;return t}}),aC=e=>{let{schema:t}=e,n=function(e){return null==e?ip({properties:{},additionalProperties:!1}):"object"==typeof e&&null!==e&&ih in e&&!0===e[ih]&&"jsonSchema"in e&&"validate"in e?e:"function"==typeof e?e():id(e)}(t);return{type:"object",responseFormat:{type:"json",schema:n.jsonSchema},async parsePartial(e){let{text:t}=e,n=await ak(t);switch(n.state){case"failed-parse":case"undefined-input":return;case"repaired-parse":case"successful-parse":return{partial:n.value};default:{let e=n.state;throw Error("Unsupported parse state: ".concat(e))}}},async parseOutput(e,t){let{text:r}=e,i=await r2({text:r});if(!i.success)throw new ar({message:"No object generated: could not parse the response.",cause:i.error,text:r,response:t.response,usage:t.usage,finishReason:t.finishReason});let a=await r1({value:i.value,schema:n});if(!a.success)throw new ar({message:"No object generated: response did not match schema.",cause:a.error,text:r,response:t.response,usage:t.usage,finishReason:t.finishReason});return a.value}}};async function aA(e){if(null==e)return[];if(!globalThis.FileList||!(e instanceof globalThis.FileList))throw Error("FileList is not supported in the current environment");return Promise.all(Array.from(e).map(async e=>{let{name:t,type:n}=e;return{type:"file",mediaType:n,filename:t,url:await new Promise((t,n)=>{let r=new FileReader;r.onload=e=>{var n;t(null==(n=e.target)?void 0:n.result)},r.onerror=e=>n(e),r.readAsDataURL(e)})}}))}Symbol.for("vercel.ai.error.".concat("AI_NoSuchProviderError"));var aN=class{async sendMessages(e){var t,n,r,i,a;let{abortSignal:s,...o}=e,l=await r5(this.body),c=await r5(this.headers),u=await r5(this.credentials),d={...r$(c),...r$(o.headers)},h=await (null==(t=this.prepareSendMessagesRequest)?void 0:t.call(this,{api:this.api,id:o.chatId,messages:o.messages,body:{...l,...o.body},headers:d,credentials:u,requestMetadata:o.metadata,trigger:o.trigger,messageId:o.messageId})),p=null!=(n=null==h?void 0:h.api)?n:this.api,f=(null==h?void 0:h.headers)!==void 0?r$(h.headers):d,m=(null==h?void 0:h.body)!==void 0?h.body:{...l,...o.body,id:o.chatId,messages:o.messages,trigger:o.trigger,messageId:o.messageId},g=null!=(r=null==h?void 0:h.credentials)?r:u,y=null!=(i=this.fetch)?i:globalThis.fetch,b=await y(p,{method:"POST",headers:rW({"Content-Type":"application/json",...f},"ai-sdk/".concat(ai),rZ()),body:JSON.stringify(m),credentials:g,signal:s});if(!b.ok)throw Error(null!=(a=await b.text())?a:"Failed to fetch the chat response.");if(!b.body)throw Error("The response body is empty.");return this.processResponseStream(b.body)}async reconnectToStream(e){var t,n,r,i,a;let s=await r5(this.body),o=await r5(this.headers),l=await r5(this.credentials),c={...r$(o),...r$(e.headers)},u=await (null==(t=this.prepareReconnectToStreamRequest)?void 0:t.call(this,{api:this.api,id:e.chatId,body:{...s,...e.body},headers:c,credentials:l,requestMetadata:e.metadata})),d=null!=(n=null==u?void 0:u.api)?n:"".concat(this.api,"/").concat(e.chatId,"/stream"),h=(null==u?void 0:u.headers)!==void 0?r$(u.headers):c,p=null!=(r=null==u?void 0:u.credentials)?r:l,f=null!=(i=this.fetch)?i:globalThis.fetch,m=await f(d,{method:"GET",headers:rW(h,"ai-sdk/".concat(ai),rZ()),credentials:p});if(204===m.status)return null;if(!m.ok)throw Error(null!=(a=await m.text())?a:"Failed to fetch the chat response.");if(!m.body)throw Error("The response body is empty.");return this.processResponseStream(m.body)}constructor({api:e="/api/chat",credentials:t,headers:n,body:r,fetch:i,prepareSendMessagesRequest:a,prepareReconnectToStreamRequest:s}){this.api=e,this.credentials=t,this.headers=n,this.body=r,this.fetch=i,this.prepareSendMessagesRequest=a,this.prepareReconnectToStreamRequest=s}},aI=class extends aN{processResponseStream(e){return(function(e){let{stream:t,schema:n}=e;return t.pipeThrough(new TextDecoderStream).pipeThrough(new eS).pipeThrough(new TransformStream({async transform(e,t){let{data:r}=e;"[DONE]"!==r&&t.enqueue(await r2({text:r,schema:n}))}}))})({stream:e,schema:av}).pipeThrough(new TransformStream({async transform(e,t){if(!e.success)throw e.error;t.enqueue(e.value)}}))}constructor(e={}){super(e)}},aD=class{get status(){return this.state.status}setStatus(e){let{status:t,error:n}=e;this.status!==t&&(this.state.status=t,this.state.error=n)}get error(){return this.state.error}get messages(){return this.state.messages}get lastMessage(){return this.state.messages[this.state.messages.length-1]}set messages(e){this.state.messages=e}async makeRequest(e){var t,n,r,i;let{trigger:a,metadata:s,headers:o,body:l,messageId:c}=e;this.setStatus({status:"submitted",error:void 0});let u=this.lastMessage,d=!1,h=!1,p=!1;try{let e,t={state:function(e){let{lastMessage:t,messageId:n}=e;return{message:(null==t?void 0:t.role)==="assistant"?t:{id:n,metadata:void 0,role:"assistant",parts:[]},activeTextParts:{},activeReasoningParts:{},partialToolCalls:{}}}({lastMessage:this.state.snapshot(u),messageId:this.generateId()}),abortController:new AbortController};if(t.abortController.signal.addEventListener("abort",()=>{d=!0}),this.activeResponse=t,"resume-stream"===a){let t=await this.transport.reconnectToStream({chatId:this.id,metadata:s,headers:o,body:l});if(null==t)return void this.setStatus({status:"ready"});e=t}else e=await this.transport.sendMessages({chatId:this.id,messages:this.state.messages,abortSignal:t.abortController.signal,metadata:s,headers:o,body:l,trigger:a,messageId:c});let n=e=>this.jobExecutor.run(()=>e({state:t.state,write:()=>{var e;this.setStatus({status:"streaming"}),t.state.message.id===(null==(e=this.lastMessage)?void 0:e.id)?this.state.replaceMessage(this.state.messages.length-1,t.state.message):this.state.pushMessage(t.state.message)}}));await aT({stream:function(e){let{stream:t,messageMetadataSchema:n,dataPartSchemas:r,runUpdateMessageJob:i,onError:a,onToolCall:s,onData:o}=e;return t.pipeThrough(new TransformStream({async transform(e,t){await i(async i=>{var l,c,u,d;let{state:h,write:p}=i;function f(e){let t=h.message.parts.filter(ax).find(t=>t.toolCallId===e);if(null==t)throw Error("tool-output-error must be preceded by a tool-input-available");return t}function m(e){let t=h.message.parts.filter(e=>"dynamic-tool"===e.type).find(t=>t.toolCallId===e);if(null==t)throw Error("tool-output-error must be preceded by a tool-input-available");return t}function g(e){var t;let n=h.message.parts.find(t=>ax(t)&&t.toolCallId===e.toolCallId);null!=n?(n.state=e.state,n.input=e.input,n.output=e.output,n.errorText=e.errorText,n.rawInput=e.rawInput,n.preliminary=e.preliminary,n.providerExecuted=null!=(t=e.providerExecuted)?t:n.providerExecuted,null!=e.providerMetadata&&"input-available"===n.state&&(n.callProviderMetadata=e.providerMetadata)):h.message.parts.push({type:"tool-".concat(e.toolName),toolCallId:e.toolCallId,state:e.state,input:e.input,output:e.output,rawInput:e.rawInput,errorText:e.errorText,providerExecuted:e.providerExecuted,preliminary:e.preliminary,...null!=e.providerMetadata?{callProviderMetadata:e.providerMetadata}:{}})}function y(e){var t,n;let r=h.message.parts.find(t=>"dynamic-tool"===t.type&&t.toolCallId===e.toolCallId);null!=r?(r.state=e.state,r.toolName=e.toolName,r.input=e.input,r.output=e.output,r.errorText=e.errorText,r.rawInput=null!=(t=e.rawInput)?t:r.rawInput,r.preliminary=e.preliminary,r.providerExecuted=null!=(n=e.providerExecuted)?n:r.providerExecuted,null!=e.providerMetadata&&"input-available"===r.state&&(r.callProviderMetadata=e.providerMetadata)):h.message.parts.push({type:"dynamic-tool",toolName:e.toolName,toolCallId:e.toolCallId,state:e.state,input:e.input,output:e.output,errorText:e.errorText,preliminary:e.preliminary,providerExecuted:e.providerExecuted,...null!=e.providerMetadata?{callProviderMetadata:e.providerMetadata}:{}})}async function b(e){if(null!=e){let t=null!=h.message.metadata?function e(t,n){if(void 0===t&&void 0===n)return;if(void 0===t)return n;if(void 0===n)return t;let r={...t};for(let i in n)if(Object.prototype.hasOwnProperty.call(n,i)){let a=n[i];if(void 0===a)continue;let s=i in t?t[i]:void 0,o=null!==a&&"object"==typeof a&&!Array.isArray(a)&&!(a instanceof Date)&&!(a instanceof RegExp),l=null!=s&&"object"==typeof s&&!Array.isArray(s)&&!(s instanceof Date)&&!(s instanceof RegExp);o&&l?r[i]=e(s,a):r[i]=a}return r}(h.message.metadata,e):e;null!=n&&await r0({value:t,schema:n}),h.message.metadata=t}}switch(e.type){case"text-start":{let t={type:"text",text:"",providerMetadata:e.providerMetadata,state:"streaming"};h.activeTextParts[e.id]=t,h.message.parts.push(t),p();break}case"text-delta":{let t=h.activeTextParts[e.id];t.text+=e.delta,t.providerMetadata=null!=(l=e.providerMetadata)?l:t.providerMetadata,p();break}case"text-end":{let t=h.activeTextParts[e.id];t.state="done",t.providerMetadata=null!=(c=e.providerMetadata)?c:t.providerMetadata,delete h.activeTextParts[e.id],p();break}case"reasoning-start":{let t={type:"reasoning",text:"",providerMetadata:e.providerMetadata,state:"streaming"};h.activeReasoningParts[e.id]=t,h.message.parts.push(t),p();break}case"reasoning-delta":{let t=h.activeReasoningParts[e.id];t.text+=e.delta,t.providerMetadata=null!=(u=e.providerMetadata)?u:t.providerMetadata,p();break}case"reasoning-end":{let t=h.activeReasoningParts[e.id];t.providerMetadata=null!=(d=e.providerMetadata)?d:t.providerMetadata,t.state="done",delete h.activeReasoningParts[e.id],p();break}case"file":h.message.parts.push({type:"file",mediaType:e.mediaType,url:e.url}),p();break;case"source-url":h.message.parts.push({type:"source-url",sourceId:e.sourceId,url:e.url,title:e.title,providerMetadata:e.providerMetadata}),p();break;case"source-document":h.message.parts.push({type:"source-document",sourceId:e.sourceId,mediaType:e.mediaType,title:e.title,filename:e.filename,providerMetadata:e.providerMetadata}),p();break;case"tool-input-start":{let t=h.message.parts.filter(ax);h.partialToolCalls[e.toolCallId]={text:"",toolName:e.toolName,index:t.length,dynamic:e.dynamic},e.dynamic?y({toolCallId:e.toolCallId,toolName:e.toolName,state:"input-streaming",input:void 0,providerExecuted:e.providerExecuted}):g({toolCallId:e.toolCallId,toolName:e.toolName,state:"input-streaming",input:void 0,providerExecuted:e.providerExecuted}),p();break}case"tool-input-delta":{let t=h.partialToolCalls[e.toolCallId];t.text+=e.inputTextDelta;let{value:n}=await ak(t.text);t.dynamic?y({toolCallId:e.toolCallId,toolName:t.toolName,state:"input-streaming",input:n}):g({toolCallId:e.toolCallId,toolName:t.toolName,state:"input-streaming",input:n}),p();break}case"tool-input-available":e.dynamic?y({toolCallId:e.toolCallId,toolName:e.toolName,state:"input-available",input:e.input,providerExecuted:e.providerExecuted,providerMetadata:e.providerMetadata}):g({toolCallId:e.toolCallId,toolName:e.toolName,state:"input-available",input:e.input,providerExecuted:e.providerExecuted,providerMetadata:e.providerMetadata}),p(),s&&!e.providerExecuted&&await s({toolCall:e});break;case"tool-input-error":e.dynamic?y({toolCallId:e.toolCallId,toolName:e.toolName,state:"output-error",input:e.input,errorText:e.errorText,providerExecuted:e.providerExecuted,providerMetadata:e.providerMetadata}):g({toolCallId:e.toolCallId,toolName:e.toolName,state:"output-error",input:void 0,rawInput:e.input,errorText:e.errorText,providerExecuted:e.providerExecuted,providerMetadata:e.providerMetadata}),p();break;case"tool-output-available":if(e.dynamic){let t=m(e.toolCallId);y({toolCallId:e.toolCallId,toolName:t.toolName,state:"output-available",input:t.input,output:e.output,preliminary:e.preliminary})}else{let t=f(e.toolCallId);g({toolCallId:e.toolCallId,toolName:aE(t),state:"output-available",input:t.input,output:e.output,providerExecuted:e.providerExecuted,preliminary:e.preliminary})}p();break;case"tool-output-error":if(e.dynamic){let t=m(e.toolCallId);y({toolCallId:e.toolCallId,toolName:t.toolName,state:"output-error",input:t.input,errorText:e.errorText,providerExecuted:e.providerExecuted})}else{let t=f(e.toolCallId);g({toolCallId:e.toolCallId,toolName:aE(t),state:"output-error",input:t.input,rawInput:t.rawInput,errorText:e.errorText,providerExecuted:e.providerExecuted})}p();break;case"start-step":h.message.parts.push({type:"step-start"});break;case"finish-step":h.activeTextParts={},h.activeReasoningParts={};break;case"start":null!=e.messageId&&(h.message.id=e.messageId),await b(e.messageMetadata),(null!=e.messageId||null!=e.messageMetadata)&&p();break;case"finish":null!=e.finishReason&&(h.finishReason=e.finishReason),await b(e.messageMetadata),null!=e.messageMetadata&&p();break;case"message-metadata":await b(e.messageMetadata),null!=e.messageMetadata&&p();break;case"error":null==a||a(Error(e.errorText));break;default:if(e.type.startsWith("data-")){if((null==r?void 0:r[e.type])!=null&&await r0({value:e.data,schema:r[e.type]}),e.transient){null==o||o(e);break}let t=null!=e.id?h.message.parts.find(t=>e.type===t.type&&e.id===t.id):void 0;null!=t?t.data=e.data:h.message.parts.push(e),null==o||o(e),p()}}t.enqueue(e)})}}))}({stream:e,onToolCall:this.onToolCall,onData:this.onData,messageMetadataSchema:this.messageMetadataSchema,dataPartSchemas:this.dataPartSchemas,runUpdateMessageJob:n,onError:e=>{throw e}}),onError:e=>{throw e}}),this.setStatus({status:"ready"})}catch(e){if(d||"AbortError"===e.name)return d=!0,this.setStatus({status:"ready"}),null;p=!0,e instanceof TypeError&&(e.message.toLowerCase().includes("fetch")||e.message.toLowerCase().includes("network"))&&(h=!0),this.onError&&e instanceof Error&&this.onError(e),this.setStatus({status:"error",error:e})}finally{try{null==(n=this.onFinish)||n.call(this,{message:this.activeResponse.state.message,messages:this.state.messages,isAbort:d,isDisconnect:h,isError:p,finishReason:null==(t=this.activeResponse)?void 0:t.state.finishReason})}catch(e){console.error(e)}this.activeResponse=void 0}(null==(r=this.sendAutomaticallyWhen)?void 0:r.call(this,{messages:this.state.messages}))&&!p&&await this.makeRequest({trigger:"submit-message",messageId:null==(i=this.lastMessage)?void 0:i.id,metadata:s,headers:o,body:l})}constructor({generateId:e=rq,id:t=e(),transport:n=new aI,messageMetadataSchema:r,dataPartSchemas:i,state:a,onError:s,onToolCall:o,onFinish:l,onData:c,sendAutomaticallyWhen:u}){var d=this;this.activeResponse=void 0,this.jobExecutor=new aS,this.sendMessage=async(e,t)=>{var n,r,i,a;let s;if(null==e)return void await this.makeRequest({trigger:"submit-message",messageId:null==(n=this.lastMessage)?void 0:n.id,...t});if(s="text"in e||"files"in e?{parts:[...Array.isArray(e.files)?e.files:await aA(e.files),..."text"in e&&null!=e.text?[{type:"text",text:e.text}]:[]]}:e,null!=e.messageId){let t=this.state.messages.findIndex(t=>t.id===e.messageId);if(-1===t)throw Error("message with id ".concat(e.messageId," not found"));if("user"!==this.state.messages[t].role)throw Error("message with id ".concat(e.messageId," is not a user message"));this.state.messages=this.state.messages.slice(0,t+1),this.state.replaceMessage(t,{...s,id:e.messageId,role:null!=(r=s.role)?r:"user",metadata:e.metadata})}else this.state.pushMessage({...s,id:null!=(i=s.id)?i:this.generateId(),role:null!=(a=s.role)?a:"user",metadata:e.metadata});await this.makeRequest({trigger:"submit-message",messageId:e.messageId,...t})},this.regenerate=async function(){let{messageId:e,...t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=null==e?d.state.messages.length-1:d.state.messages.findIndex(t=>t.id===e);if(-1===n)throw Error("message ".concat(e," not found"));d.state.messages=d.state.messages.slice(0,"assistant"===d.messages[n].role?n:n+1),await d.makeRequest({trigger:"regenerate-message",messageId:e,...t})},this.resumeStream=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};await d.makeRequest({trigger:"resume-stream",...e})},this.clearError=()=>{"error"===this.status&&(this.state.error=void 0,this.setStatus({status:"ready"}))},this.addToolOutput=async e=>{let{state:t="output-available",tool:n,toolCallId:r,output:i,errorText:a}=e;return this.jobExecutor.run(async()=>{var e,n;let s=this.state.messages,o=s[s.length-1];this.state.replaceMessage(s.length-1,{...o,parts:o.parts.map(e=>a_(e)&&e.toolCallId===r?{...e,state:t,output:i,errorText:a}:e)}),this.activeResponse&&(this.activeResponse.state.message.parts=this.activeResponse.state.message.parts.map(e=>a_(e)&&e.toolCallId===r?{...e,state:t,output:i,errorText:a}:e)),"streaming"!==this.status&&"submitted"!==this.status&&(null==(e=this.sendAutomaticallyWhen)?void 0:e.call(this,{messages:this.state.messages}))&&this.makeRequest({trigger:"submit-message",messageId:null==(n=this.lastMessage)?void 0:n.id})})},this.addToolResult=this.addToolOutput,this.stop=async()=>{var e;("streaming"===this.status||"submitted"===this.status)&&(null==(e=this.activeResponse)?void 0:e.abortController)&&this.activeResponse.abortController.abort()},this.id=t,this.transport=n,this.generateId=e,this.messageMetadataSchema=r,this.dataPartSchemas=i,this.state=a,this.onError=s,this.onToolCall=o,this.onFinish=l,this.onData=c,this.sendAutomaticallyWhen=u}};rX(()=>id(ro.array(ro.object({id:ro.string(),role:ro.enum(["system","user","assistant"]),metadata:ro.unknown().optional(),parts:ro.array(ro.union([ro.object({type:ro.literal("text"),text:ro.string(),state:ro.enum(["streaming","done"]).optional(),providerMetadata:ao.optional()}),ro.object({type:ro.literal("reasoning"),text:ro.string(),state:ro.enum(["streaming","done"]).optional(),providerMetadata:ao.optional()}),ro.object({type:ro.literal("source-url"),sourceId:ro.string(),url:ro.string(),title:ro.string().optional(),providerMetadata:ao.optional()}),ro.object({type:ro.literal("source-document"),sourceId:ro.string(),mediaType:ro.string(),title:ro.string(),filename:ro.string().optional(),providerMetadata:ao.optional()}),ro.object({type:ro.literal("file"),mediaType:ro.string(),filename:ro.string().optional(),url:ro.string(),providerMetadata:ao.optional()}),ro.object({type:ro.literal("step-start")}),ro.object({type:ro.string().startsWith("data-"),id:ro.string().optional(),data:ro.unknown()}),ro.object({type:ro.literal("dynamic-tool"),toolName:ro.string(),toolCallId:ro.string(),state:ro.literal("input-streaming"),input:ro.unknown().optional(),providerExecuted:ro.boolean().optional(),output:ro.never().optional(),errorText:ro.never().optional()}),ro.object({type:ro.literal("dynamic-tool"),toolName:ro.string(),toolCallId:ro.string(),state:ro.literal("input-available"),input:ro.unknown(),providerExecuted:ro.boolean().optional(),output:ro.never().optional(),errorText:ro.never().optional(),callProviderMetadata:ao.optional()}),ro.object({type:ro.literal("dynamic-tool"),toolName:ro.string(),toolCallId:ro.string(),state:ro.literal("output-available"),input:ro.unknown(),providerExecuted:ro.boolean().optional(),output:ro.unknown(),errorText:ro.never().optional(),callProviderMetadata:ao.optional(),preliminary:ro.boolean().optional()}),ro.object({type:ro.literal("dynamic-tool"),toolName:ro.string(),toolCallId:ro.string(),state:ro.literal("output-error"),input:ro.unknown(),providerExecuted:ro.boolean().optional(),output:ro.never().optional(),errorText:ro.string(),callProviderMetadata:ao.optional()}),ro.object({type:ro.string().startsWith("tool-"),toolCallId:ro.string(),state:ro.literal("input-streaming"),providerExecuted:ro.boolean().optional(),input:ro.unknown().optional(),output:ro.never().optional(),errorText:ro.never().optional(),approval:ro.never().optional()}),ro.object({type:ro.string().startsWith("tool-"),toolCallId:ro.string(),state:ro.literal("input-available"),providerExecuted:ro.boolean().optional(),input:ro.unknown(),output:ro.never().optional(),errorText:ro.never().optional(),callProviderMetadata:ao.optional(),approval:ro.never().optional()}),ro.object({type:ro.string().startsWith("tool-"),toolCallId:ro.string(),state:ro.literal("approval-requested"),input:ro.unknown(),providerExecuted:ro.boolean().optional(),output:ro.never().optional(),errorText:ro.never().optional(),callProviderMetadata:ao.optional(),approval:ro.object({id:ro.string(),approved:ro.never().optional(),reason:ro.never().optional()})}),ro.object({type:ro.string().startsWith("tool-"),toolCallId:ro.string(),state:ro.literal("approval-responded"),input:ro.unknown(),providerExecuted:ro.boolean().optional(),output:ro.never().optional(),errorText:ro.never().optional(),callProviderMetadata:ao.optional(),approval:ro.object({id:ro.string(),approved:ro.boolean(),reason:ro.string().optional()})}),ro.object({type:ro.string().startsWith("tool-"),toolCallId:ro.string(),state:ro.literal("output-available"),providerExecuted:ro.boolean().optional(),input:ro.unknown(),output:ro.unknown(),errorText:ro.never().optional(),callProviderMetadata:ao.optional(),preliminary:ro.boolean().optional(),approval:ro.object({id:ro.string(),approved:ro.literal(!0),reason:ro.string().optional()}).optional()}),ro.object({type:ro.string().startsWith("tool-"),toolCallId:ro.string(),state:ro.literal("output-error"),providerExecuted:ro.boolean().optional(),input:ro.unknown(),output:ro.never().optional(),errorText:ro.string(),callProviderMetadata:ao.optional(),approval:ro.object({id:ro.string(),approved:ro.literal(!0),reason:ro.string().optional()}).optional()}),ro.object({type:ro.string().startsWith("tool-"),toolCallId:ro.string(),state:ro.literal("output-denied"),providerExecuted:ro.boolean().optional(),input:ro.unknown(),output:ro.never().optional(),errorText:ro.never().optional(),callProviderMetadata:ao.optional(),approval:ro.object({id:ro.string(),approved:ro.literal(!1),reason:ro.string().optional()})})])).nonempty("Message must contain at least one part")})).nonempty("Messages array must not be empty")));var aM=e.i(561866),aO=e.i(283599);!function(){let{prefix:e,size:t=16,alphabet:n="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",separator:r="-"}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(null!=e){if(n.includes(r))throw new eu({argument:"separator",message:'The separator "'.concat(r,'" must not be part of the alphabet "').concat(n,'".')})}}(),Symbol.for("vercel.ai.validator");Symbol("Let zodToJsonSchema decide on which parser to use");Symbol.for("vercel.ai.schema");var{btoa:aR,atob:aP}=globalThis,aL=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)},aF=(e,t,n)=>(aL(e,t,"read from private field"),n?n.call(e):t.get(e)),aj=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},aB=(e,t,n,r)=>(aL(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),aH=class{get status(){return aF(this,M)}set status(e){aB(this,M,e),aF(this,j).call(this)}get error(){return aF(this,O)}set error(e){aB(this,O,e),aF(this,B).call(this)}get messages(){return aF(this,D)}set messages(e){aB(this,D,[...e]),aF(this,F).call(this)}constructor(e=[]){aj(this,D,void 0),aj(this,M,"ready"),aj(this,O,void 0),aj(this,R,new Set),aj(this,P,new Set),aj(this,L,new Set),this.pushMessage=e=>{aB(this,D,aF(this,D).concat(e)),aF(this,F).call(this)},this.popMessage=()=>{aB(this,D,aF(this,D).slice(0,-1)),aF(this,F).call(this)},this.replaceMessage=(e,t)=>{aB(this,D,[...aF(this,D).slice(0,e),this.snapshot(t),...aF(this,D).slice(e+1)]),aF(this,F).call(this)},this.snapshot=e=>structuredClone(e),this["~registerMessagesCallback"]=(e,t)=>{let n=t?function(e,t){return null!=t?(0,aM.default)(e,t):e}(e,t):e;return aF(this,R).add(n),()=>{aF(this,R).delete(n)}},this["~registerStatusCallback"]=e=>(aF(this,P).add(e),()=>{aF(this,P).delete(e)}),this["~registerErrorCallback"]=e=>(aF(this,L).add(e),()=>{aF(this,L).delete(e)}),aj(this,F,()=>{aF(this,R).forEach(e=>e())}),aj(this,j,()=>{aF(this,P).forEach(e=>e())}),aj(this,B,()=>{aF(this,L).forEach(e=>e())}),aB(this,D,e)}};D=new WeakMap,M=new WeakMap,O=new WeakMap,R=new WeakMap,P=new WeakMap,L=new WeakMap,F=new WeakMap,j=new WeakMap,B=new WeakMap;var aU=class extends aD{constructor({messages:e,...t}){let n=new aH(e);super({...t,state:n}),aj(this,H,void 0),this["~registerMessagesCallback"]=(e,t)=>aF(this,H)["~registerMessagesCallback"](e,t),this["~registerStatusCallback"]=e=>aF(this,H)["~registerStatusCallback"](e),this["~registerErrorCallback"]=e=>aF(this,H)["~registerErrorCallback"](e),aB(this,H,n)}};H=new WeakMap;var az=e.i(618566),aV=e.i(271235),aG=e.i(952598),aq=e.i(30030),aZ=e.i(820783),a$=e.i(326999),aW=e.i(981140),aY=Symbol("radix.slottable"),aK="AlertDialog",[aJ,aQ]=(0,aq.createContextScope)(aK,[a$.createDialogScope]),aX=(0,a$.createDialogScope)(),a0=e=>{let{__scopeAlertDialog:t,...n}=e,r=aX(t);return(0,q.jsx)(a$.Root,{...r,...n,modal:!0})};a0.displayName=aK,Z.forwardRef((e,t)=>{let{__scopeAlertDialog:n,...r}=e,i=aX(n);return(0,q.jsx)(a$.Trigger,{...i,...r,ref:t})}).displayName="AlertDialogTrigger";var a1=e=>{let{__scopeAlertDialog:t,...n}=e,r=aX(t);return(0,q.jsx)(a$.Portal,{...r,...n})};a1.displayName="AlertDialogPortal";var a2=Z.forwardRef((e,t)=>{let{__scopeAlertDialog:n,...r}=e,i=aX(n);return(0,q.jsx)(a$.Overlay,{...i,...r,ref:t})});a2.displayName="AlertDialogOverlay";var a5="AlertDialogContent",[a3,a4]=aJ(a5),a6=function(e){let t=e=>{let{children:t}=e;return(0,q.jsx)(q.Fragment,{children:t})};return t.displayName="".concat(e,".Slottable"),t.__radixId=aY,t}("AlertDialogContent"),a9=Z.forwardRef((e,t)=>{let{__scopeAlertDialog:n,children:r,...i}=e,a=aX(n),s=Z.useRef(null),o=(0,aZ.useComposedRefs)(t,s),l=Z.useRef(null);return(0,q.jsx)(a$.WarningProvider,{contentName:a5,titleName:a8,docsSlug:"alert-dialog",children:(0,q.jsx)(a3,{scope:n,cancelRef:l,children:(0,q.jsxs)(a$.Content,{role:"alertdialog",...a,...i,ref:o,onOpenAutoFocus:(0,aW.composeEventHandlers)(i.onOpenAutoFocus,e=>{var t;e.preventDefault(),null==(t=l.current)||t.focus({preventScroll:!0})}),onPointerDownOutside:e=>e.preventDefault(),onInteractOutside:e=>e.preventDefault(),children:[(0,q.jsx)(a6,{children:r}),(0,q.jsx)(sa,{contentRef:s})]})})})});a9.displayName=a5;var a8="AlertDialogTitle",a7=Z.forwardRef((e,t)=>{let{__scopeAlertDialog:n,...r}=e,i=aX(n);return(0,q.jsx)(a$.Title,{...i,...r,ref:t})});a7.displayName=a8;var se="AlertDialogDescription",st=Z.forwardRef((e,t)=>{let{__scopeAlertDialog:n,...r}=e,i=aX(n);return(0,q.jsx)(a$.Description,{...i,...r,ref:t})});st.displayName=se;var sn=Z.forwardRef((e,t)=>{let{__scopeAlertDialog:n,...r}=e,i=aX(n);return(0,q.jsx)(a$.Close,{...i,...r,ref:t})});sn.displayName="AlertDialogAction";var sr="AlertDialogCancel",si=Z.forwardRef((e,t)=>{let{__scopeAlertDialog:n,...r}=e,{cancelRef:i}=a4(sr,n),a=aX(n),s=(0,aZ.useComposedRefs)(t,i);return(0,q.jsx)(a$.Close,{...a,...r,ref:s})});si.displayName=sr;var sa=e=>{let{contentRef:t}=e,n="`".concat(a5,"` requires a description for the component to be accessible for screen reader users.\n\nYou can add a description to the `").concat(a5,"` by passing a `").concat(se,"` component as a child, which also benefits sighted users by adding visible context to the dialog.\n\nAlternatively, you can use your own component as a description by assigning it an `id` and passing the same value to the `aria-describedby` prop in `").concat(a5,"`. If the description is confusing or duplicative for sighted users, you can use the `@radix-ui/react-visually-hidden` primitive as a wrapper around your description component.\n\nFor more information, see https://radix-ui.com/primitives/docs/components/alert-dialog");return Z.useEffect(()=>{var e;document.getElementById(null==(e=t.current)?void 0:e.getAttribute("aria-describedby"))||console.warn(n)},[n,t]),null},ss=e.i(605458),so=e.i(859951);function sl(e){let{...t}=e;return(0,q.jsx)(a0,{"data-slot":"alert-dialog",...t})}function sc(e){let{...t}=e;return(0,q.jsx)(a1,{"data-slot":"alert-dialog-portal",...t})}function su(e){let{className:t,...n}=e;return(0,q.jsx)(a2,{"data-slot":"alert-dialog-overlay",className:(0,ss.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...n})}function sd(e){let{className:t,...n}=e;return(0,q.jsxs)(sc,{children:[(0,q.jsx)(su,{}),(0,q.jsx)(a9,{"data-slot":"alert-dialog-content",className:(0,ss.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",t),...n})]})}function sh(e){let{className:t,...n}=e;return(0,q.jsx)("div",{"data-slot":"alert-dialog-header",className:(0,ss.cn)("flex flex-col gap-2 text-center sm:text-left",t),...n})}function sp(e){let{className:t,...n}=e;return(0,q.jsx)("div",{"data-slot":"alert-dialog-footer",className:(0,ss.cn)("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",t),...n})}function sf(e){let{className:t,...n}=e;return(0,q.jsx)(a7,{"data-slot":"alert-dialog-title",className:(0,ss.cn)("text-lg font-semibold",t),...n})}function sm(e){let{className:t,...n}=e;return(0,q.jsx)(st,{"data-slot":"alert-dialog-description",className:(0,ss.cn)("text-muted-foreground text-sm",t),...n})}function sg(e){let{className:t,...n}=e;return(0,q.jsx)(sn,{className:(0,ss.cn)((0,so.buttonVariants)(),t),...n})}function sy(e){let{className:t,...n}=e;return(0,q.jsx)(si,{className:(0,ss.cn)((0,so.buttonVariants)({variant:"outline"}),t),...n})}var sb=e.i(802896),sv=e.i(842453),sk=e.i(958453);e.i(64445);var sx=e.i(86989);e.i(246936);var s_=e.i(99448),sE=e.i(629801);let sT=(0,e.i(475254).default)("arrow-down",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);var sS=e.i(146924);let sw={damping:.7,stiffness:.05,mass:1.25},sC=1e3/60,sA=!1;null==(U=globalThis.document)||U.addEventListener("mousedown",()=>{sA=!0}),null==(z=globalThis.document)||z.addEventListener("mouseup",()=>{sA=!1}),null==(V=globalThis.document)||V.addEventListener("click",()=>{sA=!1});let sN=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},[t,n]=(0,Z.useState)(!1),[r,i]=(0,Z.useState)(!1!==e.initial),[a,s]=(0,Z.useState)(!1),o=(0,Z.useRef)(null);o.current=e;let l=(0,Z.useCallback)(()=>{var e;if(!sA)return!1;let t=window.getSelection();if(!t||!t.rangeCount)return!1;let n=t.getRangeAt(0);return n.commonAncestorContainer.contains(g.current)||(null==(e=g.current)?void 0:e.contains(n.commonAncestorContainer))},[]),c=(0,Z.useCallback)(e=>{d.isAtBottom=e,i(e)},[]),u=(0,Z.useCallback)(e=>{d.escapedFromLock=e,n(e)},[]),d=(0,Z.useMemo)(()=>{let n;return{escapedFromLock:t,isAtBottom:r,resizeDifference:0,accumulated:0,velocity:0,listeners:new Set,get scrollTop(){var i,a;return null!=(a=null==(i=g.current)?void 0:i.scrollTop)?a:0},set scrollTop(scrollTop){g.current&&(g.current.scrollTop=scrollTop,d.ignoreScrollToTop=g.current.scrollTop)},get targetScrollTop(){if(!g.current||!y.current)return 0;return g.current.scrollHeight-1-g.current.clientHeight},get calculatedTargetScrollTop(){if(!g.current||!y.current)return 0;let{targetScrollTop:t}=this;if(!e.targetScrollTop)return t;if((null==n?void 0:n.targetScrollTop)===t)return n.calculatedScrollTop;let r=Math.max(Math.min(e.targetScrollTop(t,{scrollElement:g.current,contentElement:y.current}),t),0);return n={targetScrollTop:t,calculatedScrollTop:r},requestAnimationFrame(()=>{n=void 0}),r},get scrollDifference(){return this.calculatedTargetScrollTop-this.scrollTop},get isNearBottom(){return this.scrollDifference<=70}}},[]),h=(0,Z.useCallback)(function(){var e,t;let n,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};"string"==typeof r&&(r={animation:r}),r.preserveScrollPosition||c(!0);let i=Date.now()+(Number(r.wait)||0),a=sM(o.current,r.animation),{ignoreEscapes:s=!1}=r,u=d.calculatedTargetScrollTop;r.duration instanceof Promise?r.duration.finally(()=>{n=Date.now()}):n=i+(null!=(t=r.duration)?t:0);let p=async()=>{let e=new Promise(requestAnimationFrame).then(()=>{var t,r;if(!d.isAtBottom)return d.animation=void 0,!1;let{scrollTop:c}=d,f=performance.now(),m=(f-(null!=(t=d.lastTick)?t:f))/sC;if(d.animation||(d.animation={behavior:a,promise:e,ignoreEscapes:s}),d.animation.behavior===a&&(d.lastTick=f),l()||i>Date.now())return p();if(c<Math.min(u,d.calculatedTargetScrollTop)){if((null==(r=d.animation)?void 0:r.behavior)===a){if("instant"===a)return d.scrollTop=d.calculatedTargetScrollTop,p();d.velocity=(a.damping*d.velocity+a.stiffness*d.scrollDifference)/a.mass,d.accumulated+=d.velocity*m,d.scrollTop+=d.accumulated,d.scrollTop!==c&&(d.accumulated=0)}return p()}return n>Date.now()?(u=d.calculatedTargetScrollTop,p()):(d.animation=void 0,d.scrollTop<d.calculatedTargetScrollTop)?h({animation:sM(o.current,o.current.resize),ignoreEscapes:s,duration:Math.max(0,n-Date.now())||void 0}):d.isAtBottom});return e.then(e=>(requestAnimationFrame(()=>{d.animation||(d.lastTick=void 0,d.velocity=0)}),e))};return(!0!==r.wait&&(d.animation=void 0),(null==(e=d.animation)?void 0:e.behavior)===a)?d.animation.promise:p()},[c,l,d]),p=(0,Z.useCallback)(()=>{u(!0),c(!1)},[u,c]),f=(0,Z.useCallback)(e=>{let{target:t}=e;if(t!==g.current)return;let{scrollTop:n,ignoreScrollToTop:r}=d,{lastScrollTop:i=n}=d;d.lastScrollTop=n,d.ignoreScrollToTop=void 0,r&&r>n&&(i=r),s(d.isNearBottom),setTimeout(()=>{var e;if(d.resizeDifference||n===r)return;if(l()){u(!0),c(!1);return}let t=n>i,a=n<i;if(null==(e=d.animation)?void 0:e.ignoreEscapes){d.scrollTop=i;return}a&&(u(!0),c(!1)),t&&u(!1),!d.escapedFromLock&&d.isNearBottom&&c(!0)},1)},[u,c,l,d]),m=(0,Z.useCallback)(e=>{var t;let{target:n,deltaY:r}=e,i=n;for(;!["scroll","auto"].includes(getComputedStyle(i).overflow);){if(!i.parentElement)return;i=i.parentElement}i===g.current&&r<0&&g.current.scrollHeight>g.current.clientHeight&&!(null==(t=d.animation)?void 0:t.ignoreEscapes)&&(u(!0),c(!1))},[u,c,d]),g=sI(e=>{var t,n;null==(t=g.current)||t.removeEventListener("scroll",f),null==(n=g.current)||n.removeEventListener("wheel",m),null==e||e.addEventListener("scroll",f,{passive:!0}),null==e||e.addEventListener("wheel",m,{passive:!0})},[]),y=sI(e=>{var t,n;let r;null==(t=d.resizeObserver)||t.disconnect(),e&&(d.resizeObserver=new ResizeObserver(e=>{let[t]=e,{height:n}=t.contentRect,i=n-(null!=r?r:n);if(d.resizeDifference=i,d.scrollTop>d.targetScrollTop&&(d.scrollTop=d.targetScrollTop),s(d.isNearBottom),i>=0){let e=sM(o.current,r?o.current.resize:o.current.initial);h({animation:e,wait:!0,preserveScrollPosition:!0,duration:"instant"===e?void 0:350})}else d.isNearBottom&&(u(!1),c(!0));r=n,requestAnimationFrame(()=>{setTimeout(()=>{d.resizeDifference===i&&(d.resizeDifference=0)},1)})}),null==(n=d.resizeObserver)||n.observe(e))},[]);return{contentRef:y,scrollRef:g,scrollToBottom:h,stopScroll:p,isAtBottom:r||a,isNearBottom:a,escapedFromLock:t,state:d}};function sI(e,t){let n=(0,Z.useCallback)(t=>(n.current=t,e(t)),t);return n}let sD=new Map;function sM(){for(var e,t,n,r=arguments.length,i=Array(r),a=0;a<r;a++)i[a]=arguments[a];let s={...sw},o=!1;for(let r of i){if("instant"===r){o=!0;continue}"object"==typeof r&&(o=!1,s.damping=null!=(e=r.damping)?e:s.damping,s.stiffness=null!=(t=r.stiffness)?t:s.stiffness,s.mass=null!=(n=r.mass)?n:s.mass)}let l=JSON.stringify(s);return sD.has(l)||sD.set(l,Object.freeze(s)),o?"instant":sD.get(l)}let sO=(0,Z.createContext)(null),sR="undefined"!=typeof window?Z.useLayoutEffect:Z.useEffect;function sP(e){let{instance:t,children:n,resize:r,initial:i,mass:a,damping:s,stiffness:o,targetScrollTop:l,contextRef:c,...u}=e,d=(0,Z.useRef)(null),h=sN({mass:a,damping:s,stiffness:o,resize:r,initial:i,targetScrollTop:Z.useCallback((e,t)=>{var n,r;let i=null!=(n=null==k?void 0:k.targetScrollTop)?n:l;return null!=(r=null==i?void 0:i(e,t))?r:e},[l])}),{scrollRef:p,contentRef:f,scrollToBottom:m,stopScroll:g,isAtBottom:y,escapedFromLock:b,state:v}=null!=t?t:h,k=(0,Z.useMemo)(()=>({scrollToBottom:m,stopScroll:g,scrollRef:p,isAtBottom:y,escapedFromLock:b,contentRef:f,state:v,get targetScrollTop(){return d.current},set targetScrollTop(targetScrollTop){d.current=targetScrollTop}}),[m,y,f,p,g,b,v]);return(0,Z.useImperativeHandle)(c,()=>k,[k]),sR(()=>{p.current&&"visible"===getComputedStyle(p.current).overflow&&(p.current.style.overflow="auto")},[]),(0,q.jsx)(sO.Provider,{value:k,children:(0,q.jsx)("div",{...u,children:"function"==typeof n?n(k):n})})}(sP||(sP={})).Content=function(e){let{children:t,...n}=e,r=function(){let e=(0,Z.useContext)(sO);if(!e)throw Error("use-stick-to-bottom component context must be used within a StickToBottom component");return e}();return(0,q.jsx)("div",{ref:r.scrollRef,style:{height:"100%",width:"100%"},children:(0,q.jsx)("div",{...n,ref:r.contentRef,children:"function"==typeof t?t(r):t})})};let sL=e=>{let{className:t,...n}=e;return(0,q.jsx)(sP,{className:(0,ss.cn)("relative flex-1 touch-pan-y overflow-y-auto will-change-scroll",t),initial:"smooth",resize:"smooth",role:"log",...n})},sF=e=>{let{className:t,...n}=e;return(0,q.jsx)(sP.Content,{className:(0,ss.cn)("p-4",t),...n})};var sj=e.i(846932);let sB=()=>(0,q.jsxs)("div",{className:"mx-auto mt-4 flex size-full max-w-3xl flex-col justify-center px-4 md:mt-16 md:px-8",children:[(0,q.jsx)(sj.motion.div,{animate:{opacity:1,y:0},className:"font-semibold text-xl md:text-2xl",exit:{opacity:0,y:10},initial:{opacity:0,y:10},transition:{delay:.5},children:"Hello there!"}),(0,q.jsx)(sj.motion.div,{animate:{opacity:1,y:0},className:"text-xl text-zinc-500 md:text-2xl",exit:{opacity:0,y:10},initial:{opacity:0,y:10},transition:{delay:.6},children:"How can VioTutor help you today?"})]},"overview");var sH=e.i(57989);let sU=(0,Z.memo)(function(e){var t;let{chatId:n,status:r,votes:i,messages:a,setMessages:s,regenerate:o,isReadonly:l,selectedModelId:c}=e,{containerRef:u,endRef:d,isAtBottom:h,scrollToBottom:p,hasSentMessage:f}=(0,sS.useMessages)({status:r});return(0,sv.useDataStream)(),(0,Z.useEffect)(()=>{"submitted"===r&&requestAnimationFrame(()=>{let e=u.current;e&&e.scrollTo({top:e.scrollHeight,behavior:"smooth"})})},[r,u]),(0,q.jsxs)("div",{className:"overscroll-behavior-contain -webkit-overflow-scrolling-touch flex-1 touch-pan-y overflow-y-scroll",ref:u,style:{overflowAnchor:"none"},children:[(0,q.jsx)(sL,{className:"mx-auto flex min-w-0 max-w-4xl flex-col gap-4 md:gap-6",children:(0,q.jsxs)(sF,{className:"flex flex-col gap-4 px-2 py-4 pb-40 md:gap-6 md:px-4 md:pb-44",children:[0===a.length&&(0,q.jsx)(sB,{}),a.map((e,t)=>(0,q.jsx)(sH.PreviewMessage,{chatId:n,isLoading:"streaming"===r&&a.length-1===t,isReadonly:l,message:e,regenerate:o,requiresScrollPadding:f&&t===a.length-1,setMessages:s,vote:i?i.find(t=>t.message_id===e.id):void 0},e.id)),"submitted"===r&&a.length>0&&(null==(t=a.at(-1))?void 0:t.role)==="user"&&"chat-model-reasoning"!==c&&(0,q.jsx)(sH.ThinkingMessage,{}),(0,q.jsx)("div",{className:"min-h-[24px] min-w-[24px] shrink-0",ref:d})]})}),!h&&(0,q.jsx)("button",{"aria-label":"Scroll to bottom",className:"-translate-x-1/2 absolute bottom-40 left-1/2 z-10 rounded-full border bg-background p-2 shadow-lg transition-colors hover:bg-muted",onClick:()=>p("smooth"),type:"button",children:(0,q.jsx)(sT,{className:"size-4"})})]})},(e,t)=>!!e.isArtifactVisible&&!!t.isArtifactVisible||e.status===t.status&&e.selectedModelId===t.selectedModelId&&e.messages.length===t.messages.length&&!!(0,sE.default)(e.messages,t.messages)&&(!(0,sE.default)(e.votes,t.votes),!1));var sz=e.i(201105),sV=e.i(990715),sG=e.i(846696);function sq(e){let{id:t,initialMessages:n,initialChatModel:r,isReadonly:i,autoResume:a,initialLastContext:s}=e,{mutate:o}=(0,aV.useSWRConfig)(),{setDataStream:l}=(0,sv.useDataStream)(),[c,u]=(0,Z.useState)(""),[d,h]=(0,Z.useState)(s),[p,f]=(0,Z.useState)(!1),[m,g]=(0,Z.useState)(r),y=(0,Z.useRef)(m),{location:b,requestLocation:v}=function(){let[e,t]=(0,Z.useState)(null),[n,r]=(0,Z.useState)(!1),[i,a]=(0,Z.useState)(null);return{location:e,isLoading:n,error:i,requestLocation:(0,Z.useCallback)(()=>{if(!navigator.geolocation)return void a({code:0,message:"Geolocation is not supported by this browser",PERMISSION_DENIED:1,POSITION_UNAVAILABLE:2,TIMEOUT:3});r(!0),a(null),navigator.geolocation.getCurrentPosition(e=>{t({latitude:e.coords.latitude,longitude:e.coords.longitude,accuracy:e.coords.accuracy,timestamp:e.timestamp}),r(!1)},e=>{a(e),r(!1),console.warn("[Geolocation] Error getting location:",e.message)},{enableHighAccuracy:!0,timeout:1e4,maximumAge:3e5})},[])}}(),k=(0,Z.useRef)(!1);(0,Z.useEffect)(()=>{y.current=m},[m]),(0,Z.useEffect)(()=>{if(c&&!b&&!k.current){let e=c.toLowerCase();["weather","temperature","hot","cold","rain","sunny","cloudy","forecast"].some(t=>e.includes(t))&&(console.log("[Chat] Weather-related query detected, requesting location..."),v(),k.current=!0)}},[c,b,v]);let{messages:x,setMessages:_,sendMessage:E,status:T,stop:S,regenerate:w,resumeStream:C}=function(){let{experimental_throttle:e,resume:t=!1,...n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=(0,Z.useRef)("chat"in n?n.chat:new aU(n));("chat"in n&&n.chat!==r.current||"id"in n&&r.current.id!==n.id)&&(r.current="chat"in n?n.chat:new aU(n));let i="id"in n?n.id:null,a=(0,Z.useCallback)(t=>r.current["~registerMessagesCallback"](t,e),[e,i]),s=(0,Z.useSyncExternalStore)(a,()=>r.current.messages,()=>r.current.messages),o=(0,Z.useSyncExternalStore)(r.current["~registerStatusCallback"],()=>r.current.status,()=>r.current.status),l=(0,Z.useSyncExternalStore)(r.current["~registerErrorCallback"],()=>r.current.error,()=>r.current.error),c=(0,Z.useCallback)(e=>{"function"==typeof e&&(e=e(r.current.messages)),r.current.messages=e},[r]);return(0,Z.useEffect)(()=>{t&&r.current.resumeStream()},[t,r]),{id:r.current.id,messages:s,setMessages:c,sendMessage:r.current.sendMessage,regenerate:r.current.regenerate,clearError:r.current.clearError,stop:r.current.stop,error:l,resumeStream:r.current.resumeStream,status:o,addToolResult:r.current.addToolOutput,addToolOutput:r.current.addToolOutput}}({id:t,messages:n,experimental_throttle:100,generateId:sx.generateUUID,transport:new aI({api:"/api/chat",fetch:sx.fetchWithErrorHandlers,prepareSendMessagesRequest(e){let t=e.messages.at(-1);if(t&&!b){var n;let e=(null==(n=t.parts)?void 0:n.filter(e=>"text"===e.type).map(e=>"text"in e?e.text:"").join(" ").toLowerCase())||"";["weather","temperature","hot","cold","rain","sunny","cloudy","forecast"].some(t=>e.includes(t))&&(console.log("[Chat] Weather query detected in message, requesting location..."),v())}return{body:{id:e.id,message:t,selectedChatModel:y.current,selectedVisibilityType:"private",...b&&{browserGeolocation:{latitude:b.latitude,longitude:b.longitude,accuracy:b.accuracy}},...e.body}}}}),onData:e=>{l(t=>t?[...t,e]:[]),"data-usage"===e.type&&h(e.data)},onFinish:()=>{o((0,aG.unstable_serialize)(sV.getChatHistoryPaginationKey))},onError:e=>{if(e instanceof sk.ChatSDKError){var t;(null==(t=e.message)?void 0:t.includes("AI Gateway requires a valid credit card"))?f(!0):sG.toast.error(e.message)}}}),A=(0,az.useSearchParams)().get("query"),[N,I]=(0,Z.useState)(!1);(0,Z.useEffect)(()=>{A&&!N&&(E({role:"user",parts:[{type:"text",text:A}]}),I(!0),window.history.replaceState({},"","/ai/chat/".concat(t)))},[A,E,N,t]);let{data:D}=(0,aO.default)(x.length>=2?"/api/vote?chatId=".concat(t):null,sx.fetcher),M=(0,sb.useArtifactSelector)(e=>e.isVisible);return!function(e){let{autoResume:t,initialMessages:n,resumeStream:r,setMessages:i}=e,{dataStream:a}=(0,sv.useDataStream)();(0,Z.useEffect)(()=>{if(!t)return;let e=n.at(-1);(null==e?void 0:e.role)==="user"&&r()},[t,n.at,r]),(0,Z.useEffect)(()=>{if(!a||0===a.length)return;let e=a[0];"data-appendMessage"===e.type&&i([...n,JSON.parse(e.data)])},[a,n,i])}({autoResume:a,initialMessages:n,resumeStream:C,setMessages:_}),(0,q.jsxs)(q.Fragment,{children:[(0,q.jsxs)("div",{className:"overscroll-behavior-contain flex h-dvh min-w-0 touch-pan-y flex-col bg-background relative",children:[(0,q.jsx)("div",{className:"flex-1 overflow-y-auto",children:(0,q.jsx)(sU,{chatId:t,isArtifactVisible:M,isReadonly:i,messages:x,regenerate:w,selectedModelId:r,setMessages:_,status:T,votes:D})}),(0,q.jsx)("div",{className:"pointer-events-none absolute bottom-0 left-0 right-0 z-10 flex w-full flex-col gap-4 px-2 pb-3 md:px-4 md:pb-4 bg-background/95 backdrop-blur supports-backdrop-filter:bg-background/60",children:!i&&(0,q.jsx)("div",{className:"pointer-events-auto mx-auto w-full max-w-4xl",children:(0,q.jsx)(sz.MultimodalInput,{chatId:t,input:c,messages:x,onModelChange:g,selectedModelId:m,sendMessage:E,setInput:u,setMessages:_,status:T,stop:S,usage:d})})})]}),(0,q.jsx)(s_.Artifact,{chatId:t,input:c,isReadonly:i,messages:x,regenerate:w,selectedModelId:m,sendMessage:E,setInput:u,setMessages:_,status:T,stop:S,votes:D}),(0,q.jsx)(sl,{onOpenChange:f,open:p,children:(0,q.jsxs)(sd,{children:[(0,q.jsxs)(sh,{children:[(0,q.jsx)(sf,{children:"Activate AI Gateway"}),(0,q.jsxs)(sm,{children:["This application requires"," ","the owner"," to activate Vercel AI Gateway."]})]}),(0,q.jsxs)(sp,{children:[(0,q.jsx)(sy,{children:"Cancel"}),(0,q.jsx)(sg,{onClick:()=>{window.open("https://vercel.com/d?to=%2F%5Bteam%5D%2F%7E%2Fai%3Fmodal%3Dadd-credit-card","_blank"),window.location.href="/"},children:"Activate"})]})]})})]})}},466398,e=>{"use strict";e.s(["ChatSidebarWrapper",()=>h]);var t=e.i(843476),n=e.i(271645),r=e.i(522016),i=e.i(618566),a=e.i(373375),s=e.i(463059),o=e.i(144210),l=e.i(990715),c=e.i(859951),u=e.i(605458),d=e.i(589121);function h(e){let{user:h,defaultOpen:p=!0}=e,[f,m]=(0,n.useState)(p),g=(0,i.useRouter)();return(0,t.jsxs)("div",{className:(0,u.cn)("relative flex flex-col border-l bg-background transition-all duration-300",f?"w-80":"w-0"),style:{height:"100vh"},children:[(0,t.jsx)(c.Button,{variant:"ghost",size:"icon",className:"absolute -left-4 top-4 z-10 h-8 w-8 rounded-full border bg-background shadow-md hover:bg-accent",onClick:()=>{m(!f),document.cookie="chat_sidebar_state=".concat(!f,"; path=/; max-age=").concat(604800)},children:f?(0,t.jsx)(s.ChevronRight,{className:"h-4 w-4"}):(0,t.jsx)(a.ChevronLeft,{className:"h-4 w-4"})}),(0,t.jsxs)("div",{className:(0,u.cn)("flex h-full flex-col transition-opacity duration-300",f?"opacity-100":"opacity-0 pointer-events-none"),children:[(0,t.jsx)("div",{className:"flex-shrink-0 border-b p-4",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)(r.default,{className:"flex items-center gap-2",href:"/ai/chat",children:(0,t.jsx)("span",{className:"cursor-pointer rounded-md px-2 text-lg font-semibold hover:bg-muted",children:"Chat History"})}),(0,t.jsx)(d.TooltipProvider,{children:(0,t.jsxs)(d.Tooltip,{children:[(0,t.jsx)(d.TooltipTrigger,{asChild:!0,children:(0,t.jsx)(c.Button,{className:"h-8 w-8 p-0",onClick:()=>{g.push("/ai/chat"),g.refresh()},type:"button",variant:"ghost",children:(0,t.jsx)(o.PlusIcon,{})})}),(0,t.jsx)(d.TooltipContent,{align:"end",children:"New Chat"})]})})]})}),(0,t.jsx)("div",{className:"flex-1 overflow-y-auto overflow-x-hidden p-2",children:(0,t.jsx)(l.SidebarHistory,{user:h})})]})]})}},505489,e=>{"use strict";e.s(["DataStreamHandler",()=>a]);var t=e.i(271645),n=e.i(802896);e.i(246936);var r=e.i(99448),i=e.i(842453);function a(){let{dataStream:e}=(0,i.useDataStream)(),{artifact:a,setArtifact:s,setMetadata:o}=(0,n.useArtifact)(),l=(0,t.useRef)(-1);return(0,t.useEffect)(()=>{if(!(null==e?void 0:e.length))return;let t=e.slice(l.current+1);for(let i of(l.current=e.length-1,t)){let e=r.artifactDefinitions.find(e=>e.kind===a.kind);(null==e?void 0:e.onStreamPart)&&e.onStreamPart({streamPart:i,setArtifact:s,setMetadata:o}),s(e=>{if(!e)return{...n.initialArtifactData,status:"streaming"};switch(i.type){case"data-id":return{...e,documentId:i.data,status:"streaming"};case"data-title":return{...e,title:i.data,status:"streaming"};case"data-kind":return{...e,kind:i.data,status:"streaming"};case"data-clear":return{...e,content:"",status:"streaming"};case"data-finish":return{...e,status:"idle"};default:return e}})}},[e,s,o,a]),null}}]);