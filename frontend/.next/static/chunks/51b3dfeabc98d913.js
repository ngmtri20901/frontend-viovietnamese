(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,810199,t=>{"use strict";t.s(["abs",()=>e,"acos",()=>u,"asin",()=>f,"atan2",()=>i,"cos",()=>n,"epsilon",()=>h,"halfPi",()=>c,"max",()=>s,"min",()=>r,"pi",()=>l,"sin",()=>o,"sqrt",()=>a,"tau",()=>_]);let e=Math.abs,i=Math.atan2,n=Math.cos,s=Math.max,r=Math.min,o=Math.sin,a=Math.sqrt,h=1e-12,l=Math.PI,c=l/2,_=2*l;function u(t){return t>1?0:t<-1?l:Math.acos(t)}function f(t){return t>=1?c:t<=-1?-c:Math.asin(t)}},348033,(t,e,i)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.BLANK_URL=i.relativeFirstCharacters=i.whitespaceEscapeCharsRegex=i.urlSchemeRegex=i.ctrlCharactersRegex=i.htmlCtrlEntityRegex=i.htmlEntitiesRegex=i.invalidProtocolRegex=void 0,i.invalidProtocolRegex=/^([^\w]*)(javascript|data|vbscript)/im,i.htmlEntitiesRegex=/&#(\w+)(^\w|;)?/g,i.htmlCtrlEntityRegex=/&(newline|tab);/gi,i.ctrlCharactersRegex=/[\u0000-\u001F\u007F-\u009F\u2000-\u200D\uFEFF]/gim,i.urlSchemeRegex=/^.+(:|&colon;)/gim,i.whitespaceEscapeCharsRegex=/(\\|%5[cC])((%(6[eE]|72|74))|[nrt])/g,i.relativeFirstCharacters=[".","/"],i.BLANK_URL="about:blank"},139941,(t,e,i)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.sanitizeUrl=void 0;var n=t.r(348033);function s(t){try{return decodeURIComponent(t)}catch(e){return t}}i.sanitizeUrl=function(t){if(!t)return n.BLANK_URL;var e,i=s(t.trim());do e=(i=s(i=i.replace(n.ctrlCharactersRegex,"").replace(n.htmlEntitiesRegex,function(t,e){return String.fromCharCode(e)}).replace(n.htmlCtrlEntityRegex,"").replace(n.ctrlCharactersRegex,"").replace(n.whitespaceEscapeCharsRegex,"").trim())).match(n.ctrlCharactersRegex)||i.match(n.htmlEntitiesRegex)||i.match(n.htmlCtrlEntityRegex)||i.match(n.whitespaceEscapeCharsRegex);while(e&&e.length>0)var r=i;if(!r)return n.BLANK_URL;if(n.relativeFirstCharacters.indexOf(r[0])>-1)return r;var o=r.trimStart(),a=o.match(n.urlSchemeRegex);if(!a)return r;var h=a[0].toLowerCase().trim();if(n.invalidProtocolRegex.test(h))return n.BLANK_URL;var l=o.replace(/\\/g,"/");if("mailto:"===h||h.includes("://"))return l;if("http:"===h||"https:"===h){if(!URL.canParse(l))return n.BLANK_URL;var c=new URL(l);return c.protocol=c.protocol.toLowerCase(),c.hostname=c.hostname.toLowerCase(),c.toString()}return l}},677304,t=>{"use strict";function e(t,e,i){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+i)/6)}function i(t){this._context=t}function n(t){return new i(t)}t.s(["Basis",()=>i,"default",()=>n,"point",()=>e]),i.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:e(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,i){switch(t*=1,i*=1,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,i):this._context.moveTo(t,i);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:e(this,t,i)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=i}}},891169,t=>{"use strict";t.s(["curveBasis",()=>e.default]);var e=t.i(677304)},810489,t=>{"use strict";function e(){}t.s(["default",()=>e])},910118,593866,t=>{"use strict";t.s(["curveBasisClosed",()=>s],910118);var e=t.i(810489),i=t.i(677304);function n(t){this._context=t}function s(t){return new n(t)}function r(t){this._context=t}function o(t){return new r(t)}n.prototype={areaStart:e.default,areaEnd:e.default,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(t,e){switch(t*=1,e*=1,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:(0,i.point)(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}},t.s(["curveBasisOpen",()=>o],593866),r.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t*=1,e*=1,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,s=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,s):this._context.moveTo(n,s);break;case 3:this._point=4;default:(0,i.point)(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}}},872200,722914,t=>{"use strict";t.s(["curveBumpX",()=>i],872200);class e{areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line}point(t,e){switch(t*=1,e*=1,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,e,t,e):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+e)/2,t,this._y0,t,e)}this._x0=t,this._y0=e}constructor(t,e){this._context=t,this._x=e}}function i(t){return new e(t,!0)}function n(t){return new e(t,!1)}t.s(["curveBumpY",()=>n],722914)},48114,t=>{"use strict";function e(t){this._context=t}function i(t){return new e(t)}t.s(["default",()=>i]),e.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t*=1,e*=1,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e)}}}},851262,t=>{"use strict";t.s(["curveLinear",()=>e.default]);var e=t.i(48114)},821641,t=>{"use strict";t.s(["curveLinearClosed",()=>n],821641);var e=t.i(810489);function i(t){this._context=t}function n(t){return new i(t)}i.prototype={areaStart:e.default,areaEnd:e.default,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t*=1,e*=1,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}}},363823,992536,226619,381142,700357,163018,t=>{"use strict";function e(t,e,i){var n=t._x1-t._x0,s=e-t._x1,r=(t._y1-t._y0)/(n||s<0&&-0),o=(i-t._y1)/(s||n<0&&-0);return((r<0?-1:1)+(o<0?-1:1))*Math.min(Math.abs(r),Math.abs(o),.5*Math.abs((r*s+o*n)/(n+s)))||0}function i(t,e){var i=t._x1-t._x0;return i?(3*(t._y1-t._y0)/i-e)/2:e}function n(t,e,i){var n=t._x0,s=t._y0,r=t._x1,o=t._y1,a=(r-n)/3;t._context.bezierCurveTo(n+a,s+a*e,r-a,o-a*i,r,o)}function s(t){this._context=t}function r(t){this._context=new o(t)}function o(t){this._context=t}function a(t){return new s(t)}function h(t){return new r(t)}function l(t){this._context=t}function c(t){var e,i,n=t.length-1,s=Array(n),r=Array(n),o=Array(n);for(s[0]=0,r[0]=2,o[0]=t[0]+2*t[1],e=1;e<n-1;++e)s[e]=1,r[e]=4,o[e]=4*t[e]+2*t[e+1];for(s[n-1]=2,r[n-1]=7,o[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)i=s[e]/r[e-1],r[e]-=i,o[e]-=i*o[e-1];for(s[n-1]=o[n-1]/r[n-1],e=n-2;e>=0;--e)s[e]=(o[e]-s[e+1])/r[e];for(e=0,r[n-1]=(t[n]+s[n-1])/2;e<n-1;++e)r[e]=2*t[e+1]-s[e+1];return[s,r]}function _(t){return new l(t)}function u(t,e){this._context=t,this._t=e}function f(t){return new u(t,.5)}function p(t){return new u(t,0)}function x(t){return new u(t,1)}t.s(["curveMonotoneX",()=>a],363823),s.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:n(this,this._t0,i(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,s){var r=NaN;if(s*=1,(t*=1)!==this._x1||s!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,s):this._context.moveTo(t,s);break;case 1:this._point=2;break;case 2:this._point=3,n(this,i(this,r=e(this,t,s)),r);break;default:n(this,this._t0,r=e(this,t,s))}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=s,this._t0=r}}},(r.prototype=Object.create(s.prototype)).point=function(t,e){s.prototype.point.call(this,e,t)},o.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,i,n,s,r){this._context.bezierCurveTo(e,t,n,i,r,s)}},t.s(["curveMonotoneY",()=>h],992536),t.s(["curveNatural",()=>_],226619),l.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,i=t.length;if(i)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),2===i)this._context.lineTo(t[1],e[1]);else for(var n=c(t),s=c(e),r=0,o=1;o<i;++r,++o)this._context.bezierCurveTo(n[0][r],s[0][r],n[1][r],s[1][r],t[o],e[o]);(this._line||0!==this._line&&1===i)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}},t.s(["curveStep",()=>f],381142),u.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t*=1,e*=1,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var i=this._x*(1-this._t)+t*this._t;this._context.lineTo(i,this._y),this._context.lineTo(i,e)}}this._x=t,this._y=e}},t.s(["curveStepAfter",()=>x],700357),t.s(["curveStepBefore",()=>p],163018)},195923,826157,693158,64038,t=>{"use strict";t.s(["ZERO_WIDTH_SPACE",()=>td,"calculateTextHeight",()=>tU,"calculateTextWidth",()=>tH,"cleanAndMerge",()=>tJ,"decodeEntities",()=>tQ,"encodeEntities",()=>tZ,"generateId",()=>tF,"getEdgeId",()=>t0,"getStylesFromArray",()=>tj,"handleUndefinedAttr",()=>t1,"interpolateToCurve",()=>tS,"isDetailedError",()=>tY,"parseFontSize",()=>tG,"random",()=>tL,"removeDirectives",()=>tw,"utils_default",()=>tV,"wrapLabel",()=>tW],195923);var e,i,n=t.i(80926),s=t.i(171206),r=t.i(139941);t.i(947716);var o=t.i(891169),a=t.i(910118),h=t.i(593866),l=t.i(872200),c=t.i(722914),_=t.i(677304);function u(t,e){this._basis=new _.Basis(t),this._beta=e}u.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,e=this._y,i=t.length-1;if(i>0)for(var n,s=t[0],r=e[0],o=t[i]-s,a=e[i]-r,h=-1;++h<=i;)n=h/i,this._basis.point(this._beta*t[h]+(1-this._beta)*(s+n*o),this._beta*e[h]+(1-this._beta)*(r+n*a));this._x=this._y=null,this._basis.lineEnd()},point:function(t,e){this._x.push(+t),this._y.push(+e)}};let f=function t(e){function i(t){return 1===e?new _.Basis(t):new u(t,e)}return i.beta=function(e){return t(+e)},i}(.85);var p=t.i(810489);function x(t,e,i){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-e),t._y2+t._k*(t._y1-i),t._x2,t._y2)}function d(t,e){this._context=t,this._k=(1-e)/6}d.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:x(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t*=1,e*=1,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2,this._x1=t,this._y1=e;break;case 2:this._point=3;default:x(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};let y=function t(e){function i(t){return new d(t,e)}return i.tension=function(e){return t(+e)},i}(0);function g(t,e){this._context=t,this._k=(1-e)/6}g.prototype={areaStart:p.default,areaEnd:p.default,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,e){switch(t*=1,e*=1,this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:x(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};let m=function t(e){function i(t){return new g(t,e)}return i.tension=function(e){return t(+e)},i}(0);function v(t,e){this._context=t,this._k=(1-e)/6}v.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t*=1,e*=1,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:x(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};let w=function t(e){function i(t){return new v(t,e)}return i.tension=function(e){return t(+e)},i}(0);t.s(["curveCardinal",()=>y],826157);var b=t.i(810199);function S(t,e,i){var n=t._x1,s=t._y1,r=t._x2,o=t._y2;if(t._l01_a>b.epsilon){var a=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,h=3*t._l01_a*(t._l01_a+t._l12_a);n=(n*a-t._x0*t._l12_2a+t._x2*t._l01_2a)/h,s=(s*a-t._y0*t._l12_2a+t._y2*t._l01_2a)/h}if(t._l23_a>b.epsilon){var l=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,c=3*t._l23_a*(t._l23_a+t._l12_a);r=(r*l+t._x1*t._l23_2a-e*t._l12_2a)/c,o=(o*l+t._y1*t._l23_2a-i*t._l12_2a)/c}t._context.bezierCurveTo(n,s,r,o,t._x2,t._y2)}function T(t,e){this._context=t,this._alpha=e}T.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t*=1,e*=1,this._point){var i=this._x2-t,n=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(i*i+n*n,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3;default:S(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};let k=function t(e){function i(t){return e?new T(t,e):new d(t,0)}return i.alpha=function(e){return t(+e)},i}(.5);function E(t,e){this._context=t,this._alpha=e}E.prototype={areaStart:p.default,areaEnd:p.default,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,e){if(t*=1,e*=1,this._point){var i=this._x2-t,n=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(i*i+n*n,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:S(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};let M=function t(e){function i(t){return e?new E(t,e):new g(t,0)}return i.alpha=function(e){return t(+e)},i}(.5);function N(t,e){this._context=t,this._alpha=e}N.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t*=1,e*=1,this._point){var i=this._x2-t,n=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(i*i+n*n,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:S(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};let C=function t(e){function i(t){return e?new N(t,e):new v(t,0)}return i.alpha=function(e){return t(+e)},i}(.5);t.s(["curveCatmullRom",()=>k],693158);var R=t.i(851262),B=t.i(821641),P=t.i(363823),j=t.i(992536),O=t.i(226619),F=t.i(381142),I=t.i(700357),L=t.i(163018),z=t.i(723685),A=t.i(169288);t.s(["default",()=>tx],64038);var W=t.i(659164),D=t.i(54677),U=t.i(208986);let H=function(t,e,i){(void 0===i||(0,U.default)(t[e],i))&&(void 0!==i||e in t)||(0,D.default)(t,e,i)};var K=t.i(840622),$=t.i(275416),X=t.i(905205),Y=t.i(92045),q=t.i(651009),G=t.i(515300),J=t.i(644071),V=t.i(113431),Z=t.i(303745),Q=t.i(764929),tt=t.i(159110),te=t.i(835287),ti=t.i(652865),tn=t.i(563615),ts=Object.prototype,tr=Function.prototype.toString,to=ts.hasOwnProperty,ta=tr.call(Object);let th=function(t){if(!(0,tn.default)(t)||"[object Object]"!=(0,te.default)(t))return!1;var e=(0,ti.default)(t);if(null===e)return!0;var i=to.call(e,"constructor")&&e.constructor;return"function"==typeof i&&i instanceof i&&tr.call(i)==ta};var tl=t.i(801645);let tc=function(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]};var t_=t.i(669286),tu=t.i(872585);let tf=function(t,e,i,n,s,r,o){var a=tc(t,i),h=tc(e,i),l=o.get(h);if(l)return void H(t,i,l);var c=r?r(a,h,i+"",t,e,o):void 0,_=void 0===c;if(_){var u=(0,J.default)(h),f=!u&&(0,Z.default)(h),p=!u&&!f&&(0,tl.default)(h);(c=h,u||f||p)?(0,J.default)(a)?c=a:(0,V.default)(a)?c=(0,Y.default)(a):f?(_=!1,c=(0,$.default)(h,!0)):p?(_=!1,c=(0,X.default)(h,!0)):c=[]:th(h)||(0,G.default)(h)?(c=a,(0,G.default)(a))?c=(0,t_.default)(a,(0,tu.default)(a)):(!(0,tt.default)(a)||(0,Q.default)(a))&&(c=(0,q.default)(h)):_=!1}_&&(o.set(h,c),s(c,h,n,r,o),o.delete(h)),H(t,i,c)},tp=function t(e,i,n,s,r){e!==i&&(0,K.default)(i,function(o,a){if(r||(r=new W.default),(0,tt.default)(o))tf(e,i,a,n,t,s,r);else{var h=s?s(tc(e,a),o,a+"",e,i,r):void 0;void 0===h&&(h=o),H(e,a,h)}},tu.default)},tx=(0,t.i(926770).default)(function(t,e,i){tp(t,e,i)});var td="​",ty={curveBasis:o.curveBasis,curveBasisClosed:a.curveBasisClosed,curveBasisOpen:h.curveBasisOpen,curveBumpX:l.curveBumpX,curveBumpY:c.curveBumpY,curveBundle:f,curveCardinalClosed:m,curveCardinalOpen:w,curveCardinal:y,curveCatmullRomClosed:M,curveCatmullRomOpen:C,curveCatmullRom:k,curveLinear:R.curveLinear,curveLinearClosed:B.curveLinearClosed,curveMonotoneX:P.curveMonotoneX,curveMonotoneY:j.curveMonotoneY,curveNatural:O.curveNatural,curveStep:F.curveStep,curveStepAfter:I.curveStepAfter,curveStepBefore:L.curveStepBefore},tg=/\s*(?:(\w+)(?=:):|(\w+))\s*(?:(\w+)|((?:(?!}%{2}).|\r?\n)*))?\s*(?:}%{2})?/gi,tm=(0,s.__name)(function(t,e){let i=tv(t,/(?:init\b)|(?:initialize\b)/),s={};if(Array.isArray(i)){let t=i.map(t=>t.args);(0,n.sanitizeDirective)(t),s=(0,n.assignWithDepth_default)(s,[...t])}else s=i.args;if(!s)return;let r=(0,n.detectType)(t,e),o="config";return void 0!==s[o]&&("flowchart-v2"===r&&(r="flowchart"),s[r]=s[o],delete s[o]),s},"detectInit"),tv=(0,s.__name)(function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;try{let o,a=RegExp("[%]{2}(?![{]".concat(tg.source,")(?=[}][%]{2}).*\n"),"ig");t=t.trim().replace(a,"").replace(/'/gm,'"'),s.log.debug("Detecting diagram directive".concat(null!==e?" type:"+e:""," based on the text:").concat(t));let h=[];for(;null!==(o=n.directiveRegex.exec(t));){var i,r;if(o.index===n.directiveRegex.lastIndex&&n.directiveRegex.lastIndex++,o&&!e||e&&(null==(i=o[1])?void 0:i.match(e))||e&&(null==(r=o[2])?void 0:r.match(e))){let t=o[1]?o[1]:o[2],e=o[3]?o[3].trim():o[4]?JSON.parse(o[4].trim()):null;h.push({type:t,args:e})}}if(0===h.length)return{type:t,args:null};return 1===h.length?h[0]:h}catch(i){return s.log.error("ERROR: ".concat(i.message," - Unable to parse directive type: '").concat(e,"' based on the text: '").concat(t,"'")),{type:void 0,args:null}}},"detectDirective"),tw=(0,s.__name)(function(t){return t.replace(n.directiveRegex,"")},"removeDirectives"),tb=(0,s.__name)(function(t,e){for(let[i,n]of e.entries())if(n.match(t))return i;return -1},"isSubstringInArray");function tS(t,e){var i;return t&&null!=(i=ty["curve".concat(t.charAt(0).toUpperCase()+t.slice(1))])?i:e}function tT(t,e){let i=t.trim();if(i)return"loose"!==e.securityLevel?(0,r.sanitizeUrl)(i):i}(0,s.__name)(tS,"interpolateToCurve"),(0,s.__name)(tT,"formatUrl");var tk=(0,s.__name)(function(t){for(var e=arguments.length,i=Array(e>1?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];let r=t.split("."),o=r.length-1,a=r[o],h=window;for(let e=0;e<o;e++)if(!(h=h[r[e]]))return void s.log.error("Function name: ".concat(t," not found in window"));h[a](...i)},"runFunc");function tE(t,e){return t&&e?Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2)):0}function tM(t){let e,i=0;return t.forEach(t=>{i+=tE(t,e),e=t}),tR(t,i/2)}function tN(t){return 1===t.length?t[0]:tM(t)}(0,s.__name)(tE,"distance"),(0,s.__name)(tM,"traverseEdge"),(0,s.__name)(tN,"calcLabelPosition");var tC=(0,s.__name)(function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,i=Math.pow(10,e);return Math.round(t*i)/i},"roundNumber"),tR=(0,s.__name)((t,e)=>{let i,n=e;for(let e of t){if(i){let t=tE(e,i);if(0===t)return i;if(t<n)n-=t;else{let s=n/t;if(s<=0)return i;if(s>=1)return{x:e.x,y:e.y};if(s>0&&s<1)return{x:tC((1-s)*i.x+s*e.x,5),y:tC((1-s)*i.y+s*e.y,5)}}}i=e}throw Error("Could not find a suitable point for the given distance")},"calculatePoint"),tB=(0,s.__name)((t,e,i)=>{s.log.info("our points ".concat(JSON.stringify(e))),e[0]!==i&&(e=e.reverse());let n=tR(e,25),r=t?10:5,o=Math.atan2(e[0].y-n.y,e[0].x-n.x),a={x:0,y:0};return a.x=Math.sin(o)*r+(e[0].x+n.x)/2,a.y=-Math.cos(o)*r+(e[0].y+n.y)/2,a},"calcCardinalityPosition");function tP(t,e,i){let n=structuredClone(i);s.log.info("our points",n),"start_left"!==e&&"start_right"!==e&&n.reverse();let r=tR(n,25+t),o=10+.5*t,a=Math.atan2(n[0].y-r.y,n[0].x-r.x),h={x:0,y:0};return"start_left"===e?(h.x=Math.sin(a+Math.PI)*o+(n[0].x+r.x)/2,h.y=-Math.cos(a+Math.PI)*o+(n[0].y+r.y)/2):"end_right"===e?(h.x=Math.sin(a-Math.PI)*o+(n[0].x+r.x)/2-5,h.y=-Math.cos(a-Math.PI)*o+(n[0].y+r.y)/2-5):"end_left"===e?(h.x=Math.sin(a)*o+(n[0].x+r.x)/2-5,h.y=-Math.cos(a)*o+(n[0].y+r.y)/2-5):(h.x=Math.sin(a)*o+(n[0].x+r.x)/2,h.y=-Math.cos(a)*o+(n[0].y+r.y)/2),h}function tj(t){let e="",i="";for(let n of t)void 0!==n&&(n.startsWith("color:")||n.startsWith("text-align:")?i=i+n+";":e=e+n+";");return{style:e,labelStyle:i}}(0,s.__name)(tP,"calcTerminalLabelPosition"),(0,s.__name)(tj,"getStylesFromArray");var tO=0,tF=(0,s.__name)(()=>(tO++,"id-"+Math.random().toString(36).substr(2,12)+"-"+tO),"generateId");function tI(t){let e="",i="0123456789abcdef",n=i.length;for(let s=0;s<t;s++)e+=i.charAt(Math.floor(Math.random()*n));return e}(0,s.__name)(tI,"makeRandomHex");var tL=(0,s.__name)(t=>tI(t.length),"random"),tz=(0,s.__name)(function(){return{x:0,y:0,fill:void 0,anchor:"start",style:"#666",width:100,height:100,textMargin:0,rx:0,ry:0,valign:void 0,text:""}},"getTextObj"),tA=(0,s.__name)(function(t,e){let i=e.text.replace(n.common_default.lineBreakRegex," "),[,s]=tG(e.fontSize),r=t.append("text");r.attr("x",e.x),r.attr("y",e.y),r.style("text-anchor",e.anchor),r.style("font-family",e.fontFamily),r.style("font-size",s),r.style("font-weight",e.fontWeight),r.attr("fill",e.fill),void 0!==e.class&&r.attr("class",e.class);let o=r.append("tspan");return o.attr("x",e.x+2*e.textMargin),o.attr("fill",e.fill),o.text(i),r},"drawSimpleText"),tW=(0,A.default)((t,e,i)=>{if(!t||(i=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial",joinWith:"<br/>"},i),n.common_default.lineBreakRegex.test(t)))return t;let s=t.split(" ").filter(Boolean),r=[],o="";return s.forEach((t,n)=>{let a=tH("".concat(t," "),i),h=tH(o,i);if(a>e){let{hyphenatedStrings:n,remainingWord:s}=tD(t,e,"-",i);r.push(o,...n),o=s}else h+a>=e?(r.push(o),o=t):o=[o,t].filter(Boolean).join(" ");n+1===s.length&&r.push(o)}),r.filter(t=>""!==t).join(i.joinWith)},(t,e,i)=>"".concat(t).concat(e).concat(i.fontSize).concat(i.fontWeight).concat(i.fontFamily).concat(i.joinWith)),tD=(0,A.default)(function(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"-",n=arguments.length>3?arguments[3]:void 0;n=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial",margin:0},n);let s=[...t],r=[],o="";return s.forEach((t,a)=>{let h="".concat(o).concat(t);if(tH(h,n)>=e){let t=s.length===a+1,e="".concat(h).concat(i);r.push(t?h:e),o=""}else o=h}),{hyphenatedStrings:r,remainingWord:o}},function(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"-",n=arguments.length>3?arguments[3]:void 0;return"".concat(t).concat(e).concat(i).concat(n.fontSize).concat(n.fontWeight).concat(n.fontFamily)});function tU(t,e){return tK(t,e).height}function tH(t,e){return tK(t,e).width}(0,s.__name)(tU,"calculateTextHeight"),(0,s.__name)(tH,"calculateTextWidth");var tK=(0,A.default)((t,e)=>{let{fontSize:i=12,fontFamily:s="Arial",fontWeight:r=400}=e;if(!t)return{width:0,height:0};let[,o]=tG(i),a=t.split(n.common_default.lineBreakRegex),h=[],l=(0,z.select)("body");if(!l.remove)return{width:0,height:0,lineHeight:0};let c=l.append("svg");for(let t of["sans-serif",s]){let e=0,i={width:0,height:0,lineHeight:0};for(let n of a){let s=tz();s.text=n||td;let a=tA(c,s).style("font-size",o).style("font-weight",r).style("font-family",t),h=(a._groups||a)[0][0].getBBox();if(0===h.width&&0===h.height)throw Error("svg element not in render tree");i.width=Math.round(Math.max(i.width,h.width)),e=Math.round(h.height),i.height+=e,i.lineHeight=Math.round(Math.max(i.lineHeight,e))}h.push(i)}c.remove();let _=isNaN(h[1].height)||isNaN(h[1].width)||isNaN(h[1].lineHeight)||h[0].height>h[1].height&&h[0].width>h[1].width&&h[0].lineHeight>h[1].lineHeight?0:1;return h[_]},(t,e)=>"".concat(t).concat(e.fontSize).concat(e.fontWeight).concat(e.fontFamily)),t$=(e=class{constructor(t=!1,e){this.count=0,this.count=e?e.length:0,this.next=t?()=>this.count++:()=>Date.now()}},(0,s.__name)(e,"InitIDGenerator"),e),tX=(0,s.__name)(function(t){return i=i||document.createElement("div"),t=escape(t).replace(/%26/g,"&").replace(/%23/g,"#").replace(/%3B/g,";"),i.innerHTML=t,unescape(i.textContent)},"entityDecode");function tY(t){return"str"in t}(0,s.__name)(tY,"isDetailedError");var tq=(0,s.__name)((t,e,i,n)=>{var s;if(!n)return;let r=null==(s=t.node())?void 0:s.getBBox();r&&t.append("text").text(n).attr("text-anchor","middle").attr("x",r.x+r.width/2).attr("y",-i).attr("class",e)},"insertTitle"),tG=(0,s.__name)(t=>{if("number"==typeof t)return[t,t+"px"];let e=parseInt(null!=t?t:"",10);return Number.isNaN(e)?[void 0,void 0]:t===String(e)?[e,t+"px"]:[e,t]},"parseFontSize");function tJ(t,e){return tx({},t,e)}(0,s.__name)(tJ,"cleanAndMerge");var tV={assignWithDepth:n.assignWithDepth_default,wrapLabel:tW,calculateTextHeight:tU,calculateTextWidth:tH,calculateTextDimensions:tK,cleanAndMerge:tJ,detectInit:tm,detectDirective:tv,isSubstringInArray:tb,interpolateToCurve:tS,calcLabelPosition:tN,calcCardinalityPosition:tB,calcTerminalLabelPosition:tP,formatUrl:tT,getStylesFromArray:tj,generateId:tF,random:tL,runFunc:tk,entityDecode:tX,insertTitle:tq,isLabelCoordinateInPath:t2,parseFontSize:tG,InitIDGenerator:t$},tZ=(0,s.__name)(function(t){let e=t;return(e=(e=e.replace(/style.*:\S*#.*;/g,function(t){return t.substring(0,t.length-1)})).replace(/classDef.*:\S*#.*;/g,function(t){return t.substring(0,t.length-1)})).replace(/#\w+;/g,function(t){let e=t.substring(1,t.length-1);return/^\+?\d+$/.test(e)?"ﬂ°°"+e+"¶ß":"ﬂ°"+e+"¶ß"})},"encodeEntities"),tQ=(0,s.__name)(function(t){return t.replace(/ﬂ°°/g,"&#").replace(/ﬂ°/g,"&").replace(/¶ß/g,";")},"decodeEntities"),t0=(0,s.__name)((t,e,i,n)=>{let{counter:s=0,prefix:r,suffix:o}=i;return n||"".concat(r?"".concat(r,"_"):"").concat(t,"_").concat(e,"_").concat(s).concat(o?"_".concat(o):"")},"getEdgeId");function t1(t){return null!=t?t:null}function t2(t,e){let i=Math.round(t.x),n=Math.round(t.y),s=e.replace(/(\d+\.\d+)/g,t=>Math.round(parseFloat(t)).toString());return s.includes(i.toString())||s.includes(n.toString())}(0,s.__name)(t1,"handleUndefinedAttr"),(0,s.__name)(t2,"isLabelCoordinateInPath")},780262,440524,t=>{"use strict";t.s(["computeDimensionOfText",()=>D,"createText",()=>$,"getIconSVG",()=>N,"registerIconPacks",()=>k,"replaceIconSubstring",()=>K,"unknownIcon",()=>b],780262);var e=t.i(195923),i=t.i(80926),n=t.i(171206);let s=Object.freeze({left:0,top:0,width:16,height:16}),r=Object.freeze({rotate:0,vFlip:!1,hFlip:!1}),o=Object.freeze({...s,...r}),a=Object.freeze({...o,body:"",hidden:!1});function h(t,e){let i=function(t,e){let i={};!t.hFlip!=!e.hFlip&&(i.hFlip=!0),!t.vFlip!=!e.vFlip&&(i.vFlip=!0);let n=((t.rotate||0)+(e.rotate||0))%4;return n&&(i.rotate=n),i}(t,e);for(let n in a)n in r?n in t&&!(n in i)&&(i[n]=r[n]):n in e?i[n]=e[n]:n in t&&(i[n]=t[n]);return i}function l(t,e,i){let n=t.icons,s=t.aliases||Object.create(null),r={};function o(t){r=h(n[t]||s[t],r)}return o(e),i.forEach(o),h(t,r)}let c=Object.freeze({...Object.freeze({width:null,height:null}),...r}),_=/(-?[0-9.]*[0-9]+[0-9.]*)/g,u=/^-?[0-9.]*[0-9]+[0-9.]*$/g;function f(t,e,i){if(1===e)return t;if(i=i||100,"number"==typeof t)return Math.ceil(t*e*i)/i;if("string"!=typeof t)return t;let n=t.split(_);if(null===n||!n.length)return t;let s=[],r=n.shift(),o=u.test(r);for(;;){if(o){let t=parseFloat(r);isNaN(t)?s.push(r):s.push(Math.ceil(t*e*i)/i)}else s.push(r);if(void 0===(r=n.shift()))return s.join("");o=!o}}let p=/\sid="(\S+)"/g,x="IconifyId"+Date.now().toString(16)+(0x1000000*Math.random()|0).toString(16),d=0,y=function(t,e,i){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",s=t.split(":");if("@"===t.slice(0,1)){if(s.length<2||s.length>3)return null;n=s.shift().slice(1)}if(s.length>3||!s.length)return null;if(s.length>1){let t=s.pop(),i=s.pop(),r={provider:s.length>0?s[0]:n,prefix:i,name:t};return e&&!g(r)?null:r}let r=s[0],o=r.split("-");if(o.length>1){let t={provider:n,prefix:o.shift(),name:o.join("-")};return e&&!g(t)?null:t}if(i&&""===n){let t={provider:n,prefix:"",name:r};return e&&!g(t,i)?null:t}return null},g=(t,e)=>!!t&&!!((e&&""===t.prefix||t.prefix)&&t.name);t.i(947716);var m=t.i(723685),v=t.i(920906);function w(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];var n=Array.from("string"==typeof t?[t]:t);n[n.length-1]=n[n.length-1].replace(/\r?\n([\t ]*)$/,"");var s=n.reduce(function(t,e){var i=e.match(/\n([\t ]+|(?!\s).)/g);return i?t.concat(i.map(function(t){var e,i;return null!=(i=null==(e=t.match(/[\t ]/g))?void 0:e.length)?i:0})):t},[]);if(s.length){var r=RegExp("\n[	 ]{"+Math.min.apply(Math,s)+"}","g");n=n.map(function(t){return t.replace(r,"\n")})}n[0]=n[0].replace(/^\r?\n/,"");var o=n[0];return e.forEach(function(t,e){var i=o.match(/(?:^|\n)( *)$/),s=i?i[1]:"",r=t;"string"==typeof t&&t.includes("\n")&&(r=String(t).split("\n").map(function(t,e){return 0===e?t:""+s+t}).join("\n")),o+=r+n[e+1]}),o}t.s(["dedent",()=>w],440524);var b={body:'<g><rect width="80" height="80" style="fill: #087ebf; stroke-width: 0px;"/><text transform="translate(21.16 64.67)" style="fill: #fff; font-family: ArialMT, Arial; font-size: 67.75px;"><tspan x="0" y="0">?</tspan></text></g>',height:80,width:80},S=new Map,T=new Map,k=(0,n.__name)(t=>{for(let e of t){if(!e.name)throw Error('Invalid icon loader. Must have a "name" property with non-empty string value.');if(n.log.debug("Registering icon pack:",e.name),"loader"in e)T.set(e.name,e.loader);else if("icons"in e)S.set(e.name,e.icons);else throw n.log.error("Invalid icon loader:",e),Error('Invalid icon loader. Must have either "icons" or "loader" property.')}},"registerIconPacks"),E=(0,n.__name)(async(t,e)=>{let i=y(t,!0,void 0!==e);if(!i)throw Error("Invalid icon name: ".concat(t));let s=i.prefix||e;if(!s)throw Error("Icon name must contain a prefix: ".concat(t));let r=S.get(s);if(!r){let t=T.get(s);if(!t)throw Error("Icon set not found: ".concat(i.prefix));try{r={...await t(),prefix:s},S.set(s,r)}catch(t){throw n.log.error(t),Error("Failed to load icon set: ".concat(i.prefix))}}let o=function(t,e){if(t.icons[e])return l(t,e,[]);let i=function(t,e){let i=t.icons,n=t.aliases||Object.create(null),s=Object.create(null);return(e||Object.keys(i).concat(Object.keys(n))).forEach(function t(e){if(i[e])return s[e]=[];if(!(e in s)){s[e]=null;let i=n[e]&&n[e].parent,r=i&&t(i);r&&(s[e]=[i].concat(r))}return s[e]}),s}(t,[e])[e];return i?l(t,e,i):null}(r,i.name);if(!o)throw Error("Icon not found: ".concat(t));return o},"getRegisteredIconData"),M=(0,n.__name)(async t=>{try{return await E(t),!0}catch(t){return!1}},"isIconAvailable"),N=(0,n.__name)(async(t,e,s)=>{let r;try{r=await E(t,null==e?void 0:e.fallbackPrefix)}catch(t){n.log.error(t),r=b}let a=function(t,e){let i,n,s={...o,...t},r={...c,...e},a={left:s.left,top:s.top,width:s.width,height:s.height},h=s.body;[s,r].forEach(t=>{let e,i=[],n=t.hFlip,s=t.vFlip,r=t.rotate;switch(n?s?r+=2:(i.push("translate("+(a.width+a.left).toString()+" "+(0-a.top).toString()+")"),i.push("scale(-1 1)"),a.top=a.left=0):s&&(i.push("translate("+(0-a.left).toString()+" "+(a.height+a.top).toString()+")"),i.push("scale(1 -1)"),a.top=a.left=0),r<0&&(r-=4*Math.floor(r/4)),r%=4){case 1:i.unshift("rotate(90 "+(e=a.height/2+a.top).toString()+" "+e.toString()+")");break;case 2:i.unshift("rotate(180 "+(a.width/2+a.left).toString()+" "+(a.height/2+a.top).toString()+")");break;case 3:i.unshift("rotate(-90 "+(e=a.width/2+a.left).toString()+" "+e.toString()+")")}r%2==1&&(a.left!==a.top&&(e=a.left,a.left=a.top,a.top=e),a.width!==a.height&&(e=a.width,a.width=a.height,a.height=e)),i.length&&(h=function(t,e,i){var n,s;let r=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"defs",i="",n=t.indexOf("<"+e);for(;n>=0;){let s=t.indexOf(">",n),r=t.indexOf("</"+e);if(-1===s||-1===r)break;let o=t.indexOf(">",r);if(-1===o)break;i+=t.slice(s+1,r).trim(),t=t.slice(0,n).trim()+t.slice(o+1)}return{defs:i,content:t}}(t);return n=r.defs,s=e+r.content+i,n?"<defs>"+n+"</defs>"+s:s}(h,'<g transform="'+i.join(" ")+'">',"</g>"))});let l=r.width,_=r.height,u=a.width,p=a.height;null===l?i=f(n=null===_?"1em":"auto"===_?p:_,u/p):(i="auto"===l?u:l,n=null===_?f(i,p/u):"auto"===_?p:_);let x={},d=(t,e)=>{"unset"!==e&&"undefined"!==e&&"none"!==e&&(x[t]=e.toString())};d("width",i),d("height",n);let y=[a.left,a.top,u,p];return x.viewBox=y.join(" "),{attributes:x,viewBox:y,body:h}}(r,e),h=function(t,e){let i=-1===t.indexOf("xlink:")?"":' xmlns:xlink="http://www.w3.org/1999/xlink"';for(let t in e)i+=" "+t+'="'+e[t]+'"';return'<svg xmlns="http://www.w3.org/2000/svg"'+i+">"+t+"</svg>"}(function(t){let e,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:x,n=[];for(;e=p.exec(t);)n.push(e[1]);if(!n.length)return t;let s="suffix"+(0x1000000*Math.random()|Date.now()).toString(16);return n.forEach(e=>{let n="function"==typeof i?i(e):i+(d++).toString(),r=e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");t=t.replace(RegExp('([#;"])('+r+')([")]|\\.[a-z])',"g"),"$1"+n+s+"$3")}),t=t.replace(RegExp(s,"g"),"")}(a.body),{...a.attributes,...s});return(0,i.sanitizeText)(h,(0,i.getConfig)())},"getIconSVG");function C(t,e){let{markdownAutoWrap:i}=e,n=w(t.replace(/<br\/>/g,"\n").replace(/\n{2,}/g,"\n"));return!1===i?n.replace(/ /g,"&nbsp;"):n}function R(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=C(t,e),s=v.marked.lexer(i),r=[[]],o=0;function a(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"normal";"text"===t.type?t.text.split("\n").forEach((t,i)=>{0!==i&&(o++,r.push([])),t.split(" ").forEach(t=>{(t=t.replace(/&#39;/g,"'"))&&r[o].push({content:t,type:e})})}):"strong"===t.type||"em"===t.type?t.tokens.forEach(e=>{a(e,t.type)}):"html"===t.type&&r[o].push({content:t.text,type:"normal"})}return(0,n.__name)(a,"processNode"),s.forEach(t=>{if("paragraph"===t.type){var e;null==(e=t.tokens)||e.forEach(t=>{a(t)})}else"html"===t.type?r[o].push({content:t.text,type:"normal"}):r[o].push({content:t.raw,type:"normal"})}),r}function B(t){let{markdownAutoWrap:e}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=v.marked.lexer(t);function s(t){var i,r,o;if("text"===t.type)return!1===e?t.text.replace(/\n */g,"<br/>").replace(/ /g,"&nbsp;"):t.text.replace(/\n */g,"<br/>");if("strong"===t.type)return"<strong>".concat(null==(i=t.tokens)?void 0:i.map(s).join(""),"</strong>");if("em"===t.type)return"<em>".concat(null==(r=t.tokens)?void 0:r.map(s).join(""),"</em>");if("paragraph"===t.type)return"<p>".concat(null==(o=t.tokens)?void 0:o.map(s).join(""),"</p>");if("space"===t.type)return"";else if("html"===t.type)return"".concat(t.text);else if("escape"===t.type)return t.text;return n.log.warn("Unsupported markdown: ".concat(t.type)),t.raw}return(0,n.__name)(s,"output"),i.map(s).join("")}function P(t){return Intl.Segmenter?[...new Intl.Segmenter().segment(t)].map(t=>t.segment):[...t]}function j(t,e){return O(t,[],P(e.content),e.type)}function O(t,e,i,n){if(0===i.length)return[{content:e.join(""),type:n},{content:"",type:n}];let[s,...r]=i,o=[...e,s];return t([{content:o.join(""),type:n}])?O(t,o,r,n):(0===e.length&&s&&(e.push(s),i.shift()),[{content:e.join(""),type:n},{content:i.join(""),type:n}])}function F(t,e){if(t.some(t=>{let{content:e}=t;return e.includes("\n")}))throw Error("splitLineToFitWidth does not support newlines in the line");return I(t,e)}function I(t,e){var i;let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];if(0===t.length)return s.length>0&&n.push(s),n.length>0?n:[];let r="";" "===t[0].content&&(r=" ",t.shift());let o=null!=(i=t.shift())?i:{content:" ",type:"normal"},a=[...s];if(""!==r&&a.push({content:r,type:"normal"}),a.push(o),e(a))return I(t,e,n,a);if(s.length>0)n.push(s),t.unshift(o);else if(o.content){let[i,s]=j(e,o);n.push([i]),s.content&&t.unshift(s)}return I(t,e,n)}function L(t,e){e&&t.attr("style",e)}async function z(t,e,n,s){let r=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:(0,i.getConfig)(),a=t.append("foreignObject");a.attr("width","".concat(10*n,"px")),a.attr("height","".concat(10*n,"px"));let h=a.append("xhtml:div"),l=(0,i.hasKatex)(e.label)?await (0,i.renderKatexSanitized)(e.label.replace(i.common_default.lineBreakRegex,"\n"),o):(0,i.sanitizeText)(e.label,o),c=e.isNode?"nodeLabel":"edgeLabel",_=h.append("span");_.html(l),L(_,e.labelStyle),_.attr("class","".concat(c," ").concat(s)),L(h,e.labelStyle),h.style("display","table-cell"),h.style("white-space","nowrap"),h.style("line-height","1.5"),h.style("max-width",n+"px"),h.style("text-align","center"),h.attr("xmlns","http://www.w3.org/1999/xhtml"),r&&h.attr("class","labelBkg");let u=h.node().getBoundingClientRect();return u.width===n&&(h.style("display","table"),h.style("white-space","break-spaces"),h.style("width",n+"px"),u=h.node().getBoundingClientRect()),a.node()}function A(t,e,i){return t.append("tspan").attr("class","text-outer-tspan").attr("x",0).attr("y",e*i-.1+"em").attr("dy",i+"em")}function W(t,e,i){let n=t.append("text"),s=A(n,1,e);H(s,i);let r=s.node().getComputedTextLength();return n.remove(),r}function D(t,e,i){var n;let s=t.append("text"),r=A(s,1,e);H(r,[{content:i,type:"normal"}]);let o=null==(n=r.node())?void 0:n.getBoundingClientRect();return o&&s.remove(),o}function U(t,e,i){let s=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=e.append("g"),o=r.insert("rect").attr("class","background").attr("style","stroke: none"),a=r.append("text").attr("y","-10.1"),h=0;for(let e of i){let i=(0,n.__name)(e=>W(r,1.1,e)<=t,"checkWidth");for(let t of i(e)?[e]:F(e,i))H(A(a,h,1.1),t),h++}if(!s)return a.node();{let t=a.node().getBBox();return o.attr("x",t.x-2).attr("y",t.y-2).attr("width",t.width+4).attr("height",t.height+4),r.node()}}function H(t,e){t.text(""),e.forEach((e,i)=>{let n=t.append("tspan").attr("font-style","em"===e.type?"italic":"normal").attr("class","text-inner-tspan").attr("font-weight","strong"===e.type?"bold":"normal");0===i?n.text(e.content):n.text(" "+e.content)})}async function K(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=[];t.replace(/(fa[bklrs]?):fa-([\w-]+)/g,(t,s,r)=>(n.push((async()=>{let n="".concat(s,":").concat(r);return await M(n)?await N(n,void 0,{class:"label-icon"}):"<i class='".concat((0,i.sanitizeText)(t,e).replace(":"," "),"'></i>")})()),t));let s=await Promise.all(n);return t.replace(/(fa[bklrs]?):fa-([\w-]+)/g,()=>{var t;return null!=(t=s.shift())?t:""})}(0,n.__name)(C,"preprocessMarkdown"),(0,n.__name)(R,"markdownToLines"),(0,n.__name)(B,"markdownToHTML"),(0,n.__name)(P,"splitTextToChars"),(0,n.__name)(j,"splitWordToFitWidth"),(0,n.__name)(O,"splitWordToFitWidthRecursion"),(0,n.__name)(F,"splitLineToFitWidth"),(0,n.__name)(I,"splitLineToFitWidthRecursion"),(0,n.__name)(L,"applyStyle"),(0,n.__name)(z,"addHtmlSpan"),(0,n.__name)(A,"createTspan"),(0,n.__name)(W,"computeWidthOfText"),(0,n.__name)(D,"computeDimensionOfText"),(0,n.__name)(U,"createFormattedText"),(0,n.__name)(H,"updateTextContentAndStyles"),(0,n.__name)(K,"replaceIconSubstring");var $=(0,n.__name)(async function(t){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",{style:r="",isTitle:o=!1,classes:a="",useHtmlLabels:h=!0,isNode:l=!0,width:c=200,addSvgBackground:_=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},u=arguments.length>3?arguments[3]:void 0;if(n.log.debug("XYZ createText",s,r,o,a,h,l,"addSvgBackground: ",_),h){let n=B(s,u),o=await K((0,e.decodeEntities)(n),u),h=s.replace(/\\\\/g,"\\"),f={isNode:l,label:(0,i.hasKatex)(s)?h:o,labelStyle:r.replace("fill:","color:")};return await z(t,f,c,a,_,u)}{let e=U(c,t,R(s.replace(/<br\s*\/?>/g,"<br/>").replace("<br>","<br/>"),u),!!s&&_);if(l){/stroke:/.exec(r)&&(r=r.replace("stroke:","lineColor:"));let t=r.replace(/stroke:[^;]+;?/g,"").replace(/stroke-width:[^;]+;?/g,"").replace(/fill:[^;]+;?/g,"").replace(/color:/g,"fill:");(0,m.select)(e).attr("style",t)}else{let t=r.replace(/stroke:[^;]+;?/g,"").replace(/stroke-width:[^;]+;?/g,"").replace(/fill:[^;]+;?/g,"").replace(/background:/g,"fill:");(0,m.select)(e).select("rect").attr("style",t.replace(/background:/g,"fill:"));let i=r.replace(/stroke:[^;]+;?/g,"").replace(/stroke-width:[^;]+;?/g,"").replace(/fill:[^;]+;?/g,"").replace(/color:/g,"fill:");(0,m.select)(e).select("text").attr("style",i)}return e}},"createText")}]);