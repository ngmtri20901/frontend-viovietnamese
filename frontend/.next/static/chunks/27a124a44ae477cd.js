(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,532671,t=>{"use strict";t.s(["flashcardAPI",()=>r,"getAllFlashcards",()=>i,"getAllTopics",()=>c,"getAllWordTypes",()=>l,"getFlashcardsByCategoryWithPagination",()=>p,"getFlashcardsByTopic",()=>d,"getFlashcardsByTopicWithPagination",()=>h],532671),t.i(247167);var a=t.i(299749);class e extends Error{constructor(t,e){super(e),(0,a._)(this,"status",void 0),this.status=t,this.name="APIError"}}async function s(t,a){let s="".concat("https://vietnamesenext.onrender.com").concat("/api/v1").concat(t);try{let t=await fetch(s,{headers:{"Content-Type":"application/json",...null==a?void 0:a.headers},cache:"no-store",...a});if(!t.ok)throw new e(t.status,"API request failed: ".concat(t.statusText));return await t.json()}catch(t){if(t instanceof e)throw t;throw new e(0,"Network error: ".concat(t instanceof Error?t.message:"Unknown error"))}}function o(t){return{id:t.id,vietnamese:t.vietnamese,english:t.english,type:t.type,is_multiword:t.is_multiword,is_multimeaning:t.is_multimeaning,common_meaning:t.common_meaning,vietnamese_sentence:t.vietnamese_sentence,english_sentence:t.english_sentence,topic:t.topic,is_common:"common"===t.common_class,image_url:t.image_url,audio_url:t.audio_url,pronunciation:t.pronunciation,saved_id:t.saved_id,saved_at:t.saved_at,flashcard_type:t.flashcard_type,tags:t.tags,review_count:t.review_count,last_reviewed:t.last_reviewed,notes:t.notes,is_favorite:t.is_favorite,ipa_pronunciation:t.ipa_pronunciation}}function n(t){return{id:t.id,title:t.title,description:t.description,count:t.count,imageUrl:t.imageUrl||"/placeholder.svg?height=200&width=400"}}let r={async getAllFlashcards(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100;return(await s("/flashcards?skip=".concat(t,"&limit=").concat(a))).map(o)},async getRandomFlashcards(){let{count:t=20,commonWordsOnly:a=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=new URLSearchParams({count:String(t),common_words_only:String(a)});return(await s("/flashcards/random?".concat(e.toString()))).map(o)},async searchFlashcards(t){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50;return(await s("/flashcards/search?q=".concat(encodeURIComponent(t),"&limit=").concat(a))).map(o)},async getAllTopics(t){let a=t?"/flashcards/topics?complexity=".concat(encodeURIComponent(t)):"/flashcards/topics";return(await s(a)).map(n)},async getFlashcardsByTopic(t,a){let e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:20,r=(await this.getAllTopics()).find(a=>a.id===t);if(!r)return console.warn("Topic not found for ID: ".concat(t)),{flashcards:[],total:0,hasMore:!1};let i=new URLSearchParams({skip:e.toString(),limit:n.toString()});a&&i.append("complexity",a);let c="/flashcards/by-topic/".concat(encodeURIComponent(r.title),"?").concat(i.toString()),l=await s(c);return{flashcards:l.flashcards.map(o),total:l.total,hasMore:l.has_more}},async getFlashcardsByTopicLegacy(t,a){return(await this.getFlashcardsByTopic(t,a,0,1e3)).flashcards},async getFlashcardsByType(t,a){let e=a?"/flashcards/by-type/".concat(encodeURIComponent(t),"?complexity=").concat(encodeURIComponent(a)):"/flashcards/by-type/".concat(encodeURIComponent(t));return(await s(e)).map(o)},async getMultiwordFlashcards(t){let a=t?"/flashcards/multiword?complexity=".concat(encodeURIComponent(t)):"/flashcards/multiword";return(await s(a)).map(o)},async getMultimeaningFlashcards(t){let a=t?"/flashcards/multimeaning?complexity=".concat(encodeURIComponent(t)):"/flashcards/multimeaning";return(await s(a)).map(o)},async getFlashcardsByComplexity(t){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100;return(await s("/flashcards/by-complexity/".concat(encodeURIComponent(t),"?skip=").concat(a,"&limit=").concat(e))).map(o)},getComplexityCounts:async()=>await s("/flashcards/complexity-counts"),getFlashcardById:async t=>o(await s("/flashcards/".concat(t))),getFlashcardAudio:async t=>await s("/flashcards/".concat(t,"/audio")),healthCheck:async()=>await s("/flashcards/health"),async getAllWordTypes(t){let a=t?"/flashcards/word-types?complexity=".concat(encodeURIComponent(t)):"/flashcards/word-types";return await s(a)},async getOthersCounts(t){let a=t?"/flashcards/others-counts?complexity=".concat(encodeURIComponent(t)):"/flashcards/others-counts";return await s(a)},async getFlashcardsByTypeWithPagination(t,a){let e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:20,r=new URLSearchParams({skip:e.toString(),limit:n.toString()});a&&r.append("complexity",a);let i=await s("/flashcards/by-type/".concat(encodeURIComponent(t),"?").concat(r));return{flashcards:i.flashcards.map(o),total:i.total,hasMore:i.has_more}},async getMultiwordFlashcardsWithPagination(t){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:20,n=new URLSearchParams({skip:a.toString(),limit:e.toString()});t&&n.append("complexity",t);let r=await s("/flashcards/multiword?".concat(n));return{flashcards:r.flashcards.map(o),total:r.total,hasMore:r.has_more}},async getMultimeaningFlashcardsWithPagination(t){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:20,n=new URLSearchParams({skip:a.toString(),limit:e.toString()});t&&n.append("complexity",t);let r=await s("/flashcards/multimeaning?".concat(n));return{flashcards:r.flashcards.map(o),total:r.total,hasMore:r.has_more}},async getSavedFlashcards(t){let a=await s("/flashcards/saved/".concat(t));return{flashcards:a.flashcards.map(o),total:a.total}},getSavedFlashcardsCount:async t=>await s("/flashcards/saved/".concat(t,"/count")),getFlashcardsByIds:async t=>(await s("/flashcards/by-ids",{method:"POST",body:JSON.stringify(t)})).map(o)};async function i(){return r.getAllFlashcards()}async function c(){return r.getAllTopics()}async function l(){return r.getAllWordTypes()}async function d(t,a){let e=["multi-meaning","multi-word"];try{let s=await r.getAllWordTypes();if(s.map(t=>t.id).includes(t.toLowerCase())){let e=s.find(a=>a.id===t.toLowerCase());if(e)return{flashcards:await r.getFlashcardsByType(e.name,a),title:e.title}}if(e.includes(t.toLowerCase())){let e,s;return"multi-meaning"===t.toLowerCase()?(e=await r.getMultimeaningFlashcards(a),s="Multi-meaning Words"):"multi-word"===t.toLowerCase()?(e=await r.getMultiwordFlashcards(a),s="Multi-word Expressions"):(e=[],s=t),{flashcards:e,title:s}}}catch(e){if(console.error("Error loading word types:",e),["verb","noun","adj","adv","prep","conj","intj","pron","num","det","part"].includes(t.toLowerCase())){let e=t.toUpperCase();return{flashcards:await r.getFlashcardsByType(e,a),title:({VERB:"Verbs",NOUN:"Nouns",ADJ:"Adjectives",ADV:"Adverbs",PREP:"Prepositions",CONJ:"Conjunctions",INTJ:"Interjections",PRON:"Pronouns",NUM:"Numbers",DET:"Determiners",PART:"Particles"})[e]||e}}}if(e.includes(t.toLowerCase())){let e,s;return"multi-meaning"===t.toLowerCase()?(e=await r.getMultimeaningFlashcards(a),s="Multi-meaning Words"):"multi-word"===t.toLowerCase()?(e=await r.getMultiwordFlashcards(a),s="Multi-word Expressions"):(e=[],s=t),{flashcards:e,title:s}}let s=await r.getFlashcardsByTopicLegacy(t,a),o=(await r.getAllTopics()).find(a=>a.id===t);return{flashcards:s,title:(null==o?void 0:o.title)||"Topic: ".concat(t)}}async function h(t,a){let e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:20;try{let o=await r.getFlashcardsByTopic(t,a,e,s),n=(await r.getAllTopics()).find(a=>a.id===t);return{flashcards:o.flashcards,title:(null==n?void 0:n.title)||"Topic: ".concat(t),total:o.total,hasMore:o.hasMore}}catch(t){throw console.error("Error fetching flashcards by topic with pagination:",t),t}}async function p(t,a){let e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:20;try{try{let o=await r.getAllWordTypes();if(o.map(t=>t.id).includes(t.toLowerCase())){let n=o.find(a=>a.id===t.toLowerCase());if(n){let t=await r.getFlashcardsByTypeWithPagination(n.name,a,e,s);return{flashcards:t.flashcards,title:n.title,total:t.total,hasMore:t.hasMore}}}}catch(o){if(console.error("Error loading word types, falling back to hardcoded list:",o),["verb","noun","adj","adv","prep","conj","intj","pron","num","det","part"].includes(t.toLowerCase())){let o=t.toUpperCase(),n=await r.getFlashcardsByTypeWithPagination(o,a,e,s);return{flashcards:n.flashcards,title:({VERB:"Verbs",NOUN:"Nouns",ADJ:"Adjectives",ADV:"Adverbs",PREP:"Prepositions",CONJ:"Conjunctions",INTJ:"Interjections",PRON:"Pronouns",NUM:"Numbers",DET:"Determiners",PART:"Particles"})[o]||o,total:n.total,hasMore:n.hasMore}}}if(["multi-meaning","multi-word"].includes(t.toLowerCase())){let o,n;return"multi-meaning"===t.toLowerCase()?(o=await r.getMultimeaningFlashcardsWithPagination(a,e,s),n="Multi-meaning Words"):"multi-word"===t.toLowerCase()?(o=await r.getMultiwordFlashcardsWithPagination(a,e,s),n="Multi-word Expressions"):(o={flashcards:[],total:0,hasMore:!1},n=t),{flashcards:o.flashcards,title:n,total:o.total,hasMore:o.hasMore}}let o=await r.getFlashcardsByTopic(t,a,e,s),n=(await r.getAllTopics()).find(a=>a.id===t);return{flashcards:o.flashcards,title:(null==n?void 0:n.title)||"Topic: ".concat(t),total:o.total,hasMore:o.hasMore}}catch(t){throw console.error("Error fetching flashcards by category with pagination:",t),t}}}]);