(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,299749,e=>{"use strict";function a(e,a,t){return a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}e.s(["_",()=>a])},972520,e=>{"use strict";e.s(["ArrowRight",()=>a],972520);let a=(0,e.i(475254).default)("arrow-right",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]])},43454,e=>{"use strict";e.s(["Tabs",()=>k,"TabsContent",()=>A,"TabsList",()=>F,"TabsTrigger",()=>T],43454);var a=e.i(843476),t=e.i(271645),s=e.i(981140),r=e.i(30030),l=e.i(842727),o=e.i(296626),n=e.i(248425),i=e.i(586318),c=e.i(369340),d=e.i(610772),h="Tabs",[u,m]=(0,r.createContextScope)(h,[l.createRovingFocusGroupScope]),g=(0,l.createRovingFocusGroupScope)(),[f,x]=u(h),p=t.forwardRef((e,t)=>{let{__scopeTabs:s,value:r,onValueChange:l,defaultValue:o,orientation:u="horizontal",dir:m,activationMode:g="automatic",...x}=e,p=(0,i.useDirection)(m),[v,y]=(0,c.useControllableState)({prop:r,onChange:l,defaultProp:null!=o?o:"",caller:h});return(0,a.jsx)(f,{scope:s,baseId:(0,d.useId)(),value:v,onValueChange:y,orientation:u,dir:p,activationMode:g,children:(0,a.jsx)(n.Primitive.div,{dir:p,"data-orientation":u,...x,ref:t})})});p.displayName=h;var v="TabsList",y=t.forwardRef((e,t)=>{let{__scopeTabs:s,loop:r=!0,...o}=e,i=x(v,s),c=g(s);return(0,a.jsx)(l.Root,{asChild:!0,...c,orientation:i.orientation,dir:i.dir,loop:r,children:(0,a.jsx)(n.Primitive.div,{role:"tablist","aria-orientation":i.orientation,...o,ref:t})})});y.displayName=v;var w="TabsTrigger",b=t.forwardRef((e,t)=>{let{__scopeTabs:r,value:o,disabled:i=!1,...c}=e,d=x(w,r),h=g(r),u=S(d.baseId,o),m=C(d.baseId,o),f=o===d.value;return(0,a.jsx)(l.Item,{asChild:!0,...h,focusable:!i,active:f,children:(0,a.jsx)(n.Primitive.button,{type:"button",role:"tab","aria-selected":f,"aria-controls":m,"data-state":f?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:u,...c,ref:t,onMouseDown:(0,s.composeEventHandlers)(e.onMouseDown,e=>{i||0!==e.button||!1!==e.ctrlKey?e.preventDefault():d.onValueChange(o)}),onKeyDown:(0,s.composeEventHandlers)(e.onKeyDown,e=>{[" ","Enter"].includes(e.key)&&d.onValueChange(o)}),onFocus:(0,s.composeEventHandlers)(e.onFocus,()=>{let e="manual"!==d.activationMode;f||i||!e||d.onValueChange(o)})})})});b.displayName=w;var j="TabsContent",N=t.forwardRef((e,s)=>{let{__scopeTabs:r,value:l,forceMount:i,children:c,...d}=e,h=x(j,r),u=S(h.baseId,l),m=C(h.baseId,l),g=l===h.value,f=t.useRef(g);return t.useEffect(()=>{let e=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(e)},[]),(0,a.jsx)(o.Presence,{present:i||g,children:t=>{let{present:r}=t;return(0,a.jsx)(n.Primitive.div,{"data-state":g?"active":"inactive","data-orientation":h.orientation,role:"tabpanel","aria-labelledby":u,hidden:!r,id:m,tabIndex:0,...d,ref:s,style:{...e.style,animationDuration:f.current?"0s":void 0},children:r&&c})}})});function S(e,a){return"".concat(e,"-trigger-").concat(a)}function C(e,a){return"".concat(e,"-content-").concat(a)}N.displayName=j;var _=e.i(605458);function k(e){let{className:t,...s}=e;return(0,a.jsx)(p,{"data-slot":"tabs",className:(0,_.cn)("flex flex-col gap-2",t),...s})}function F(e){let{className:t,...s}=e;return(0,a.jsx)(y,{"data-slot":"tabs-list",className:(0,_.cn)("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]",t),...s})}function T(e){let{className:t,...s}=e;return(0,a.jsx)(b,{"data-slot":"tabs-trigger",className:(0,_.cn)("data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...s})}function A(e){let{className:t,...s}=e;return(0,a.jsx)(N,{"data-slot":"tabs-content",className:(0,_.cn)("flex-1 outline-none",t),...s})}},985559,e=>{"use strict";e.s(["Alert",()=>l,"AlertDescription",()=>o]);var a=e.i(843476),t=e.i(225913),s=e.i(605458);let r=(0,t.cva)("relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"bg-card text-card-foreground",destructive:"text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90"}},defaultVariants:{variant:"default"}});function l(e){let{className:t,variant:l,...o}=e;return(0,a.jsx)("div",{"data-slot":"alert",role:"alert",className:(0,s.cn)(r({variant:l}),t),...o})}function o(e){let{className:t,...r}=e;return(0,a.jsx)("div",{"data-slot":"alert-description",className:(0,s.cn)("text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed",t),...r})}},788510,115518,e=>{"use strict";e.s(["default",()=>l],788510);var a=e.i(843476),t=e.i(271645),s=e.i(657688);let r=()=>{let[e,r]=(0,t.useState)(""),[l,o]=(0,t.useState)(""),n=["/images/loading/banh-mi.webp","/images/loading/cafe.webp","/images/loading/lotus.webp","/images/loading/non-la.webp","/images/loading/pho.webp"],i=["Connecting you to Vietnam...","Bringing you the best of Vietnamese...","Loading your learning experience..."];return((0,t.useEffect)(()=>{let e=Math.floor(Math.random()*n.length);r(n[e]);let a=Math.floor(Math.random()*i.length);o(i[a])},[]),e)?(0,a.jsx)("div",{className:"fixed inset-0 bg-white/80 backdrop-blur-sm z-50 flex flex-col items-center justify-center",children:(0,a.jsxs)("div",{className:"flex flex-col items-center space-y-6",children:[(0,a.jsx)("div",{className:"relative",children:(0,a.jsx)(s.default,{src:e,alt:"Loading",width:120,height:120,className:"animate-sway drop-shadow-lg",priority:!0})}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold text-gray-800 mb-2",children:l}),(0,a.jsxs)("div",{className:"flex space-x-1 justify-center",children:[(0,a.jsx)("div",{className:"w-2 h-2 bg-blue-500 rounded-full animate-bounce"}),(0,a.jsx)("div",{className:"w-2 h-2 bg-blue-500 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),(0,a.jsx)("div",{className:"w-2 h-2 bg-blue-500 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})]})]})}):null},l=e=>{let{children:t,isLoading:s}=e;return(0,a.jsxs)(a.Fragment,{children:[s&&(0,a.jsx)(r,{}),t]})};e.s(["useLoading",()=>o],115518);let o=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],[a,s]=(0,t.useState)(e),r=(0,t.useRef)(null),l=(0,t.useCallback)(()=>{s(!0),r.current=setTimeout(()=>{console.warn("Loading timeout reached, forcing stop"),s(!1)},1e4)},[]),o=(0,t.useCallback)(()=>{s(!1),r.current&&(clearTimeout(r.current),r.current=null)},[]),n=(0,t.useCallback)(async e=>{try{return l(),await e()}finally{o()}},[l,o]),i=(0,t.useCallback)(async function(e){let a,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;for(let s=0;s<=t;s++)try{return 0===s&&l(),await e()}catch(e){if(a=e,console.warn("Attempt ".concat(s+1," failed:"),e),s===t)throw a;await new Promise(e=>setTimeout(e,1e3*Math.pow(2,s)))}finally{s===t&&o()}throw a},[l,o]);return{isLoading:a,startLoading:l,stopLoading:o,withLoading:n,withLoadingAndRetry:i}}},532671,e=>{"use strict";e.s(["flashcardAPI",()=>o,"getAllFlashcards",()=>n,"getAllTopics",()=>i,"getAllWordTypes",()=>c,"getFlashcardsByCategoryWithPagination",()=>u,"getFlashcardsByTopic",()=>d,"getFlashcardsByTopicWithPagination",()=>h],532671),e.i(247167);var a=e.i(299749);class t extends Error{constructor(e,t){super(t),(0,a._)(this,"status",void 0),this.status=e,this.name="APIError"}}async function s(e,a){let s="".concat("https://vietnamesenext.onrender.com").concat("/api/v1").concat(e);try{let e=await fetch(s,{headers:{"Content-Type":"application/json",...null==a?void 0:a.headers},cache:"no-store",...a});if(!e.ok)throw new t(e.status,"API request failed: ".concat(e.statusText));return await e.json()}catch(e){if(e instanceof t)throw e;throw new t(0,"Network error: ".concat(e instanceof Error?e.message:"Unknown error"))}}function r(e){return{id:e.id,vietnamese:e.vietnamese,english:e.english,type:e.type,is_multiword:e.is_multiword,is_multimeaning:e.is_multimeaning,common_meaning:e.common_meaning,vietnamese_sentence:e.vietnamese_sentence,english_sentence:e.english_sentence,topic:e.topic,is_common:"common"===e.common_class,image_url:e.image_url,audio_url:e.audio_url,pronunciation:e.pronunciation,saved_id:e.saved_id,saved_at:e.saved_at,flashcard_type:e.flashcard_type,tags:e.tags,review_count:e.review_count,last_reviewed:e.last_reviewed,notes:e.notes,is_favorite:e.is_favorite,ipa_pronunciation:e.ipa_pronunciation}}function l(e){return{id:e.id,title:e.title,description:e.description,count:e.count,imageUrl:e.imageUrl||"/placeholder.svg?height=200&width=400"}}let o={async getAllFlashcards(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100;return(await s("/flashcards?skip=".concat(e,"&limit=").concat(a))).map(r)},async getRandomFlashcards(){let{count:e=20,commonWordsOnly:a=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=new URLSearchParams({count:String(e),common_words_only:String(a)});return(await s("/flashcards/random?".concat(t.toString()))).map(r)},async searchFlashcards(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50;return(await s("/flashcards/search?q=".concat(encodeURIComponent(e),"&limit=").concat(a))).map(r)},async getAllTopics(e){let a=e?"/flashcards/topics?complexity=".concat(encodeURIComponent(e)):"/flashcards/topics";return(await s(a)).map(l)},async getFlashcardsByTopic(e,a){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:20,o=(await this.getAllTopics()).find(a=>a.id===e);if(!o)return console.warn("Topic not found for ID: ".concat(e)),{flashcards:[],total:0,hasMore:!1};let n=new URLSearchParams({skip:t.toString(),limit:l.toString()});a&&n.append("complexity",a);let i="/flashcards/by-topic/".concat(encodeURIComponent(o.title),"?").concat(n.toString()),c=await s(i);return{flashcards:c.flashcards.map(r),total:c.total,hasMore:c.has_more}},async getFlashcardsByTopicLegacy(e,a){return(await this.getFlashcardsByTopic(e,a,0,1e3)).flashcards},async getFlashcardsByType(e,a){let t=a?"/flashcards/by-type/".concat(encodeURIComponent(e),"?complexity=").concat(encodeURIComponent(a)):"/flashcards/by-type/".concat(encodeURIComponent(e));return(await s(t)).map(r)},async getMultiwordFlashcards(e){let a=e?"/flashcards/multiword?complexity=".concat(encodeURIComponent(e)):"/flashcards/multiword";return(await s(a)).map(r)},async getMultimeaningFlashcards(e){let a=e?"/flashcards/multimeaning?complexity=".concat(encodeURIComponent(e)):"/flashcards/multimeaning";return(await s(a)).map(r)},async getFlashcardsByComplexity(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100;return(await s("/flashcards/by-complexity/".concat(encodeURIComponent(e),"?skip=").concat(a,"&limit=").concat(t))).map(r)},getComplexityCounts:async()=>await s("/flashcards/complexity-counts"),getFlashcardById:async e=>r(await s("/flashcards/".concat(e))),getFlashcardAudio:async e=>await s("/flashcards/".concat(e,"/audio")),healthCheck:async()=>await s("/flashcards/health"),async getAllWordTypes(e){let a=e?"/flashcards/word-types?complexity=".concat(encodeURIComponent(e)):"/flashcards/word-types";return await s(a)},async getOthersCounts(e){let a=e?"/flashcards/others-counts?complexity=".concat(encodeURIComponent(e)):"/flashcards/others-counts";return await s(a)},async getFlashcardsByTypeWithPagination(e,a){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:20,o=new URLSearchParams({skip:t.toString(),limit:l.toString()});a&&o.append("complexity",a);let n=await s("/flashcards/by-type/".concat(encodeURIComponent(e),"?").concat(o));return{flashcards:n.flashcards.map(r),total:n.total,hasMore:n.has_more}},async getMultiwordFlashcardsWithPagination(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:20,l=new URLSearchParams({skip:a.toString(),limit:t.toString()});e&&l.append("complexity",e);let o=await s("/flashcards/multiword?".concat(l));return{flashcards:o.flashcards.map(r),total:o.total,hasMore:o.has_more}},async getMultimeaningFlashcardsWithPagination(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:20,l=new URLSearchParams({skip:a.toString(),limit:t.toString()});e&&l.append("complexity",e);let o=await s("/flashcards/multimeaning?".concat(l));return{flashcards:o.flashcards.map(r),total:o.total,hasMore:o.has_more}},async getSavedFlashcards(e){let a=await s("/flashcards/saved/".concat(e));return{flashcards:a.flashcards.map(r),total:a.total}},getSavedFlashcardsCount:async e=>await s("/flashcards/saved/".concat(e,"/count")),getFlashcardsByIds:async e=>(await s("/flashcards/by-ids",{method:"POST",body:JSON.stringify(e)})).map(r)};async function n(){return o.getAllFlashcards()}async function i(){return o.getAllTopics()}async function c(){return o.getAllWordTypes()}async function d(e,a){let t=["multi-meaning","multi-word"];try{let s=await o.getAllWordTypes();if(s.map(e=>e.id).includes(e.toLowerCase())){let t=s.find(a=>a.id===e.toLowerCase());if(t)return{flashcards:await o.getFlashcardsByType(t.name,a),title:t.title}}if(t.includes(e.toLowerCase())){let t,s;return"multi-meaning"===e.toLowerCase()?(t=await o.getMultimeaningFlashcards(a),s="Multi-meaning Words"):"multi-word"===e.toLowerCase()?(t=await o.getMultiwordFlashcards(a),s="Multi-word Expressions"):(t=[],s=e),{flashcards:t,title:s}}}catch(t){if(console.error("Error loading word types:",t),["verb","noun","adj","adv","prep","conj","intj","pron","num","det","part"].includes(e.toLowerCase())){let t=e.toUpperCase();return{flashcards:await o.getFlashcardsByType(t,a),title:({VERB:"Verbs",NOUN:"Nouns",ADJ:"Adjectives",ADV:"Adverbs",PREP:"Prepositions",CONJ:"Conjunctions",INTJ:"Interjections",PRON:"Pronouns",NUM:"Numbers",DET:"Determiners",PART:"Particles"})[t]||t}}}if(t.includes(e.toLowerCase())){let t,s;return"multi-meaning"===e.toLowerCase()?(t=await o.getMultimeaningFlashcards(a),s="Multi-meaning Words"):"multi-word"===e.toLowerCase()?(t=await o.getMultiwordFlashcards(a),s="Multi-word Expressions"):(t=[],s=e),{flashcards:t,title:s}}let s=await o.getFlashcardsByTopicLegacy(e,a),r=(await o.getAllTopics()).find(a=>a.id===e);return{flashcards:s,title:(null==r?void 0:r.title)||"Topic: ".concat(e)}}async function h(e,a){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:20;try{let r=await o.getFlashcardsByTopic(e,a,t,s),l=(await o.getAllTopics()).find(a=>a.id===e);return{flashcards:r.flashcards,title:(null==l?void 0:l.title)||"Topic: ".concat(e),total:r.total,hasMore:r.hasMore}}catch(e){throw console.error("Error fetching flashcards by topic with pagination:",e),e}}async function u(e,a){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:20;try{try{let r=await o.getAllWordTypes();if(r.map(e=>e.id).includes(e.toLowerCase())){let l=r.find(a=>a.id===e.toLowerCase());if(l){let e=await o.getFlashcardsByTypeWithPagination(l.name,a,t,s);return{flashcards:e.flashcards,title:l.title,total:e.total,hasMore:e.hasMore}}}}catch(r){if(console.error("Error loading word types, falling back to hardcoded list:",r),["verb","noun","adj","adv","prep","conj","intj","pron","num","det","part"].includes(e.toLowerCase())){let r=e.toUpperCase(),l=await o.getFlashcardsByTypeWithPagination(r,a,t,s);return{flashcards:l.flashcards,title:({VERB:"Verbs",NOUN:"Nouns",ADJ:"Adjectives",ADV:"Adverbs",PREP:"Prepositions",CONJ:"Conjunctions",INTJ:"Interjections",PRON:"Pronouns",NUM:"Numbers",DET:"Determiners",PART:"Particles"})[r]||r,total:l.total,hasMore:l.hasMore}}}if(["multi-meaning","multi-word"].includes(e.toLowerCase())){let r,l;return"multi-meaning"===e.toLowerCase()?(r=await o.getMultimeaningFlashcardsWithPagination(a,t,s),l="Multi-meaning Words"):"multi-word"===e.toLowerCase()?(r=await o.getMultiwordFlashcardsWithPagination(a,t,s),l="Multi-word Expressions"):(r={flashcards:[],total:0,hasMore:!1},l=e),{flashcards:r.flashcards,title:l,total:r.total,hasMore:r.hasMore}}let r=await o.getFlashcardsByTopic(e,a,t,s),l=(await o.getAllTopics()).find(a=>a.id===e);return{flashcards:r.flashcards,title:(null==l?void 0:l.title)||"Topic: ".concat(e),total:r.total,hasMore:r.hasMore}}catch(e){throw console.error("Error fetching flashcards by category with pagination:",e),e}}},642677,e=>{"use strict";e.s(["FlashcardDeck",()=>m],642677);var a=e.i(843476),t=e.i(437902),s=e.i(628574),r=e.i(166778),l=e.i(571930),o=e.i(726714),n=e.i(373375),i=e.i(463059),c=e.i(859951),d=e.i(271645),h=e.i(956058);function u(e){let{count:t=3,displayMode:r="grid"}=e;return"row"===r?(0,a.jsx)("div",{className:"flex gap-4 pb-4",children:Array.from({length:t},(e,t)=>(0,a.jsx)("div",{className:"flex-shrink-0",style:{width:"260px"},children:(0,a.jsx)(s.Card,{className:"p-4 h-full bg-white",children:(0,a.jsxs)(s.CardContent,{className:"p-0",children:[(0,a.jsx)(h.Skeleton,{className:"w-full h-32 mb-3 rounded-lg"}),(0,a.jsx)(h.Skeleton,{className:"h-4 w-3/4 mb-1"}),(0,a.jsx)(h.Skeleton,{className:"h-3 w-1/2 mb-2"}),(0,a.jsx)(h.Skeleton,{className:"h-5 w-16 rounded-full"})]})})},t))}):(0,a.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:Array.from({length:t},(e,t)=>(0,a.jsx)(s.Card,{className:"p-3 bg-white",children:(0,a.jsxs)(s.CardContent,{className:"p-0",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsx)(h.Skeleton,{className:"h-4 w-12 rounded-full"}),(0,a.jsx)(h.Skeleton,{className:"h-6 w-6 rounded"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,a.jsx)(h.Skeleton,{className:"w-8 h-8 rounded border"}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)(h.Skeleton,{className:"h-3 w-full mb-1"}),(0,a.jsx)(h.Skeleton,{className:"h-3 w-2/3"})]})]})]})},t))})}function m(e){let{cards:h,currentIndex:m,savedCards:g,onCardSelect:f,onSave:x,displayMode:p="grid",title:v,subtitle:y,itemsPerRow:w=5,hasMore:b=!1,isLoading:j=!1,onLoadMore:N,total:S}=e,[C,_]=(0,d.useState)(!1),[k,F]=(0,d.useState)({x:0,scrollLeft:0}),[T,A]=(0,d.useState)(0),L=(0,d.useRef)(null),E=(0,d.useRef)(null),R=(0,d.useCallback)(()=>{if(!E.current||!N||j||!b)return;let{scrollTop:e,scrollHeight:a,clientHeight:t}=E.current;a-e<=1.5*t&&N()},[N,j,b]);(0,d.useEffect)(()=>{let e=E.current;if(e&&"grid"===p)return e.addEventListener("scroll",R),()=>e.removeEventListener("scroll",R)},[R,p]);let P=e=>{if(!C||"row"!==p||!E.current)return;e.preventDefault();let a=(e.pageX-k.x)*1.5;E.current.scrollLeft=k.scrollLeft-a,A(a)},I=()=>{if(C&&"row"===p&&E.current){if(_(!1),Math.abs(T)>3){let e=T,a=setInterval(()=>{E.current&&Math.abs(e)>.5?(E.current.scrollLeft-=.9*e,e*=.9):clearInterval(a)},16)}document.removeEventListener("mousemove",P),document.removeEventListener("mouseup",I)}};return((0,d.useEffect)(()=>{if("row"===p&&void 0!==m&&E.current){let e=280*m-E.current.clientWidth/2+140;E.current.scrollTo({left:Math.max(0,e),behavior:"smooth"})}},[m,p]),(0,d.useEffect)(()=>()=>{document.removeEventListener("mousemove",P),document.removeEventListener("mouseup",I)},[]),"grid"===p)?(0,a.jsxs)("div",{className:"w-full max-w-4xl mx-auto mt-12 pt-8 border-t border-gray-200",children:[(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsx)("h3",{className:"text-xl font-semibold text-gray-800 mb-2",children:v}),y&&(0,a.jsx)("p",{className:"text-sm text-gray-600",children:y}),S&&(0,a.jsxs)("p",{className:"text-sm text-gray-500",children:["Showing ",h.length," of ",S," flashcards"]})]}),(0,a.jsxs)("div",{ref:E,className:"max-h-80 overflow-y-auto bg-gray-50 p-4 rounded-lg",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:[h.map((e,t)=>(0,a.jsxs)(s.Card,{className:"p-3 cursor-pointer transition-all hover:shadow-md ".concat(void 0!==m&&t===m%h.length?"ring-2 ring-blue-500 bg-blue-50":"hover:bg-white bg-white"),onClick:()=>f(t),children:[(0,a.jsxs)("div",{className:"flex items-start justify-between mb-2",children:[(0,a.jsx)(r.Badge,{variant:"outline",className:"text-xs",children:Array.isArray(e.type)?e.type.join(", "):e.type}),(0,a.jsx)(c.Button,{variant:"ghost",size:"sm",onClick:a=>{a.stopPropagation(),x(e.id)},className:"p-1 h-auto","aria-label":g.has(e.id)?"Bá» lÆ°u tháº»":"LÆ°u tháº»",children:g.has(e.id)?(0,a.jsx)(o.BookmarkCheck,{className:"h-3 w-3 text-blue-600"}):(0,a.jsx)(l.Bookmark,{className:"h-3 w-3 text-gray-400"})})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,a.jsx)("img",{src:e.image_url||"https://placehold.co/40x40/E2E8F0/4A5568?text=".concat(encodeURIComponent(e.vietnamese[0])),alt:e.vietnamese,className:"w-8 h-8 object-cover rounded border",loading:"lazy",onError:a=>{let t=a.target;t.onerror=null,t.src="https://placehold.co/40x40/E2E8F0/4A5568?text=".concat(encodeURIComponent(e.vietnamese[0]))}}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("p",{className:"font-medium text-sm text-gray-800 truncate",children:e.vietnamese}),(0,a.jsx)("p",{className:"text-xs text-gray-600 truncate",children:e.common_meaning})]})]})]},e.id)),j&&(0,a.jsx)(u,{count:8,displayMode:"grid"})]}),!j&&b&&N&&(0,a.jsx)("div",{className:"flex justify-center mt-6",children:(0,a.jsx)(c.Button,{onClick:N,variant:"outline",className:"px-6",children:"Load More Flashcards"})}),!b&&h.length>0&&(0,a.jsx)("div",{className:"text-center mt-6 text-gray-500 text-sm",children:"You've reached the end of the flashcards"})]})]}):"row"===p?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(t.default,{id:"1e4c325e7b860a03",children:".flashcard-scroll-container{scrollbar-width:none;-ms-overflow-style:none}.flashcard-scroll-container::-webkit-scrollbar{display:none}"}),(0,a.jsx)("div",{ref:L,className:"jsx-1e4c325e7b860a03 w-full mx-auto relative group select-none",children:(0,a.jsxs)("div",{className:"jsx-1e4c325e7b860a03 relative",children:[(0,a.jsx)(c.Button,{variant:"outline",size:"icon",onClick:()=>{E.current&&E.current.scrollBy({left:-300,behavior:"smooth"})},className:"absolute -left-12 top-1/2 -translate-y-1/2 z-20 opacity-0 group-hover:opacity-100 transition-opacity duration-300 h-8 w-8 rounded-full","aria-label":"Scroll left",children:(0,a.jsx)(n.ChevronLeft,{className:"h-4 w-4"})}),(0,a.jsx)(c.Button,{variant:"outline",size:"icon",onClick:()=>{E.current&&E.current.scrollBy({left:300,behavior:"smooth"})},className:"absolute -right-12 top-1/2 -translate-y-1/2 z-20 opacity-0 group-hover:opacity-100 transition-opacity duration-300 h-8 w-8 rounded-full","aria-label":"Scroll right",children:(0,a.jsx)(i.ChevronRight,{className:"h-4 w-4"})}),(0,a.jsx)("div",{ref:E,style:{cursor:C?"grabbing":"grab"},onMouseDown:e=>{"row"===p&&E.current&&(_(!0),F({x:e.pageX,scrollLeft:E.current.scrollLeft}),A(0),document.addEventListener("mousemove",P),document.addEventListener("mouseup",I))},onTouchStart:e=>{"row"===p&&E.current&&(_(!0),F({x:e.touches[0].pageX,scrollLeft:E.current.scrollLeft}),A(0))},onTouchMove:e=>{if(!C||"row"!==p||!E.current)return;let a=(e.touches[0].pageX-k.x)*1.5;E.current.scrollLeft=k.scrollLeft-a,A(a)},onTouchEnd:()=>{if(C&&"row"===p&&E.current&&(_(!1),Math.abs(T)>3)){let e=T,a=setInterval(()=>{E.current&&Math.abs(e)>.5?(E.current.scrollLeft-=.9*e,e*=.9):clearInterval(a)},16)}},className:"jsx-1e4c325e7b860a03 flashcard-scroll-container overflow-x-auto px-4 py-2",children:(0,a.jsx)("div",{className:"jsx-1e4c325e7b860a03 flex gap-4 pb-4",children:h.map((e,t)=>{let n=void 0!==m&&t===m;return(0,a.jsx)("div",{style:{width:"260px"},className:"jsx-1e4c325e7b860a03 "+"flex-shrink-0 transition-all duration-300 ".concat(n?"scale-105":"hover:scale-[1.02]"),children:(0,a.jsxs)(s.Card,{className:"p-4 cursor-pointer transition-all duration-300 hover:shadow-xl rounded-xl flex flex-col justify-between bg-white h-full ".concat(n?"ring-4 ring-blue-500 ring-offset-2 shadow-2xl bg-gradient-to-br from-blue-50 via-white to-blue-50":"hover:shadow-lg border-2 border-transparent hover:border-blue-200 hover:bg-blue-50/30"),onClick:()=>(e=>{if(C)return;let a=h.findIndex(a=>a.id===e.id);-1!==a&&f(a)})(e),children:[(0,a.jsxs)("div",{className:"jsx-1e4c325e7b860a03",children:[(0,a.jsxs)("div",{className:"jsx-1e4c325e7b860a03 relative w-full h-32 mb-3 rounded-lg overflow-hidden border-2 border-gray-100",children:[(0,a.jsx)("img",{src:e.image_url||"https://placehold.co/300x200/E2E8F0/4A5568?text=".concat(encodeURIComponent(e.vietnamese)),alt:e.vietnamese,loading:"lazy",onError:a=>{let t=a.target;t.onerror=null,t.src="https://placehold.co/300x200/E2E8F0/4A5568?text=".concat(encodeURIComponent(e.vietnamese))},className:"jsx-1e4c325e7b860a03 w-full h-full object-cover"}),(0,a.jsx)(c.Button,{variant:"ghost",size:"sm",onClick:a=>{a.stopPropagation(),x(e.id)},className:"absolute top-2 right-2 p-1.5 h-auto bg-white/80 hover:bg-white rounded-full backdrop-blur-sm shadow-sm","aria-label":g.has(e.id)?"Bá» lÆ°u tháº»":"LÆ°u tháº»",children:g.has(e.id)?(0,a.jsx)(o.BookmarkCheck,{className:"h-4 w-4 text-blue-600"}):(0,a.jsx)(l.Bookmark,{className:"h-4 w-4 text-gray-500"})})]}),(0,a.jsx)("h4",{className:"jsx-1e4c325e7b860a03 "+"font-semibold text-sm mb-1 truncate transition-colors ".concat(n?"text-blue-900":"text-gray-900"),children:e.vietnamese}),(0,a.jsx)("p",{className:"jsx-1e4c325e7b860a03 "+"text-xs mb-2 truncate transition-colors ".concat(n?"text-blue-700":"text-gray-600"),children:e.common_meaning})]}),(0,a.jsx)(r.Badge,{variant:"secondary",className:"text-xs self-start transition-all duration-300 ".concat(n?"bg-blue-100 text-blue-800 border-blue-300 shadow-sm":"bg-blue-50 text-blue-700 border-blue-200"),children:Array.isArray(e.type)?e.type.join(", "):e.type})]})},e.id)})})}),(0,a.jsx)("div",{className:"jsx-1e4c325e7b860a03 flex justify-center mt-4",children:(0,a.jsx)("div",{className:"jsx-1e4c325e7b860a03 h-1.5 w-32 bg-gray-200 rounded-full overflow-hidden shadow-inner",children:(0,a.jsx)("div",{style:{width:"".concat(Math.min(100,(void 0!==m?(m+1)/h.length:0)*100),"%")},className:"jsx-1e4c325e7b860a03 h-full bg-gradient-to-r from-blue-500 to-blue-600 transition-all duration-300 rounded-full"})})})]})})]}):null}},871689,e=>{"use strict";e.s(["ArrowLeft",()=>a],871689);let a=(0,e.i(475254).default)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},906324,e=>{"use strict";e.s(["useSavedFlashcards",()=>r]);var a=e.i(271645),t=e.i(859016),s=e.i(846696);function r(){let[e,r]=(0,a.useState)(new Set),[l,o]=(0,a.useState)(!1),n=(0,a.useRef)(new Set);(0,a.useEffect)(()=>{n.current=e},[e]),(0,a.useEffect)(()=>{(async()=>{try{let e=(0,t.createClient)(),{data:{user:a}}=await e.auth.getUser();if(!a)return;o(!0);let{data:s,error:l}=await e.from("saved_flashcards").select("flashcard_id").eq("UserID",a.id).eq("flashcard_type","APP");if(l){console.error("Failed to load saved cards:",l);let e=localStorage.getItem("saved_flashcards_".concat(a.id));if(e){let a=JSON.parse(e),t=new Set(a);r(t),n.current=t}return}let i=(null==s?void 0:s.map(e=>e.flashcard_id))||[],c=new Set(i);r(c),n.current=c,localStorage.setItem("saved_flashcards_".concat(a.id),JSON.stringify(i))}catch(e){console.error("Failed to load saved cards:",e)}finally{o(!1)}})()},[]);let i=(0,a.useCallback)(async(e,a)=>{try{let l=(0,t.createClient)(),{data:{user:i}}=await l.auth.getUser();if(!i)return s.toast.error("Please log in to save flashcards"),!1;o(!0);let c=n.current.has(e);if(console.log("ðŸ”„ [useSavedFlashcards] Toggling save for flashcard:",e,"isSaved:",c),c){console.log("ðŸ—‘ï¸ [useSavedFlashcards] Removing flashcard from saved_flashcards");let{error:a}=await l.from("saved_flashcards").delete().eq("UserID",i.id).eq("flashcard_id",e).eq("flashcard_type","APP");if(a)return console.error("âŒ [useSavedFlashcards] Failed to unsave flashcard:",a),s.toast.error("Failed to remove flashcard"),!1;return r(a=>{let t=new Set(a);t.delete(e);let s=Array.from(t);return localStorage.setItem("saved_flashcards_".concat(i.id),JSON.stringify(s)),t}),console.log("âœ… [useSavedFlashcards] Flashcard removed successfully"),s.toast.success("Flashcard removed from your collection"),!0}{console.log("ðŸ’¾ [useSavedFlashcards] Adding flashcard to saved_flashcards");let{error:t}=await l.from("saved_flashcards").insert({UserID:i.id,flashcard_id:e,flashcard_type:"APP",topic:a||null,saved_at:new Date().toISOString(),is_favorite:!1,review_count:0,tags:[]});if(t){if("23505"===t.code)return console.log("â„¹ï¸ [useSavedFlashcards] Flashcard already saved (duplicate key)"),s.toast.info("Flashcard is already saved"),r(a=>{let t=new Set(a);t.add(e);let s=Array.from(t);return localStorage.setItem("saved_flashcards_".concat(i.id),JSON.stringify(s)),t}),!0;return console.error("âŒ [useSavedFlashcards] Failed to save flashcard:",t),console.error("âŒ [useSavedFlashcards] Error details:",{code:t.code,message:t.message,details:t.details,hint:t.hint}),s.toast.error("Failed to save flashcard: ".concat(t.message||"Unknown error")),!1}return r(a=>{let t=new Set(a);t.add(e);let s=Array.from(t);return localStorage.setItem("saved_flashcards_".concat(i.id),JSON.stringify(s)),t}),console.log("âœ… [useSavedFlashcards] Flashcard saved successfully"),s.toast.success("Flashcard saved to your collection"),!0}}catch(a){console.error("âŒ [useSavedFlashcards] Unexpected error toggling save:",a);let e=a instanceof Error?a.message:"An unknown error occurred";return s.toast.error("An error occurred: ".concat(e)),!1}finally{o(!1)}},[]),c=(0,a.useCallback)(a=>e.has(a),[e]);return{savedCards:e,toggleSave:i,isFlashcardSaved:c,loading:l}}},57040,e=>{"use strict";e.s(["default",()=>y],57040);var a=e.i(843476),t=e.i(271645),s=e.i(522016),r=e.i(859951),l=e.i(918878),o=e.i(43454),n=e.i(399220),i=e.i(642677),c=e.i(531278),d=e.i(871689),h=e.i(972520),u=e.i(367240),m=e.i(985559),g=e.i(788510),f=e.i(115518),x=e.i(532671),p=e.i(906324),v=e.i(554774);function y(){let{isLoading:e,withLoading:y}=(0,f.useLoading)(),[w,b]=(0,t.useState)([]),[j,N]=(0,t.useState)([]),[S,C]=(0,t.useState)(""),[_,k]=(0,t.useState)([]),[F,T]=(0,t.useState)([]),[A,L]=(0,t.useState)("all"),[E,R]=(0,t.useState)({all:0,simple:0,complex:0}),[P,I]=(0,t.useState)(0),[M,B]=(0,t.useState)(!1),[U,z]=(0,t.useState)(0),[D,O]=(0,t.useState)(!1),[W,V]=(0,t.useState)(!1),[q,J]=(0,t.useState)(null),{isFlashcardSaved:H,toggleSave:K,loading:X}=(0,p.useSavedFlashcards)(),{data:Y,isLoading:G,isFetching:Q,refetch:Z,error:$}=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{count:a=20,commonWordsOnly:s=!1}=e,[r,l]=(0,t.useState)(void 0),[o,n]=(0,t.useState)(!0),[i,c]=(0,t.useState)(!1),[d,h]=(0,t.useState)(null),u=(0,t.useCallback)(async function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];c(!0),h(null);try{let e=await x.flashcardAPI.getRandomFlashcards({count:a,commonWordsOnly:s});return l(e),n(!1),{data:e}}catch(t){let a=t instanceof Error?t:Error("Failed to fetch random flashcards");if(h(a),n(!1),e)throw a;return{data:void 0}}finally{c(!1)}},[a,s]);return(0,t.useEffect)(()=>{u()},[u]),{data:r,isLoading:o,isFetching:i,refetch:(0,t.useCallback)(async e=>await u(null==e?void 0:e.throwOnError),[u]),error:d}}({count:25}),ee=e||G;(0,t.useEffect)(()=>{(async()=>{await y(async()=>{try{J(null);let e=v.STATIC_TOPICS.map(e=>(0,v.convertToTopicFormat)(e,"all")),a=v.STATIC_WORD_TYPES.map(e=>(0,v.convertToWordTypeFormat)(e,"all")),t=(0,v.calculateTotalComplexityCounts)();b(e),N(a),R(t)}catch(e){console.error("Failed to load initial data:",e),J("Failed to load some content. Please refresh the page.")}})})()},[y]),(0,t.useEffect)(()=>{Y&&T(Y)},[Y]),(0,t.useEffect)(()=>{$&&(console.error("Failed to load today's flashcards:",$),Y||T([]))},[Y,$]),(0,t.useEffect)(()=>{let e=setTimeout(async()=>{if(!S.trim())return void k([]);try{V(!0);let e=await x.flashcardAPI.searchFlashcards(S,50);k(e)}catch(e){console.error("Search failed:",e),k([])}finally{V(!1)}},300);return()=>clearTimeout(e)},[S]),(0,t.useEffect)(()=>{B(!1)},[P]),(0,t.useEffect)(()=>{O(!1),z(0)},[_]),(0,t.useEffect)(()=>{let e=v.STATIC_TOPICS.map(e=>(0,v.convertToTopicFormat)(e,A)),a=v.STATIC_WORD_TYPES.map(e=>(0,v.convertToWordTypeFormat)(e,A));b(e),N(a)},[A]);let ea=e=>{let a=S?_[U]:F[P];K(e,void(null==a||a.id))},et=(0,t.useCallback)(()=>{I(e=>(e+1)%F.length)},[F.length]),es=(0,t.useCallback)(()=>{I(e=>0===e?F.length-1:e-1)},[F.length]),er=(0,t.useCallback)(()=>{B(e=>!e)},[]),el=(0,t.useCallback)(()=>{z(e=>(e+1)%_.length)},[_.length]),eo=(0,t.useCallback)(()=>{z(e=>0===e?_.length-1:e-1)},[_.length]),en=(0,t.useCallback)(()=>{O(e=>!e)},[]);(0,t.useEffect)(()=>{if(!S&&F.length>0){let e=e=>{switch(["Space","ArrowLeft","ArrowRight"].includes(e.code)&&e.preventDefault(),e.code){case"Space":er();break;case"ArrowLeft":es();break;case"ArrowRight":et()}};return window.addEventListener("keydown",e),()=>{window.removeEventListener("keydown",e)}}},[er,es,et,S,F.length]),(0,t.useEffect)(()=>{if(S&&_.length>0){let e=e=>{switch(["Space","ArrowLeft","ArrowRight"].includes(e.code)&&e.preventDefault(),e.code){case"Space":en();break;case"ArrowLeft":eo();break;case"ArrowRight":el()}};return window.addEventListener("keydown",e),()=>{window.removeEventListener("keydown",e)}}},[en,eo,el,S,_.length]);let ei=(0,t.useMemo)(()=>j.map(e=>({id:e.id,title:e.title,description:e.description,count:e.count,imageUrl:e.imageUrl})),[j]),ec=(0,t.useMemo)(()=>v.STATIC_OTHERS.map(e=>({id:e.id,title:e.title,description:e.description,count:e.counts[A],imageUrl:e.imageUrl})),[A]);return q?(0,a.jsx)(g.default,{isLoading:ee,children:(0,a.jsx)("div",{className:"container mx-auto py-10 px-4",children:(0,a.jsx)(m.Alert,{variant:"destructive",className:"max-w-2xl mx-auto",children:(0,a.jsxs)(m.AlertDescription,{children:[q,(0,a.jsx)(r.Button,{variant:"outline",size:"sm",className:"ml-4",onClick:()=>window.location.reload(),children:"Retry"})]})})})}):(0,a.jsx)(g.default,{isLoading:ee,children:(0,a.jsxs)("div",{className:"container mx-auto py-10 px-6 sm:px-12 max-w-full overflow-x-hidden",children:[(0,a.jsx)("div",{className:"mb-6",children:(0,a.jsx)("h1",{className:"text-2xl sm:text-3xl font-bold",children:"Vietnamese Flashcards"})}),(0,a.jsx)("div",{className:"max-w-xl mx-auto mb-8 px-6 sm:px-12",children:(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(l.Input,{value:S,onChange:e=>C(e.target.value),placeholder:'Search "xin chÃ o" or "hello"',className:"h-12 text-lg shadow"}),W&&(0,a.jsx)(c.Loader2,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 h-4 w-4 animate-spin text-gray-400"})]})}),S&&(0,a.jsxs)("div",{className:"mb-16 px-6 sm:px-12",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,a.jsx)("h2",{className:"text-2xl font-semibold",children:"Search Results"}),_.length>0&&(0,a.jsxs)("p",{className:"text-sm text-gray-600",children:["Found ",_.length," flashcard",1!==_.length?"s":""]})]}),0!==_.length||W?_.length>0?(0,a.jsxs)(a.Fragment,{children:[_[U]&&(0,a.jsxs)("div",{className:"mb-12 relative z-10",children:[(0,a.jsx)("div",{className:"max-w-2xl mx-auto mb-8",children:(0,a.jsx)(n.FlashcardComponent,{data:_[U],saved:H(_[U].id),onSave:ea,onSwipe:e=>{"left"===e?el():eo()},onFlip:en,isFlipped:D})}),(0,a.jsxs)("div",{className:"flex items-center justify-center gap-4 mb-6",children:[(0,a.jsxs)(r.Button,{variant:"outline",onClick:eo,className:"flex items-center gap-2",title:"Previous card (â† key)",children:[(0,a.jsx)(d.ArrowLeft,{className:"h-4 w-4"})," Previous"]}),(0,a.jsxs)(r.Button,{variant:"default",onClick:en,className:"px-6 flex items-center gap-2",title:"Flip card (Spacebar)",children:[(0,a.jsx)(u.RotateCcw,{className:"h-4 w-4"}),D?"Show Front":"Show Back"]}),(0,a.jsxs)(r.Button,{variant:"outline",onClick:el,className:"flex items-center gap-2",title:"Next card (â†’ key)",children:["Next ",(0,a.jsx)(h.ArrowRight,{className:"h-4 w-4"})]})]}),(0,a.jsx)("div",{className:"text-center mb-8",children:(0,a.jsxs)("p",{className:"text-sm text-gray-600",children:["Card ",U+1," of ",_.length]})})]}),(0,a.jsxs)("div",{className:"relative z-0",children:[(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsx)("h3",{className:"text-xl font-semibold text-gray-800 mb-2",children:"Search Results"}),(0,a.jsxs)("p",{className:"text-sm text-gray-600",children:["Browse through ",_.length," matching flashcard",1!==_.length?"s":""]})]}),(0,a.jsx)(i.FlashcardDeck,{cards:_,savedCards:new Set(_.filter(e=>H(e.id)).map(e=>e.id)),displayMode:"row",onCardSelect:e=>{if("number"==typeof e)z(e);else{let a=_.findIndex(a=>a.id===e);-1!==a&&z(a)}},onSave:ea,itemsPerRow:5,currentIndex:U})]})]}):null:(0,a.jsxs)("div",{className:"text-center text-gray-500 py-12",children:[(0,a.jsx)("p",{className:"text-lg mb-2",children:"No results found."}),(0,a.jsx)("p",{className:"text-sm",children:"Try different keywords or check your spelling."})]})]}),!S&&F.length>0&&(0,a.jsxs)("div",{className:"mb-16 px-6 sm:px-12",children:[(0,a.jsx)("div",{className:"mb-6",children:(0,a.jsx)("h2",{className:"text-2xl font-semibold",children:"Today's Flashcards"})}),F[P]&&(0,a.jsxs)("div",{className:"mb-12 relative z-10",children:[(0,a.jsx)("div",{className:"max-w-2xl mx-auto mb-8",children:(0,a.jsx)(n.FlashcardComponent,{data:F[P],saved:H(F[P].id),onSave:ea,onSwipe:e=>{"left"===e?et():es()},onFlip:er,isFlipped:M})}),(0,a.jsxs)("div",{className:"flex items-center justify-center gap-4 mb-6",children:[(0,a.jsxs)(r.Button,{variant:"outline",onClick:es,className:"flex items-center gap-2",title:"Previous card (â† key)",children:[(0,a.jsx)(d.ArrowLeft,{className:"h-4 w-4"})," Previous"]}),(0,a.jsxs)(r.Button,{variant:"default",onClick:er,className:"px-6 flex items-center gap-2",title:"Flip card (Spacebar)",children:[(0,a.jsx)(u.RotateCcw,{className:"h-4 w-4"}),M?"Show Front":"Show Back"]}),(0,a.jsxs)(r.Button,{variant:"outline",onClick:et,className:"flex items-center gap-2",title:"Next card (â†’ key)",children:["Next ",(0,a.jsx)(h.ArrowRight,{className:"h-4 w-4"})]})]}),(0,a.jsx)("div",{className:"text-center mb-8",children:(0,a.jsxs)("p",{className:"text-sm text-gray-600",children:["Card ",P+1," of ",F.length]})})]}),(0,a.jsx)("div",{className:"relative z-0",children:(0,a.jsx)(i.FlashcardDeck,{cards:F,savedCards:new Set(F.filter(e=>H(e.id)).map(e=>e.id)),displayMode:"row",onCardSelect:e=>{if("number"==typeof e)I(e);else{let a=F.findIndex(a=>a.id===e);-1!==a&&I(a)}},onSave:ea,itemsPerRow:5,currentIndex:P})})]}),(0,a.jsx)("div",{className:"mb-6 px-6 sm:px-12",children:(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold",children:"Browse Flashcard Sets"}),(0,a.jsx)(o.Tabs,{value:A,onValueChange:L,className:"mr-0 sm:mr-12",children:(0,a.jsxs)(o.TabsList,{children:[(0,a.jsx)(o.TabsTrigger,{value:"all",children:"All"}),(0,a.jsx)(o.TabsTrigger,{value:"simple",children:"Simple"}),(0,a.jsx)(o.TabsTrigger,{value:"complex",children:"Complex"})]})})]})}),(0,a.jsxs)("div",{className:"mb-10 px-6 sm:px-12",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"By Topic"}),(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:0===w.length?(0,a.jsx)("div",{className:"text-center text-gray-500 py-8 w-full col-span-full",children:"No topics available."}):w.map(e=>(0,a.jsx)(s.default,{href:"/flashcards/topic/".concat(e.id).concat("all"!==A?"?complexity=".concat(A):""),className:"block",children:(0,a.jsxs)("article",{className:"cta-card group",children:[(0,a.jsx)("div",{className:"cta-card__image",children:(0,a.jsx)("img",{src:e.imageUrl,alt:e.title,className:"cta-card__img"})}),(0,a.jsxs)("div",{className:"cta-card__content",children:[(0,a.jsx)("h4",{className:"cta-card__title group-hover:text-blue-600 transition-colors duration-200",children:e.title}),(0,a.jsx)("p",{className:"cta-card__description",children:e.description}),(0,a.jsxs)("div",{className:"cta-card__footer",children:[(0,a.jsxs)("span",{className:"cta-card__count",children:[e.count," flashcards"]}),(0,a.jsx)("span",{className:"cta-card__button",children:"Start Learning"})]})]})]})},e.id))})]}),(0,a.jsxs)("div",{className:"mb-10 overflow-hidden px-6 sm:px-12",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"By Word Type"}),(0,a.jsx)("div",{className:"relative group overflow-hidden w-full",children:0===ei.length?(0,a.jsx)("div",{className:"text-center text-gray-500 py-8 w-full",children:"No word type groups available."}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"flex gap-6 overflow-x-auto scrollbar-hide py-2 px-2 word-type-scroll-container",style:{scrollBehavior:"smooth"},children:ei.map(e=>(0,a.jsx)(s.default,{href:"/flashcards/topic/".concat(e.id).concat("all"!==A?"?complexity=".concat(A):""),className:"flex-shrink-0",children:(0,a.jsxs)("article",{className:"cta-card-horizontal group",children:[(0,a.jsx)("div",{className:"cta-card-horizontal__image",children:(0,a.jsx)("img",{src:e.imageUrl,alt:e.title,className:"cta-card-horizontal__img"})}),(0,a.jsxs)("div",{className:"cta-card-horizontal__content",children:[(0,a.jsx)("h4",{className:"cta-card-horizontal__title group-hover:text-blue-600 transition-colors duration-200",children:e.title}),(0,a.jsx)("p",{className:"cta-card-horizontal__description",children:e.description}),(0,a.jsxs)("div",{className:"cta-card-horizontal__footer",children:[(0,a.jsxs)("span",{className:"cta-card-horizontal__count",children:[e.count," flashcards"]}),(0,a.jsx)("span",{className:"cta-card-horizontal__button",children:"Start Learning"})]})]})]})},e.id))}),(0,a.jsx)("button",{className:"absolute left-2 top-1/2 transform -translate-y-1/2 bg-white dark:bg-gray-800 rounded-full p-2 shadow-lg opacity-0 group-hover:opacity-100 transition-opacity duration-300 z-10 hover:bg-gray-50 dark:hover:bg-gray-700",onClick:e=>{var a;e.preventDefault();let t=null==(a=e.currentTarget.parentElement)?void 0:a.querySelector(".word-type-scroll-container");t&&t.scrollBy({left:-300,behavior:"smooth"})},"aria-label":"Scroll left",children:(0,a.jsx)(d.ArrowLeft,{className:"h-5 w-5 text-gray-600 dark:text-gray-300"})}),(0,a.jsx)("button",{className:"absolute right-2 top-1/2 transform -translate-y-1/2 bg-white dark:bg-gray-800 rounded-full p-2 shadow-lg opacity-0 group-hover:opacity-100 transition-opacity duration-300 z-10 hover:bg-gray-50 dark:hover:bg-gray-700",onClick:e=>{var a;e.preventDefault();let t=null==(a=e.currentTarget.parentElement)?void 0:a.querySelector(".word-type-scroll-container");t&&t.scrollBy({left:300,behavior:"smooth"})},"aria-label":"Scroll right",children:(0,a.jsx)(h.ArrowRight,{className:"h-5 w-5 text-gray-600 dark:text-gray-300"})})]})})]}),(0,a.jsxs)("div",{className:"mb-10 overflow-hidden px-6 sm:px-12",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Others"}),(0,a.jsx)("div",{className:"relative group overflow-hidden w-full",children:0===ec.length?(0,a.jsx)("div",{className:"text-center text-gray-500 py-8 w-full",children:"No other groups available."}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"flex gap-6 overflow-x-auto scrollbar-hide py-2 px-2 others-scroll-container",style:{scrollBehavior:"smooth"},children:ec.map(e=>(0,a.jsx)(s.default,{href:"/flashcards/topic/".concat(e.id).concat("all"!==A?"?complexity=".concat(A):""),className:"flex-shrink-0",children:(0,a.jsxs)("article",{className:"cta-card-horizontal group",children:[(0,a.jsx)("div",{className:"cta-card-horizontal__image",children:(0,a.jsx)("img",{src:e.imageUrl,alt:e.title,className:"cta-card-horizontal__img"})}),(0,a.jsxs)("div",{className:"cta-card-horizontal__content",children:[(0,a.jsx)("h4",{className:"cta-card-horizontal__title group-hover:text-blue-600 transition-colors duration-200",children:e.title}),(0,a.jsx)("p",{className:"cta-card-horizontal__description",children:e.description}),(0,a.jsxs)("div",{className:"cta-card-horizontal__footer",children:[(0,a.jsxs)("span",{className:"cta-card-horizontal__count",children:[e.count," flashcards"]}),(0,a.jsx)("span",{className:"cta-card-horizontal__button",children:"Start Learning"})]})]})]})},e.id))}),(0,a.jsx)("button",{className:"absolute left-2 top-1/2 transform -translate-y-1/2 bg-white dark:bg-gray-800 rounded-full p-2 shadow-lg opacity-0 group-hover:opacity-100 transition-opacity duration-300 z-10 hover:bg-gray-50 dark:hover:bg-gray-700",onClick:e=>{var a;e.preventDefault();let t=null==(a=e.currentTarget.parentElement)?void 0:a.querySelector(".others-scroll-container");t&&t.scrollBy({left:-300,behavior:"smooth"})},"aria-label":"Scroll left",children:(0,a.jsx)(d.ArrowLeft,{className:"h-5 w-5 text-gray-600 dark:text-gray-300"})}),(0,a.jsx)("button",{className:"absolute right-2 top-1/2 transform -translate-y-1/2 bg-white dark:bg-gray-800 rounded-full p-2 shadow-lg opacity-0 group-hover:opacity-100 transition-opacity duration-300 z-10 hover:bg-gray-50 dark:hover:bg-gray-700",onClick:e=>{var a;e.preventDefault();let t=null==(a=e.currentTarget.parentElement)?void 0:a.querySelector(".others-scroll-container");t&&t.scrollBy({left:300,behavior:"smooth"})},"aria-label":"Scroll right",children:(0,a.jsx)(h.ArrowRight,{className:"h-5 w-5 text-gray-600 dark:text-gray-300"})})]})})]})]})})}}]);