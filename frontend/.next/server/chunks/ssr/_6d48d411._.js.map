{"version":3,"sources":["turbopack:///[project]/node_modules/@radix-ui/react-label/dist/index.mjs","turbopack:///[project]/shared/components/ui/label.tsx","turbopack:///[project]/node_modules/@radix-ui/react-label/node_modules/@radix-ui/react-primitive/dist/index.mjs","turbopack:///[project]/shared/components/ui/LoadingState.tsx","turbopack:///[project]/shared/components/ui/PageWithLoading.tsx","turbopack:///[project]/shared/hooks/use-loading.ts","turbopack:///[project]/features/flashcards/types/flashcard.types.ts","turbopack:///[project]/features/flashcards/utils/apiClient.ts","turbopack:///[project]/features/flashcards/utils/transformers.ts","turbopack:///[project]/features/flashcards/services/flashcardService.ts","turbopack:///[project]/node_modules/lucide-react/src/icons/refresh-cw.ts","turbopack:///[project]/features/flashcards/hooks/use-flashcard-review.ts","turbopack:///[project]/features/flashcards/utils/auth-session-manager.ts","turbopack:///[project]/features/flashcards/components/review/ReviewSession.tsx","turbopack:///[project]/node_modules/lucide-react/src/icons/alarm-clock.ts","turbopack:///[project]/node_modules/@radix-ui/react-checkbox/dist/index.mjs","turbopack:///[project]/shared/components/ui/checkbox.tsx","turbopack:///[project]/shared/utils/audio.ts","turbopack:///[project]/shared/components/ui/dialog.tsx"],"sourcesContent":["\"use client\";\n\n// src/label.tsx\nimport * as React from \"react\";\nimport { Primitive } from \"@radix-ui/react-primitive\";\nimport { jsx } from \"react/jsx-runtime\";\nvar NAME = \"Label\";\nvar Label = React.forwardRef((props, forwardedRef) => {\n  return /* @__PURE__ */ jsx(\n    Primitive.label,\n    {\n      ...props,\n      ref: forwardedRef,\n      onMouseDown: (event) => {\n        const target = event.target;\n        if (target.closest(\"button, input, select, textarea\")) return;\n        props.onMouseDown?.(event);\n        if (!event.defaultPrevented && event.detail > 1) event.preventDefault();\n      }\n    }\n  );\n});\nLabel.displayName = NAME;\nvar Root = Label;\nexport {\n  Label,\n  Root\n};\n//# sourceMappingURL=index.mjs.map\n","\"use client\"\r\n\r\nimport * as React from \"react\"\r\nimport * as LabelPrimitive from \"@radix-ui/react-label\"\r\n\r\nimport { cn } from \"@/shared/utils/cn\"\r\n\r\nfunction Label({\r\n  className,\r\n  ...props\r\n}: React.ComponentProps<typeof LabelPrimitive.Root>) {\r\n  return (\r\n    <LabelPrimitive.Root\r\n      data-slot=\"label\"\r\n      className={cn(\r\n        \"flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50\",\r\n        className\r\n      )}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nexport { Label }\r\n","// src/primitive.tsx\nimport * as React from \"react\";\nimport * as ReactDOM from \"react-dom\";\nimport { createSlot } from \"@radix-ui/react-slot\";\nimport { jsx } from \"react/jsx-runtime\";\nvar NODES = [\n  \"a\",\n  \"button\",\n  \"div\",\n  \"form\",\n  \"h2\",\n  \"h3\",\n  \"img\",\n  \"input\",\n  \"label\",\n  \"li\",\n  \"nav\",\n  \"ol\",\n  \"p\",\n  \"select\",\n  \"span\",\n  \"svg\",\n  \"ul\"\n];\nvar Primitive = NODES.reduce((primitive, node) => {\n  const Slot = createSlot(`Primitive.${node}`);\n  const Node = React.forwardRef((props, forwardedRef) => {\n    const { asChild, ...primitiveProps } = props;\n    const Comp = asChild ? Slot : node;\n    if (typeof window !== \"undefined\") {\n      window[Symbol.for(\"radix-ui\")] = true;\n    }\n    return /* @__PURE__ */ jsx(Comp, { ...primitiveProps, ref: forwardedRef });\n  });\n  Node.displayName = `Primitive.${node}`;\n  return { ...primitive, [node]: Node };\n}, {});\nfunction dispatchDiscreteCustomEvent(target, event) {\n  if (target) ReactDOM.flushSync(() => target.dispatchEvent(event));\n}\nvar Root = Primitive;\nexport {\n  Primitive,\n  Root,\n  dispatchDiscreteCustomEvent\n};\n//# sourceMappingURL=index.mjs.map\n","'use client'\r\nimport React, { useState, useEffect } from 'react';\r\nimport Image from 'next/image';\r\n\r\nconst LoadingState: React.FC = () => {\r\n  const [currentImage, setCurrentImage] = useState<string>('');\r\n  const [currentPhrase, setCurrentPhrase] = useState<string>(''); // ThÃªm state cho cá»¥m tá»« loading\r\n\r\n\r\n  const loadingImages = [\r\n    '/images/loading/banh-mi.webp',\r\n    '/images/loading/cafe.webp',\r\n    '/images/loading/lotus.webp',\r\n    '/images/loading/non-la.webp',\r\n    '/images/loading/pho.webp'\r\n  ];\r\n\r\n  const loadingPhrases = [\r\n    \"Connecting you to Vietnam...\",\r\n    \"Bringing you the best of Vietnamese...\",\r\n    \"Loading your learning experience...\"\r\n  ];\r\n\r\n  useEffect(() => {\r\n    // Randomly select an image when component mounts\r\n    const randomIndex = Math.floor(Math.random() * loadingImages.length);\r\n    setCurrentImage(loadingImages[randomIndex]);\r\n    // Randomly select a phrase when component mounts\r\n    const randomPhraseIndex = Math.floor(Math.random() * loadingPhrases.length);\r\n    setCurrentPhrase(loadingPhrases[randomPhraseIndex]);\r\n  }, []);\r\n\r\n\r\n\r\n  if (!currentImage) return null;\r\n\r\n  return (\r\n    <div className=\"fixed inset-0 bg-white/80 backdrop-blur-sm z-50 flex flex-col items-center justify-center\">\r\n      <div className=\"flex flex-col items-center space-y-6\">\r\n        {/* Loading Image with Swaying Animation */}\r\n        <div className=\"relative\">\r\n          <Image\r\n            src={currentImage}\r\n            alt=\"Loading\"\r\n            width={120}\r\n            height={120}\r\n            className=\"animate-sway drop-shadow-lg\"\r\n            priority\r\n          />\r\n        </div>\r\n        \r\n        {/* Loading Text */}\r\n        <div className=\"text-center\">\r\n          <h2 className=\"text-xl font-semibold text-gray-800 mb-2\">\r\n          {currentPhrase}\r\n          </h2>\r\n          <div className=\"flex space-x-1 justify-center\">\r\n            <div className=\"w-2 h-2 bg-blue-500 rounded-full animate-bounce\"></div>\r\n            <div className=\"w-2 h-2 bg-blue-500 rounded-full animate-bounce\" style={{ animationDelay: '0.1s' }}></div>\r\n            <div className=\"w-2 h-2 bg-blue-500 rounded-full animate-bounce\" style={{ animationDelay: '0.2s' }}></div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default LoadingState; ","import React, { ReactNode } from 'react';\r\nimport LoadingState from './LoadingState';\r\n\r\ninterface PageWithLoadingProps {\r\n  children: ReactNode;\r\n  isLoading: boolean;\r\n}\r\n\r\nconst PageWithLoading: React.FC<PageWithLoadingProps> = ({ children, isLoading }) => {\r\n  return (\r\n    <>\r\n      {isLoading && <LoadingState />}\r\n      {children}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default PageWithLoading; ","import { useState, useCallback, useRef } from 'react';\r\n\r\ninterface UseLoadingReturn {\r\n  isLoading: boolean;\r\n  startLoading: () => void;\r\n  stopLoading: () => void;\r\n  withLoading: <T>(asyncFn: () => Promise<T>) => Promise<T>;\r\n  withLoadingAndRetry: <T>(asyncFn: () => Promise<T>, maxRetries?: number) => Promise<T>;\r\n}\r\n\r\nexport const useLoading = (initialState: boolean = false): UseLoadingReturn => {\r\n  const [isLoading, setIsLoading] = useState(initialState);\r\n  const timeoutRef = useRef<NodeJS.Timeout | null>(null);\r\n\r\n  const startLoading = useCallback(() => {\r\n    setIsLoading(true);\r\n    // Safety timeout - giáº£m tá»« 33s xuá»‘ng 10s\r\n    timeoutRef.current = setTimeout(() => {\r\n      console.warn('Loading timeout reached, forcing stop');\r\n      setIsLoading(false);\r\n    }, 10000);\r\n  }, []);\r\n\r\n  const stopLoading = useCallback(() => {\r\n    setIsLoading(false);\r\n    if (timeoutRef.current) {\r\n      clearTimeout(timeoutRef.current);\r\n      timeoutRef.current = null;\r\n    }\r\n  }, []);\r\n\r\n  const withLoading = useCallback(async <T>(asyncFn: () => Promise<T>): Promise<T> => {\r\n    try {\r\n      startLoading();\r\n      const result = await asyncFn();\r\n      return result;\r\n    } finally {\r\n      stopLoading();\r\n    }\r\n  }, [startLoading, stopLoading]);\r\n\r\n  // ThÃªm retry mechanism vá»›i exponential backoff\r\n  const withLoadingAndRetry = useCallback(async <T>(\r\n    asyncFn: () => Promise<T>, \r\n    maxRetries: number = 2\r\n  ): Promise<T> => {\r\n    let lastError: Error;\r\n    \r\n    for (let attempt = 0; attempt <= maxRetries; attempt++) {\r\n      try {\r\n        if (attempt === 0) startLoading();\r\n        const result = await asyncFn();\r\n        return result;\r\n      } catch (error) {\r\n        lastError = error as Error;\r\n        console.warn(`Attempt ${attempt + 1} failed:`, error);\r\n        \r\n        if (attempt === maxRetries) {\r\n          throw lastError;\r\n        }\r\n        \r\n        // Exponential backoff: 1s, 2s, 4s...\r\n        await new Promise(resolve => setTimeout(resolve, Math.pow(2, attempt) * 1000));\r\n      } finally {\r\n        if (attempt === maxRetries) {\r\n          stopLoading();\r\n        }\r\n      }\r\n    }\r\n    \r\n    throw lastError!;\r\n  }, [startLoading, stopLoading]);\r\n\r\n  return {\r\n    isLoading,\r\n    startLoading,\r\n    stopLoading,\r\n    withLoading,\r\n    withLoadingAndRetry,\r\n  };\r\n}; ","/**\r\n * TypeScript types for flashcard data structures\r\n * Includes both backend response types and frontend adapted types\r\n */\r\n\r\n// Backend response types (matching FastAPI FlashcardResponse)\r\nexport interface BackendFlashcardResponse {\r\n  id: string\r\n  vietnamese: string\r\n  english: string[]\r\n  type: string[] | string\r\n  is_multiword: boolean\r\n  is_multimeaning: boolean\r\n  vietnamese_sentence: string\r\n  english_sentence: string\r\n  topic: string[]\r\n  audio_url: string | null\r\n  image_url: string | null\r\n  text_complexity: string\r\n  common_class: string\r\n  selected_meaning: string[] | null\r\n  common_meaning: string\r\n  pronunciation?: string\r\n}\r\n\r\nexport interface BackendTopicResponse {\r\n  id: string\r\n  title: string\r\n  description: string\r\n  count: number\r\n  imageUrl: string | null\r\n}\r\n\r\nexport interface FlashcardSearchResponse {\r\n  flashcards: BackendFlashcardResponse[]\r\n  total: number\r\n  skip: number\r\n  limit: number\r\n  has_more: boolean\r\n}\r\n\r\n// Frontend adapted types (for components)\r\nexport interface FlashcardData {\r\n  id: string\r\n  vietnamese: string\r\n  english: string[]\r\n  type: string[] | string\r\n  is_multiword: boolean\r\n  is_multimeaning: boolean\r\n  common_meaning: string\r\n  vietnamese_sentence: string\r\n  english_sentence: string\r\n  topic: string[]\r\n  is_common: boolean\r\n  image_url: string | null\r\n  audio_url: string | null\r\n  pronunciation?: string\r\n  // Saved flashcard metadata\r\n  saved_id?: string\r\n  saved_at?: string\r\n  flashcard_type?: 'APP' | 'CUSTOM'\r\n  tags?: string[]\r\n  review_count?: number\r\n  last_reviewed?: string\r\n  notes?: string\r\n  is_favorite?: boolean\r\n  // Custom flashcard specific fields\r\n  ipa_pronunciation?: string\r\n}\r\n\r\nexport interface FlashcardTopic {\r\n  id: string\r\n  title: string\r\n  description: string\r\n  count: number\r\n  imageUrl: string\r\n}\r\n\r\nexport interface WordType {\r\n  id: string\r\n  name: string\r\n  title: string\r\n  description: string\r\n  count: number\r\n  imageUrl: string\r\n}\r\n\r\nexport interface RandomFlashcardParams {\r\n  count?: number\r\n  commonWordsOnly?: boolean\r\n}\r\n\r\n// API Error class\r\nexport class APIError extends Error {\r\n  constructor(public status: number, message: string) {\r\n    super(message)\r\n    this.name = \"APIError\"\r\n  }\r\n}\r\n\r\n","/**\r\n * API client utility for making requests to the FastAPI backend\r\n */\r\n\r\nimport { APIError } from '../types/flashcard.types'\r\n\r\n// Configuration\r\nexport const API_BASE_URL = process.env.NEXT_PUBLIC_API_URL || \"http://localhost:8000\"\r\nexport const API_PREFIX = \"/api/v1\"\r\n\r\n// Helper function to handle API responses\r\nexport async function apiRequest<T>(endpoint: string, options?: RequestInit): Promise<T> {\r\n  const url = `${API_BASE_URL}${API_PREFIX}${endpoint}`\r\n  \r\n  try {\r\n    const response = await fetch(url, {\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        ...options?.headers,\r\n      },\r\n      cache: 'no-store', // Prevent browser and Next.js caching for fresh data\r\n      ...options,\r\n    })\r\n\r\n    if (!response.ok) {\r\n      throw new APIError(response.status, `API request failed: ${response.statusText}`)\r\n    }\r\n\r\n    return await response.json()\r\n  } catch (error) {\r\n    if (error instanceof APIError) {\r\n      throw error\r\n    }\r\n    throw new APIError(0, `Network error: ${error instanceof Error ? error.message : \"Unknown error\"}`)\r\n  }\r\n}\r\n\r\n","/**\r\n * Data transformation utilities\r\n * Converts backend response types to frontend types\r\n */\r\n\r\nimport type { BackendFlashcardResponse, BackendTopicResponse, FlashcardData, FlashcardTopic } from '../types/flashcard.types'\r\n\r\n/**\r\n * Converts a relative image path to a full Supabase Storage URL\r\n * Handles both relative paths (e.g., \"flashcards/filename.jpg\") and full URLs (backward compatibility)\r\n */\r\nexport function getImageUrl(imagePath: string | null | undefined): string | null {\r\n  if (!imagePath) return null\r\n\r\n  // If already a full URL, return as-is (backward compatibility)\r\n  if (imagePath.startsWith('http://') || imagePath.startsWith('https://')) {\r\n    return imagePath\r\n  }\r\n\r\n  // Convert relative path to full Supabase Storage URL\r\n  // Format: {SUPABASE_URL}/storage/v1/object/public/{bucket}/{path}\r\n  const supabaseUrl = process.env.NEXT_PUBLIC_SUPABASE_URL\r\n  if (!supabaseUrl) {\r\n    console.warn('NEXT_PUBLIC_SUPABASE_URL is not configured')\r\n    return imagePath // Return relative path as fallback\r\n  }\r\n\r\n  // Remove leading slash if present\r\n  const cleanPath = imagePath.startsWith('/') ? imagePath.slice(1) : imagePath\r\n\r\n  // Construct full URL for the 'images' bucket\r\n  return `${supabaseUrl}/storage/v1/object/public/images/${cleanPath}`\r\n}\r\n\r\n// Transform backend flashcard response to frontend flashcard data\r\nexport function transformBackendFlashcard(backend: any): FlashcardData {\r\n  return {\r\n    id: backend.id,\r\n    vietnamese: backend.vietnamese,\r\n    english: backend.english,\r\n    type: backend.type,\r\n    is_multiword: backend.is_multiword,\r\n    is_multimeaning: backend.is_multimeaning,\r\n    common_meaning: backend.common_meaning,\r\n    vietnamese_sentence: backend.vietnamese_sentence,\r\n    english_sentence: backend.english_sentence,\r\n    topic: backend.topic,\r\n    is_common: backend.common_class === \"common\",\r\n    image_url: backend.image_url,\r\n    audio_url: backend.audio_url,\r\n    pronunciation: backend.pronunciation,\r\n    // Handle saved flashcard metadata\r\n    saved_id: backend.saved_id,\r\n    saved_at: backend.saved_at,\r\n    flashcard_type: backend.flashcard_type,\r\n    tags: backend.tags,\r\n    review_count: backend.review_count,\r\n    last_reviewed: backend.last_reviewed,\r\n    notes: backend.notes,\r\n    is_favorite: backend.is_favorite,\r\n    ipa_pronunciation: backend.ipa_pronunciation,\r\n  }\r\n}\r\n\r\n// Transform backend topic response to frontend topic data\r\nexport function transformBackendTopic(backend: BackendTopicResponse): FlashcardTopic {\r\n  return {\r\n    id: backend.id,\r\n    title: backend.title,\r\n    description: backend.description,\r\n    count: backend.count,\r\n    imageUrl: backend.imageUrl || \"/placeholder.svg?height=200&width=400\",\r\n  }\r\n}\r\n\r\n","/**\r\n * Flashcard API service layer\r\n * Connects frontend to FastAPI backend\r\n */\r\n\r\nimport type {\r\n  BackendFlashcardResponse,\r\n  BackendTopicResponse,\r\n  FlashcardSearchResponse,\r\n  FlashcardData,\r\n  FlashcardTopic,\r\n  WordType,\r\n  RandomFlashcardParams,\r\n} from '../types/flashcard.types'\r\nimport { apiRequest } from '../utils/apiClient'\r\nimport { transformBackendFlashcard, transformBackendTopic } from '../utils/transformers'\r\n\r\n// API service object with all methods\r\nexport const flashcardAPI = {\r\n  // Get all flashcards with pagination\r\n  async getAllFlashcards(skip = 0, limit = 100): Promise<FlashcardData[]> {\r\n    const response = await apiRequest<BackendFlashcardResponse[]>(\r\n      `/flashcards?skip=${skip}&limit=${limit}`\r\n    )\r\n    return response.map(transformBackendFlashcard)\r\n  },\r\n\r\n  // Get random flashcards for daily practice\r\n  async getRandomFlashcards({ count = 20, commonWordsOnly = false }: RandomFlashcardParams = {}): Promise<FlashcardData[]> {\r\n    const searchParams = new URLSearchParams({\r\n      count: String(count),\r\n      common_words_only: String(commonWordsOnly),\r\n    })\r\n\r\n    const response = await apiRequest<BackendFlashcardResponse[]>(\r\n      `/flashcards/random?${searchParams.toString()}`\r\n    )\r\n    return response.map(transformBackendFlashcard)\r\n  },\r\n\r\n  // Search flashcards\r\n  async searchFlashcards(query: string, limit = 50): Promise<FlashcardData[]> {\r\n    const response = await apiRequest<BackendFlashcardResponse[]>(\r\n      `/flashcards/search?q=${encodeURIComponent(query)}&limit=${limit}`\r\n    )\r\n    return response.map(transformBackendFlashcard)\r\n  },\r\n\r\n  // Get all topics\r\n  async getAllTopics(complexity?: string): Promise<FlashcardTopic[]> {\r\n    const url = complexity ? `/flashcards/topics?complexity=${encodeURIComponent(complexity)}` : \"/flashcards/topics\"\r\n    const response = await apiRequest<BackendTopicResponse[]>(url)\r\n    return response.map(transformBackendTopic)\r\n  },\r\n\r\n  // Get flashcards by topic with pagination\r\n  async getFlashcardsByTopic(topicId: string, complexity?: string, skip = 0, limit = 20): Promise<{flashcards: FlashcardData[], total: number, hasMore: boolean}> {\r\n    // First get all topics to find the title for this ID\r\n    const topics = await this.getAllTopics()\r\n    const topic = topics.find(t => t.id === topicId)\r\n    \r\n    if (!topic) {\r\n      console.warn(`Topic not found for ID: ${topicId}`)\r\n      return {flashcards: [], total: 0, hasMore: false}\r\n    }\r\n    \r\n    // Build URL with pagination and optional complexity parameter\r\n    const params = new URLSearchParams({\r\n      skip: skip.toString(),\r\n      limit: limit.toString()\r\n    })\r\n    \r\n    if (complexity) {\r\n      params.append('complexity', complexity)\r\n    }\r\n    \r\n    const url = `/flashcards/by-topic/${encodeURIComponent(topic.title)}?${params.toString()}`\r\n    \r\n    const response = await apiRequest<FlashcardSearchResponse>(url)\r\n    return {\r\n      flashcards: response.flashcards.map(transformBackendFlashcard),\r\n      total: response.total,\r\n      hasMore: response.has_more\r\n    }\r\n  },\r\n\r\n  // Get flashcards by topic (legacy method for backward compatibility)\r\n  async getFlashcardsByTopicLegacy(topicId: string, complexity?: string): Promise<FlashcardData[]> {\r\n    const result = await this.getFlashcardsByTopic(topicId, complexity, 0, 1000)\r\n    return result.flashcards\r\n  },\r\n\r\n  // Get flashcards by word type\r\n  async getFlashcardsByType(wordType: string, complexity?: string): Promise<FlashcardData[]> {\r\n    const url = complexity\r\n      ? `/flashcards/by-type/${encodeURIComponent(wordType)}?complexity=${encodeURIComponent(complexity)}`\r\n      : `/flashcards/by-type/${encodeURIComponent(wordType)}`\r\n    \r\n    const response = await apiRequest<BackendFlashcardResponse[]>(url)\r\n    return response.map(transformBackendFlashcard)\r\n  },\r\n\r\n  // Get multi-word expression flashcards\r\n  async getMultiwordFlashcards(complexity?: string): Promise<FlashcardData[]> {\r\n    const url = complexity\r\n      ? `/flashcards/multiword?complexity=${encodeURIComponent(complexity)}`\r\n      : \"/flashcards/multiword\"\r\n    \r\n    const response = await apiRequest<BackendFlashcardResponse[]>(url)\r\n    return response.map(transformBackendFlashcard)\r\n  },\r\n\r\n  // Get multi-meaning flashcards\r\n  async getMultimeaningFlashcards(complexity?: string): Promise<FlashcardData[]> {\r\n    const url = complexity\r\n      ? `/flashcards/multimeaning?complexity=${encodeURIComponent(complexity)}`\r\n      : \"/flashcards/multimeaning\"\r\n    \r\n    const response = await apiRequest<BackendFlashcardResponse[]>(url)\r\n    return response.map(transformBackendFlashcard)\r\n  },\r\n\r\n  // Get flashcards by complexity\r\n  async getFlashcardsByComplexity(complexity: string, skip = 0, limit = 100): Promise<FlashcardData[]> {\r\n    const response = await apiRequest<BackendFlashcardResponse[]>(\r\n      `/flashcards/by-complexity/${encodeURIComponent(complexity)}?skip=${skip}&limit=${limit}`\r\n    )\r\n    return response.map(transformBackendFlashcard)\r\n  },\r\n\r\n  // Get complexity counts\r\n  async getComplexityCounts(): Promise<{all: number, simple: number, complex: number}> {\r\n    const response = await apiRequest<{all: number, simple: number, complex: number}>(\"/flashcards/complexity-counts\")\r\n    return response\r\n  },\r\n\r\n  // Get single flashcard by ID\r\n  async getFlashcardById(id: string): Promise<FlashcardData> {\r\n    const response = await apiRequest<BackendFlashcardResponse>(`/flashcards/${id}`)\r\n    return transformBackendFlashcard(response)\r\n  },\r\n\r\n  // Get flashcard audio URL\r\n  async getFlashcardAudio(flashcardId: string): Promise<{flashcard_id: string, audio_url: string | null, vietnamese: string}> {\r\n    const response = await apiRequest<{flashcard_id: string, audio_url: string | null, vietnamese: string}>(\r\n      `/flashcards/${flashcardId}/audio`\r\n    )\r\n    return response\r\n  },\r\n\r\n  // Health check\r\n  async healthCheck(): Promise<{ status: string }> {\r\n    return await apiRequest<{ status: string }>(\"/flashcards/health\")\r\n  },\r\n\r\n  // Get all word types\r\n  async getAllWordTypes(complexity?: string): Promise<WordType[]> {\r\n    const url = complexity ? `/flashcards/word-types?complexity=${encodeURIComponent(complexity)}` : \"/flashcards/word-types\"\r\n    const response = await apiRequest<WordType[]>(url)\r\n    return response\r\n  },\r\n\r\n  // Get others counts (multi-meaning and multi-word)\r\n  async getOthersCounts(complexity?: string): Promise<{multiword: number, multimeaning: number}> {\r\n    const url = complexity ? `/flashcards/others-counts?complexity=${encodeURIComponent(complexity)}` : \"/flashcards/others-counts\"\r\n    const response = await apiRequest<{multiword: number, multimeaning: number}>(url)\r\n    return response\r\n  },\r\n\r\n  // Get flashcards by word type with pagination\r\n  async getFlashcardsByTypeWithPagination(wordType: string, complexity?: string, skip = 0, limit = 20): Promise<{flashcards: FlashcardData[], total: number, hasMore: boolean}> {\r\n    const params = new URLSearchParams({\r\n      skip: skip.toString(),\r\n      limit: limit.toString(),\r\n    })\r\n    \r\n    if (complexity) {\r\n      params.append('complexity', complexity)\r\n    }\r\n    \r\n    const response = await apiRequest<FlashcardSearchResponse>(`/flashcards/by-type/${encodeURIComponent(wordType)}?${params}`)\r\n    \r\n    return {\r\n      flashcards: response.flashcards.map(transformBackendFlashcard),\r\n      total: response.total,\r\n      hasMore: response.has_more\r\n    }\r\n  },\r\n\r\n  // Get multi-word flashcards with pagination\r\n  async getMultiwordFlashcardsWithPagination(complexity?: string, skip = 0, limit = 20): Promise<{flashcards: FlashcardData[], total: number, hasMore: boolean}> {\r\n    const params = new URLSearchParams({\r\n      skip: skip.toString(),\r\n      limit: limit.toString(),\r\n    })\r\n    \r\n    if (complexity) {\r\n      params.append('complexity', complexity)\r\n    }\r\n    \r\n    const response = await apiRequest<FlashcardSearchResponse>(`/flashcards/multiword?${params}`)\r\n    \r\n    return {\r\n      flashcards: response.flashcards.map(transformBackendFlashcard),\r\n      total: response.total,\r\n      hasMore: response.has_more\r\n    }\r\n  },\r\n\r\n  // Get multi-meaning flashcards with pagination\r\n  async getMultimeaningFlashcardsWithPagination(complexity?: string, skip = 0, limit = 20): Promise<{flashcards: FlashcardData[], total: number, hasMore: boolean}> {\r\n    const params = new URLSearchParams({\r\n      skip: skip.toString(),\r\n      limit: limit.toString(),\r\n    })\r\n\r\n    if (complexity) {\r\n      params.append('complexity', complexity)\r\n    }\r\n\r\n    const response = await apiRequest<FlashcardSearchResponse>(`/flashcards/multimeaning?${params}`)\r\n\r\n    return {\r\n      flashcards: response.flashcards.map(transformBackendFlashcard),\r\n      total: response.total,\r\n      hasMore: response.has_more\r\n    }\r\n  },\r\n\r\n  // Get user's saved flashcards\r\n  async getSavedFlashcards(userId: string): Promise<{flashcards: FlashcardData[], total: number}> {\r\n    const response = await apiRequest<{flashcards: any[], total: number}>(`/flashcards/saved/${userId}`)\r\n    return {\r\n      flashcards: response.flashcards.map(transformBackendFlashcard),\r\n      total: response.total\r\n    }\r\n  },\r\n\r\n  // Get saved flashcards count\r\n  async getSavedFlashcardsCount(userId: string): Promise<{count: number}> {\r\n    const response = await apiRequest<{count: number}>(`/flashcards/saved/${userId}/count`)\r\n    return response\r\n  },\r\n\r\n  // Get flashcards by IDs\r\n  async getFlashcardsByIds(flashcardIds: string[]): Promise<FlashcardData[]> {\r\n    const response = await apiRequest<BackendFlashcardResponse[]>(`/flashcards/by-ids`, {\r\n      method: 'POST',\r\n      body: JSON.stringify(flashcardIds)\r\n    })\r\n    return response.map(transformBackendFlashcard)\r\n  },\r\n}\r\n\r\n// Export individual functions for backward compatibility\r\nexport async function getAllFlashcards(): Promise<FlashcardData[]> {\r\n  return flashcardAPI.getAllFlashcards()\r\n}\r\n\r\nexport async function getAllTopics(): Promise<FlashcardTopic[]> {\r\n  return flashcardAPI.getAllTopics()\r\n}\r\n\r\nexport async function getAllWordTypes(): Promise<WordType[]> {\r\n  return flashcardAPI.getAllWordTypes()\r\n}\r\n\r\nexport async function getFlashcardsByTopic(topicId: string, complexity?: string): Promise<{ flashcards: FlashcardData[]; title: string }> {\r\n  // Define special categories at function scope\r\n  const specialCategories = ['multi-meaning', 'multi-word']\r\n  \r\n  // Define word types that should use the by-type endpoint - get this dynamically from backend\r\n  try {\r\n    const allWordTypes = await flashcardAPI.getAllWordTypes()\r\n    const wordTypeIds = allWordTypes.map(wt => wt.id)\r\n    \r\n    // Check if this is a word type\r\n    if (wordTypeIds.includes(topicId.toLowerCase())) {\r\n      const wordType = allWordTypes.find(wt => wt.id === topicId.toLowerCase())\r\n      if (wordType) {\r\n        const flashcards = await flashcardAPI.getFlashcardsByType(wordType.name, complexity)\r\n        return {\r\n          flashcards,\r\n          title: wordType.title,\r\n        }\r\n      }\r\n    }\r\n    \r\n    // Check if this is a special category\r\n    if (specialCategories.includes(topicId.toLowerCase())) {\r\n      let flashcards: FlashcardData[]\r\n      let title: string\r\n      \r\n      if (topicId.toLowerCase() === 'multi-meaning') {\r\n        flashcards = await flashcardAPI.getMultimeaningFlashcards(complexity)\r\n        title = 'Multi-meaning Words'\r\n      } else if (topicId.toLowerCase() === 'multi-word') {\r\n        flashcards = await flashcardAPI.getMultiwordFlashcards(complexity)\r\n        title = 'Multi-word Expressions'\r\n      } else {\r\n        flashcards = []\r\n        title = topicId\r\n      }\r\n      \r\n      return {\r\n        flashcards,\r\n        title,\r\n      }\r\n    }\r\n  } catch (error) {\r\n    console.error(\"Error loading word types:\", error)\r\n    // Fallback to hardcoded list if API fails\r\n    const wordTypes = ['verb', 'noun', 'adj', 'adv', 'prep', 'conj', 'intj', 'pron', 'num', 'det', 'part']\r\n    \r\n    // Check if this is a word type\r\n    if (wordTypes.includes(topicId.toLowerCase())) {\r\n      const wordType = topicId.toUpperCase() // Backend expects uppercase\r\n      const flashcards = await flashcardAPI.getFlashcardsByType(wordType, complexity)\r\n      \r\n      // Create proper title for word types\r\n      const titleMap: Record<string, string> = {\r\n        'VERB': 'Verbs',\r\n        'NOUN': 'Nouns', \r\n        'ADJ': 'Adjectives',\r\n        'ADV': 'Adverbs',\r\n        'PREP': 'Prepositions',\r\n        'CONJ': 'Conjunctions',\r\n        'INTJ': 'Interjections',\r\n        'PRON': 'Pronouns',\r\n        'NUM': 'Numbers',\r\n        'DET': 'Determiners',\r\n        'PART': 'Particles'\r\n      }\r\n      \r\n      return {\r\n        flashcards,\r\n        title: titleMap[wordType] || wordType,\r\n      }\r\n    }\r\n  }\r\n  \r\n  // Check if this is a special category\r\n  if (specialCategories.includes(topicId.toLowerCase())) {\r\n    let flashcards: FlashcardData[]\r\n    let title: string\r\n    \r\n    if (topicId.toLowerCase() === 'multi-meaning') {\r\n      flashcards = await flashcardAPI.getMultimeaningFlashcards(complexity)\r\n      title = 'Multi-meaning Words'\r\n    } else if (topicId.toLowerCase() === 'multi-word') {\r\n      flashcards = await flashcardAPI.getMultiwordFlashcards(complexity)\r\n      title = 'Multi-word Expressions'\r\n    } else {\r\n      flashcards = []\r\n      title = topicId\r\n    }\r\n    \r\n    return {\r\n      flashcards,\r\n      title,\r\n    }\r\n  }\r\n  \r\n  // Otherwise, handle as regular topic\r\n  const result = await flashcardAPI.getFlashcardsByTopicLegacy(topicId, complexity)\r\n  const topics = await flashcardAPI.getAllTopics()\r\n  const topic = topics.find(t => t.id === topicId)\r\n  \r\n  return {\r\n    flashcards: result,\r\n    title: topic?.title || `Topic: ${topicId}`,\r\n  }\r\n}\r\n\r\nexport async function getFlashcardsByTopicWithPagination(\r\n  topicId: string, \r\n  complexity?: string, \r\n  skip = 0, \r\n  limit = 20\r\n): Promise<{ flashcards: FlashcardData[]; title: string; total: number; hasMore: boolean }> {\r\n  try {\r\n    const result = await flashcardAPI.getFlashcardsByTopic(topicId, complexity, skip, limit)\r\n    const topics = await flashcardAPI.getAllTopics()\r\n    const topic = topics.find(t => t.id === topicId)\r\n    \r\n    return {\r\n      flashcards: result.flashcards,\r\n      title: topic?.title || `Topic: ${topicId}`,\r\n      total: result.total,\r\n      hasMore: result.hasMore\r\n    }\r\n  } catch (error) {\r\n    console.error('Error fetching flashcards by topic with pagination:', error)\r\n    throw error\r\n  }\r\n}\r\n\r\n// Generic function to get flashcards by category ID (auto-detects type and uses pagination)\r\nexport async function getFlashcardsByCategoryWithPagination(\r\n  categoryId: string, \r\n  complexity?: string, \r\n  skip = 0, \r\n  limit = 20\r\n): Promise<{ flashcards: FlashcardData[]; title: string; total: number; hasMore: boolean }> {\r\n  try {\r\n    // Define special categories\r\n    const specialCategories = ['multi-meaning', 'multi-word']\r\n    \r\n    // Define title map for consistent naming\r\n    const titleMap: Record<string, string> = {\r\n      'VERB': 'Verbs',\r\n      'NOUN': 'Nouns', \r\n      'ADJ': 'Adjectives',\r\n      'ADV': 'Adverbs',\r\n      'PREP': 'Prepositions',\r\n      'CONJ': 'Conjunctions',\r\n      'INTJ': 'Interjections',\r\n      'PRON': 'Pronouns',\r\n      'NUM': 'Numbers',\r\n      'DET': 'Determiners',\r\n      'PART': 'Particles'\r\n    }\r\n    \r\n    // Try to get word types from backend first\r\n    try {\r\n      const allWordTypes = await flashcardAPI.getAllWordTypes()\r\n      const wordTypeIds = allWordTypes.map(wt => wt.id)\r\n      \r\n      // Check if this is a word type\r\n      if (wordTypeIds.includes(categoryId.toLowerCase())) {\r\n        const wordType = allWordTypes.find(wt => wt.id === categoryId.toLowerCase())\r\n        if (wordType) {\r\n          const result = await flashcardAPI.getFlashcardsByTypeWithPagination(wordType.name, complexity, skip, limit)\r\n          return {\r\n            flashcards: result.flashcards,\r\n            title: wordType.title,\r\n            total: result.total,\r\n            hasMore: result.hasMore\r\n          }\r\n        }\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Error loading word types, falling back to hardcoded list:\", error)\r\n      // Fallback to hardcoded list if API fails\r\n      const wordTypes = ['verb', 'noun', 'adj', 'adv', 'prep', 'conj', 'intj', 'pron', 'num', 'det', 'part']\r\n      \r\n      if (wordTypes.includes(categoryId.toLowerCase())) {\r\n        const wordType = categoryId.toUpperCase() // Backend expects uppercase\r\n        const result = await flashcardAPI.getFlashcardsByTypeWithPagination(wordType, complexity, skip, limit)\r\n        \r\n        return {\r\n          flashcards: result.flashcards,\r\n          title: titleMap[wordType] || wordType,\r\n          total: result.total,\r\n          hasMore: result.hasMore\r\n        }\r\n      }\r\n    }\r\n    \r\n    // Check if this is a special category\r\n    if (specialCategories.includes(categoryId.toLowerCase())) {\r\n      let result: {flashcards: FlashcardData[], total: number, hasMore: boolean}\r\n      let title: string\r\n      \r\n      if (categoryId.toLowerCase() === 'multi-meaning') {\r\n        result = await flashcardAPI.getMultimeaningFlashcardsWithPagination(complexity, skip, limit)\r\n        title = 'Multi-meaning Words'\r\n      } else if (categoryId.toLowerCase() === 'multi-word') {\r\n        result = await flashcardAPI.getMultiwordFlashcardsWithPagination(complexity, skip, limit)\r\n        title = 'Multi-word Expressions'\r\n      } else {\r\n        // Fallback\r\n        result = { flashcards: [], total: 0, hasMore: false }\r\n        title = categoryId\r\n      }\r\n      \r\n      return {\r\n        flashcards: result.flashcards,\r\n        title,\r\n        total: result.total,\r\n        hasMore: result.hasMore\r\n      }\r\n    }\r\n    \r\n    // Otherwise, handle as regular topic\r\n    const result = await flashcardAPI.getFlashcardsByTopic(categoryId, complexity, skip, limit)\r\n    const topics = await flashcardAPI.getAllTopics()\r\n    const topic = topics.find(t => t.id === categoryId)\r\n    \r\n    return {\r\n      flashcards: result.flashcards,\r\n      title: topic?.title || `Topic: ${categoryId}`,\r\n      total: result.total,\r\n      hasMore: result.hasMore\r\n    }\r\n  } catch (error) {\r\n    console.error('Error fetching flashcards by category with pagination:', error)\r\n    throw error\r\n  }\r\n}\r\n\r\n// Re-export types for convenience\r\nexport type {\r\n  FlashcardData,\r\n  FlashcardTopic,\r\n  WordType,\r\n  RandomFlashcardParams,\r\n  APIError,\r\n} from '../types/flashcard.types'\r\n\r\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8', key: 'v9h5vc' }],\n  ['path', { d: 'M21 3v5h-5', key: '1q7to0' }],\n  ['path', { d: 'M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16', key: '3uifl3' }],\n  ['path', { d: 'M8 16H3v5', key: '1cv678' }],\n];\n\n/**\n * @component @name RefreshCw\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMyAxMmE5IDkgMCAwIDEgOS05IDkuNzUgOS43NSAwIDAgMSA2Ljc0IDIuNzRMMjEgOCIgLz4KICA8cGF0aCBkPSJNMjEgM3Y1aC01IiAvPgogIDxwYXRoIGQ9Ik0yMSAxMmE5IDkgMCAwIDEtOSA5IDkuNzUgOS43NSAwIDAgMS02Ljc0LTIuNzRMMyAxNiIgLz4KICA8cGF0aCBkPSJNOCAxNkgzdjUiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/refresh-cw\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst RefreshCw = createLucideIcon('refresh-cw', __iconNode);\n\nexport default RefreshCw;\n","\"use client\"\n\nimport { useState, useEffect, useCallback } from \"react\"\nimport { supabase } from \"@/shared/lib/supabase/client\"\nimport { authSessionManager } from \"@/features/flashcards/utils/auth-session-manager\"\nimport { toast } from \"sonner\"\nimport { playCorrectSound, playIncorrectSound, playFlipSound } from \"@/shared/utils/audio\"\nimport type { FlashcardData } from \"@/features/flashcards/types/flashcard.types\"\nimport { useDisplaySettings } from \"@/features/settings/hooks/use-display-settings\"\n\nexport interface CardResult {\n  cardId: string\n  result: \"correct\" | \"incorrect\" | \"unsure\"\n  timeSpent: number\n}\n\ninterface UseFlashcardReviewProps {\n  cards: FlashcardData[]\n  onSessionComplete?: () => void\n  enableTimer?: boolean\n}\n\nexport const useFlashcardReview = ({ \n  cards, \n  onSessionComplete, \n  enableTimer = true \n}: UseFlashcardReviewProps) => {\n  const { getReviewTimeSeconds } = useDisplaySettings()\n  const reviewTimeSeconds = getReviewTimeSeconds()\n  \n  const [currentCardIndex, setCurrentCardIndex] = useState(0)\n  const [isFlipped, setIsFlipped] = useState(false)\n  const [timer, setTimer] = useState(reviewTimeSeconds)\n  const [isTimerActive, setIsTimerActive] = useState(false)\n  const [cardResults, setCardResults] = useState<CardResult[]>([])\n  const [startTime, setStartTime] = useState<Date | null>(null)\n  const [savedCards, setSavedCards] = useState<Set<string>>(new Set())\n\n  // Set review session status when component mounts/unmounts\n  useEffect(() => {\n    authSessionManager.setReviewSession(true)\n    \n    return () => {\n      authSessionManager.setReviewSession(false)\n    }\n  }, [])\n\n  // Tab visibility detection for debugging (development only)\n  useEffect(() => {\n    if (process.env.NODE_ENV !== 'development') return\n\n    const handleVisibilityChange = () => {\n      console.log(\"ðŸ‘ï¸ [HOOK] Tab visibility changed:\", {\n        visibilityState: document.visibilityState,\n        hidden: document.hidden,\n        timestamp: new Date().toISOString(),\n        currentCardIndex,\n        isFlipped,\n        timer,\n        isTimerActive,\n        cardsLength: cards.length,\n        hasStartTime: !!startTime\n      })\n    }\n\n    const handleFocus = () => {\n      console.log(\"ðŸŽ¯ [HOOK] Window focused:\", {\n        timestamp: new Date().toISOString(),\n        currentCardIndex,\n        isFlipped,\n        timer,\n        isTimerActive,\n        cardsLength: cards.length\n      })\n    }\n\n    const handleBlur = () => {\n      console.log(\"ðŸ˜´ [HOOK] Window blurred:\", {\n        timestamp: new Date().toISOString(),\n        currentCardIndex,\n        isFlipped,\n        timer,\n        isTimerActive,\n        cardsLength: cards.length\n      })\n    }\n\n    document.addEventListener('visibilitychange', handleVisibilityChange)\n    window.addEventListener('focus', handleFocus)\n    window.addEventListener('blur', handleBlur)\n\n    return () => {\n      document.removeEventListener('visibilitychange', handleVisibilityChange)\n      window.removeEventListener('focus', handleFocus)\n      window.removeEventListener('blur', handleBlur)\n    }\n  }, [currentCardIndex, isFlipped, timer, isTimerActive, cards.length, startTime])\n\n  // Load saved cards for current user\n  useEffect(() => {\n    const loadSavedCards = async () => {\n      try {\n        const { data: { user } } = await supabase.auth.getUser()\n        if (!user) return\n\n        const { data: savedFlashcards, error } = await supabase\n          .from(\"saved_flashcards\")\n          .select(\"flashcard_id, flashcard_type, topic\")\n          .eq(\"UserID\", user.id)\n\n        if (savedFlashcards) {\n          setSavedCards(new Set(savedFlashcards.map((item: any) => item.flashcard_id)))\n        }\n      } catch (error) {\n        console.error(\"Error loading saved cards:\", error)\n      }\n    }\n\n    loadSavedCards()\n  }, [])\n\n  // Timer effect\n  useEffect(() => {\n    if (!enableTimer || !isTimerActive || timer <= 0) {\n      if (process.env.NODE_ENV === 'development') {\n        console.log(\"â° [HOOK] Timer not active:\", {\n          enableTimer,\n          isTimerActive,\n          timer,\n          timestamp: new Date().toISOString(),\n          documentVisibility: document.visibilityState\n        })\n      }\n      return\n    }\n\n    if (process.env.NODE_ENV === 'development') {\n      console.log(\"â° [HOOK] Starting timer interval:\", {\n        timer,\n        isTimerActive,\n        timestamp: new Date().toISOString(),\n        documentVisibility: document.visibilityState\n      })\n    }\n\n    const intervalId = setInterval(() => {\n      setTimer(prev => {\n        const newTimer = prev - 1\n        if (process.env.NODE_ENV === 'development' && (newTimer % 5 === 0 || newTimer <= 3)) {\n          console.log(\"â° [HOOK] Timer tick:\", {\n            oldTimer: prev,\n            newTimer,\n            timestamp: new Date().toISOString(),\n            documentVisibility: document.visibilityState\n          })\n        }\n        return newTimer\n      })\n    }, 1000)\n\n    return () => {\n      if (process.env.NODE_ENV === 'development') {\n        console.log(\"â° [HOOK] Clearing timer interval\")\n      }\n      clearInterval(intervalId)\n    }\n  }, [enableTimer, isTimerActive, timer])\n\n  // Auto-flip when timer reaches 0\n  useEffect(() => {\n    if (enableTimer && timer === 0 && isTimerActive) {\n      if (process.env.NODE_ENV === 'development') {\n        console.log(\"ðŸ”„ [HOOK] Auto-flipping card due to timer\", {\n          timer,\n          isTimerActive,\n          timestamp: new Date().toISOString(),\n          documentVisibility: document.visibilityState\n        })\n      }\n      setIsFlipped(true)\n      setIsTimerActive(false)\n      playFlipSound()\n    }\n  }, [enableTimer, timer, isTimerActive])\n\n  // Start new card\n  const startNewCard = useCallback(() => {\n    if (process.env.NODE_ENV === 'development') {\n      console.log(\"ðŸ†• [HOOK] Starting new card:\", {\n        currentCardIndex,\n        reviewTimeSeconds,\n        enableTimer,\n        timestamp: new Date().toISOString(),\n        documentVisibility: document.visibilityState\n      })\n    }\n    setIsFlipped(false)\n    setTimer(reviewTimeSeconds)\n    if (enableTimer) {\n      setIsTimerActive(true)\n    }\n    setStartTime(new Date())\n  }, [enableTimer, reviewTimeSeconds, currentCardIndex])\n\n  // Handle starting new card when index changes\n  useEffect(() => {\n    if (process.env.NODE_ENV === 'development') {\n      console.log(\"ðŸ”„ [HOOK] Card index changed:\", {\n        currentCardIndex,\n        cardsLength: cards.length,\n        shouldStartNewCard: cards.length > 0 && currentCardIndex < cards.length,\n        timestamp: new Date().toISOString(),\n        documentVisibility: document.visibilityState\n      })\n    }\n    if (cards.length > 0 && currentCardIndex < cards.length) {\n      startNewCard()\n    }\n  }, [currentCardIndex, cards.length, startNewCard])\n\n  // Debug effect to monitor state changes (development only)\n  useEffect(() => {\n    if (process.env.NODE_ENV === 'development') {\n      console.log(\"ðŸ” [HOOK] State update:\", {\n        currentCardIndex,\n        isFlipped,\n        timer,\n        isTimerActive,\n        cardsLength: cards.length,\n        hasCurrentCard: !!cards[currentCardIndex],\n        timestamp: new Date().toISOString(),\n        documentVisibility: document.visibilityState\n      })\n    }\n  }, [currentCardIndex, isFlipped, timer, isTimerActive, cards.length])\n\n  // Handle card result - ensure progress even after inactivity\n  const handleCardResult = useCallback(\n    (result: \"correct\" | \"incorrect\" | \"unsure\") => {\n      if (process.env.NODE_ENV === 'development') {\n        console.log(\"ðŸŽ¯ [HOOK] handleCardResult called:\", result, { \n          currentCardIndex, \n          isFlipped, \n          timer, \n          isTimerActive,\n          hasCards: !!cards[currentCardIndex],\n          hasStartTime: !!startTime,\n          timestamp: new Date().toISOString(),\n          documentVisibility: document.visibilityState,\n          documentHidden: document.hidden,\n          cardsLength: cards.length\n        })\n      }\n\n      if (!cards[currentCardIndex]) {\n        console.warn(\"âŒ [HOOK] No card at index:\", currentCardIndex, {\n          cardsLength: cards.length,\n          currentCardIndex,\n          timestamp: new Date().toISOString()\n        })\n        return\n      }\n\n      // If startTime lost due to inactivity, re-initialize\n      const effectiveStartTime = startTime ?? new Date()\n      if (!startTime) {\n        if (process.env.NODE_ENV === 'development') {\n          console.log(\"ðŸ”„ [HOOK] Re-initializing startTime after inactivity\", {\n            timestamp: new Date().toISOString(),\n            documentVisibility: document.visibilityState\n          })\n        }\n        setStartTime(effectiveStartTime)\n      }\n\n      if (process.env.NODE_ENV === 'development') {\n        console.log(\"ðŸ”Š [HOOK] Playing sound for result:\", result)\n      }\n      if (result === 'correct') {\n        playCorrectSound()\n      } else if (result === 'incorrect') {\n        playIncorrectSound()\n      }\n      // 'unsure' doesn't have a sound effect\n\n      const timeSpent = Date.now() - effectiveStartTime.getTime()\n      const cardResult: CardResult = {\n        cardId: cards[currentCardIndex].id,\n        result,\n        timeSpent,\n      }\n      \n      if (process.env.NODE_ENV === 'development') {\n        console.log(\"ðŸ“ Recording result:\", cardResult)\n      }\n      setCardResults(prev => [...prev, cardResult])\n\n      // Always progress locally, regardless of timer state\n      if (currentCardIndex < cards.length - 1) {\n        if (process.env.NODE_ENV === 'development') {\n          console.log(\"âž¡ï¸ Moving to next card:\", currentCardIndex + 1)\n        }\n        setCurrentCardIndex(prev => {\n          const newIndex = prev + 1\n          if (process.env.NODE_ENV === 'development') {\n            console.log(\"ðŸ”„ currentCardIndex updated:\", prev, \"->\", newIndex)\n          }\n          return newIndex\n        })\n      } else {\n        if (process.env.NODE_ENV === 'development') {\n          console.log(\"ðŸ Session complete\")\n        }\n        if (onSessionComplete) {\n          onSessionComplete()\n        }\n      }\n\n      // Stop timer on result\n      setIsTimerActive(false)\n    },\n    [cards, currentCardIndex, startTime, onSessionComplete, isFlipped, timer, isTimerActive]\n  )\n\n  // Handle saving/unsaving cards\n  const handleSaveCard = useCallback(\n    async (cardId: string) => {\n      try {\n        const { data: { user } } = await supabase.auth.getUser()\n        if (!user) return\n\n        const newSavedCards = new Set(savedCards)\n        if (newSavedCards.has(cardId)) {\n          newSavedCards.delete(cardId)\n          await supabase\n            .from(\"saved_flashcards\")\n            .delete()\n            .eq(\"UserID\", user.id)\n            .eq(\"flashcard_id\", cardId)\n          toast.success(\"Card removed from saved!\")\n        } else {\n          newSavedCards.add(cardId)\n          await supabase\n            .from(\"saved_flashcards\")\n            .insert({ UserID: user.id, flashcard_id: cardId })\n          toast.success(\"Card saved!\")\n        }\n        \n        setSavedCards(newSavedCards)\n      } catch (error) {\n        console.error(\"Error saving card:\", error)\n        toast.error(\"Failed to save card\")\n      }\n    },\n    [savedCards]\n  )\n\n  // Handle manual card flip\n  const handleFlipCard = useCallback(() => {\n    if (process.env.NODE_ENV === 'development') {\n      console.log(\"ðŸ”„ [HOOK] Manual flip triggered\", {\n        currentIsFlipped: isFlipped,\n        currentCardIndex,\n        timer,\n        isTimerActive,\n        timestamp: new Date().toISOString(),\n        documentVisibility: document.visibilityState\n      })\n    }\n    setIsFlipped(prev => {\n      if (!prev) {\n        if (process.env.NODE_ENV === 'development') {\n          console.log(\"ðŸ”„ [HOOK] Flipping card and stopping timer\")\n        }\n        playFlipSound()\n        // Stop timer when manually flipped\n        setIsTimerActive(false)\n      }\n      return !prev\n    })\n  }, [isFlipped, currentCardIndex, timer, isTimerActive])\n\n  // Reset session\n  const resetSession = useCallback(() => {\n    if (process.env.NODE_ENV === 'development') {\n      console.log(\"ðŸ”„ [HOOK] Resetting session\", {\n        timestamp: new Date().toISOString(),\n        documentVisibility: document.visibilityState\n      })\n    }\n    setCurrentCardIndex(0)\n    setIsFlipped(false)\n    setTimer(reviewTimeSeconds)\n    setIsTimerActive(false)\n    setCardResults([])\n    setStartTime(null)\n  }, [reviewTimeSeconds])\n\n  // Get progress statistics\n  const getProgressStats = useCallback(() => {\n    const correct = cardResults.filter(r => r.result === \"correct\").length\n    const incorrect = cardResults.filter(r => r.result === \"incorrect\").length\n    const unsure = cardResults.filter(r => r.result === \"unsure\").length\n    const total = cardResults.length\n    \n    return {\n      correct,\n      incorrect,\n      unsure,\n      total,\n      remaining: cards.length - total,\n      accuracy: total > 0 ? (correct / total) * 100 : 0,\n    }\n  }, [cardResults, cards.length])\n\n  const currentCard = cards[currentCardIndex] || null\n\n  return {\n    // State\n    currentCard,\n    currentCardIndex,\n    isFlipped,\n    timer,\n    isTimerActive,\n    cardResults,\n    savedCards,\n    startTime,\n    \n    // Actions\n    handleCardResult,\n    handleSaveCard,\n    handleFlipCard,\n    resetSession,\n    \n    // Computed values\n    getProgressStats,\n    hasMoreCards: currentCardIndex < cards.length - 1,\n    progress: cards.length > 0 ? ((currentCardIndex + 1) / cards.length) * 100 : 0,\n  }\n}","/**\r\n * Auth Session Manager for Vietnamese Learning App\r\n * Handles auth session refresh intelligently to avoid disrupting review sessions\r\n */\r\n\r\nimport { createClient } from '@/shared/lib/supabase/client'\r\n\r\nexport class AuthSessionManager {\r\n  private static instance: AuthSessionManager\r\n  private isReviewSession = false\r\n  private refreshTimeout: NodeJS.Timeout | null = null\r\n\r\n  private constructor() {\r\n    this.setupVisibilityListener()\r\n  }\r\n\r\n  public static getInstance(): AuthSessionManager {\r\n    if (!AuthSessionManager.instance) {\r\n      AuthSessionManager.instance = new AuthSessionManager()\r\n    }\r\n    return AuthSessionManager.instance\r\n  }\r\n\r\n  /**\r\n   * Set whether we're currently in a review session\r\n   */\r\n  public setReviewSession(isReview: boolean) {\r\n    this.isReviewSession = isReview\r\n    console.log('ðŸ”„ AuthSessionManager: Review session status:', isReview)\r\n  }\r\n\r\n  /**\r\n   * Setup visibility change listener to handle session refresh\r\n   */\r\n  private setupVisibilityListener() {\r\n    if (typeof window === 'undefined') return\r\n\r\n    document.addEventListener('visibilitychange', () => {\r\n      if (document.visibilityState === 'visible') {\r\n        this.handleTabFocus()\r\n      } else {\r\n        this.handleTabBlur()\r\n      }\r\n    })\r\n  }\r\n\r\n  /**\r\n   * Handle when tab becomes visible\r\n   */\r\n  private async handleTabFocus() {\r\n    if (this.isReviewSession) {\r\n      console.log('ðŸš« AuthSessionManager: Skipping session refresh during review session')\r\n      return\r\n    }\r\n\r\n    // Clear any existing timeout\r\n    if (this.refreshTimeout) {\r\n      clearTimeout(this.refreshTimeout)\r\n    }\r\n\r\n    // Delay session refresh to avoid disrupting user interactions\r\n    this.refreshTimeout = setTimeout(async () => {\r\n      await this.refreshSession()\r\n    }, 2000) // 2 second delay\r\n  }\r\n\r\n  /**\r\n   * Handle when tab becomes hidden\r\n   */\r\n  private handleTabBlur() {\r\n    // Clear any pending refresh\r\n    if (this.refreshTimeout) {\r\n      clearTimeout(this.refreshTimeout)\r\n      this.refreshTimeout = null\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Refresh the auth session\r\n   */\r\n  private async refreshSession() {\r\n    try {\r\n      const supabase = createClient()\r\n      const { data, error } = await supabase.auth.getSession()\r\n      \r\n      if (error) {\r\n        console.error('âŒ Auth session refresh error:', error)\r\n      } else {\r\n        console.log('âœ… Auth session refreshed successfully')\r\n      }\r\n    } catch (error) {\r\n      console.error('âŒ Auth session refresh failed:', error)\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Force refresh session (for non-review contexts)\r\n   */\r\n  public async forceRefresh() {\r\n    if (this.isReviewSession) {\r\n      console.log('ðŸš« AuthSessionManager: Cannot force refresh during review session')\r\n      return\r\n    }\r\n    \r\n    await this.refreshSession()\r\n  }\r\n}\r\n\r\n// Export singleton instance\r\nexport const authSessionManager = AuthSessionManager.getInstance()\r\n\r\n","'use client'\r\n\r\nimport { Card, CardContent } from \"@/shared/components/ui/card\";\r\nimport { Button } from \"@/shared/components/ui/button\";\r\nimport { AlarmClock, Check, X, CircleHelp, RefreshCw } from \"lucide-react\";\r\nimport { FlashcardComponent } from \"@/features/flashcards/components/core/flashcard-component\";\r\nimport type { FlashcardData } from \"@/features/flashcards/types/flashcard.types\";\r\n\r\ninterface ReviewSessionProps {\r\n  practiceCards: FlashcardData[];\r\n  currentCard: FlashcardData | null;\r\n  currentCardIndex: number;\r\n  isFlipped: boolean;\r\n  timer: number;\r\n  isTimerActive: boolean;\r\n  cardResults: any[];\r\n  progressStats: any;\r\n  savedCards: Set<string>;\r\n  onCardResult: (result: 'correct' | 'incorrect' | 'unsure') => void;\r\n  onSaveCard: (cardId: string) => void;\r\n  onFlipCard: () => void;\r\n  onRefreshCards: () => void;\r\n  onGetFreshCards: () => void;\r\n  getAnimationDuration: () => number;\r\n  isLoading: boolean;\r\n}\r\n\r\nexport function ReviewSession({\r\n  practiceCards,\r\n  currentCard,\r\n  currentCardIndex,\r\n  isFlipped,\r\n  timer,\r\n  isTimerActive,\r\n  cardResults,\r\n  progressStats,\r\n  savedCards,\r\n  onCardResult,\r\n  onSaveCard,\r\n  onFlipCard,\r\n  onRefreshCards,\r\n  onGetFreshCards,\r\n  getAnimationDuration,\r\n  isLoading,\r\n}: ReviewSessionProps) {\r\n  if (!practiceCards.length || !currentCard) {\r\n    return null;\r\n  }\r\n\r\n  return (\r\n    <Card className=\"mb-8 bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-blue-950/20 dark:to-indigo-950/20 border-blue-200 dark:border-blue-800\">\r\n      <CardContent className=\"p-8\">\r\n        <div className=\"space-y-6\">\r\n          <div className=\"text-center\">\r\n            <div className=\"flex items-center justify-center gap-4 mb-2\">\r\n              <div className=\"flex items-center gap-2\">\r\n                <AlarmClock className=\"h-5 w-5 text-blue-600\" />\r\n                <span className=\"text-lg font-medium text-blue-900 dark:text-blue-100\">\r\n                  {timer > 0\r\n                    ? `${timer}s`\r\n                    : isFlipped\r\n                      ? \"Review time!\"\r\n                      : \"\"}\r\n                </span>\r\n              </div>\r\n              <Button\r\n                onClick={onRefreshCards}\r\n                variant=\"outline\"\r\n                size=\"sm\"\r\n                className=\"h-8 w-8 p-0\"\r\n                disabled={isLoading}\r\n                title=\"Restart session\"\r\n              >\r\n                <RefreshCw\r\n                  className={`h-4 w-4 ${isLoading ? \"animate-spin\" : \"\"}`}\r\n                />\r\n              </Button>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"flex justify-center\">\r\n            <FlashcardComponent\r\n              data={currentCard}\r\n              saved={savedCards.has(currentCard.id)}\r\n              onSave={onSaveCard}\r\n              onFlip={onFlipCard}\r\n              isFlipped={isFlipped}\r\n              animationDuration={getAnimationDuration()}\r\n            />\r\n          </div>\r\n\r\n          <div className=\"flex justify-center gap-4 md:gap-6\">\r\n            <Button\r\n              onClick={() => onCardResult(\"incorrect\")}\r\n              className=\"w-16 h-16 rounded-full bg-red-100 hover:bg-red-200 border-0\"\r\n              variant=\"outline\"\r\n              disabled={!isFlipped}\r\n            >\r\n              <X className=\"h-8 w-8 text-red-600\" />\r\n            </Button>\r\n\r\n            <Button\r\n              onClick={() => onCardResult(\"unsure\")}\r\n              className=\"w-16 h-16 rounded-full bg-yellow-100 hover:bg-yellow-200 border-0\"\r\n              variant=\"outline\"\r\n              disabled={!isFlipped}\r\n              title=\"Unsure\"\r\n              aria-label=\"Unsure\"\r\n            >\r\n              <CircleHelp className=\"h-8 w-8 text-yellow-600\" />\r\n            </Button>\r\n\r\n            <Button\r\n              onClick={() => onCardResult(\"correct\")}\r\n              className=\"w-16 h-16 rounded-full bg-green-100 hover:bg-green-200 border-0\"\r\n              variant=\"outline\"\r\n              disabled={!isFlipped}\r\n            >\r\n              <Check className=\"h-8 w-8 text-green-600\" />\r\n            </Button>\r\n          </div>\r\n\r\n          <div className=\"space-y-2\">\r\n            <div className=\"flex justify-between text-sm\">\r\n              <span className=\"text-blue-700 dark:text-blue-300\">\r\n                Card {currentCardIndex + 1} of {practiceCards.length}\r\n              </span>\r\n              <span className=\"text-blue-700 dark:text-blue-300\">\r\n                Correct: {progressStats.correct} | Incorrect:{\" \"}\r\n                {progressStats.incorrect} | Unsure: {progressStats.unsure}\r\n              </span>\r\n            </div>\r\n\r\n            <div className=\"grid grid-cols-10 gap-1\">\r\n              {practiceCards.map((_, index) => {\r\n                let bgColor = \"bg-gray-200\";\r\n\r\n                if (index < progressStats.total) {\r\n                  // This card has been reviewed - get the specific result for this card\r\n                  const cardResult = cardResults[index]?.result;\r\n                  if (cardResult === \"correct\") {\r\n                    bgColor = \"bg-green-500\";\r\n                  } else if (cardResult === \"incorrect\") {\r\n                    bgColor = \"bg-red-500\";\r\n                  } else if (cardResult === \"unsure\") {\r\n                    bgColor = \"bg-yellow-500\";\r\n                  }\r\n                } else if (index === currentCardIndex) {\r\n                  bgColor = \"bg-gray-300\";\r\n                }\r\n\r\n                return (\r\n                  <div key={index} className={`h-2 rounded ${bgColor}`} />\r\n                );\r\n              })}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </CardContent>\r\n    </Card>\r\n  );\r\n}\r\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['circle', { cx: '12', cy: '13', r: '8', key: '3y4lt7' }],\n  ['path', { d: 'M12 9v4l2 2', key: '1c63tq' }],\n  ['path', { d: 'M5 3 2 6', key: '18tl5t' }],\n  ['path', { d: 'm22 6-3-3', key: '1opdir' }],\n  ['path', { d: 'M6.38 18.7 4 21', key: '17xu3x' }],\n  ['path', { d: 'M17.64 18.67 20 21', key: 'kv2oe2' }],\n];\n\n/**\n * @component @name AlarmClock\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8Y2lyY2xlIGN4PSIxMiIgY3k9IjEzIiByPSI4IiAvPgogIDxwYXRoIGQ9Ik0xMiA5djRsMiAyIiAvPgogIDxwYXRoIGQ9Ik01IDMgMiA2IiAvPgogIDxwYXRoIGQ9Im0yMiA2LTMtMyIgLz4KICA8cGF0aCBkPSJNNi4zOCAxOC43IDQgMjEiIC8+CiAgPHBhdGggZD0iTTE3LjY0IDE4LjY3IDIwIDIxIiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/alarm-clock\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst AlarmClock = createLucideIcon('alarm-clock', __iconNode);\n\nexport default AlarmClock;\n","\"use client\";\n\n// src/checkbox.tsx\nimport * as React from \"react\";\nimport { useComposedRefs } from \"@radix-ui/react-compose-refs\";\nimport { createContextScope } from \"@radix-ui/react-context\";\nimport { composeEventHandlers } from \"@radix-ui/primitive\";\nimport { useControllableState } from \"@radix-ui/react-use-controllable-state\";\nimport { usePrevious } from \"@radix-ui/react-use-previous\";\nimport { useSize } from \"@radix-ui/react-use-size\";\nimport { Presence } from \"@radix-ui/react-presence\";\nimport { Primitive } from \"@radix-ui/react-primitive\";\nimport { Fragment, jsx, jsxs } from \"react/jsx-runtime\";\nvar CHECKBOX_NAME = \"Checkbox\";\nvar [createCheckboxContext, createCheckboxScope] = createContextScope(CHECKBOX_NAME);\nvar [CheckboxProviderImpl, useCheckboxContext] = createCheckboxContext(CHECKBOX_NAME);\nfunction CheckboxProvider(props) {\n  const {\n    __scopeCheckbox,\n    checked: checkedProp,\n    children,\n    defaultChecked,\n    disabled,\n    form,\n    name,\n    onCheckedChange,\n    required,\n    value = \"on\",\n    // @ts-expect-error\n    internal_do_not_use_render\n  } = props;\n  const [checked, setChecked] = useControllableState({\n    prop: checkedProp,\n    defaultProp: defaultChecked ?? false,\n    onChange: onCheckedChange,\n    caller: CHECKBOX_NAME\n  });\n  const [control, setControl] = React.useState(null);\n  const [bubbleInput, setBubbleInput] = React.useState(null);\n  const hasConsumerStoppedPropagationRef = React.useRef(false);\n  const isFormControl = control ? !!form || !!control.closest(\"form\") : (\n    // We set this to true by default so that events bubble to forms without JS (SSR)\n    true\n  );\n  const context = {\n    checked,\n    disabled,\n    setChecked,\n    control,\n    setControl,\n    name,\n    form,\n    value,\n    hasConsumerStoppedPropagationRef,\n    required,\n    defaultChecked: isIndeterminate(defaultChecked) ? false : defaultChecked,\n    isFormControl,\n    bubbleInput,\n    setBubbleInput\n  };\n  return /* @__PURE__ */ jsx(\n    CheckboxProviderImpl,\n    {\n      scope: __scopeCheckbox,\n      ...context,\n      children: isFunction(internal_do_not_use_render) ? internal_do_not_use_render(context) : children\n    }\n  );\n}\nvar TRIGGER_NAME = \"CheckboxTrigger\";\nvar CheckboxTrigger = React.forwardRef(\n  ({ __scopeCheckbox, onKeyDown, onClick, ...checkboxProps }, forwardedRef) => {\n    const {\n      control,\n      value,\n      disabled,\n      checked,\n      required,\n      setControl,\n      setChecked,\n      hasConsumerStoppedPropagationRef,\n      isFormControl,\n      bubbleInput\n    } = useCheckboxContext(TRIGGER_NAME, __scopeCheckbox);\n    const composedRefs = useComposedRefs(forwardedRef, setControl);\n    const initialCheckedStateRef = React.useRef(checked);\n    React.useEffect(() => {\n      const form = control?.form;\n      if (form) {\n        const reset = () => setChecked(initialCheckedStateRef.current);\n        form.addEventListener(\"reset\", reset);\n        return () => form.removeEventListener(\"reset\", reset);\n      }\n    }, [control, setChecked]);\n    return /* @__PURE__ */ jsx(\n      Primitive.button,\n      {\n        type: \"button\",\n        role: \"checkbox\",\n        \"aria-checked\": isIndeterminate(checked) ? \"mixed\" : checked,\n        \"aria-required\": required,\n        \"data-state\": getState(checked),\n        \"data-disabled\": disabled ? \"\" : void 0,\n        disabled,\n        value,\n        ...checkboxProps,\n        ref: composedRefs,\n        onKeyDown: composeEventHandlers(onKeyDown, (event) => {\n          if (event.key === \"Enter\") event.preventDefault();\n        }),\n        onClick: composeEventHandlers(onClick, (event) => {\n          setChecked((prevChecked) => isIndeterminate(prevChecked) ? true : !prevChecked);\n          if (bubbleInput && isFormControl) {\n            hasConsumerStoppedPropagationRef.current = event.isPropagationStopped();\n            if (!hasConsumerStoppedPropagationRef.current) event.stopPropagation();\n          }\n        })\n      }\n    );\n  }\n);\nCheckboxTrigger.displayName = TRIGGER_NAME;\nvar Checkbox = React.forwardRef(\n  (props, forwardedRef) => {\n    const {\n      __scopeCheckbox,\n      name,\n      checked,\n      defaultChecked,\n      required,\n      disabled,\n      value,\n      onCheckedChange,\n      form,\n      ...checkboxProps\n    } = props;\n    return /* @__PURE__ */ jsx(\n      CheckboxProvider,\n      {\n        __scopeCheckbox,\n        checked,\n        defaultChecked,\n        disabled,\n        required,\n        onCheckedChange,\n        name,\n        form,\n        value,\n        internal_do_not_use_render: ({ isFormControl }) => /* @__PURE__ */ jsxs(Fragment, { children: [\n          /* @__PURE__ */ jsx(\n            CheckboxTrigger,\n            {\n              ...checkboxProps,\n              ref: forwardedRef,\n              __scopeCheckbox\n            }\n          ),\n          isFormControl && /* @__PURE__ */ jsx(\n            CheckboxBubbleInput,\n            {\n              __scopeCheckbox\n            }\n          )\n        ] })\n      }\n    );\n  }\n);\nCheckbox.displayName = CHECKBOX_NAME;\nvar INDICATOR_NAME = \"CheckboxIndicator\";\nvar CheckboxIndicator = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeCheckbox, forceMount, ...indicatorProps } = props;\n    const context = useCheckboxContext(INDICATOR_NAME, __scopeCheckbox);\n    return /* @__PURE__ */ jsx(\n      Presence,\n      {\n        present: forceMount || isIndeterminate(context.checked) || context.checked === true,\n        children: /* @__PURE__ */ jsx(\n          Primitive.span,\n          {\n            \"data-state\": getState(context.checked),\n            \"data-disabled\": context.disabled ? \"\" : void 0,\n            ...indicatorProps,\n            ref: forwardedRef,\n            style: { pointerEvents: \"none\", ...props.style }\n          }\n        )\n      }\n    );\n  }\n);\nCheckboxIndicator.displayName = INDICATOR_NAME;\nvar BUBBLE_INPUT_NAME = \"CheckboxBubbleInput\";\nvar CheckboxBubbleInput = React.forwardRef(\n  ({ __scopeCheckbox, ...props }, forwardedRef) => {\n    const {\n      control,\n      hasConsumerStoppedPropagationRef,\n      checked,\n      defaultChecked,\n      required,\n      disabled,\n      name,\n      value,\n      form,\n      bubbleInput,\n      setBubbleInput\n    } = useCheckboxContext(BUBBLE_INPUT_NAME, __scopeCheckbox);\n    const composedRefs = useComposedRefs(forwardedRef, setBubbleInput);\n    const prevChecked = usePrevious(checked);\n    const controlSize = useSize(control);\n    React.useEffect(() => {\n      const input = bubbleInput;\n      if (!input) return;\n      const inputProto = window.HTMLInputElement.prototype;\n      const descriptor = Object.getOwnPropertyDescriptor(\n        inputProto,\n        \"checked\"\n      );\n      const setChecked = descriptor.set;\n      const bubbles = !hasConsumerStoppedPropagationRef.current;\n      if (prevChecked !== checked && setChecked) {\n        const event = new Event(\"click\", { bubbles });\n        input.indeterminate = isIndeterminate(checked);\n        setChecked.call(input, isIndeterminate(checked) ? false : checked);\n        input.dispatchEvent(event);\n      }\n    }, [bubbleInput, prevChecked, checked, hasConsumerStoppedPropagationRef]);\n    const defaultCheckedRef = React.useRef(isIndeterminate(checked) ? false : checked);\n    return /* @__PURE__ */ jsx(\n      Primitive.input,\n      {\n        type: \"checkbox\",\n        \"aria-hidden\": true,\n        defaultChecked: defaultChecked ?? defaultCheckedRef.current,\n        required,\n        disabled,\n        name,\n        value,\n        form,\n        ...props,\n        tabIndex: -1,\n        ref: composedRefs,\n        style: {\n          ...props.style,\n          ...controlSize,\n          position: \"absolute\",\n          pointerEvents: \"none\",\n          opacity: 0,\n          margin: 0,\n          // We transform because the input is absolutely positioned but we have\n          // rendered it **after** the button. This pulls it back to sit on top\n          // of the button.\n          transform: \"translateX(-100%)\"\n        }\n      }\n    );\n  }\n);\nCheckboxBubbleInput.displayName = BUBBLE_INPUT_NAME;\nfunction isFunction(value) {\n  return typeof value === \"function\";\n}\nfunction isIndeterminate(checked) {\n  return checked === \"indeterminate\";\n}\nfunction getState(checked) {\n  return isIndeterminate(checked) ? \"indeterminate\" : checked ? \"checked\" : \"unchecked\";\n}\nexport {\n  Checkbox,\n  CheckboxIndicator,\n  CheckboxIndicator as Indicator,\n  Checkbox as Root,\n  createCheckboxScope,\n  CheckboxBubbleInput as unstable_BubbleInput,\n  CheckboxBubbleInput as unstable_CheckboxBubbleInput,\n  CheckboxProvider as unstable_CheckboxProvider,\n  CheckboxTrigger as unstable_CheckboxTrigger,\n  CheckboxProvider as unstable_Provider,\n  CheckboxTrigger as unstable_Trigger\n};\n//# sourceMappingURL=index.mjs.map\n","\"use client\"\n\nimport * as React from \"react\"\nimport * as CheckboxPrimitive from \"@radix-ui/react-checkbox\"\nimport { CheckIcon } from \"lucide-react\"\n\nimport { cn } from \"@/shared/utils/cn\"\n\nfunction Checkbox({\n  className,\n  ...props\n}: React.ComponentProps<typeof CheckboxPrimitive.Root>) {\n  return (\n    <CheckboxPrimitive.Root\n      data-slot=\"checkbox\"\n      className={cn(\n        \"peer border-input dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50\",\n        className\n      )}\n      {...props}\n    >\n      <CheckboxPrimitive.Indicator\n        data-slot=\"checkbox-indicator\"\n        className=\"grid place-content-center text-current transition-none\"\n      >\n        <CheckIcon className=\"size-3.5\" />\n      </CheckboxPrimitive.Indicator>\n    </CheckboxPrimitive.Root>\n  )\n}\n\nexport { Checkbox }\n","/**\r\n * Audio utilities for flashcard pronunciation\r\n */\r\n\r\nimport { DisplaySettings } from \"@/shared/types/settings\"\r\n\r\nexport interface AudioOptions {\r\n  volume?: number\r\n  loop?: boolean\r\n  preload?: boolean\r\n}\r\n\r\nexport class AudioManager {\r\n  private static instance: AudioManager\r\n  private audioCache = new Map<string, HTMLAudioElement>()\r\n  private settings: DisplaySettings | null = null\r\n\r\n  private constructor() {}\r\n\r\n  static getInstance(): AudioManager {\r\n    if (!AudioManager.instance) {\r\n      AudioManager.instance = new AudioManager()\r\n    }\r\n    return AudioManager.instance\r\n  }\r\n\r\n  updateSettings(settings: DisplaySettings) {\r\n    this.settings = settings\r\n  }\r\n\r\n  private getSoundEffectsVolume(): number {\r\n    if (!this.settings) return 0\r\n    // Sound effects are affected by mute setting\r\n    return this.settings.muteSounds ? 0 : this.settings.soundVolume / 100\r\n  }\r\n\r\n  private getPronunciationVolume(): number {\r\n    if (!this.settings) return 0.75\r\n    // Pronunciation always uses the actual volume setting, not affected by mute\r\n    return this.settings.soundVolume / 100\r\n  }\r\n\r\n  async loadAudio(src: string, options: AudioOptions = {}): Promise<HTMLAudioElement> {\r\n    if (this.audioCache.has(src)) {\r\n      return this.audioCache.get(src)!\r\n    }\r\n\r\n    const audio = new Audio(src)\r\n    audio.volume = options.volume ?? 0.75\r\n    audio.loop = options.loop ?? false\r\n    audio.preload = options.preload ? 'auto' : 'metadata'\r\n\r\n    try {\r\n      await new Promise((resolve, reject) => {\r\n        audio.oncanplaythrough = resolve\r\n        audio.onerror = reject\r\n        audio.load()\r\n      })\r\n      \r\n      this.audioCache.set(src, audio)\r\n      return audio\r\n    } catch (error) {\r\n      console.error(`Failed to load audio: ${src}`, error)\r\n      throw error\r\n    }\r\n  }\r\n\r\n  // Play sound effects (flip, correct, incorrect, etc.) - affected by mute\r\n  async playSoundEffect(src: string, options: AudioOptions = {}): Promise<void> {\r\n    const volume = this.getSoundEffectsVolume()\r\n    if (volume === 0) {\r\n      // Sound effects are muted, don't play\r\n      return\r\n    }\r\n\r\n    try {\r\n      const audio = await this.loadAudio(src, options)\r\n      audio.volume = options.volume ?? volume\r\n      audio.currentTime = 0\r\n      await audio.play()\r\n    } catch (error) {\r\n      console.error(`Failed to play sound effect: ${src}`, error)\r\n    }\r\n  }\r\n\r\n  // Play Vietnamese pronunciation - always available for manual playback\r\n  async playPronunciation(src: string, options: AudioOptions = {}): Promise<void> {\r\n    const volume = this.getPronunciationVolume()\r\n    \r\n    try {\r\n      const audio = await this.loadAudio(src, options)\r\n      audio.volume = options.volume ?? volume\r\n      audio.currentTime = 0\r\n      await audio.play()\r\n    } catch (error) {\r\n      console.error(`Failed to play pronunciation: ${src}`, error)\r\n    }\r\n  }\r\n\r\n  stopAllSounds(): void {\r\n    this.audioCache.forEach(audio => {\r\n      audio.pause()\r\n      audio.currentTime = 0\r\n    })\r\n  }\r\n\r\n  updateVolume(): void {\r\n    // Update volume for all cached audio\r\n    this.audioCache.forEach((audio, src) => {\r\n      // Determine if this is a pronunciation or sound effect\r\n      // You might want to implement a better way to categorize audio files\r\n      if (src.includes('/tts/') || src.includes('/pronunciation/')) {\r\n        // Pronunciation audio\r\n        audio.volume = this.getPronunciationVolume()\r\n      } else {\r\n        // Sound effect audio\r\n        audio.volume = this.getSoundEffectsVolume()\r\n      }\r\n    })\r\n  }\r\n\r\n  clearCache(): void {\r\n    this.stopAllSounds()\r\n    this.audioCache.clear()\r\n  }\r\n}\r\n\r\n// Convenience functions for sound effects (affected by mute setting)\r\nexport const audioManager = AudioManager.getInstance()\r\n\r\nexport const playCorrectSound = () => audioManager.playSoundEffect('/sounds/correct.mp3')\r\nexport const playIncorrectSound = () => audioManager.playSoundEffect('/sounds/incorrect.wav')\r\nexport const playFlipSound = () => audioManager.playSoundEffect('/sounds/flip.mp3')\r\nexport const playNewCardSound = () => audioManager.playSoundEffect('/sounds/new.mp3')\r\n\r\n// Vietnamese pronunciation audio (always available for manual playback)\r\nexport const playVietnamesePronunciation = (word: string) => {\r\n  // This would integrate with a Vietnamese TTS service\r\n  console.log(`Playing pronunciation for: ${word}`)\r\n  // Example: audioManager.playPronunciation(`/api/tts/vietnamese/${encodeURIComponent(word)}`)\r\n} ","\"use client\"\n\nimport * as React from \"react\"\nimport * as DialogPrimitive from \"@radix-ui/react-dialog\"\nimport { XIcon } from \"lucide-react\"\n\nimport { cn } from \"@/shared/utils/cn\"\n\nfunction Dialog({\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Root>) {\n  return <DialogPrimitive.Root data-slot=\"dialog\" {...props} />\n}\n\nfunction DialogTrigger({\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Trigger>) {\n  return <DialogPrimitive.Trigger data-slot=\"dialog-trigger\" {...props} />\n}\n\nfunction DialogPortal({\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Portal>) {\n  return <DialogPrimitive.Portal data-slot=\"dialog-portal\" {...props} />\n}\n\nfunction DialogClose({\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Close>) {\n  return <DialogPrimitive.Close data-slot=\"dialog-close\" {...props} />\n}\n\nfunction DialogOverlay({\n  className,\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Overlay>) {\n  return (\n    <DialogPrimitive.Overlay\n      data-slot=\"dialog-overlay\"\n      className={cn(\n        \"data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction DialogContent({\n  className,\n  children,\n  showCloseButton = true,\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Content> & {\n  showCloseButton?: boolean\n}) {\n  return (\n    <DialogPortal data-slot=\"dialog-portal\">\n      <DialogOverlay />\n      <DialogPrimitive.Content\n        data-slot=\"dialog-content\"\n        className={cn(\n          \"bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg\",\n          className\n        )}\n        {...props}\n      >\n        {children}\n        {showCloseButton && (\n          <DialogPrimitive.Close\n            data-slot=\"dialog-close\"\n            className=\"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\"\n          >\n            <XIcon />\n            <span className=\"sr-only\">Close</span>\n          </DialogPrimitive.Close>\n        )}\n      </DialogPrimitive.Content>\n    </DialogPortal>\n  )\n}\n\nfunction DialogHeader({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"dialog-header\"\n      className={cn(\"flex flex-col gap-2 text-center sm:text-left\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction DialogFooter({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"dialog-footer\"\n      className={cn(\n        \"flex flex-col-reverse gap-2 sm:flex-row sm:justify-end\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction DialogTitle({\n  className,\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Title>) {\n  return (\n    <DialogPrimitive.Title\n      data-slot=\"dialog-title\"\n      className={cn(\"text-lg leading-none font-semibold\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction DialogDescription({\n  className,\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Description>) {\n  return (\n    <DialogPrimitive.Description\n      data-slot=\"dialog-description\"\n      className={cn(\"text-muted-foreground text-sm\", className)}\n      {...props}\n    />\n  )\n}\n\nexport {\n  Dialog,\n  DialogClose,\n  DialogContent,\n  DialogDescription,\n  DialogFooter,\n  DialogHeader,\n  DialogOverlay,\n  DialogPortal,\n  DialogTitle,\n  DialogTrigger,\n}\n"],"names":[],"mappings":"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","ignoreList":[0,2,10,14,15]}