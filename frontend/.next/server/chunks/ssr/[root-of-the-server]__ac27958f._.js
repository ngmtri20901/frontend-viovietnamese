module.exports=[78769,a=>{"use strict";function b(a,b,c){let d=c.toLowerCase().trim().replace(/\s+/g,"_").replace(/[^\w\-_]/g,"").replace(/_+/g,"_").replace(/^_|_$/g,"");return`t${a}-l${b}-${d}`}function c(a){return/^t\d+-l\d+-[\w\-_]+$/.test(a)}a.s(["generateVocabKey",()=>b,"isValidVocabKey",()=>c])},193695,(a,b,c)=>{b.exports=a.x("next/dist/shared/lib/no-fallback-error.external.js",()=>require("next/dist/shared/lib/no-fallback-error.external.js"))},262212,a=>{a.n(a.i(866114))},810162,a=>{a.n(a.i(281745))},598287,a=>{"use strict";a.s(["default",()=>b]);let b=(0,a.i(211857).registerClientReference)(function(){throw Error("Attempted to call the default export of [project]/features/flashcards/components/review/ReviewClient.tsx <module evaluation> from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/features/flashcards/components/review/ReviewClient.tsx <module evaluation>","default")},432468,a=>{"use strict";a.s(["default",()=>b]);let b=(0,a.i(211857).registerClientReference)(function(){throw Error("Attempted to call the default export of [project]/features/flashcards/components/review/ReviewClient.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/features/flashcards/components/review/ReviewClient.tsx","default")},369975,a=>{"use strict";a.i(598287);var b=a.i(432468);a.n(b)},110033,a=>{"use strict";a.s(["default",()=>e]);var b=a.i(907997),c=a.i(800717),d=a.i(369975);function e(){return(0,b.jsx)(c.Suspense,{fallback:(0,b.jsxs)("div",{className:"container mx-auto py-10 px-4 max-w-4xl",children:[(0,b.jsxs)("div",{className:"text-center mb-8",children:[(0,b.jsx)("div",{className:"h-8 bg-gray-200 dark:bg-gray-700 rounded w-64 mb-2 animate-pulse mx-auto"}),(0,b.jsx)("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded w-96 animate-pulse mx-auto"})]}),(0,b.jsx)("div",{className:"h-96 bg-gray-200 dark:bg-gray-700 rounded mb-8 animate-pulse"}),(0,b.jsx)("div",{className:"flex justify-center gap-4 mb-8",children:(0,b.jsx)("div",{className:"h-10 bg-gray-200 dark:bg-gray-700 rounded w-48 animate-pulse"})}),(0,b.jsx)("div",{className:"h-px bg-gray-200 dark:bg-gray-700 mb-8"}),(0,b.jsx)("div",{className:"h-96 bg-gray-200 dark:bg-gray-700 rounded mb-8 animate-pulse"}),(0,b.jsx)("div",{className:"text-center mb-8",children:(0,b.jsx)("div",{className:"h-14 bg-gray-200 dark:bg-gray-700 rounded w-64 animate-pulse mx-auto"})})]}),children:(0,b.jsx)(d.default,{})})}},885143,a=>{"use strict";a.s(["40138ba5c927606e17947caf045f883ea82b7072d9",()=>g,"4066c3bfc9842b3e7a2fa482e6d40eb90f4e658ba3",()=>h,"40a12d3392f5f7e3fd35f464eebcfef7da83f3293b",()=>j.unsaveVocabularyFromLesson,"40b7874b5beee18e2e913212052e9efd3061f9459a",()=>i.saveVocabularyFromLesson],885143),a.s([],710898);var b=a.i(707685),c=a.i(420861),d=a.i(137936),e=a.i(142238),f=a.i(118558);async function g(a){try{if(console.log("üíæ [Server Action] createReviewSession called:",a),!e.isSupabaseConfigured)return{success:!1,error:"Supabase is not configured"};let b=await (0,e.createClient)(),{data:{user:c},error:d}=await b.auth.getUser();if(console.log("üë§ [Server Action] User authentication:",{authenticated:!!c,userId:c?.id}),d||!c)return{success:!1,error:"Not authenticated - please log in first"};let g={user_id:c.id,session_type:a.session_type,total_cards:a.total_cards,session_config:a.session_config||{},filters_applied:a.filters_applied||{}};console.log("üíæ [Server Action] Inserting session data:",g);let{data:h,error:i}=await b.from("review_sessions").insert(g).select().single();if(i)return console.error("‚ùå [Server Action] Database insert error:",i),{success:!1,error:i.message||"Failed to create session"};if(!h)return{success:!1,error:"Failed to create session - no data returned"};return console.log("‚úÖ [Server Action] Session created successfully:",h.id),(0,f.revalidatePath)("/flashcards/review"),{success:!0,data:{id:h.id,user_id:h.user_id,session_type:h.session_type,total_cards:h.total_cards,created_at:h.created_at}}}catch(a){return console.error("‚ùå [Server Action] Error creating session:",a),{success:!1,error:a instanceof Error?a.message:"Failed to create session"}}}async function h(a){try{if(console.log("üìù [Server Action] createSessionCardMappings called:",{session_id:a.session_id,flashcard_count:a.flashcards.length}),!e.isSupabaseConfigured)return{success:!1,error:"Supabase is not configured"};let b=await (0,e.createClient)(),{data:{user:c},error:d}=await b.auth.getUser();if(d||!c)return{success:!1,error:"Not authenticated - please log in first"};let g=a.flashcards.map((b,c)=>{let d="string"==typeof b?b:b?.id??b?._id??"";return{session_id:a.session_id,flashcard_id:d,flashcard_type:"APP",card_order:c+1}}).filter(a=>a.flashcard_id);console.log(`üìù [Server Action] Inserting ${g.length} session card mappings`);let h=0,i=0;for(let a=0;a<g.length;a+=100){let c=g.slice(a,a+100),{error:d}=await b.from("review_session_cards").insert(c);d?(console.error(`‚ùå [Server Action] Error inserting batch ${a/100+1}:`,d),i+=c.length):(h+=c.length,console.log(`‚úÖ [Server Action] Inserted batch ${a/100+1} (${c.length} cards)`))}return console.log(`‚úÖ [Server Action] Total cards mapped: ${h}/${g.length}`),(0,f.revalidatePath)("/flashcards/review"),{success:!0,data:{inserted_count:h,failed_count:i}}}catch(a){return console.error("‚ùå [Server Action] Error creating session card mappings:",a),{success:!1,error:a instanceof Error?a.message:"Failed to create session card mappings"}}}(0,a.i(713095).ensureServerEntryExports)([g,h]),(0,d.registerServerReference)(g,"40138ba5c927606e17947caf045f883ea82b7072d9",null),(0,d.registerServerReference)(h,"4066c3bfc9842b3e7a2fa482e6d40eb90f4e658ba3",null),a.i(710898);var i=b,j=c}];

//# sourceMappingURL=%5Broot-of-the-server%5D__ac27958f._.js.map