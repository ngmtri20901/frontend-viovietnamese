{"version":3,"sources":["turbopack:///[project]/node_modules/lucide-react/src/icons/arrow-right.ts","turbopack:///[project]/shared/components/ui/LoadingState.tsx","turbopack:///[project]/shared/components/ui/PageWithLoading.tsx","turbopack:///[project]/shared/hooks/use-loading.ts","turbopack:///[project]/features/flashcards/types/flashcard.types.ts","turbopack:///[project]/features/flashcards/utils/apiClient.ts","turbopack:///[project]/features/flashcards/utils/transformers.ts","turbopack:///[project]/features/flashcards/services/flashcardService.ts","turbopack:///[project]/app/(app)/flashcards/topic/[topicID]/page.tsx"],"sourcesContent":["import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M5 12h14', key: '1ays0h' }],\n  ['path', { d: 'm12 5 7 7-7 7', key: 'xquz4c' }],\n];\n\n/**\n * @component @name ArrowRight\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNNSAxMmgxNCIgLz4KICA8cGF0aCBkPSJtMTIgNSA3IDctNyA3IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/arrow-right\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst ArrowRight = createLucideIcon('arrow-right', __iconNode);\n\nexport default ArrowRight;\n","'use client'\r\nimport React, { useState, useEffect } from 'react';\r\nimport Image from 'next/image';\r\n\r\nconst LoadingState: React.FC = () => {\r\n  const [currentImage, setCurrentImage] = useState<string>('');\r\n  const [currentPhrase, setCurrentPhrase] = useState<string>(''); // Th√™m state cho c·ª•m t·ª´ loading\r\n\r\n\r\n  const loadingImages = [\r\n    '/images/loading/banh-mi.webp',\r\n    '/images/loading/cafe.webp',\r\n    '/images/loading/lotus.webp',\r\n    '/images/loading/non-la.webp',\r\n    '/images/loading/pho.webp'\r\n  ];\r\n\r\n  const loadingPhrases = [\r\n    \"Connecting you to Vietnam...\",\r\n    \"Bringing you the best of Vietnamese...\",\r\n    \"Loading your learning experience...\"\r\n  ];\r\n\r\n  useEffect(() => {\r\n    // Randomly select an image when component mounts\r\n    const randomIndex = Math.floor(Math.random() * loadingImages.length);\r\n    setCurrentImage(loadingImages[randomIndex]);\r\n    // Randomly select a phrase when component mounts\r\n    const randomPhraseIndex = Math.floor(Math.random() * loadingPhrases.length);\r\n    setCurrentPhrase(loadingPhrases[randomPhraseIndex]);\r\n  }, []);\r\n\r\n\r\n\r\n  if (!currentImage) return null;\r\n\r\n  return (\r\n    <div className=\"fixed inset-0 bg-white/80 backdrop-blur-sm z-50 flex flex-col items-center justify-center\">\r\n      <div className=\"flex flex-col items-center space-y-6\">\r\n        {/* Loading Image with Swaying Animation */}\r\n        <div className=\"relative\">\r\n          <Image\r\n            src={currentImage}\r\n            alt=\"Loading\"\r\n            width={120}\r\n            height={120}\r\n            className=\"animate-sway drop-shadow-lg\"\r\n            priority\r\n          />\r\n        </div>\r\n        \r\n        {/* Loading Text */}\r\n        <div className=\"text-center\">\r\n          <h2 className=\"text-xl font-semibold text-gray-800 mb-2\">\r\n          {currentPhrase}\r\n          </h2>\r\n          <div className=\"flex space-x-1 justify-center\">\r\n            <div className=\"w-2 h-2 bg-blue-500 rounded-full animate-bounce\"></div>\r\n            <div className=\"w-2 h-2 bg-blue-500 rounded-full animate-bounce\" style={{ animationDelay: '0.1s' }}></div>\r\n            <div className=\"w-2 h-2 bg-blue-500 rounded-full animate-bounce\" style={{ animationDelay: '0.2s' }}></div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default LoadingState; ","import React, { ReactNode } from 'react';\r\nimport LoadingState from './LoadingState';\r\n\r\ninterface PageWithLoadingProps {\r\n  children: ReactNode;\r\n  isLoading: boolean;\r\n}\r\n\r\nconst PageWithLoading: React.FC<PageWithLoadingProps> = ({ children, isLoading }) => {\r\n  return (\r\n    <>\r\n      {isLoading && <LoadingState />}\r\n      {children}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default PageWithLoading; ","import { useState, useCallback, useRef } from 'react';\r\n\r\ninterface UseLoadingReturn {\r\n  isLoading: boolean;\r\n  startLoading: () => void;\r\n  stopLoading: () => void;\r\n  withLoading: <T>(asyncFn: () => Promise<T>) => Promise<T>;\r\n  withLoadingAndRetry: <T>(asyncFn: () => Promise<T>, maxRetries?: number) => Promise<T>;\r\n}\r\n\r\nexport const useLoading = (initialState: boolean = false): UseLoadingReturn => {\r\n  const [isLoading, setIsLoading] = useState(initialState);\r\n  const timeoutRef = useRef<NodeJS.Timeout | null>(null);\r\n\r\n  const startLoading = useCallback(() => {\r\n    setIsLoading(true);\r\n    // Safety timeout - gi·∫£m t·ª´ 33s xu·ªëng 10s\r\n    timeoutRef.current = setTimeout(() => {\r\n      console.warn('Loading timeout reached, forcing stop');\r\n      setIsLoading(false);\r\n    }, 10000);\r\n  }, []);\r\n\r\n  const stopLoading = useCallback(() => {\r\n    setIsLoading(false);\r\n    if (timeoutRef.current) {\r\n      clearTimeout(timeoutRef.current);\r\n      timeoutRef.current = null;\r\n    }\r\n  }, []);\r\n\r\n  const withLoading = useCallback(async <T>(asyncFn: () => Promise<T>): Promise<T> => {\r\n    try {\r\n      startLoading();\r\n      const result = await asyncFn();\r\n      return result;\r\n    } finally {\r\n      stopLoading();\r\n    }\r\n  }, [startLoading, stopLoading]);\r\n\r\n  // Th√™m retry mechanism v·ªõi exponential backoff\r\n  const withLoadingAndRetry = useCallback(async <T>(\r\n    asyncFn: () => Promise<T>, \r\n    maxRetries: number = 2\r\n  ): Promise<T> => {\r\n    let lastError: Error;\r\n    \r\n    for (let attempt = 0; attempt <= maxRetries; attempt++) {\r\n      try {\r\n        if (attempt === 0) startLoading();\r\n        const result = await asyncFn();\r\n        return result;\r\n      } catch (error) {\r\n        lastError = error as Error;\r\n        console.warn(`Attempt ${attempt + 1} failed:`, error);\r\n        \r\n        if (attempt === maxRetries) {\r\n          throw lastError;\r\n        }\r\n        \r\n        // Exponential backoff: 1s, 2s, 4s...\r\n        await new Promise(resolve => setTimeout(resolve, Math.pow(2, attempt) * 1000));\r\n      } finally {\r\n        if (attempt === maxRetries) {\r\n          stopLoading();\r\n        }\r\n      }\r\n    }\r\n    \r\n    throw lastError!;\r\n  }, [startLoading, stopLoading]);\r\n\r\n  return {\r\n    isLoading,\r\n    startLoading,\r\n    stopLoading,\r\n    withLoading,\r\n    withLoadingAndRetry,\r\n  };\r\n}; ","/**\r\n * TypeScript types for flashcard data structures\r\n * Includes both backend response types and frontend adapted types\r\n */\r\n\r\n// Backend response types (matching FastAPI FlashcardResponse)\r\nexport interface BackendFlashcardResponse {\r\n  id: string\r\n  vietnamese: string\r\n  english: string[]\r\n  type: string[] | string\r\n  is_multiword: boolean\r\n  is_multimeaning: boolean\r\n  vietnamese_sentence: string\r\n  english_sentence: string\r\n  topic: string[]\r\n  audio_url: string | null\r\n  image_url: string | null\r\n  text_complexity: string\r\n  common_class: string\r\n  selected_meaning: string[] | null\r\n  common_meaning: string\r\n  pronunciation?: string\r\n}\r\n\r\nexport interface BackendTopicResponse {\r\n  id: string\r\n  title: string\r\n  description: string\r\n  count: number\r\n  imageUrl: string | null\r\n}\r\n\r\nexport interface FlashcardSearchResponse {\r\n  flashcards: BackendFlashcardResponse[]\r\n  total: number\r\n  skip: number\r\n  limit: number\r\n  has_more: boolean\r\n}\r\n\r\n// Frontend adapted types (for components)\r\nexport interface FlashcardData {\r\n  id: string\r\n  vietnamese: string\r\n  english: string[]\r\n  type: string[] | string\r\n  is_multiword: boolean\r\n  is_multimeaning: boolean\r\n  common_meaning: string\r\n  vietnamese_sentence: string\r\n  english_sentence: string\r\n  topic: string[]\r\n  is_common: boolean\r\n  image_url: string | null\r\n  audio_url: string | null\r\n  pronunciation?: string\r\n  // Saved flashcard metadata\r\n  saved_id?: string\r\n  saved_at?: string\r\n  flashcard_type?: 'APP' | 'CUSTOM'\r\n  tags?: string[]\r\n  review_count?: number\r\n  last_reviewed?: string\r\n  notes?: string\r\n  is_favorite?: boolean\r\n  // Custom flashcard specific fields\r\n  ipa_pronunciation?: string\r\n}\r\n\r\nexport interface FlashcardTopic {\r\n  id: string\r\n  title: string\r\n  description: string\r\n  count: number\r\n  imageUrl: string\r\n}\r\n\r\nexport interface WordType {\r\n  id: string\r\n  name: string\r\n  title: string\r\n  description: string\r\n  count: number\r\n  imageUrl: string\r\n}\r\n\r\nexport interface RandomFlashcardParams {\r\n  count?: number\r\n  commonWordsOnly?: boolean\r\n}\r\n\r\n// API Error class\r\nexport class APIError extends Error {\r\n  constructor(public status: number, message: string) {\r\n    super(message)\r\n    this.name = \"APIError\"\r\n  }\r\n}\r\n\r\n","/**\r\n * API client utility for making requests to the FastAPI backend\r\n */\r\n\r\nimport { APIError } from '../types/flashcard.types'\r\n\r\n// Configuration\r\nexport const API_BASE_URL = process.env.NEXT_PUBLIC_API_URL || \"http://localhost:8000\"\r\nexport const API_PREFIX = \"/api/v1\"\r\n\r\n// Helper function to handle API responses\r\nexport async function apiRequest<T>(endpoint: string, options?: RequestInit): Promise<T> {\r\n  const url = `${API_BASE_URL}${API_PREFIX}${endpoint}`\r\n  \r\n  try {\r\n    const response = await fetch(url, {\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        ...options?.headers,\r\n      },\r\n      cache: 'no-store', // Prevent browser and Next.js caching for fresh data\r\n      ...options,\r\n    })\r\n\r\n    if (!response.ok) {\r\n      throw new APIError(response.status, `API request failed: ${response.statusText}`)\r\n    }\r\n\r\n    return await response.json()\r\n  } catch (error) {\r\n    if (error instanceof APIError) {\r\n      throw error\r\n    }\r\n    throw new APIError(0, `Network error: ${error instanceof Error ? error.message : \"Unknown error\"}`)\r\n  }\r\n}\r\n\r\n","/**\r\n * Data transformation utilities\r\n * Converts backend response types to frontend types\r\n */\r\n\r\nimport type { BackendFlashcardResponse, BackendTopicResponse, FlashcardData, FlashcardTopic } from '../types/flashcard.types'\r\n\r\n/**\r\n * Converts a relative image path to a full Supabase Storage URL\r\n * Handles both relative paths (e.g., \"flashcards/filename.jpg\") and full URLs (backward compatibility)\r\n */\r\nexport function getImageUrl(imagePath: string | null | undefined): string | null {\r\n  if (!imagePath) return null\r\n\r\n  // If already a full URL, return as-is (backward compatibility)\r\n  if (imagePath.startsWith('http://') || imagePath.startsWith('https://')) {\r\n    return imagePath\r\n  }\r\n\r\n  // Convert relative path to full Supabase Storage URL\r\n  // Format: {SUPABASE_URL}/storage/v1/object/public/{bucket}/{path}\r\n  const supabaseUrl = process.env.NEXT_PUBLIC_SUPABASE_URL\r\n  if (!supabaseUrl) {\r\n    console.warn('NEXT_PUBLIC_SUPABASE_URL is not configured')\r\n    return imagePath // Return relative path as fallback\r\n  }\r\n\r\n  // Remove leading slash if present\r\n  const cleanPath = imagePath.startsWith('/') ? imagePath.slice(1) : imagePath\r\n\r\n  // Construct full URL for the 'images' bucket\r\n  return `${supabaseUrl}/storage/v1/object/public/images/${cleanPath}`\r\n}\r\n\r\n// Transform backend flashcard response to frontend flashcard data\r\nexport function transformBackendFlashcard(backend: any): FlashcardData {\r\n  return {\r\n    id: backend.id,\r\n    vietnamese: backend.vietnamese,\r\n    english: backend.english,\r\n    type: backend.type,\r\n    is_multiword: backend.is_multiword,\r\n    is_multimeaning: backend.is_multimeaning,\r\n    common_meaning: backend.common_meaning,\r\n    vietnamese_sentence: backend.vietnamese_sentence,\r\n    english_sentence: backend.english_sentence,\r\n    topic: backend.topic,\r\n    is_common: backend.common_class === \"common\",\r\n    image_url: backend.image_url,\r\n    audio_url: backend.audio_url,\r\n    pronunciation: backend.pronunciation,\r\n    // Handle saved flashcard metadata\r\n    saved_id: backend.saved_id,\r\n    saved_at: backend.saved_at,\r\n    flashcard_type: backend.flashcard_type,\r\n    tags: backend.tags,\r\n    review_count: backend.review_count,\r\n    last_reviewed: backend.last_reviewed,\r\n    notes: backend.notes,\r\n    is_favorite: backend.is_favorite,\r\n    ipa_pronunciation: backend.ipa_pronunciation,\r\n  }\r\n}\r\n\r\n// Transform backend topic response to frontend topic data\r\nexport function transformBackendTopic(backend: BackendTopicResponse): FlashcardTopic {\r\n  return {\r\n    id: backend.id,\r\n    title: backend.title,\r\n    description: backend.description,\r\n    count: backend.count,\r\n    imageUrl: backend.imageUrl || \"/placeholder.svg?height=200&width=400\",\r\n  }\r\n}\r\n\r\n","/**\r\n * Flashcard API service layer\r\n * Connects frontend to FastAPI backend\r\n */\r\n\r\nimport type {\r\n  BackendFlashcardResponse,\r\n  BackendTopicResponse,\r\n  FlashcardSearchResponse,\r\n  FlashcardData,\r\n  FlashcardTopic,\r\n  WordType,\r\n  RandomFlashcardParams,\r\n} from '../types/flashcard.types'\r\nimport { apiRequest } from '../utils/apiClient'\r\nimport { transformBackendFlashcard, transformBackendTopic } from '../utils/transformers'\r\n\r\n// API service object with all methods\r\nexport const flashcardAPI = {\r\n  // Get all flashcards with pagination\r\n  async getAllFlashcards(skip = 0, limit = 100): Promise<FlashcardData[]> {\r\n    const response = await apiRequest<BackendFlashcardResponse[]>(\r\n      `/flashcards?skip=${skip}&limit=${limit}`\r\n    )\r\n    return response.map(transformBackendFlashcard)\r\n  },\r\n\r\n  // Get random flashcards for daily practice\r\n  async getRandomFlashcards({ count = 20, commonWordsOnly = false }: RandomFlashcardParams = {}): Promise<FlashcardData[]> {\r\n    const searchParams = new URLSearchParams({\r\n      count: String(count),\r\n      common_words_only: String(commonWordsOnly),\r\n    })\r\n\r\n    const response = await apiRequest<BackendFlashcardResponse[]>(\r\n      `/flashcards/random?${searchParams.toString()}`\r\n    )\r\n    return response.map(transformBackendFlashcard)\r\n  },\r\n\r\n  // Search flashcards\r\n  async searchFlashcards(query: string, limit = 50): Promise<FlashcardData[]> {\r\n    const response = await apiRequest<BackendFlashcardResponse[]>(\r\n      `/flashcards/search?q=${encodeURIComponent(query)}&limit=${limit}`\r\n    )\r\n    return response.map(transformBackendFlashcard)\r\n  },\r\n\r\n  // Get all topics\r\n  async getAllTopics(complexity?: string): Promise<FlashcardTopic[]> {\r\n    const url = complexity ? `/flashcards/topics?complexity=${encodeURIComponent(complexity)}` : \"/flashcards/topics\"\r\n    const response = await apiRequest<BackendTopicResponse[]>(url)\r\n    return response.map(transformBackendTopic)\r\n  },\r\n\r\n  // Get flashcards by topic with pagination\r\n  async getFlashcardsByTopic(topicId: string, complexity?: string, skip = 0, limit = 20): Promise<{flashcards: FlashcardData[], total: number, hasMore: boolean}> {\r\n    // First get all topics to find the title for this ID\r\n    const topics = await this.getAllTopics()\r\n    const topic = topics.find(t => t.id === topicId)\r\n    \r\n    if (!topic) {\r\n      console.warn(`Topic not found for ID: ${topicId}`)\r\n      return {flashcards: [], total: 0, hasMore: false}\r\n    }\r\n    \r\n    // Build URL with pagination and optional complexity parameter\r\n    const params = new URLSearchParams({\r\n      skip: skip.toString(),\r\n      limit: limit.toString()\r\n    })\r\n    \r\n    if (complexity) {\r\n      params.append('complexity', complexity)\r\n    }\r\n    \r\n    const url = `/flashcards/by-topic/${encodeURIComponent(topic.title)}?${params.toString()}`\r\n    \r\n    const response = await apiRequest<FlashcardSearchResponse>(url)\r\n    return {\r\n      flashcards: response.flashcards.map(transformBackendFlashcard),\r\n      total: response.total,\r\n      hasMore: response.has_more\r\n    }\r\n  },\r\n\r\n  // Get flashcards by topic (legacy method for backward compatibility)\r\n  async getFlashcardsByTopicLegacy(topicId: string, complexity?: string): Promise<FlashcardData[]> {\r\n    const result = await this.getFlashcardsByTopic(topicId, complexity, 0, 1000)\r\n    return result.flashcards\r\n  },\r\n\r\n  // Get flashcards by word type\r\n  async getFlashcardsByType(wordType: string, complexity?: string): Promise<FlashcardData[]> {\r\n    const url = complexity\r\n      ? `/flashcards/by-type/${encodeURIComponent(wordType)}?complexity=${encodeURIComponent(complexity)}`\r\n      : `/flashcards/by-type/${encodeURIComponent(wordType)}`\r\n    \r\n    const response = await apiRequest<BackendFlashcardResponse[]>(url)\r\n    return response.map(transformBackendFlashcard)\r\n  },\r\n\r\n  // Get multi-word expression flashcards\r\n  async getMultiwordFlashcards(complexity?: string): Promise<FlashcardData[]> {\r\n    const url = complexity\r\n      ? `/flashcards/multiword?complexity=${encodeURIComponent(complexity)}`\r\n      : \"/flashcards/multiword\"\r\n    \r\n    const response = await apiRequest<BackendFlashcardResponse[]>(url)\r\n    return response.map(transformBackendFlashcard)\r\n  },\r\n\r\n  // Get multi-meaning flashcards\r\n  async getMultimeaningFlashcards(complexity?: string): Promise<FlashcardData[]> {\r\n    const url = complexity\r\n      ? `/flashcards/multimeaning?complexity=${encodeURIComponent(complexity)}`\r\n      : \"/flashcards/multimeaning\"\r\n    \r\n    const response = await apiRequest<BackendFlashcardResponse[]>(url)\r\n    return response.map(transformBackendFlashcard)\r\n  },\r\n\r\n  // Get flashcards by complexity\r\n  async getFlashcardsByComplexity(complexity: string, skip = 0, limit = 100): Promise<FlashcardData[]> {\r\n    const response = await apiRequest<BackendFlashcardResponse[]>(\r\n      `/flashcards/by-complexity/${encodeURIComponent(complexity)}?skip=${skip}&limit=${limit}`\r\n    )\r\n    return response.map(transformBackendFlashcard)\r\n  },\r\n\r\n  // Get complexity counts\r\n  async getComplexityCounts(): Promise<{all: number, simple: number, complex: number}> {\r\n    const response = await apiRequest<{all: number, simple: number, complex: number}>(\"/flashcards/complexity-counts\")\r\n    return response\r\n  },\r\n\r\n  // Get single flashcard by ID\r\n  async getFlashcardById(id: string): Promise<FlashcardData> {\r\n    const response = await apiRequest<BackendFlashcardResponse>(`/flashcards/${id}`)\r\n    return transformBackendFlashcard(response)\r\n  },\r\n\r\n  // Get flashcard audio URL\r\n  async getFlashcardAudio(flashcardId: string): Promise<{flashcard_id: string, audio_url: string | null, vietnamese: string}> {\r\n    const response = await apiRequest<{flashcard_id: string, audio_url: string | null, vietnamese: string}>(\r\n      `/flashcards/${flashcardId}/audio`\r\n    )\r\n    return response\r\n  },\r\n\r\n  // Health check\r\n  async healthCheck(): Promise<{ status: string }> {\r\n    return await apiRequest<{ status: string }>(\"/flashcards/health\")\r\n  },\r\n\r\n  // Get all word types\r\n  async getAllWordTypes(complexity?: string): Promise<WordType[]> {\r\n    const url = complexity ? `/flashcards/word-types?complexity=${encodeURIComponent(complexity)}` : \"/flashcards/word-types\"\r\n    const response = await apiRequest<WordType[]>(url)\r\n    return response\r\n  },\r\n\r\n  // Get others counts (multi-meaning and multi-word)\r\n  async getOthersCounts(complexity?: string): Promise<{multiword: number, multimeaning: number}> {\r\n    const url = complexity ? `/flashcards/others-counts?complexity=${encodeURIComponent(complexity)}` : \"/flashcards/others-counts\"\r\n    const response = await apiRequest<{multiword: number, multimeaning: number}>(url)\r\n    return response\r\n  },\r\n\r\n  // Get flashcards by word type with pagination\r\n  async getFlashcardsByTypeWithPagination(wordType: string, complexity?: string, skip = 0, limit = 20): Promise<{flashcards: FlashcardData[], total: number, hasMore: boolean}> {\r\n    const params = new URLSearchParams({\r\n      skip: skip.toString(),\r\n      limit: limit.toString(),\r\n    })\r\n    \r\n    if (complexity) {\r\n      params.append('complexity', complexity)\r\n    }\r\n    \r\n    const response = await apiRequest<FlashcardSearchResponse>(`/flashcards/by-type/${encodeURIComponent(wordType)}?${params}`)\r\n    \r\n    return {\r\n      flashcards: response.flashcards.map(transformBackendFlashcard),\r\n      total: response.total,\r\n      hasMore: response.has_more\r\n    }\r\n  },\r\n\r\n  // Get multi-word flashcards with pagination\r\n  async getMultiwordFlashcardsWithPagination(complexity?: string, skip = 0, limit = 20): Promise<{flashcards: FlashcardData[], total: number, hasMore: boolean}> {\r\n    const params = new URLSearchParams({\r\n      skip: skip.toString(),\r\n      limit: limit.toString(),\r\n    })\r\n    \r\n    if (complexity) {\r\n      params.append('complexity', complexity)\r\n    }\r\n    \r\n    const response = await apiRequest<FlashcardSearchResponse>(`/flashcards/multiword?${params}`)\r\n    \r\n    return {\r\n      flashcards: response.flashcards.map(transformBackendFlashcard),\r\n      total: response.total,\r\n      hasMore: response.has_more\r\n    }\r\n  },\r\n\r\n  // Get multi-meaning flashcards with pagination\r\n  async getMultimeaningFlashcardsWithPagination(complexity?: string, skip = 0, limit = 20): Promise<{flashcards: FlashcardData[], total: number, hasMore: boolean}> {\r\n    const params = new URLSearchParams({\r\n      skip: skip.toString(),\r\n      limit: limit.toString(),\r\n    })\r\n\r\n    if (complexity) {\r\n      params.append('complexity', complexity)\r\n    }\r\n\r\n    const response = await apiRequest<FlashcardSearchResponse>(`/flashcards/multimeaning?${params}`)\r\n\r\n    return {\r\n      flashcards: response.flashcards.map(transformBackendFlashcard),\r\n      total: response.total,\r\n      hasMore: response.has_more\r\n    }\r\n  },\r\n\r\n  // Get user's saved flashcards\r\n  async getSavedFlashcards(userId: string): Promise<{flashcards: FlashcardData[], total: number}> {\r\n    const response = await apiRequest<{flashcards: any[], total: number}>(`/flashcards/saved/${userId}`)\r\n    return {\r\n      flashcards: response.flashcards.map(transformBackendFlashcard),\r\n      total: response.total\r\n    }\r\n  },\r\n\r\n  // Get saved flashcards count\r\n  async getSavedFlashcardsCount(userId: string): Promise<{count: number}> {\r\n    const response = await apiRequest<{count: number}>(`/flashcards/saved/${userId}/count`)\r\n    return response\r\n  },\r\n\r\n  // Get flashcards by IDs\r\n  async getFlashcardsByIds(flashcardIds: string[]): Promise<FlashcardData[]> {\r\n    const response = await apiRequest<BackendFlashcardResponse[]>(`/flashcards/by-ids`, {\r\n      method: 'POST',\r\n      body: JSON.stringify(flashcardIds)\r\n    })\r\n    return response.map(transformBackendFlashcard)\r\n  },\r\n}\r\n\r\n// Export individual functions for backward compatibility\r\nexport async function getAllFlashcards(): Promise<FlashcardData[]> {\r\n  return flashcardAPI.getAllFlashcards()\r\n}\r\n\r\nexport async function getAllTopics(): Promise<FlashcardTopic[]> {\r\n  return flashcardAPI.getAllTopics()\r\n}\r\n\r\nexport async function getAllWordTypes(): Promise<WordType[]> {\r\n  return flashcardAPI.getAllWordTypes()\r\n}\r\n\r\nexport async function getFlashcardsByTopic(topicId: string, complexity?: string): Promise<{ flashcards: FlashcardData[]; title: string }> {\r\n  // Define special categories at function scope\r\n  const specialCategories = ['multi-meaning', 'multi-word']\r\n  \r\n  // Define word types that should use the by-type endpoint - get this dynamically from backend\r\n  try {\r\n    const allWordTypes = await flashcardAPI.getAllWordTypes()\r\n    const wordTypeIds = allWordTypes.map(wt => wt.id)\r\n    \r\n    // Check if this is a word type\r\n    if (wordTypeIds.includes(topicId.toLowerCase())) {\r\n      const wordType = allWordTypes.find(wt => wt.id === topicId.toLowerCase())\r\n      if (wordType) {\r\n        const flashcards = await flashcardAPI.getFlashcardsByType(wordType.name, complexity)\r\n        return {\r\n          flashcards,\r\n          title: wordType.title,\r\n        }\r\n      }\r\n    }\r\n    \r\n    // Check if this is a special category\r\n    if (specialCategories.includes(topicId.toLowerCase())) {\r\n      let flashcards: FlashcardData[]\r\n      let title: string\r\n      \r\n      if (topicId.toLowerCase() === 'multi-meaning') {\r\n        flashcards = await flashcardAPI.getMultimeaningFlashcards(complexity)\r\n        title = 'Multi-meaning Words'\r\n      } else if (topicId.toLowerCase() === 'multi-word') {\r\n        flashcards = await flashcardAPI.getMultiwordFlashcards(complexity)\r\n        title = 'Multi-word Expressions'\r\n      } else {\r\n        flashcards = []\r\n        title = topicId\r\n      }\r\n      \r\n      return {\r\n        flashcards,\r\n        title,\r\n      }\r\n    }\r\n  } catch (error) {\r\n    console.error(\"Error loading word types:\", error)\r\n    // Fallback to hardcoded list if API fails\r\n    const wordTypes = ['verb', 'noun', 'adj', 'adv', 'prep', 'conj', 'intj', 'pron', 'num', 'det', 'part']\r\n    \r\n    // Check if this is a word type\r\n    if (wordTypes.includes(topicId.toLowerCase())) {\r\n      const wordType = topicId.toUpperCase() // Backend expects uppercase\r\n      const flashcards = await flashcardAPI.getFlashcardsByType(wordType, complexity)\r\n      \r\n      // Create proper title for word types\r\n      const titleMap: Record<string, string> = {\r\n        'VERB': 'Verbs',\r\n        'NOUN': 'Nouns', \r\n        'ADJ': 'Adjectives',\r\n        'ADV': 'Adverbs',\r\n        'PREP': 'Prepositions',\r\n        'CONJ': 'Conjunctions',\r\n        'INTJ': 'Interjections',\r\n        'PRON': 'Pronouns',\r\n        'NUM': 'Numbers',\r\n        'DET': 'Determiners',\r\n        'PART': 'Particles'\r\n      }\r\n      \r\n      return {\r\n        flashcards,\r\n        title: titleMap[wordType] || wordType,\r\n      }\r\n    }\r\n  }\r\n  \r\n  // Check if this is a special category\r\n  if (specialCategories.includes(topicId.toLowerCase())) {\r\n    let flashcards: FlashcardData[]\r\n    let title: string\r\n    \r\n    if (topicId.toLowerCase() === 'multi-meaning') {\r\n      flashcards = await flashcardAPI.getMultimeaningFlashcards(complexity)\r\n      title = 'Multi-meaning Words'\r\n    } else if (topicId.toLowerCase() === 'multi-word') {\r\n      flashcards = await flashcardAPI.getMultiwordFlashcards(complexity)\r\n      title = 'Multi-word Expressions'\r\n    } else {\r\n      flashcards = []\r\n      title = topicId\r\n    }\r\n    \r\n    return {\r\n      flashcards,\r\n      title,\r\n    }\r\n  }\r\n  \r\n  // Otherwise, handle as regular topic\r\n  const result = await flashcardAPI.getFlashcardsByTopicLegacy(topicId, complexity)\r\n  const topics = await flashcardAPI.getAllTopics()\r\n  const topic = topics.find(t => t.id === topicId)\r\n  \r\n  return {\r\n    flashcards: result,\r\n    title: topic?.title || `Topic: ${topicId}`,\r\n  }\r\n}\r\n\r\nexport async function getFlashcardsByTopicWithPagination(\r\n  topicId: string, \r\n  complexity?: string, \r\n  skip = 0, \r\n  limit = 20\r\n): Promise<{ flashcards: FlashcardData[]; title: string; total: number; hasMore: boolean }> {\r\n  try {\r\n    const result = await flashcardAPI.getFlashcardsByTopic(topicId, complexity, skip, limit)\r\n    const topics = await flashcardAPI.getAllTopics()\r\n    const topic = topics.find(t => t.id === topicId)\r\n    \r\n    return {\r\n      flashcards: result.flashcards,\r\n      title: topic?.title || `Topic: ${topicId}`,\r\n      total: result.total,\r\n      hasMore: result.hasMore\r\n    }\r\n  } catch (error) {\r\n    console.error('Error fetching flashcards by topic with pagination:', error)\r\n    throw error\r\n  }\r\n}\r\n\r\n// Generic function to get flashcards by category ID (auto-detects type and uses pagination)\r\nexport async function getFlashcardsByCategoryWithPagination(\r\n  categoryId: string, \r\n  complexity?: string, \r\n  skip = 0, \r\n  limit = 20\r\n): Promise<{ flashcards: FlashcardData[]; title: string; total: number; hasMore: boolean }> {\r\n  try {\r\n    // Define special categories\r\n    const specialCategories = ['multi-meaning', 'multi-word']\r\n    \r\n    // Define title map for consistent naming\r\n    const titleMap: Record<string, string> = {\r\n      'VERB': 'Verbs',\r\n      'NOUN': 'Nouns', \r\n      'ADJ': 'Adjectives',\r\n      'ADV': 'Adverbs',\r\n      'PREP': 'Prepositions',\r\n      'CONJ': 'Conjunctions',\r\n      'INTJ': 'Interjections',\r\n      'PRON': 'Pronouns',\r\n      'NUM': 'Numbers',\r\n      'DET': 'Determiners',\r\n      'PART': 'Particles'\r\n    }\r\n    \r\n    // Try to get word types from backend first\r\n    try {\r\n      const allWordTypes = await flashcardAPI.getAllWordTypes()\r\n      const wordTypeIds = allWordTypes.map(wt => wt.id)\r\n      \r\n      // Check if this is a word type\r\n      if (wordTypeIds.includes(categoryId.toLowerCase())) {\r\n        const wordType = allWordTypes.find(wt => wt.id === categoryId.toLowerCase())\r\n        if (wordType) {\r\n          const result = await flashcardAPI.getFlashcardsByTypeWithPagination(wordType.name, complexity, skip, limit)\r\n          return {\r\n            flashcards: result.flashcards,\r\n            title: wordType.title,\r\n            total: result.total,\r\n            hasMore: result.hasMore\r\n          }\r\n        }\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Error loading word types, falling back to hardcoded list:\", error)\r\n      // Fallback to hardcoded list if API fails\r\n      const wordTypes = ['verb', 'noun', 'adj', 'adv', 'prep', 'conj', 'intj', 'pron', 'num', 'det', 'part']\r\n      \r\n      if (wordTypes.includes(categoryId.toLowerCase())) {\r\n        const wordType = categoryId.toUpperCase() // Backend expects uppercase\r\n        const result = await flashcardAPI.getFlashcardsByTypeWithPagination(wordType, complexity, skip, limit)\r\n        \r\n        return {\r\n          flashcards: result.flashcards,\r\n          title: titleMap[wordType] || wordType,\r\n          total: result.total,\r\n          hasMore: result.hasMore\r\n        }\r\n      }\r\n    }\r\n    \r\n    // Check if this is a special category\r\n    if (specialCategories.includes(categoryId.toLowerCase())) {\r\n      let result: {flashcards: FlashcardData[], total: number, hasMore: boolean}\r\n      let title: string\r\n      \r\n      if (categoryId.toLowerCase() === 'multi-meaning') {\r\n        result = await flashcardAPI.getMultimeaningFlashcardsWithPagination(complexity, skip, limit)\r\n        title = 'Multi-meaning Words'\r\n      } else if (categoryId.toLowerCase() === 'multi-word') {\r\n        result = await flashcardAPI.getMultiwordFlashcardsWithPagination(complexity, skip, limit)\r\n        title = 'Multi-word Expressions'\r\n      } else {\r\n        // Fallback\r\n        result = { flashcards: [], total: 0, hasMore: false }\r\n        title = categoryId\r\n      }\r\n      \r\n      return {\r\n        flashcards: result.flashcards,\r\n        title,\r\n        total: result.total,\r\n        hasMore: result.hasMore\r\n      }\r\n    }\r\n    \r\n    // Otherwise, handle as regular topic\r\n    const result = await flashcardAPI.getFlashcardsByTopic(categoryId, complexity, skip, limit)\r\n    const topics = await flashcardAPI.getAllTopics()\r\n    const topic = topics.find(t => t.id === categoryId)\r\n    \r\n    return {\r\n      flashcards: result.flashcards,\r\n      title: topic?.title || `Topic: ${categoryId}`,\r\n      total: result.total,\r\n      hasMore: result.hasMore\r\n    }\r\n  } catch (error) {\r\n    console.error('Error fetching flashcards by category with pagination:', error)\r\n    throw error\r\n  }\r\n}\r\n\r\n// Re-export types for convenience\r\nexport type {\r\n  FlashcardData,\r\n  FlashcardTopic,\r\n  WordType,\r\n  RandomFlashcardParams,\r\n  APIError,\r\n} from '../types/flashcard.types'\r\n\r\n","\"use client\"\r\n\r\nimport { useEffect, useState, useCallback } from \"react\"\r\nimport { useParams, useSearchParams } from \"next/navigation\"\r\nimport { Button } from \"@/shared/components/ui/button\"\r\nimport { ArrowLeft, ArrowRight, RotateCcw } from \"lucide-react\"\r\nimport { getFlashcardsByCategoryWithPagination } from \"@/features/flashcards/services/flashcardService\"\r\nimport { FlashcardDeck } from \"@/features/flashcards/components/core/flashcard-deck\"\r\nimport { FlashcardComponent } from \"@/features/flashcards/components/core/flashcard-component\"\r\nimport type { FlashcardData } from \"@/lib/api/flashcards\"\r\nimport { useSavedFlashcards } from \"@/features/flashcards/hooks/useSavedFlashcards\"\r\nimport PageWithLoading from \"@/shared/components/ui/PageWithLoading\"\r\nimport { useLoading } from \"@/shared/hooks/use-loading\"\r\n\r\nexport default function FlashcardTopicPage() {\r\n  const { isLoading, withLoading } = useLoading()\r\n  \r\n  const params = useParams()\r\n  const searchParams = useSearchParams()\r\n  const topicId = params.topicID as string\r\n  const complexity = searchParams.get('complexity') // Get complexity from URL query params\r\n  const [flashcards, setFlashcards] = useState<FlashcardData[]>([])\r\n  const [title, setTitle] = useState(\"\")\r\n  const [error, setError] = useState<string | null>(null)\r\n  const [currentIndex, setCurrentIndex] = useState(0)\r\n  const [isFlipped, setIsFlipped] = useState(false)\r\n  \r\n  // Infinite scroll state\r\n  const [hasMore, setHasMore] = useState(true)\r\n  const [total, setTotal] = useState(0)\r\n  const [isLoadingMore, setIsLoadingMore] = useState(false)\r\n\r\n  // Saved flashcards hook\r\n  const { isFlashcardSaved, toggleSave } = useSavedFlashcards()\r\n\r\n  useEffect(() => {\r\n    async function loadFlashcards() {\r\n      if (!topicId) {\r\n        console.warn(\"No topicId provided in route params\")\r\n        setError(\"Invalid topic ID\")\r\n        return\r\n      }\r\n      \r\n      await withLoading(async () => {\r\n        try {\r\n          setError(null)\r\n          // Load initial batch with pagination\r\n          const result = await getFlashcardsByCategoryWithPagination(topicId, complexity || undefined, 0, 20)\r\n          setFlashcards(result.flashcards)\r\n          setTitle(result.title)\r\n          setTotal(result.total)\r\n          setHasMore(result.hasMore)\r\n          \r\n          if (result.flashcards.length === 0 && result.total === 0) {\r\n            console.warn(`No flashcards found for topic: ${topicId} with complexity: ${complexity || 'all'}`)\r\n          }\r\n        } catch (err) {\r\n          console.error(\"Failed to load flashcards:\", err)\r\n          setError(err instanceof Error ? err.message : \"Failed to load flashcards. Please try again.\")\r\n        }\r\n      })\r\n    }\r\n\r\n    loadFlashcards()\r\n  }, [topicId, complexity, withLoading])\r\n\r\n  // Load more flashcards for infinite scroll\r\n  const loadMoreFlashcards = useCallback(async () => {\r\n    if (!topicId || isLoadingMore || !hasMore) return\r\n\r\n    setIsLoadingMore(true)\r\n    try {\r\n      const result = await getFlashcardsByCategoryWithPagination(\r\n        topicId, \r\n        complexity || undefined, \r\n        flashcards.length, \r\n        20\r\n      )\r\n      \r\n      setFlashcards(prev => [...prev, ...result.flashcards])\r\n      setHasMore(result.hasMore)\r\n    } catch (err) {\r\n      console.error(\"Failed to load more flashcards:\", err)\r\n    } finally {\r\n      setIsLoadingMore(false)\r\n    }\r\n  }, [topicId, complexity, flashcards.length, isLoadingMore, hasMore])\r\n\r\n  // Reset flip state when changing cards\r\n  useEffect(() => {\r\n    setIsFlipped(false)\r\n  }, [currentIndex])\r\n\r\n  const onSave = (id: string) => {\r\n    toggleSave(id, title) // Pass topic title as context\r\n  }\r\n\r\n  const onCardSelect = (indexOrId: string | number) => {\r\n    if (typeof indexOrId === 'number') {\r\n      setCurrentIndex(indexOrId)\r\n    } else {\r\n      // Handle string ID case - find index of card with matching ID\r\n      const cardIndex = flashcards.findIndex(card => card.id === indexOrId)\r\n      if (cardIndex !== -1) {\r\n        setCurrentIndex(cardIndex)\r\n      }\r\n    }\r\n  }\r\n\r\n  const nextCard = useCallback(() => {\r\n    setCurrentIndex(prev => (prev + 1) % flashcards.length)\r\n  }, [flashcards.length])\r\n\r\n  const prevCard = useCallback(() => {\r\n    setCurrentIndex(prev => prev === 0 ? flashcards.length - 1 : prev - 1)\r\n  }, [flashcards.length])\r\n\r\n  const flipCard = useCallback(() => {\r\n    setIsFlipped(prev => !prev)\r\n  }, [])\r\n\r\n  // Keyboard event handler\r\n  useEffect(() => {\r\n    const handleKeyDown = (event: KeyboardEvent) => {\r\n      // Prevent default behavior for our handled keys\r\n      if (['Space', 'ArrowLeft', 'ArrowRight'].includes(event.code)) {\r\n        event.preventDefault()\r\n      }\r\n\r\n      switch (event.code) {\r\n        case 'Space':\r\n          flipCard()\r\n          break\r\n        case 'ArrowLeft':\r\n          prevCard()\r\n          break\r\n        case 'ArrowRight':\r\n          nextCard()\r\n          break\r\n      }\r\n    }\r\n\r\n    // Add event listener\r\n    window.addEventListener('keydown', handleKeyDown)\r\n\r\n    // Cleanup\r\n    return () => {\r\n      window.removeEventListener('keydown', handleKeyDown)\r\n    }\r\n  }, [flipCard, prevCard, nextCard])\r\n\r\n  // Handle swipe from FlashcardComponent\r\n  const handleSwipe = (direction: 'left' | 'right') => {\r\n    if (direction === 'left') {\r\n      nextCard()\r\n    } else {\r\n      prevCard()\r\n    }\r\n  }\r\n\r\n  if (error) {\r\n    return (\r\n      <PageWithLoading isLoading={isLoading}>\r\n        <div className=\"container mx-auto py-10 px-4 text-center\">\r\n          <div className=\"text-red-600 mb-4\">{error}</div>\r\n          <Button onClick={() => window.location.reload()}>Try Again</Button>\r\n        </div>\r\n      </PageWithLoading>\r\n    )\r\n  }\r\n\r\n  if (flashcards.length === 0) {\r\n    return (\r\n      <PageWithLoading isLoading={isLoading}>\r\n        <div className=\"container mx-auto py-10 px-4 text-center\">\r\n          <h1 className=\"text-3xl font-bold mb-6\">{title || \"Topic\"} Flashcards</h1>\r\n          <p className=\"text-gray-600 mb-8\">No flashcards found for this topic.</p>\r\n        </div>\r\n      </PageWithLoading>\r\n    )\r\n  }\r\n\r\n  const currentCard = flashcards[currentIndex]\r\n\r\n  return (\r\n    <PageWithLoading isLoading={isLoading}>\r\n      <div className=\"container mx-auto py-10 px-4\" tabIndex={0}>\r\n      <h1 className=\"text-3xl font-bold mb-6 text-center\">{title} Flashcards</h1>\r\n      \r\n      {/* Instructions */}\r\n      <div className=\"text-center text-gray-600 mb-10\">\r\n        <p className=\"mb-2\">{total} flashcards available</p>\r\n        <div className=\"text-sm space-y-1\">\r\n          <p>üí° <strong>Tap</strong> to flip ‚Ä¢ <strong>Swipe left/right</strong> to navigate</p>\r\n          <p>‚å®Ô∏è <strong>Spacebar</strong>: flip ‚Ä¢ <strong>‚Üê ‚Üí</strong>: navigate</p>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Main Flashcard Display */}\r\n      {currentCard && (\r\n        <div className=\"mb-16 relative z-10\">\r\n          <div className=\"max-w-2xl mx-auto mb-8\">\r\n            <FlashcardComponent\r\n              data={currentCard}\r\n              saved={isFlashcardSaved(currentCard.id)}\r\n              onSave={onSave}\r\n              onSwipe={handleSwipe}\r\n              onFlip={flipCard}\r\n              isFlipped={isFlipped}\r\n            />\r\n          </div>\r\n          \r\n          {/* Navigation Controls */}\r\n          <div className=\"flex items-center justify-center gap-4 mb-6\">\r\n            <Button\r\n              variant=\"outline\"\r\n              onClick={prevCard}\r\n              className=\"flex items-center gap-2\"\r\n              title=\"Previous card (‚Üê key)\"\r\n            >\r\n              <ArrowLeft className=\"h-4 w-4\" /> Previous\r\n            </Button>\r\n            \r\n            <Button\r\n              variant=\"default\"\r\n              onClick={flipCard}\r\n              className=\"px-6 flex items-center gap-2\"\r\n              title=\"Flip card (Spacebar)\"\r\n            >\r\n              <RotateCcw className=\"h-4 w-4\" />\r\n              {isFlipped ? \"Show Front\" : \"Show Back\"}\r\n            </Button>\r\n            \r\n            <Button\r\n              variant=\"outline\"\r\n              onClick={nextCard}\r\n              className=\"flex items-center gap-2\"\r\n              title=\"Next card (‚Üí key)\"\r\n            >\r\n              Next <ArrowRight className=\"h-4 w-4\" />\r\n            </Button>\r\n          </div>\r\n          \r\n          {/* Card counter */}\r\n          <div className=\"text-center mb-8\">\r\n            <p className=\"text-sm text-gray-600\">\r\n              Card {currentIndex + 1} of {flashcards.length}\r\n            </p>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Flashcard Deck Navigation */}\r\n      <div className=\"relative z-0\">\r\n        <FlashcardDeck \r\n          cards={flashcards} \r\n          currentIndex={currentIndex}\r\n          savedCards={new Set(flashcards.filter(card => isFlashcardSaved(card.id)).map(card => card.id))}\r\n          onCardSelect={onCardSelect}\r\n          onSave={onSave}\r\n          hasMore={hasMore}\r\n          isLoading={isLoadingMore}\r\n          onLoadMore={loadMoreFlashcards}\r\n          total={total}\r\n        />\r\n      </div>\r\n      </div>\r\n    </PageWithLoading>\r\n  )\r\n} "],"names":[],"mappings":"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","ignoreList":[0]}