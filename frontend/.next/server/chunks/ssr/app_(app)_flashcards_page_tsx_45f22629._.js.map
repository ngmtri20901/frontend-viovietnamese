{"version":3,"sources":["turbopack:///[project]/app/(app)/flashcards/page.tsx","turbopack:///[project]/features/flashcards/hooks/useRandomFlashcards.ts","turbopack:///[project]/features/flashcards/components/data/index.ts"],"sourcesContent":["\"use client\"\r\n\r\nimport { useState, useMemo, useEffect, useCallback } from \"react\"\r\nimport Link from \"next/link\"\r\nimport { Button } from \"@/shared/components/ui/button\"\r\nimport { Input } from \"@/shared/components/ui/input\"\r\nimport { Tabs, TabsList, TabsTrigger } from \"@/shared/components/ui/tabs\"\r\nimport { FlashcardComponent } from \"@/features/flashcards/components/core/flashcard-component\"\r\nimport { FlashcardDeck } from \"@/features/flashcards/components/core/flashcard-deck\"\r\nimport { Loader2, ArrowLeft, ArrowRight, RotateCcw } from \"lucide-react\"\r\nimport { Alert, AlertDescription } from \"@/shared/components/ui/alert\"\r\nimport PageWithLoading from \"@/shared/components/ui/PageWithLoading\"\r\nimport { useLoading } from \"@/shared/hooks/use-loading\"\r\n\r\n// Import new API service (only for search and today's flashcards)\r\nimport { \r\n  flashcardAPI, \r\n  type FlashcardTopic,\r\n  type WordType\r\n} from \"@/features/flashcards/services/flashcardService\"\r\nimport { type FlashcardData } from \"@/features/flashcards/services/flashcardService\"\r\nimport { useSavedFlashcards } from \"@/features/flashcards/hooks/useSavedFlashcards\"\r\nimport { useRandomFlashcards } from \"@/features/flashcards/hooks/useRandomFlashcards\"\r\nimport {\r\n  STATIC_TOPICS,\r\n  STATIC_WORD_TYPES,\r\n  STATIC_OTHERS,\r\n  convertToTopicFormat,\r\n  convertToWordTypeFormat,\r\n  calculateTotalComplexityCounts\r\n} from \"@/features/flashcards/components/data\"\r\n\r\n\r\nexport default function FlashcardsPage() {\r\n  // Loading hook\r\n  const { isLoading: baseLoading, withLoading } = useLoading()\r\n  \r\n  // State management\r\n  const [allTopics, setAllTopics] = useState<FlashcardTopic[]>([])\r\n  const [allWordTypes, setAllWordTypes] = useState<WordType[]>([])\r\n  const [search, setSearch] = useState(\"\")\r\n  const [searchResults, setSearchResults] = useState<FlashcardData[]>([])\r\n  const [todays, setTodays] = useState<FlashcardData[]>([])\r\n  const [tab, setTab] = useState(\"all\")\r\n  const [complexityCounts, setComplexityCounts] = useState<{all: number, simple: number, complex: number}>({all: 0, simple: 0, complex: 0})\r\n  const [currentIndex, setCurrentIndex] = useState(0)\r\n  const [isFlipped, setIsFlipped] = useState(false)\r\n  \r\n  // Search-specific states\r\n  const [searchCurrentIndex, setSearchCurrentIndex] = useState(0)\r\n  const [searchIsFlipped, setSearchIsFlipped] = useState(false)\r\n  \r\n  // Individual loading states for specific operations\r\n  const [searchLoading, setSearchLoading] = useState(false)\r\n  const [error, setError] = useState<string | null>(null)\r\n\r\n  // Saved flashcards hook\r\n  const { isFlashcardSaved, toggleSave, loading: savedCardsLoading } = useSavedFlashcards()\r\n\r\n  const {\r\n    data: randomFlashcards,\r\n    isLoading: isRandomLoading,\r\n    isFetching: isFetchingRandom,\r\n    refetch: refetchRandomFlashcards,\r\n    error: randomFlashcardsError,\r\n  } = useRandomFlashcards({ count: 25 })\r\n\r\n  const isPageLoading = baseLoading || isRandomLoading\r\n  const isRandomBusy = isRandomLoading || isFetchingRandom\r\n  const isRefreshBusy = isPageLoading || isRandomBusy\r\n\r\n  // Load initial data - now using static data for instant loading\r\n  useEffect(() => {\r\n    const loadInitialData = async () => {\r\n      await withLoading(async () => {\r\n        try {\r\n          setError(null)\r\n          \r\n          // Use static data for topics and word types (instant loading)\r\n          const topics = STATIC_TOPICS.map(topic => convertToTopicFormat(topic, \"all\"))\r\n          const wordTypes = STATIC_WORD_TYPES.map(wordType => convertToWordTypeFormat(wordType, \"all\"))\r\n          \r\n          // Calculate complexity counts from static data using helper function\r\n          const totalCounts = calculateTotalComplexityCounts()\r\n          \r\n          setAllTopics(topics)\r\n          setAllWordTypes(wordTypes)\r\n          setComplexityCounts(totalCounts)\r\n          \r\n        } catch (err) {\r\n          console.error(\"Failed to load initial data:\", err)\r\n          setError(\"Failed to load some content. Please refresh the page.\")\r\n        }\r\n      })\r\n    }\r\n\r\n    loadInitialData()\r\n  }, [withLoading])\r\n\r\n  useEffect(() => {\r\n    if (randomFlashcards) {\r\n      setTodays(randomFlashcards)\r\n    }\r\n  }, [randomFlashcards])\r\n\r\n  useEffect(() => {\r\n    if (randomFlashcardsError) {\r\n      console.error(\"Failed to load today's flashcards:\", randomFlashcardsError)\r\n      if (!randomFlashcards) {\r\n        setTodays([])\r\n      }\r\n    }\r\n  }, [randomFlashcards, randomFlashcardsError])\r\n\r\n  // Handle search with debouncing\r\n  useEffect(() => {\r\n    const handleSearch = async () => {\r\n      if (!search.trim()) {\r\n        setSearchResults([])\r\n        return\r\n      }\r\n\r\n      try {\r\n        setSearchLoading(true)\r\n        const results = await flashcardAPI.searchFlashcards(search, 50)\r\n        setSearchResults(results)\r\n      } catch (err) {\r\n        console.error(\"Search failed:\", err)\r\n        // Clear search results if API search fails\r\n        setSearchResults([])\r\n      } finally {\r\n        setSearchLoading(false)\r\n      }\r\n    }\r\n\r\n    const timeoutId = setTimeout(handleSearch, 300) // Debounce search\r\n    return () => clearTimeout(timeoutId)\r\n  }, [search])\r\n\r\n  // Refresh today's flashcards\r\n  const refreshTodaysCards = async () => {\r\n    await withLoading(async () => {\r\n      try {\r\n        const result = await refetchRandomFlashcards({ throwOnError: true })\r\n        const randomCards = result.data ?? []\r\n        setTodays(randomCards)\r\n        setCurrentIndex(0) // Reset to first card\r\n        setIsFlipped(false) // Reset flip state\r\n      } catch (err) {\r\n        console.error(\"Failed to refresh today's cards:\", err)\r\n        // Clear today's cards if API fails\r\n        setTodays([])\r\n        setCurrentIndex(0)\r\n        setIsFlipped(false)\r\n      }\r\n    })\r\n  }\r\n\r\n  // Reset flip state when changing cards\r\n  useEffect(() => {\r\n    setIsFlipped(false)\r\n  }, [currentIndex])\r\n\r\n  // Reset search flip state and index when changing search\r\n  useEffect(() => {\r\n    setSearchIsFlipped(false)\r\n    setSearchCurrentIndex(0)\r\n  }, [searchResults])\r\n\r\n  // Update data when tab changes - now using static data for instant switching\r\n  useEffect(() => {\r\n    // Use static data for instant filtering\r\n    const topics = STATIC_TOPICS.map(topic => convertToTopicFormat(topic, tab))\r\n    const wordTypes = STATIC_WORD_TYPES.map(wordType => convertToWordTypeFormat(wordType, tab))\r\n    \r\n    setAllTopics(topics)\r\n    setAllWordTypes(wordTypes)\r\n  }, [tab])\r\n\r\n  const onSave = (id: string) => {\r\n    // Get topic from current flashcard if available\r\n    const currentCard = search ? searchResults[searchCurrentIndex] : todays[currentIndex]\r\n    const topic = currentCard?.id === id ? undefined : undefined // We don't have topic info in current data structure\r\n    toggleSave(id, topic)\r\n  }\r\n\r\n  const onCardSelect = (indexOrId: string | number) => {\r\n    if (typeof indexOrId === 'number') {\r\n      setCurrentIndex(indexOrId)\r\n    } else {\r\n      // Handle string ID case - find index of card with matching ID\r\n      const cardIndex = todays.findIndex(card => card.id === indexOrId)\r\n      if (cardIndex !== -1) {\r\n        setCurrentIndex(cardIndex)\r\n      }\r\n    }\r\n  }\r\n\r\n  // Search card selection\r\n  const onSearchCardSelect = (indexOrId: string | number) => {\r\n    if (typeof indexOrId === 'number') {\r\n      setSearchCurrentIndex(indexOrId)\r\n    } else {\r\n      // Handle string ID case - find index of card with matching ID\r\n      const cardIndex = searchResults.findIndex(card => card.id === indexOrId)\r\n      if (cardIndex !== -1) {\r\n        setSearchCurrentIndex(cardIndex)\r\n      }\r\n    }\r\n  }\r\n\r\n  const nextCard = useCallback(() => {\r\n    setCurrentIndex(prev => (prev + 1) % todays.length)\r\n  }, [todays.length])\r\n\r\n  const prevCard = useCallback(() => {\r\n    setCurrentIndex(prev => prev === 0 ? todays.length - 1 : prev - 1)\r\n  }, [todays.length])\r\n\r\n  const flipCard = useCallback(() => {\r\n    setIsFlipped(prev => !prev)\r\n  }, [])\r\n\r\n  // Search navigation functions\r\n  const nextSearchCard = useCallback(() => {\r\n    setSearchCurrentIndex(prev => (prev + 1) % searchResults.length)\r\n  }, [searchResults.length])\r\n\r\n  const prevSearchCard = useCallback(() => {\r\n    setSearchCurrentIndex(prev => prev === 0 ? searchResults.length - 1 : prev - 1)\r\n  }, [searchResults.length])\r\n\r\n  const flipSearchCard = useCallback(() => {\r\n    setSearchIsFlipped(prev => !prev)\r\n  }, [])\r\n\r\n  // Handle swipe from FlashcardComponent\r\n  const handleSwipe = (direction: 'left' | 'right') => {\r\n    if (direction === 'left') {\r\n      nextCard()\r\n    } else {\r\n      prevCard()\r\n    }\r\n  }\r\n\r\n  // Handle swipe for search results\r\n  const handleSearchSwipe = (direction: 'left' | 'right') => {\r\n    if (direction === 'left') {\r\n      nextSearchCard()\r\n    } else {\r\n      prevSearchCard()\r\n    }\r\n  }\r\n\r\n  // Keyboard event handler for today's flashcards\r\n  useEffect(() => {\r\n    if (!search && todays.length > 0) {\r\n      const handleKeyDown = (event: KeyboardEvent) => {\r\n        // Prevent default behavior for our handled keys\r\n        if (['Space', 'ArrowLeft', 'ArrowRight'].includes(event.code)) {\r\n          event.preventDefault()\r\n        }\r\n\r\n        switch (event.code) {\r\n          case 'Space':\r\n            flipCard()\r\n            break\r\n          case 'ArrowLeft':\r\n            prevCard()\r\n            break\r\n          case 'ArrowRight':\r\n            nextCard()\r\n            break\r\n        }\r\n      }\r\n\r\n      // Add event listener\r\n      window.addEventListener('keydown', handleKeyDown)\r\n\r\n      // Cleanup\r\n      return () => {\r\n        window.removeEventListener('keydown', handleKeyDown)\r\n      }\r\n    }\r\n  }, [flipCard, prevCard, nextCard, search, todays.length])\r\n\r\n  // Keyboard event handler for search results\r\n  useEffect(() => {\r\n    if (search && searchResults.length > 0) {\r\n      const handleKeyDown = (event: KeyboardEvent) => {\r\n        // Prevent default behavior for our handled keys\r\n        if (['Space', 'ArrowLeft', 'ArrowRight'].includes(event.code)) {\r\n          event.preventDefault()\r\n        }\r\n\r\n        switch (event.code) {\r\n          case 'Space':\r\n            flipSearchCard()\r\n            break\r\n          case 'ArrowLeft':\r\n            prevSearchCard()\r\n            break\r\n          case 'ArrowRight':\r\n            nextSearchCard()\r\n            break\r\n        }\r\n      }\r\n\r\n      // Add event listener\r\n      window.addEventListener('keydown', handleKeyDown)\r\n\r\n      // Cleanup\r\n      return () => {\r\n        window.removeEventListener('keydown', handleKeyDown)\r\n      }\r\n    }\r\n  }, [flipSearchCard, prevSearchCard, nextSearchCard, search, searchResults.length])\r\n\r\n  // Group by word type - now using static data\r\n  const byType = useMemo(() => {\r\n    return allWordTypes.map((wordType) => ({\r\n      id: wordType.id,\r\n      title: wordType.title,\r\n      description: wordType.description,\r\n      count: wordType.count,\r\n      imageUrl: wordType.imageUrl, // Now using imageUrl from static data\r\n    }))\r\n  }, [allWordTypes])\r\n\r\n  // Others group with static counts\r\n  const othersData = useMemo(() => {\r\n    return STATIC_OTHERS.map(other => ({\r\n      id: other.id,\r\n      title: other.title,\r\n      description: other.description,\r\n      count: other.counts[tab as keyof typeof other.counts],\r\n      imageUrl: other.imageUrl,\r\n    }))\r\n  }, [tab])\r\n\r\n  // Show error state\r\n  if (error) {\r\n    return (\r\n      <PageWithLoading isLoading={isPageLoading}>\r\n        <div className=\"container mx-auto py-10 px-4\">\r\n          <Alert variant=\"destructive\" className=\"max-w-2xl mx-auto\">\r\n            <AlertDescription>\r\n              {error}\r\n              <Button \r\n                variant=\"outline\" \r\n                size=\"sm\" \r\n                className=\"ml-4\"\r\n                onClick={() => window.location.reload()}\r\n              >\r\n                Retry\r\n              </Button>\r\n            </AlertDescription>\r\n          </Alert>\r\n        </div>\r\n      </PageWithLoading>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <PageWithLoading isLoading={isPageLoading}>\r\n      <div className=\"container mx-auto py-10 px-6 sm:px-12 max-w-full overflow-x-hidden\">\r\n        <div className=\"mb-6\">\r\n          <h1 className=\"text-2xl sm:text-3xl font-bold\">Vietnamese Flashcards</h1>\r\n        </div>\r\n\r\n      {/* Search Bar */}\r\n      <div className=\"max-w-xl mx-auto mb-8 px-6 sm:px-12\">\r\n        <div className=\"relative\">\r\n          <Input\r\n            value={search}\r\n            onChange={(e) => setSearch(e.target.value)}\r\n            placeholder='Search \"xin chào\" or \"hello\"'\r\n            className=\"h-12 text-lg shadow\"\r\n          />\r\n          {searchLoading && (\r\n            <Loader2 className=\"absolute right-3 top-1/2 transform -translate-y-1/2 h-4 w-4 animate-spin text-gray-400\" />\r\n          )}\r\n        </div>\r\n      </div>\r\n\r\n      {/* Search Results */}\r\n      {search && (\r\n        <div className=\"mb-16 px-6 sm:px-12\">\r\n          <div className=\"flex items-center justify-between mb-6\">\r\n            <h2 className=\"text-2xl font-semibold\">Search Results</h2>\r\n            {searchResults.length > 0 && (\r\n              <p className=\"text-sm text-gray-600\">\r\n                Found {searchResults.length} flashcard{searchResults.length !== 1 ? 's' : ''}\r\n              </p>\r\n            )}\r\n          </div>\r\n\r\n          {searchResults.length === 0 && !searchLoading ? (\r\n            <div className=\"text-center text-gray-500 py-12\">\r\n              <p className=\"text-lg mb-2\">No results found.</p>\r\n              <p className=\"text-sm\">Try different keywords or check your spelling.</p>\r\n            </div>\r\n          ) : searchResults.length > 0 ? (\r\n            <>\r\n              {/* Main Search Flashcard Display */}\r\n              {searchResults[searchCurrentIndex] && (\r\n                <div className=\"mb-12 relative z-10\">\r\n                  <div className=\"max-w-2xl mx-auto mb-8\">\r\n                    <FlashcardComponent\r\n                      data={searchResults[searchCurrentIndex]}\r\n                      saved={isFlashcardSaved(searchResults[searchCurrentIndex].id)}\r\n                      onSave={onSave}\r\n                      onSwipe={handleSearchSwipe}\r\n                      onFlip={flipSearchCard}\r\n                      isFlipped={searchIsFlipped}\r\n                    />\r\n                  </div>\r\n                  \r\n                  {/* Navigation Controls */}\r\n                  <div className=\"flex items-center justify-center gap-4 mb-6\">\r\n                    <Button\r\n                      variant=\"outline\"\r\n                      onClick={prevSearchCard}\r\n                      className=\"flex items-center gap-2\"\r\n                      title=\"Previous card (← key)\"\r\n                    >\r\n                      <ArrowLeft className=\"h-4 w-4\" /> Previous\r\n                    </Button>\r\n                    \r\n                    <Button\r\n                      variant=\"default\"\r\n                      onClick={flipSearchCard}\r\n                      className=\"px-6 flex items-center gap-2\"\r\n                      title=\"Flip card (Spacebar)\"\r\n                    >\r\n                      <RotateCcw className=\"h-4 w-4\" />\r\n                      {searchIsFlipped ? \"Show Front\" : \"Show Back\"}\r\n                    </Button>\r\n                    \r\n                    <Button\r\n                      variant=\"outline\"\r\n                      onClick={nextSearchCard}\r\n                      className=\"flex items-center gap-2\"\r\n                      title=\"Next card (→ key)\"\r\n                    >\r\n                      Next <ArrowRight className=\"h-4 w-4\" />\r\n                    </Button>\r\n                  </div>\r\n                  \r\n                  {/* Card counter */}\r\n                  <div className=\"text-center mb-8\">\r\n                    <p className=\"text-sm text-gray-600\">\r\n                      Card {searchCurrentIndex + 1} of {searchResults.length}\r\n                    </p>\r\n                  </div>\r\n                </div>\r\n              )}\r\n\r\n              {/* Search Results Deck Navigation - Row of smaller cards */}\r\n              <div className=\"relative z-0\">\r\n                <div className=\"mb-6\">\r\n                  <h3 className=\"text-xl font-semibold text-gray-800 mb-2\">Search Results</h3>\r\n                  <p className=\"text-sm text-gray-600\">\r\n                    Browse through {searchResults.length} matching flashcard{searchResults.length !== 1 ? 's' : ''}\r\n                  </p>\r\n                </div>\r\n                \r\n                <FlashcardDeck\r\n                  cards={searchResults}\r\n                  savedCards={new Set(searchResults.filter(card => isFlashcardSaved(card.id)).map(card => card.id))}\r\n                  displayMode=\"row\"\r\n                  onCardSelect={onSearchCardSelect}\r\n                  onSave={onSave}\r\n                  itemsPerRow={5}\r\n                  currentIndex={searchCurrentIndex}\r\n                />\r\n              </div>\r\n            </>\r\n          ) : null}\r\n        </div>\r\n      )}\r\n\r\n      {/* Today's Flashcards */}\r\n      {!search && todays.length > 0 && (\r\n        <div className=\"mb-16 px-6 sm:px-12\">\r\n          <div className=\"mb-6\">\r\n            <h2 className=\"text-2xl font-semibold\">Today&apos;s Flashcards</h2>\r\n          </div>\r\n\r\n          {/* Main Flashcard Display */}\r\n          {todays[currentIndex] && (\r\n            <div className=\"mb-12 relative z-10\">\r\n              <div className=\"max-w-2xl mx-auto mb-8\">\r\n                <FlashcardComponent\r\n                  data={todays[currentIndex]}\r\n                  saved={isFlashcardSaved(todays[currentIndex].id)}\r\n                  onSave={onSave}\r\n                  onSwipe={handleSwipe}\r\n                  onFlip={flipCard}\r\n                  isFlipped={isFlipped}\r\n                />\r\n              </div>\r\n              \r\n              {/* Navigation Controls */}\r\n              <div className=\"flex items-center justify-center gap-4 mb-6\">\r\n                <Button\r\n                  variant=\"outline\"\r\n                  onClick={prevCard}\r\n                  className=\"flex items-center gap-2\"\r\n                  title=\"Previous card (← key)\"\r\n                >\r\n                  <ArrowLeft className=\"h-4 w-4\" /> Previous\r\n                </Button>\r\n                \r\n                <Button\r\n                  variant=\"default\"\r\n                  onClick={flipCard}\r\n                  className=\"px-6 flex items-center gap-2\"\r\n                  title=\"Flip card (Spacebar)\"\r\n                >\r\n                  <RotateCcw className=\"h-4 w-4\" />\r\n                  {isFlipped ? \"Show Front\" : \"Show Back\"}\r\n                </Button>\r\n                \r\n                <Button\r\n                  variant=\"outline\"\r\n                  onClick={nextCard}\r\n                  className=\"flex items-center gap-2\"\r\n                  title=\"Next card (→ key)\"\r\n                >\r\n                  Next <ArrowRight className=\"h-4 w-4\" />\r\n                </Button>\r\n              </div>\r\n              \r\n              {/* Card counter */}\r\n              <div className=\"text-center mb-8\">\r\n                <p className=\"text-sm text-gray-600\">\r\n                  Card {currentIndex + 1} of {todays.length}\r\n                </p>\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {/* Today's Flashcards Deck Navigation - Row layout */}\r\n          <div className=\"relative z-0\">\r\n            \r\n            <FlashcardDeck\r\n              cards={todays}\r\n              savedCards={new Set(todays.filter(card => isFlashcardSaved(card.id)).map(card => card.id))}\r\n              displayMode=\"row\"\r\n              onCardSelect={onCardSelect}\r\n              onSave={onSave}\r\n              itemsPerRow={5}\r\n              currentIndex={currentIndex}\r\n            />\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Browse Flashcard Sets */}\r\n      <div className=\"mb-6 px-6 sm:px-12\">\r\n        <div className=\"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4\">\r\n          <h2 className=\"text-2xl font-bold\">Browse Flashcard Sets</h2>\r\n          <Tabs value={tab} onValueChange={setTab} className=\"mr-0 sm:mr-12\">\r\n            <TabsList>\r\n              <TabsTrigger value=\"all\">\r\n                All \r\n              </TabsTrigger>\r\n              <TabsTrigger value=\"simple\">\r\n                Simple \r\n              </TabsTrigger>\r\n              <TabsTrigger value=\"complex\">\r\n                Complex \r\n              </TabsTrigger>\r\n            </TabsList>\r\n          </Tabs>\r\n        </div>\r\n      </div>\r\n\r\n      {/* By Topic */}\r\n      <div className=\"mb-10 px-6 sm:px-12\">\r\n        <h3 className=\"text-lg font-semibold mb-4\">By Topic</h3>\r\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\r\n          {allTopics.length === 0 ? (\r\n            <div className=\"text-center text-gray-500 py-8 w-full col-span-full\">No topics available.</div>\r\n          ) : (\r\n            allTopics.map((topic) => (\r\n              <Link key={topic.id} href={`/flashcards/topic/${topic.id}${tab !== \"all\" ? `?complexity=${tab}` : \"\"}`} className=\"block\">\r\n                <article className=\"cta-card group\">\r\n                  <div className=\"cta-card__image\">\r\n                    <img\r\n                      src={topic.imageUrl}\r\n                      alt={topic.title}\r\n                      className=\"cta-card__img\"\r\n                    />\r\n                  </div>\r\n                  <div className=\"cta-card__content\">\r\n                    <h4 className=\"cta-card__title group-hover:text-blue-600 transition-colors duration-200\">{topic.title}</h4>\r\n                    <p className=\"cta-card__description\">{topic.description}</p>\r\n                    <div className=\"cta-card__footer\">\r\n                      <span className=\"cta-card__count\">{topic.count} flashcards</span>\r\n                      <span className=\"cta-card__button\">\r\n                        Start Learning\r\n                      </span>\r\n                    </div>\r\n                  </div>\r\n                </article>\r\n              </Link>\r\n            ))\r\n          )}\r\n        </div>\r\n      </div>\r\n\r\n      {/* By Word Type */}\r\n      <div className=\"mb-10 overflow-hidden px-6 sm:px-12\">\r\n        <h3 className=\"text-lg font-semibold mb-4\">By Word Type</h3>\r\n        <div className=\"relative group overflow-hidden w-full\">\r\n          {byType.length === 0 ? (\r\n            <div className=\"text-center text-gray-500 py-8 w-full\">No word type groups available.</div>\r\n          ) : (\r\n            <>\r\n              <div \r\n                className=\"flex gap-6 overflow-x-auto scrollbar-hide py-2 px-2 word-type-scroll-container\" \r\n                style={{scrollBehavior: 'smooth'}}\r\n              >\r\n                {byType.map((set) => (\r\n                  <Link key={set.id} href={`/flashcards/topic/${set.id}${tab !== \"all\" ? `?complexity=${tab}` : \"\"}`} className=\"flex-shrink-0\">\r\n                    <article className=\"cta-card-horizontal group\">\r\n                      <div className=\"cta-card-horizontal__image\">\r\n                        <img\r\n                          src={set.imageUrl}\r\n                          alt={set.title}\r\n                          className=\"cta-card-horizontal__img\"\r\n                        />\r\n                      </div>\r\n                      <div className=\"cta-card-horizontal__content\">\r\n                        <h4 className=\"cta-card-horizontal__title group-hover:text-blue-600 transition-colors duration-200\">{set.title}</h4>\r\n                        <p className=\"cta-card-horizontal__description\">{set.description}</p>\r\n                        <div className=\"cta-card-horizontal__footer\">\r\n                          <span className=\"cta-card-horizontal__count\">{set.count} flashcards</span>\r\n                          <span className=\"cta-card-horizontal__button\">\r\n                            Start Learning\r\n                          </span>\r\n                        </div>\r\n                      </div>\r\n                    </article>\r\n                  </Link>\r\n                ))}\r\n              </div>\r\n              \r\n              {/* Navigation buttons - only visible on hover */}\r\n              <button \r\n                className=\"absolute left-2 top-1/2 transform -translate-y-1/2 bg-white dark:bg-gray-800 rounded-full p-2 shadow-lg opacity-0 group-hover:opacity-100 transition-opacity duration-300 z-10 hover:bg-gray-50 dark:hover:bg-gray-700\"\r\n                onClick={(e) => {\r\n                  e.preventDefault();\r\n                  const container = e.currentTarget.parentElement?.querySelector('.word-type-scroll-container') as HTMLElement;\r\n                  if (container) {\r\n                    container.scrollBy({ left: -300, behavior: 'smooth' });\r\n                  }\r\n                }}\r\n                aria-label=\"Scroll left\"\r\n              >\r\n                <ArrowLeft className=\"h-5 w-5 text-gray-600 dark:text-gray-300\" />\r\n              </button>\r\n              \r\n              <button \r\n                className=\"absolute right-2 top-1/2 transform -translate-y-1/2 bg-white dark:bg-gray-800 rounded-full p-2 shadow-lg opacity-0 group-hover:opacity-100 transition-opacity duration-300 z-10 hover:bg-gray-50 dark:hover:bg-gray-700\"\r\n                onClick={(e) => {\r\n                  e.preventDefault();\r\n                  const container = e.currentTarget.parentElement?.querySelector('.word-type-scroll-container') as HTMLElement;\r\n                  if (container) {\r\n                    container.scrollBy({ left: 300, behavior: 'smooth' });\r\n                  }\r\n                }}\r\n                aria-label=\"Scroll right\"\r\n              >\r\n                <ArrowRight className=\"h-5 w-5 text-gray-600 dark:text-gray-300\" />\r\n              </button>\r\n            </>\r\n          )}\r\n        </div>\r\n      </div>\r\n\r\n      {/* Others */}\r\n      <div className=\"mb-10 overflow-hidden px-6 sm:px-12\">\r\n        <h3 className=\"text-lg font-semibold mb-4\">Others</h3>\r\n        <div className=\"relative group overflow-hidden w-full\">\r\n          {othersData.length === 0 ? (\r\n            <div className=\"text-center text-gray-500 py-8 w-full\">No other groups available.</div>\r\n          ) : (\r\n            <>\r\n              <div \r\n                className=\"flex gap-6 overflow-x-auto scrollbar-hide py-2 px-2 others-scroll-container\" \r\n                style={{scrollBehavior: 'smooth'}}\r\n              >\r\n                {othersData.map((set) => (\r\n                  <Link key={set.id} href={`/flashcards/topic/${set.id}${tab !== \"all\" ? `?complexity=${tab}` : \"\"}`} className=\"flex-shrink-0\">\r\n                    <article className=\"cta-card-horizontal group\">\r\n                      <div className=\"cta-card-horizontal__image\">\r\n                        <img\r\n                          src={set.imageUrl}\r\n                          alt={set.title}\r\n                          className=\"cta-card-horizontal__img\"\r\n                        />\r\n                      </div>\r\n                      <div className=\"cta-card-horizontal__content\">\r\n                        <h4 className=\"cta-card-horizontal__title group-hover:text-blue-600 transition-colors duration-200\">{set.title}</h4>\r\n                        <p className=\"cta-card-horizontal__description\">{set.description}</p>\r\n                        <div className=\"cta-card-horizontal__footer\">\r\n                          <span className=\"cta-card-horizontal__count\">{set.count} flashcards</span>\r\n                          <span className=\"cta-card-horizontal__button\">\r\n                            Start Learning\r\n                          </span>\r\n                        </div>\r\n                      </div>\r\n                    </article>\r\n                  </Link>\r\n                ))}\r\n              </div>\r\n              \r\n              {/* Navigation buttons - only visible on hover */}\r\n              <button \r\n                className=\"absolute left-2 top-1/2 transform -translate-y-1/2 bg-white dark:bg-gray-800 rounded-full p-2 shadow-lg opacity-0 group-hover:opacity-100 transition-opacity duration-300 z-10 hover:bg-gray-50 dark:hover:bg-gray-700\"\r\n                onClick={(e) => {\r\n                  e.preventDefault();\r\n                  const container = e.currentTarget.parentElement?.querySelector('.others-scroll-container') as HTMLElement;\r\n                  if (container) {\r\n                    container.scrollBy({ left: -300, behavior: 'smooth' });\r\n                  }\r\n                }}\r\n                aria-label=\"Scroll left\"\r\n              >\r\n                <ArrowLeft className=\"h-5 w-5 text-gray-600 dark:text-gray-300\" />\r\n              </button>\r\n              \r\n              <button \r\n                className=\"absolute right-2 top-1/2 transform -translate-y-1/2 bg-white dark:bg-gray-800 rounded-full p-2 shadow-lg opacity-0 group-hover:opacity-100 transition-opacity duration-300 z-10 hover:bg-gray-50 dark:hover:bg-gray-700\"\r\n                onClick={(e) => {\r\n                  e.preventDefault();\r\n                  const container = e.currentTarget.parentElement?.querySelector('.others-scroll-container') as HTMLElement;\r\n                  if (container) {\r\n                    container.scrollBy({ left: 300, behavior: 'smooth' });\r\n                  }\r\n                }}\r\n                aria-label=\"Scroll right\"\r\n              >\r\n                <ArrowRight className=\"h-5 w-5 text-gray-600 dark:text-gray-300\" />\r\n              </button>\r\n            </>\r\n          )}\r\n        </div>\r\n      </div>\r\n\r\n      </div>\r\n    </PageWithLoading>\r\n  )\r\n}\r\n","'use client'\r\n\r\nimport { useState, useCallback, useEffect } from 'react'\r\nimport type { FlashcardData } from '../types/flashcard.types'\r\nimport { flashcardAPI } from '../services/flashcardService'\r\n\r\ninterface UseRandomFlashcardsParams {\r\n  count?: number\r\n  commonWordsOnly?: boolean\r\n}\r\n\r\ninterface UseRandomFlashcardsReturn {\r\n  data: FlashcardData[] | undefined\r\n  isLoading: boolean\r\n  isFetching: boolean\r\n  refetch: (options?: { throwOnError?: boolean }) => Promise<{ data: FlashcardData[] | undefined }>\r\n  error: Error | null\r\n}\r\n\r\n/**\r\n * Hook to fetch random flashcards\r\n * Mimics React Query interface for compatibility\r\n */\r\nexport function useRandomFlashcards(params: UseRandomFlashcardsParams = {}): UseRandomFlashcardsReturn {\r\n  const { count = 20, commonWordsOnly = false } = params\r\n  const [data, setData] = useState<FlashcardData[] | undefined>(undefined)\r\n  const [isLoading, setIsLoading] = useState(true)\r\n  const [isFetching, setIsFetching] = useState(false)\r\n  const [error, setError] = useState<Error | null>(null)\r\n\r\n  const fetchFlashcards = useCallback(async (throwOnError = false) => {\r\n    setIsFetching(true)\r\n    setError(null)\r\n    \r\n    try {\r\n      const result = await flashcardAPI.getRandomFlashcards({ count, commonWordsOnly })\r\n      setData(result)\r\n      setIsLoading(false)\r\n      return { data: result }\r\n    } catch (err) {\r\n      const error = err instanceof Error ? err : new Error('Failed to fetch random flashcards')\r\n      setError(error)\r\n      setIsLoading(false)\r\n      \r\n      if (throwOnError) {\r\n        throw error\r\n      }\r\n      \r\n      return { data: undefined }\r\n    } finally {\r\n      setIsFetching(false)\r\n    }\r\n  }, [count, commonWordsOnly])\r\n\r\n  useEffect(() => {\r\n    fetchFlashcards()\r\n  }, [fetchFlashcards])\r\n\r\n  const refetch = useCallback(async (options?: { throwOnError?: boolean }) => {\r\n    return await fetchFlashcards(options?.throwOnError)\r\n  }, [fetchFlashcards])\r\n\r\n  return {\r\n    data,\r\n    isLoading,\r\n    isFetching,\r\n    refetch,\r\n    error,\r\n  }\r\n}\r\n\r\n","/**\r\n * Flashcard static data exports\r\n * Centralized exports for all static flashcard data and helper functions\r\n */\r\n\r\nexport {\r\n  STATIC_TOPICS,\r\n  STATIC_WORD_TYPES,\r\n  STATIC_OTHERS,\r\n  convertToTopicFormat,\r\n  convertToWordTypeFormat,\r\n  calculateTotalComplexityCounts\r\n} from './static-data'\r\n"],"names":[],"mappings":"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"}