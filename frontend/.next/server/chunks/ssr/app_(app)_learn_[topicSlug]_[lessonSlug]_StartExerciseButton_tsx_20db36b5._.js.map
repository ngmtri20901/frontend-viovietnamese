{"version":3,"sources":["turbopack:///[project]/app/(app)/learn/[topicSlug]/[lessonSlug]/StartExerciseButton.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport { useState } from \"react\"\r\nimport { useRouter } from \"next/navigation\"\r\nimport { Button } from \"@/shared/components/ui/button\"\r\nimport { Loader2 } from \"lucide-react\"\r\nimport { useToast } from \"@/shared/hooks/use-toast\"\r\n\r\ninterface StartExerciseButtonProps {\r\n  topicSlug: string\r\n  lessonSlug: string\r\n  practiceSetId: string\r\n  isReview: boolean\r\n}\r\n\r\nexport function StartExerciseButton({\r\n  topicSlug,\r\n  lessonSlug,\r\n  practiceSetId,\r\n  isReview,\r\n}: StartExerciseButtonProps) {\r\n  const router = useRouter()\r\n  const { toast } = useToast()\r\n  const [isCreatingSession, setIsCreatingSession] = useState(false)\r\n\r\n  const handleStartExercise = async () => {\r\n    try {\r\n      setIsCreatingSession(true)\r\n\r\n      // Create session via API\r\n      const response = await fetch(\"/api/exercise/start\", {\r\n        method: \"POST\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n        body: JSON.stringify({\r\n          practiceSetId,\r\n        }),\r\n      })\r\n\r\n      const data = await response.json()\r\n\r\n      if (!response.ok || !data.success) {\r\n        throw new Error(data.error || \"Failed to start exercise\")\r\n      }\r\n\r\n      console.log(\"[StartExerciseButton] Session created:\", data.practiceResultId)\r\n\r\n      // Navigate to exercise page\r\n      router.push(`/learn/${topicSlug}/${lessonSlug}/exercise`)\r\n    } catch (error) {\r\n      console.error(\"[StartExerciseButton] Error creating session:\", error)\r\n\r\n      toast({\r\n        title: \"Error\",\r\n        description:\r\n          error instanceof Error\r\n            ? error.message\r\n            : \"Failed to start exercise. Please try again.\",\r\n        variant: \"destructive\",\r\n      })\r\n\r\n      setIsCreatingSession(false)\r\n    }\r\n  }\r\n\r\n  return (\r\n    <Button\r\n      onClick={handleStartExercise}\r\n      disabled={isCreatingSession}\r\n      className=\"w-full bg-[#067BC2] hover:bg-[#055a9f] mt-6\"\r\n    >\r\n      {isCreatingSession ? (\r\n        <>\r\n          <Loader2 className=\"mr-2 h-4 w-4 animate-spin\" />\r\n          {isReview ? \"Starting Review...\" : \"Starting Exercise...\"}\r\n        </>\r\n      ) : (\r\n        <>{isReview ? \"Review Exercise\" : \"Start Exercise\"}</>\r\n      )}\r\n    </Button>\r\n  )\r\n}\r\n"],"names":[],"mappings":"6FAEA,EAAA,EAAA,CAAA,CAAA,QACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,QACA,EAAA,EAAA,CAAA,CAAA,QACA,EAAA,EAAA,CAAA,CAAA,QASO,SAAS,EAAoB,WAClC,CAAS,YACT,CAAU,eACV,CAAa,UACb,CAAQ,CACiB,EACzB,IAAM,EAAS,CAAA,EAAA,EAAA,SAAA,AAAS,IAClB,OAAE,CAAK,CAAE,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,IACpB,CAAC,EAAmB,EAAqB,CAAG,CAAA,EAAA,EAAA,QAAQ,AAAR,GAAS,GAErD,EAAsB,UAC1B,GAAI,CACF,EAAqB,IAGrB,IAAM,EAAW,MAAM,MAAM,sBAAuB,CAClD,OAAQ,OACR,QAAS,CACP,eAAgB,kBAClB,EACA,KAAM,KAAK,SAAS,CAAC,eACnB,CACF,EACF,GAEM,EAAO,MAAM,EAAS,IAAI,GAEhC,GAAI,CAAC,EAAS,EAAE,EAAI,CAAC,EAAK,OAAO,CAC/B,CADiC,KAC3B,AAAI,MAAM,EAAK,KAAK,EAAI,4BAGhC,QAAQ,GAAG,CAAC,yCAA0C,EAAK,gBAAgB,EAG3E,EAAO,IAAI,CAAC,CAAC,OAAO,EAAE,EAAU,CAAC,EAAE,EAAW,SAAS,CAAC,CAC1D,CAAE,MAAO,EAAO,CACd,QAAQ,KAAK,CAAC,gDAAiD,GAE/D,EAAM,CACJ,MAAO,QACP,YACE,aAAiB,MACb,EAAM,OAAO,CACb,8CACN,QAAS,aACX,GAEA,GAAqB,EACvB,CACF,EAEA,MACE,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CACL,QAAS,EACT,SAAU,EACV,UAAU,uDAET,EACC,CAAA,EAAA,EAAA,IAAA,EAAA,EAAA,QAAA,CAAA,WACE,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,OAAO,CAAA,CAAC,UAAU,8BAClB,EAAW,qBAAuB,0BAGrC,CAAA,EAAA,EAAA,GAAA,EAAA,EAAA,QAAA,CAAA,UAAG,EAAW,kBAAoB,oBAI1C"}