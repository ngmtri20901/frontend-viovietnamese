{"version":3,"sources":["turbopack:///[project]/shared/components/ui/progressive-loading.tsx","turbopack:///[project]/features/flashcards/hooks/useProgressiveSession.ts","turbopack:///[project]/features/flashcards/hooks/use-session-validation.ts","turbopack:///[project]/features/flashcards/components/review/ReviewClient.tsx","turbopack:///[project]/node_modules/@radix-ui/react-radio-group/dist/index.mjs","turbopack:///[project]/shared/components/ui/radio-group.tsx","turbopack:///[project]/features/flashcards/components/review/insufficient-cards-modal.tsx","turbopack:///[project]/node_modules/@radix-ui/react-toggle/dist/index.mjs","turbopack:///[project]/node_modules/@radix-ui/react-toggle-group/dist/index.mjs","turbopack:///[project]/shared/components/ui/toggle.tsx","turbopack:///[project]/shared/components/ui/toggle-group.tsx","turbopack:///[project]/features/flashcards/components/review/SessionConfig.tsx","turbopack:///[project]/features/flashcards/actions/data:f03bd8 <text/javascript>","turbopack:///[project]/features/flashcards/actions/data:670882 <text/javascript>","turbopack:///[project]/features/flashcards/utils/daily-cache.ts","turbopack:///[project]/node_modules/lucide-react/src/icons/settings.ts","turbopack:///[project]/node_modules/@radix-ui/react-radio-group/src/radio.tsx","turbopack:///[project]/node_modules/@radix-ui/react-toggle-group/src/toggle-group.tsx","turbopack:///[project]/features/flashcards/services/sessions.ts"],"sourcesContent":["'use client'\r\n\r\nimport React from 'react';\r\nimport { CheckCircle, Circle, Loader2, XCircle } from 'lucide-react';\r\n\r\nexport type StepStatus = 'pending' | 'loading' | 'completed' | 'error';\r\n\r\nexport interface ProgressStep {\r\n  id: string;\r\n  label: string;\r\n  status: StepStatus;\r\n  description?: string;\r\n}\r\n\r\ninterface ProgressiveLoadingProps {\r\n  steps: ProgressStep[];\r\n  title?: string;\r\n  onCancel?: () => void;\r\n  className?: string;\r\n}\r\n\r\nconst StepIcon: React.FC<{ status: StepStatus }> = ({ status }) => {\r\n  switch (status) {\r\n    case 'pending':\r\n      return <Circle className=\"h-5 w-5 text-gray-400\" />;\r\n    case 'loading':\r\n      return <Loader2 className=\"h-5 w-5 text-blue-600 animate-spin\" />;\r\n    case 'completed':\r\n      return <CheckCircle className=\"h-5 w-5 text-green-600\" />;\r\n    case 'error':\r\n      return <XCircle className=\"h-5 w-5 text-red-600\" />;\r\n    default:\r\n      return <Circle className=\"h-5 w-5 text-gray-400\" />;\r\n  }\r\n};\r\n\r\nconst ProgressBar: React.FC<{ steps: ProgressStep[] }> = ({ steps }) => {\r\n  const completedSteps = steps.filter(step => step.status === 'completed').length;\r\n  const progress = (completedSteps / steps.length) * 100;\r\n\r\n  return (\r\n    <div className=\"w-full bg-gray-200 rounded-full h-2 mb-6\">\r\n      <div \r\n        className=\"bg-blue-600 h-2 rounded-full transition-all duration-500 ease-out\"\r\n        style={{ width: `${progress}%` }}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport const ProgressiveLoading: React.FC<ProgressiveLoadingProps> = ({ \r\n  steps, \r\n  title = \"Processing...\", \r\n  onCancel,\r\n  className = \"\" \r\n}) => {\r\n  const hasError = steps.some(step => step.status === 'error');\r\n  const allCompleted = steps.every(step => step.status === 'completed');\r\n\r\n  return (\r\n    <div className={`fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4 ${className}`}>\r\n      <div className=\"bg-white rounded-lg shadow-xl p-6 w-full max-w-md\">\r\n        {/* Header */}\r\n        <div className=\"text-center mb-6\">\r\n          <h3 className=\"text-lg font-semibold text-gray-900 mb-2\">{title}</h3>\r\n          <ProgressBar steps={steps} />\r\n        </div>\r\n\r\n        {/* Steps */}\r\n        <div className=\"space-y-4 mb-6\">\r\n          {steps.map((step, index) => (\r\n            <div key={step.id} className=\"flex items-start gap-3\">\r\n              <div className=\"flex-shrink-0 mt-0.5\">\r\n                <StepIcon status={step.status} />\r\n              </div>\r\n              <div className=\"flex-1 min-w-0\">\r\n                <p className={`text-sm font-medium ${\r\n                  step.status === 'completed' ? 'text-green-700' :\r\n                  step.status === 'loading' ? 'text-blue-700' :\r\n                  step.status === 'error' ? 'text-red-700' :\r\n                  'text-gray-600'\r\n                }`}>\r\n                  {step.label}\r\n                </p>\r\n                {step.description && (\r\n                  <p className=\"text-xs text-gray-500 mt-1\">{step.description}</p>\r\n                )}\r\n              </div>\r\n            </div>\r\n          ))}\r\n        </div>\r\n\r\n        {/* Actions */}\r\n        {(hasError || onCancel) && !allCompleted && (\r\n          <div className=\"flex justify-end gap-2\">\r\n            {onCancel && (\r\n              <button\r\n                onClick={onCancel}\r\n                className=\"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-md transition-colors\"\r\n              >\r\n                Cancel\r\n              </button>\r\n            )}\r\n            {hasError && (\r\n              <button\r\n                onClick={() => window.location.reload()}\r\n                className=\"px-4 py-2 text-sm font-medium text-white bg-red-600 hover:bg-red-700 rounded-md transition-colors\"\r\n              >\r\n                Retry\r\n              </button>\r\n            )}\r\n          </div>\r\n        )}\r\n\r\n        {/* Success message */}\r\n        {allCompleted && (\r\n          <div className=\"text-center\">\r\n            <p className=\"text-sm text-green-700 font-medium\">Ready to start your session!</p>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ProgressiveLoading;\r\n\r\n","'use client'\r\n\r\nimport { useState, useCallback } from 'react';\r\nimport { ProgressStep, StepStatus } from '@/shared/components/ui/progressive-loading';\r\n\r\ninterface UseProgressiveSessionReturn {\r\n  steps: ProgressStep[];\r\n  updateStep: (stepId: string, status: StepStatus, description?: string) => void;\r\n  resetSteps: () => void;\r\n  hasError: boolean;\r\n  isCompleted: boolean;\r\n  currentStep: ProgressStep | null;\r\n}\r\n\r\nexport const useProgressiveSession = (): UseProgressiveSessionReturn => {\r\n  const [steps, setSteps] = useState<ProgressStep[]>([\r\n    {\r\n      id: 'validate',\r\n      label: 'Validating session filters',\r\n      status: 'pending',\r\n      description: 'Checking if enough cards match your criteria'\r\n    },\r\n    {\r\n      id: 'generate',\r\n      label: 'Generating flashcards',\r\n      status: 'pending',\r\n      description: 'Fetching and preparing your cards'\r\n    },\r\n    {\r\n      id: 'save',\r\n      label: 'Creating session',\r\n      status: 'pending',\r\n      description: 'Saving session data to database'\r\n    },\r\n    {\r\n      id: 'redirect',\r\n      label: 'Preparing review interface',\r\n      status: 'pending',\r\n      description: 'Loading your flashcard session'\r\n    }\r\n  ]);\r\n\r\n  const updateStep = useCallback((stepId: string, status: StepStatus, description?: string) => {\r\n    setSteps(prev => prev.map(step => \r\n      step.id === stepId \r\n        ? { ...step, status, ...(description && { description }) }\r\n        : step\r\n    ));\r\n  }, []);\r\n\r\n  const resetSteps = useCallback(() => {\r\n    setSteps(prev => prev.map(step => ({ ...step, status: 'pending' as StepStatus })));\r\n  }, []);\r\n\r\n  const hasError = steps.some(step => step.status === 'error');\r\n  const isCompleted = steps.every(step => step.status === 'completed');\r\n  const currentStep = steps.find(step => step.status === 'loading') || null;\r\n\r\n  return {\r\n    steps,\r\n    updateStep,\r\n    resetSteps,\r\n    hasError,\r\n    isCompleted,\r\n    currentStep,\r\n  };\r\n};\r\n","\"use client\";\r\n\r\nimport { useState, useCallback } from \"react\";\r\nimport { sessionAPI, SessionFilterRequest, SessionValidationResponse, SuggestionOption } from \"@/features/flashcards/services/sessions\";\r\nimport { toast } from \"sonner\";\r\n\r\ninterface UseSessionValidationReturn {\r\n  isValidating: boolean;\r\n  validationResult: SessionValidationResponse | null;\r\n  validateSession: (filters: SessionFilterRequest, userId?: string) => Promise<SessionValidationResponse | null>;\r\n  clearValidation: () => void;\r\n  error: string | null;\r\n}\r\n\r\nexport const useSessionValidation = (): UseSessionValidationReturn => {\r\n  const [isValidating, setIsValidating] = useState(false);\r\n  const [validationResult, setValidationResult] = useState<SessionValidationResponse | null>(null);\r\n  const [error, setError] = useState<string | null>(null);\r\n\r\n  const validateSession = useCallback(async (filters: SessionFilterRequest, userId?: string): Promise<SessionValidationResponse | null> => {\r\n    setIsValidating(true);\r\n    setError(null);\r\n\r\n    try {\r\n      console.log(\"üîç Validating session filters:\", filters, userId ? `for user ${userId}` : \"\");\r\n      const result = await sessionAPI.validateSessionFilters(filters, userId);\r\n\r\n      console.log(\"‚úÖ Validation result:\", result);\r\n      setValidationResult(result);\r\n      \r\n      if (result.insufficient) {\r\n        console.log(`‚ö†Ô∏è Insufficient cards: ${result.available_count}/${filters.num_cards}`);\r\n        if (result.suggestions && result.suggestions.length > 0) {\r\n          console.log(`üí° Found ${result.suggestions.length} suggestions`);\r\n        }\r\n      } else {\r\n        console.log(`‚úÖ Sufficient cards available: ${result.available_count}/${filters.num_cards}`);\r\n      }\r\n      \r\n      return result;\r\n    } catch (error) {\r\n      const errorMessage = error instanceof Error ? error.message : \"Failed to validate session\";\r\n      console.error(\"‚ùå Session validation error:\", error);\r\n      setError(errorMessage);\r\n      toast.error(errorMessage);\r\n      return null;\r\n    } finally {\r\n      setIsValidating(false);\r\n    }\r\n  }, []);\r\n\r\n  const clearValidation = useCallback(() => {\r\n    setValidationResult(null);\r\n    setError(null);\r\n  }, []);\r\n\r\n  return {\r\n    isValidating,\r\n    validationResult,\r\n    validateSession,\r\n    clearValidation,\r\n    error,\r\n  };\r\n}; ","'use client'\n\nimport { useState, useEffect, useCallback } from \"react\";\nimport { useRouter } from \"next/navigation\";\nimport { supabase } from \"@/shared/lib/supabase/client\";\nimport {\n  Card,\n  CardContent,\n  CardDescription,\n  CardHeader,\n  CardTitle,\n} from \"@/shared/components/ui/card\";\nimport { Button } from \"@/shared/components/ui/button\";\nimport {\n  Select,\n  SelectContent,\n  SelectItem,\n  SelectTrigger,\n  SelectValue,\n} from \"@/shared/components/ui/select\";\nimport { ToggleGroup, ToggleGroupItem } from \"@/shared/components/ui/toggle-group\";\nimport { Slider } from \"@/shared/components/ui/slider\";\nimport { Checkbox } from \"@/shared/components/ui/checkbox\";\nimport { Progress } from \"@/shared/components/ui/progress\";\nimport { Separator } from \"@/shared/components/ui/separator\";\nimport { Badge } from \"@/shared/components/ui/badge\";\nimport {\n  Dialog,\n  DialogContent,\n  DialogDescription,\n  DialogFooter,\n  DialogHeader,\n  DialogTitle,\n} from \"@/shared/components/ui/dialog\";\nimport {\n  BookOpen,\n  Target,\n  TrendingUp,\n  Trophy,\n  Mic,\n  Shuffle,\n  Volume2,\n  Lock,\n  Crown,\n  Play,\n  Settings,\n  Calendar,\n  Zap,\n  AlarmClock,\n  Check,\n  X,\n  CircleHelp,\n  RefreshCw,\n} from \"lucide-react\";\nimport { toast } from \"sonner\";\nimport Link from \"next/link\";\nimport PageWithLoading from \"@/shared/components/ui/PageWithLoading\";\nimport { ProgressiveLoading } from \"@/shared/components/ui/progressive-loading\";\nimport { useProgressiveSession } from \"@/features/flashcards/hooks/useProgressiveSession\";\nimport { useLoading } from \"@/shared/hooks/use-loading\";\nimport { FlashcardComponent } from \"@/features/flashcards/components/core/flashcard-component\";\nimport type { FlashcardData } from \"@/features/flashcards/types/flashcard.types\";\nimport { flashcardAPI } from \"@/features/flashcards/services/flashcardService\";\nimport { useSessionValidation } from \"@/features/flashcards/hooks/use-session-validation\";\nimport { useDisplaySettings } from \"@/features/settings/hooks/use-display-settings\";\nimport { useFlashcardReview } from \"@/features/flashcards/hooks/use-flashcard-review\";\nimport { sessionAPI } from \"@/features/flashcards/services/sessions\";\nimport { InsufficientCardsModal } from \"@/features/flashcards/components/review/insufficient-cards-modal\";\nimport type { SuggestionOption } from \"@/features/flashcards/types/session.types\";\nimport { ReviewSession } from \"@/features/flashcards/components/review/ReviewSession\";\nimport { SessionConfig } from \"@/features/flashcards/components/review/SessionConfig\";\nimport { saveDailyFlashcards, loadDailyFlashcards } from \"@/features/flashcards/utils/daily-cache\";\nimport { createReviewSession, createSessionCardMappings } from \"@/features/flashcards/actions/review\";\n\ninterface FlashcardTopic {\n  id: string;\n  name: string;\n  description: string;\n  icon: string;\n}\n\ninterface User {\n  id: string;\n  name: string;\n  email?: string;\n  subscription_type: \"FREE\" | \"PLUS\" | \"UNLIMITED\";\n  streak_days: number;\n  coins: number;\n}\n\ninterface ReviewSessionConfig {\n  topic?: string;\n  complexity: string;\n  includeSavedCards: boolean;\n  numberOfCards: number;\n  onlyCommonWords: boolean;\n}\n\ninterface TodaysStats {\n  reviewedToday: number;\n  dailyGoal: number;\n  dueForReview: number;\n  accuracy: number;\n}\n\nexport default function ReviewClient() {\n  const router = useRouter();\n  const [mounted, setMounted] = useState(false);\n  const [user, setUser] = useState<User | null>(null);\n  const [topics, setTopics] = useState<FlashcardTopic[]>([]);\n  const [todaysStats, setTodaysStats] = useState<TodaysStats>({\n    reviewedToday: 0,\n    dailyGoal: 20,\n    dueForReview: 0,\n    accuracy: 0,\n  });\n\n  // Session configuration\n  const [sessionConfig, setSessionConfig] = useState<ReviewSessionConfig>({\n    complexity: \"All\",\n    includeSavedCards: false,\n    numberOfCards: 10,\n    onlyCommonWords: false,\n  });\n\n  // Practice cards and review hook\n  const [practiceCards, setPracticeCards] = useState<FlashcardData[]>([]);\n\n  // Modal state for restart confirmation\n  const [showRestartModal, setShowRestartModal] = useState(false);\n  const [dontShowRestartModal, setDontShowRestartModal] = useState(false);\n\n  // Custom session state\n  const [showInsufficientCardsModal, setShowInsufficientCardsModal] = useState(false);\n  const [isCreatingCustomSession, setIsCreatingCustomSession] = useState(false);\n\n  const { isLoading, withLoading, stopLoading } = useLoading();\n  const {\n    isValidating,\n    validationResult,\n    validateSession,\n    clearValidation\n  } = useSessionValidation();\n  \n  // Progressive session creation\n  const { steps, updateStep, resetSteps, hasError } = useProgressiveSession();\n\n  // Display settings for animation control\n  const { getAnimationDuration } = useDisplaySettings();\n\n  // Use the flashcard review hook\n  const {\n    currentCard,\n    currentCardIndex,\n    isFlipped,\n    timer,\n    isTimerActive,\n    cardResults,\n    handleCardResult,\n    handleSaveCard,\n    handleFlipCard,\n    resetSession,\n    getProgressStats,\n    savedCards,\n  } = useFlashcardReview({\n    cards: practiceCards,\n    onSessionComplete: handleSessionComplete,\n    enableTimer: true,\n  });\n\n  function handleSessionComplete() {\n    toast.success(\"Practice session completed! Starting a new session...\");\n    handleRestartSession();\n  }\n\n  useEffect(() => {\n    setMounted(true);\n  }, []);\n\n  // Safety net to prevent the loading overlay from getting stuck due to any hanging async task\n  useEffect(() => {\n    if (!isLoading) return;\n    const timeoutId = setTimeout(() => {\n      try {\n        stopLoading();\n      } catch (e) {\n        // no-op: best-effort safety stop\n      }\n    }, 33000); // 3s max overlay\n    return () => clearTimeout(timeoutId);\n  }, [isLoading, stopLoading]);\n\n  useEffect(() => {\n    const fetchData = async () => {\n      if (!mounted) return;\n\n      await withLoading(async () => {\n        try {\n          // Get current user\n          const {\n            data: { user: authUser },\n            error: authError,\n          } = await supabase.auth.getUser();\n          if (authError || !authUser) {\n            toast.error(\"Please log in to continue\");\n            router.push(\"/auth/login\");\n            return;\n          }\n\n          // Get user profile\n          const { data: userProfile, error: profileError } = await supabase\n            .from(\"user_profiles\")\n            .select(\"*\")\n            .eq(\"id\", authUser.id)\n            .maybeSingle();\n\n          if (profileError || !userProfile) {\n            console.error(\"Profile error:\", profileError);\n            // Create a new user profile if it doesn't exist\n            const newUserProfile: User = {\n              id: authUser.id,\n              name: authUser.email?.split('@')[0] || \"User\",\n              email: authUser.email || \"\",\n              subscription_type: \"FREE\" as const,\n              streak_days: 0,\n              coins: 0,\n            };\n\n            try {\n              const { data: createdProfile, error: createError } = await supabase\n                .from(\"user_profiles\")\n                .insert(newUserProfile)\n                .select()\n                .single();\n\n              if (!createError && createdProfile) {\n                setUser(createdProfile);\n              } else {\n                setUser(newUserProfile);\n              }\n            } catch (createError) {\n              console.error(\"Error creating profile:\", createError);\n              setUser(newUserProfile);\n            }\n          } else {\n            setUser(userProfile);\n          }\n\n          // Get flashcard topics from backend API\n          try {\n            const topicsData = await flashcardAPI.getAllTopics();\n            setTopics(\n              topicsData.map((topic) => ({\n                id: topic.id,\n                name: topic.title,\n                description: topic.description,\n                icon: \"üìö\",\n              }))\n            );\n          } catch (error) {\n            console.error(\"Error fetching topics:\", error);\n            setTopics([]);\n          }\n\n          // Get today's statistics\n          await fetchTodaysStats(authUser.id);\n\n          // Load sample practice cards\n          await loadPracticeCards(authUser.id);\n        } catch (error) {\n          console.error(\"Error fetching data:\", error);\n          toast.error(\"Failed to load review data\");\n        }\n      });\n    };\n\n    fetchData();\n  }, [mounted, router, withLoading]);\n\n  useEffect(() => {\n    // Check sessionStorage for restart modal preference\n    setDontShowRestartModal(\n      sessionStorage.getItem(\"hideRestartSessionModal\") === \"true\"\n    );\n  }, []);\n\n  const fetchTodaysStats = async (userId: string) => {\n    try {\n      const today = new Date().toISOString().split(\"T\")[0];\n\n      const { data: statsData, error: statsError } = await supabase\n        .from(\"flashcard_statistics\")\n        .select(\"*\")\n        .eq(\"user_id\", userId)\n        .eq(\"date\", today)\n        .maybeSingle();\n\n      const { data: dueCards, count: dueCount } = await supabase\n        .from(\"flashcard_srs_records\")\n        .select(\"*\", { count: \"exact\" })\n        .eq(\"user_id\", userId)\n        .lte(\"due_date\", today);\n\n      setTodaysStats({\n        reviewedToday: statsData?.flashcards_reviewed || 0,\n        dailyGoal: 20,\n        dueForReview: dueCount || 0,\n        accuracy: statsData?.accuracy_rate || 0,\n      });\n    } catch (error) {\n      console.error(\"Error fetching today's stats:\", error);\n    }\n  };\n\n  const loadPracticeCards = async (userId: string, forceRefresh = false) => {\n    try {\n      console.log(\n        \"Loading practice cards for user:\",\n        userId,\n        forceRefresh ? \"(force refresh)\" : \"\"\n      );\n\n      let cards: FlashcardData[] | null = null;\n\n      if (!forceRefresh) {\n        cards = loadDailyFlashcards();\n      }\n\n      if (!cards) {\n        console.log(\"üì° Fetching fresh flashcards from backend API...\");\n        cards = await flashcardAPI.getRandomFlashcards({ count: 15 });\n        console.log(\"Fetched cards from backend:\", cards.length);\n\n        if (cards && cards.length > 0) {\n          saveDailyFlashcards(cards);\n          toast.success(`Loaded ${cards.length} fresh flashcards for today!`);\n        } else {\n          console.log(\"No cards returned from backend\");\n          toast.error(\"No flashcards available for review\");\n          setPracticeCards([]);\n          router.push('/404'); // Redirect to 404 page when no practice cards available\n          return;\n        }\n      } else {\n        toast.success(\n          `Using today's cached flashcards (${cards.length} cards)`\n        );\n      }\n\n      console.log(\"Successfully loaded cards:\", cards.length);\n      setPracticeCards(cards);\n    } catch (error) {\n      console.error(\"Error loading practice cards:\", error);\n      toast.error(\"Failed to load flashcards. Please try again.\");\n      setPracticeCards([]);\n    }\n  };\n\n  const handleRestartSessionConfirmed = useCallback(async () => {\n    if (!user) return;\n\n    resetSession();\n    await loadPracticeCards(user.id, false);\n  }, [user, resetSession]);\n\n  const handleRestartSession = useCallback(() => {\n    if (dontShowRestartModal) {\n      handleRestartSessionConfirmed();\n    } else {\n      setShowRestartModal(true);\n    }\n  }, [dontShowRestartModal, handleRestartSessionConfirmed]);\n\n  const handleRefreshCards = useCallback(async () => {\n    if (!user) return;\n\n    resetSession();\n    await loadPracticeCards(user.id, false);\n    toast.success(\"Session restarted!\");\n  }, [user, resetSession]);\n\n  const handleGetFreshCards = useCallback(async () => {\n    if (!user) return;\n\n    await withLoading(async () => {\n      resetSession();\n      await loadPracticeCards(user.id, true);\n      toast.success(\"Loaded fresh flashcards!\");\n    });\n  }, [user, withLoading, resetSession]);\n\n  // Custom session handlers with progressive loading\n  const handleStartCustomSession = async () => {\n    if (!user) return;\n\n    setIsCreatingCustomSession(true);\n    clearValidation();\n    resetSteps();\n\n    try {\n      // Step 1: Validate session\n      updateStep('validate', 'loading');\n      const filters = sessionAPI.buildFiltersFromForm(sessionConfig);\n      console.log(\"üéØ Starting custom session validation:\", filters);\n\n      // Include user_id for saved cards validation\n      const validation = await validateSession(filters, user.id);\n\n      // Log validation result for debugging\n      console.log(\"Session validation result:\", validation);\n\n      if (!validation) {\n        updateStep('validate', 'error', 'Validation failed');\n        toast.error(\"Failed to validate session filters\");\n        return;\n      }\n\n      updateStep('validate', 'completed');\n\n      if (validation.insufficient) {\n        console.log(\"‚ö†Ô∏è Insufficient cards - showing modal\");\n        setShowInsufficientCardsModal(true);\n        setIsCreatingCustomSession(false);\n      } else {\n        console.log(\"‚úÖ Sufficient cards - creating session directly\");\n        await createCustomSessionWithProgress(filters);\n        // Note: createCustomSessionWithProgress handles closing the modal after navigation\n      }\n    } catch (error) {\n      console.error(\"Error starting custom session:\", error);\n      updateStep('validate', 'error', 'Failed to start session');\n      toast.error(\"Failed to start custom session\");\n      setIsCreatingCustomSession(false);\n    }\n  };\n\n  const createCustomSessionWithProgress = async (filters: any, suggestionId?: string) => {\n    if (!user) {\n      throw new Error(\"User not found\");\n    }\n\n    try {\n      // Step 2: Generate cards\n      updateStep('generate', 'loading');\n      const sessionGenerationRequest = {\n        user_id: user.id,\n        filters: {\n          ...filters,\n          include_saved_cards: sessionConfig.includeSavedCards,\n        },\n        suggestion_id: suggestionId,\n        include_saved_cards: sessionConfig.includeSavedCards,\n        session_metadata: {\n          created_from: suggestionId ? 'suggestion' : 'form',\n          original_filters: sessionConfig,\n        },\n      };\n\n      console.log(\"üèóÔ∏è Generating custom session:\", sessionGenerationRequest);\n      \n      // Add timeout for card generation - increased to 30s\n      const generateWithTimeout = new Promise<any>((resolve, reject) => {\n        const timeoutId = setTimeout(() => {\n          reject(new Error('Timeout generating session cards - backend took too long'));\n        }, 30000); // 30 seconds\n\n        sessionAPI.generateSessionCards(sessionGenerationRequest)\n          .then((result) => {\n            clearTimeout(timeoutId);\n            resolve(result);\n          })\n          .catch((error) => {\n            clearTimeout(timeoutId);\n            reject(error);\n          });\n      });\n\n      const sessionResult = await generateWithTimeout;\n      console.log(\"‚úÖ Session generated:\", sessionResult);\n      \n      if (!sessionResult || !sessionResult.flashcards || sessionResult.flashcards.length === 0) {\n        throw new Error(\"No flashcards generated for session\");\n      }\n      \n      updateStep('generate', 'completed');\n\n      // Step 3: Save session using Server Action\n      updateStep('save', 'loading');\n\n      console.log(\"üíæ [STEP 3] Starting session save process (Server Action)\");\n      console.log(\"üìã Session config:\", sessionConfig);\n      console.log(\"üìã Flashcards count:\", sessionResult.actual_count);\n\n      // Call Server Action to create session\n      const sessionCreateResult = await createReviewSession({\n        session_type: \"custom\",\n        total_cards: sessionResult.actual_count || 0,\n        session_config: {\n          created_from: suggestionId ? 'suggestion' : 'form',\n          original_filters: sessionConfig,\n        },\n        filters_applied: filters\n      });\n\n      if (!sessionCreateResult.success || !sessionCreateResult.data) {\n        console.error(\"‚ùå [STEP 3] Failed to create session:\", sessionCreateResult.error);\n        throw new Error(sessionCreateResult.error || 'Failed to save session');\n      }\n\n      const session = sessionCreateResult.data;\n      console.log(\"‚úÖ [STEP 3] Session created successfully:\", session.id);\n\n      updateStep('save', 'completed');\n\n      // Step 3.5: Persist session cards mapping using Server Action\n      console.log(\"üìù [STEP 3.5] Persisting session cards mapping (Server Action)\");\n\n      const flashcardsArray = Array.isArray(sessionResult.flashcards)\n        ? sessionResult.flashcards\n        : [];\n\n      console.log(`üìä [STEP 3.5] Processing ${flashcardsArray.length} flashcards`);\n\n      if (flashcardsArray.length > 0) {\n        const mappingResult = await createSessionCardMappings({\n          session_id: session.id,\n          flashcards: flashcardsArray\n        });\n\n        if (!mappingResult.success) {\n          console.error('‚ùå [STEP 3.5] Failed to persist session cards mapping:', mappingResult.error);\n          // Do not block navigation; the session page will handle empty mapping gracefully\n        } else {\n          console.log(`‚úÖ [STEP 3.5] Cards mapped: ${mappingResult.data?.inserted_count}/${flashcardsArray.length}`);\n        }\n      }\n\n      // Step 4: Navigate\n      console.log(\"üöÄ [STEP 4] Navigating to session page\");\n      updateStep('redirect', 'loading');\n      toast.success(`Custom session created with ${sessionResult.actual_count} cards!`);\n      \n      // Complete the step immediately and navigate\n      updateStep('redirect', 'completed');\n      \n      // Small delay before navigation for better UX\n      setTimeout(() => {\n        console.log(`‚úÖ [STEP 4] Redirecting to /flashcards/review/session?id=${session.id}`);\n        setIsCreatingCustomSession(false); // Close the modal\n        router.push(`/flashcards/review/session?id=${session.id}`);\n      }, 800);\n\n      } catch (error: any) {\n      // Improve error visibility\n      console.error(\"Error creating custom session:\", error?.message || error);\n      const currentLoadingStep = steps.find(step => step.status === 'loading');\n      if (currentLoadingStep) {\n        updateStep(currentLoadingStep.id, 'error', error?.message || 'Failed to complete step');\n      }\n      \n      // Provide more specific error messages\n      if (error?.message?.includes('Timeout')) {\n        toast.error(\"Session creation timed out. Please try again or use Quick Review instead.\");\n      } else if (error?.message?.includes('Database error')) {\n        toast.error(\"Database error. Please check your connection and try again.\");\n      } else if (error?.message?.includes('Network')) {\n        toast.error(\"Network error. Please check your internet connection.\");\n      } else if (error?.message?.includes('generating session cards')) {\n        toast.error(\"Unable to generate cards. Try adjusting your filters or use Quick Review.\");\n      } else {\n        toast.error(`Failed to create custom session: ${error?.message || 'Unknown error'}`);\n      }\n      \n      // Fallback suggestion\n      console.log(\"üí° Suggesting fallback to Quick Review\");\n      }\n  };\n\n  // Legacy method for suggestion acceptance\n  const createCustomSession = async (filters: any, suggestionId?: string) => {\n    await createCustomSessionWithProgress(filters, suggestionId);\n  };\n\n  const handleAcceptSuggestion = async (suggestion: SuggestionOption) => {\n    setShowInsufficientCardsModal(false);\n    console.log(\"‚úÖ Accepting suggestion:\", suggestion);\n    await createCustomSession(suggestion.filters, suggestion.id);\n  };\n\n  const handleAdjustFilters = () => {\n    setShowInsufficientCardsModal(false);\n    clearValidation();\n    console.log(\"üîß User chose to adjust filters manually\");\n  };\n\n  if (!mounted) {\n    return null;\n  }\n\n  const progressStats = getProgressStats();\n\n  return (\n    <PageWithLoading isLoading={isLoading}>\n      <div className=\"container mx-auto py-10 px-4 max-w-4xl\">\n        <div className=\"text-center mb-8\">\n          <h1 className=\"text-3xl font-bold mb-2\">Flashcard Quick Review</h1>\n          <p className=\"text-muted-foreground\">\n            Practice Vietnamese vocabulary with intelligent spaced repetition\n          </p>\n        </div>\n\n        <ReviewSession\n          practiceCards={practiceCards}\n          currentCard={currentCard}\n          currentCardIndex={currentCardIndex}\n          isFlipped={isFlipped}\n          timer={timer}\n          isTimerActive={isTimerActive}\n          cardResults={cardResults}\n          progressStats={progressStats}\n          savedCards={savedCards}\n          onCardResult={handleCardResult}\n          onSaveCard={handleSaveCard}\n          onFlipCard={handleFlipCard}\n          onRefreshCards={handleRefreshCards}\n          onGetFreshCards={handleGetFreshCards}\n          getAnimationDuration={getAnimationDuration}\n          isLoading={isLoading}\n        />\n\n        <div className=\"flex justify-center gap-4\">\n          <Button\n            onClick={handleGetFreshCards}\n            variant=\"outline\"\n            disabled={isLoading}\n          >\n            <RefreshCw\n              className={`w-4 h-4 mr-2 ${isLoading ? \"animate-spin\" : \"\"}`}\n            />\n            Get Fresh Cards for Today\n          </Button>\n        </div>\n\n        <Separator className=\"my-8\" />\n\n        <SessionConfig\n          sessionConfig={sessionConfig}\n          setSessionConfig={setSessionConfig}\n          topics={topics}\n          user={user}\n          onStartCustomSession={handleStartCustomSession}\n          isCreatingCustomSession={isCreatingCustomSession}\n          isValidating={isValidating}\n        />\n\n        {/* Insufficient Cards Modal */}\n        <InsufficientCardsModal\n          isOpen={showInsufficientCardsModal}\n          onClose={() => setShowInsufficientCardsModal(false)}\n          availableCount={validationResult?.available_count || 0}\n          requestedCount={sessionConfig.numberOfCards}\n          suggestions={validationResult?.suggestions || []}\n          onAcceptSuggestion={handleAcceptSuggestion}\n          onAdjustFilters={handleAdjustFilters}\n          isLoading={isCreatingCustomSession}\n        />\n\n        {/* Restart Session Confirmation Modal */}\n        <Dialog open={showRestartModal} onOpenChange={setShowRestartModal}>\n          <DialogContent className=\"sm:max-w-md\">\n            <DialogHeader>\n              <DialogTitle>Do you want to restart this session?</DialogTitle>\n              <DialogDescription>\n                This will reset your progress for the current session. Are you\n                sure you want to continue?\n              </DialogDescription>\n            </DialogHeader>\n            <div className=\"flex items-center space-x-2 mt-4\">\n              <Checkbox\n                id=\"dontShowRestartAgain\"\n                checked={dontShowRestartModal}\n                onCheckedChange={(checked) => {\n                  setDontShowRestartModal(!!checked);\n                  sessionStorage.setItem(\n                    \"hideRestartSessionModal\",\n                    checked ? \"true\" : \"false\"\n                  );\n                }}\n              />\n              <label\n                htmlFor=\"dontShowRestartAgain\"\n                className=\"text-sm font-medium\"\n              >\n                Do not show this again\n              </label>\n            </div>\n            <DialogFooter className=\"flex gap-2 mt-6\">\n              <Button\n                variant=\"outline\"\n                onClick={() => setShowRestartModal(false)}\n                className=\"flex-1\"\n              >\n                Cancel\n              </Button>\n              <Button\n                variant=\"destructive\"\n                onClick={() => {\n                  setShowRestartModal(false);\n                  handleRestartSessionConfirmed();\n                }}\n                className=\"flex-1\"\n              >\n                Yes, Restart\n              </Button>\n            </DialogFooter>\n          </DialogContent>\n        </Dialog>\n\n        {/* Progressive Loading Modal */}\n        {isCreatingCustomSession && (\n          <ProgressiveLoading\n            title=\"Creating Your Review Session\"\n            steps={steps}\n            onCancel={() => {\n              setIsCreatingCustomSession(false);\n              resetSteps();\n            }}\n          />\n        )}\n      </div>\n    </PageWithLoading>\n  );\n}\n","\"use client\";\n\n// src/radio-group.tsx\nimport * as React2 from \"react\";\nimport { composeEventHandlers as composeEventHandlers2 } from \"@radix-ui/primitive\";\nimport { useComposedRefs as useComposedRefs2 } from \"@radix-ui/react-compose-refs\";\nimport { createContextScope as createContextScope2 } from \"@radix-ui/react-context\";\nimport { Primitive as Primitive2 } from \"@radix-ui/react-primitive\";\nimport * as RovingFocusGroup from \"@radix-ui/react-roving-focus\";\nimport { createRovingFocusGroupScope } from \"@radix-ui/react-roving-focus\";\nimport { useControllableState } from \"@radix-ui/react-use-controllable-state\";\nimport { useDirection } from \"@radix-ui/react-direction\";\n\n// src/radio.tsx\nimport * as React from \"react\";\nimport { composeEventHandlers } from \"@radix-ui/primitive\";\nimport { useComposedRefs } from \"@radix-ui/react-compose-refs\";\nimport { createContextScope } from \"@radix-ui/react-context\";\nimport { useSize } from \"@radix-ui/react-use-size\";\nimport { usePrevious } from \"@radix-ui/react-use-previous\";\nimport { Presence } from \"@radix-ui/react-presence\";\nimport { Primitive } from \"@radix-ui/react-primitive\";\nimport { jsx, jsxs } from \"react/jsx-runtime\";\nvar RADIO_NAME = \"Radio\";\nvar [createRadioContext, createRadioScope] = createContextScope(RADIO_NAME);\nvar [RadioProvider, useRadioContext] = createRadioContext(RADIO_NAME);\nvar Radio = React.forwardRef(\n  (props, forwardedRef) => {\n    const {\n      __scopeRadio,\n      name,\n      checked = false,\n      required,\n      disabled,\n      value = \"on\",\n      onCheck,\n      form,\n      ...radioProps\n    } = props;\n    const [button, setButton] = React.useState(null);\n    const composedRefs = useComposedRefs(forwardedRef, (node) => setButton(node));\n    const hasConsumerStoppedPropagationRef = React.useRef(false);\n    const isFormControl = button ? form || !!button.closest(\"form\") : true;\n    return /* @__PURE__ */ jsxs(RadioProvider, { scope: __scopeRadio, checked, disabled, children: [\n      /* @__PURE__ */ jsx(\n        Primitive.button,\n        {\n          type: \"button\",\n          role: \"radio\",\n          \"aria-checked\": checked,\n          \"data-state\": getState(checked),\n          \"data-disabled\": disabled ? \"\" : void 0,\n          disabled,\n          value,\n          ...radioProps,\n          ref: composedRefs,\n          onClick: composeEventHandlers(props.onClick, (event) => {\n            if (!checked) onCheck?.();\n            if (isFormControl) {\n              hasConsumerStoppedPropagationRef.current = event.isPropagationStopped();\n              if (!hasConsumerStoppedPropagationRef.current) event.stopPropagation();\n            }\n          })\n        }\n      ),\n      isFormControl && /* @__PURE__ */ jsx(\n        RadioBubbleInput,\n        {\n          control: button,\n          bubbles: !hasConsumerStoppedPropagationRef.current,\n          name,\n          value,\n          checked,\n          required,\n          disabled,\n          form,\n          style: { transform: \"translateX(-100%)\" }\n        }\n      )\n    ] });\n  }\n);\nRadio.displayName = RADIO_NAME;\nvar INDICATOR_NAME = \"RadioIndicator\";\nvar RadioIndicator = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeRadio, forceMount, ...indicatorProps } = props;\n    const context = useRadioContext(INDICATOR_NAME, __scopeRadio);\n    return /* @__PURE__ */ jsx(Presence, { present: forceMount || context.checked, children: /* @__PURE__ */ jsx(\n      Primitive.span,\n      {\n        \"data-state\": getState(context.checked),\n        \"data-disabled\": context.disabled ? \"\" : void 0,\n        ...indicatorProps,\n        ref: forwardedRef\n      }\n    ) });\n  }\n);\nRadioIndicator.displayName = INDICATOR_NAME;\nvar BUBBLE_INPUT_NAME = \"RadioBubbleInput\";\nvar RadioBubbleInput = React.forwardRef(\n  ({\n    __scopeRadio,\n    control,\n    checked,\n    bubbles = true,\n    ...props\n  }, forwardedRef) => {\n    const ref = React.useRef(null);\n    const composedRefs = useComposedRefs(ref, forwardedRef);\n    const prevChecked = usePrevious(checked);\n    const controlSize = useSize(control);\n    React.useEffect(() => {\n      const input = ref.current;\n      if (!input) return;\n      const inputProto = window.HTMLInputElement.prototype;\n      const descriptor = Object.getOwnPropertyDescriptor(\n        inputProto,\n        \"checked\"\n      );\n      const setChecked = descriptor.set;\n      if (prevChecked !== checked && setChecked) {\n        const event = new Event(\"click\", { bubbles });\n        setChecked.call(input, checked);\n        input.dispatchEvent(event);\n      }\n    }, [prevChecked, checked, bubbles]);\n    return /* @__PURE__ */ jsx(\n      Primitive.input,\n      {\n        type: \"radio\",\n        \"aria-hidden\": true,\n        defaultChecked: checked,\n        ...props,\n        tabIndex: -1,\n        ref: composedRefs,\n        style: {\n          ...props.style,\n          ...controlSize,\n          position: \"absolute\",\n          pointerEvents: \"none\",\n          opacity: 0,\n          margin: 0\n        }\n      }\n    );\n  }\n);\nRadioBubbleInput.displayName = BUBBLE_INPUT_NAME;\nfunction getState(checked) {\n  return checked ? \"checked\" : \"unchecked\";\n}\n\n// src/radio-group.tsx\nimport { jsx as jsx2 } from \"react/jsx-runtime\";\nvar ARROW_KEYS = [\"ArrowUp\", \"ArrowDown\", \"ArrowLeft\", \"ArrowRight\"];\nvar RADIO_GROUP_NAME = \"RadioGroup\";\nvar [createRadioGroupContext, createRadioGroupScope] = createContextScope2(RADIO_GROUP_NAME, [\n  createRovingFocusGroupScope,\n  createRadioScope\n]);\nvar useRovingFocusGroupScope = createRovingFocusGroupScope();\nvar useRadioScope = createRadioScope();\nvar [RadioGroupProvider, useRadioGroupContext] = createRadioGroupContext(RADIO_GROUP_NAME);\nvar RadioGroup = React2.forwardRef(\n  (props, forwardedRef) => {\n    const {\n      __scopeRadioGroup,\n      name,\n      defaultValue,\n      value: valueProp,\n      required = false,\n      disabled = false,\n      orientation,\n      dir,\n      loop = true,\n      onValueChange,\n      ...groupProps\n    } = props;\n    const rovingFocusGroupScope = useRovingFocusGroupScope(__scopeRadioGroup);\n    const direction = useDirection(dir);\n    const [value, setValue] = useControllableState({\n      prop: valueProp,\n      defaultProp: defaultValue ?? null,\n      onChange: onValueChange,\n      caller: RADIO_GROUP_NAME\n    });\n    return /* @__PURE__ */ jsx2(\n      RadioGroupProvider,\n      {\n        scope: __scopeRadioGroup,\n        name,\n        required,\n        disabled,\n        value,\n        onValueChange: setValue,\n        children: /* @__PURE__ */ jsx2(\n          RovingFocusGroup.Root,\n          {\n            asChild: true,\n            ...rovingFocusGroupScope,\n            orientation,\n            dir: direction,\n            loop,\n            children: /* @__PURE__ */ jsx2(\n              Primitive2.div,\n              {\n                role: \"radiogroup\",\n                \"aria-required\": required,\n                \"aria-orientation\": orientation,\n                \"data-disabled\": disabled ? \"\" : void 0,\n                dir: direction,\n                ...groupProps,\n                ref: forwardedRef\n              }\n            )\n          }\n        )\n      }\n    );\n  }\n);\nRadioGroup.displayName = RADIO_GROUP_NAME;\nvar ITEM_NAME = \"RadioGroupItem\";\nvar RadioGroupItem = React2.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeRadioGroup, disabled, ...itemProps } = props;\n    const context = useRadioGroupContext(ITEM_NAME, __scopeRadioGroup);\n    const isDisabled = context.disabled || disabled;\n    const rovingFocusGroupScope = useRovingFocusGroupScope(__scopeRadioGroup);\n    const radioScope = useRadioScope(__scopeRadioGroup);\n    const ref = React2.useRef(null);\n    const composedRefs = useComposedRefs2(forwardedRef, ref);\n    const checked = context.value === itemProps.value;\n    const isArrowKeyPressedRef = React2.useRef(false);\n    React2.useEffect(() => {\n      const handleKeyDown = (event) => {\n        if (ARROW_KEYS.includes(event.key)) {\n          isArrowKeyPressedRef.current = true;\n        }\n      };\n      const handleKeyUp = () => isArrowKeyPressedRef.current = false;\n      document.addEventListener(\"keydown\", handleKeyDown);\n      document.addEventListener(\"keyup\", handleKeyUp);\n      return () => {\n        document.removeEventListener(\"keydown\", handleKeyDown);\n        document.removeEventListener(\"keyup\", handleKeyUp);\n      };\n    }, []);\n    return /* @__PURE__ */ jsx2(\n      RovingFocusGroup.Item,\n      {\n        asChild: true,\n        ...rovingFocusGroupScope,\n        focusable: !isDisabled,\n        active: checked,\n        children: /* @__PURE__ */ jsx2(\n          Radio,\n          {\n            disabled: isDisabled,\n            required: context.required,\n            checked,\n            ...radioScope,\n            ...itemProps,\n            name: context.name,\n            ref: composedRefs,\n            onCheck: () => context.onValueChange(itemProps.value),\n            onKeyDown: composeEventHandlers2((event) => {\n              if (event.key === \"Enter\") event.preventDefault();\n            }),\n            onFocus: composeEventHandlers2(itemProps.onFocus, () => {\n              if (isArrowKeyPressedRef.current) ref.current?.click();\n            })\n          }\n        )\n      }\n    );\n  }\n);\nRadioGroupItem.displayName = ITEM_NAME;\nvar INDICATOR_NAME2 = \"RadioGroupIndicator\";\nvar RadioGroupIndicator = React2.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeRadioGroup, ...indicatorProps } = props;\n    const radioScope = useRadioScope(__scopeRadioGroup);\n    return /* @__PURE__ */ jsx2(RadioIndicator, { ...radioScope, ...indicatorProps, ref: forwardedRef });\n  }\n);\nRadioGroupIndicator.displayName = INDICATOR_NAME2;\nvar Root2 = RadioGroup;\nvar Item2 = RadioGroupItem;\nvar Indicator = RadioGroupIndicator;\nexport {\n  Indicator,\n  Item2 as Item,\n  RadioGroup,\n  RadioGroupIndicator,\n  RadioGroupItem,\n  Root2 as Root,\n  createRadioGroupScope\n};\n//# sourceMappingURL=index.mjs.map\n","\"use client\"\n\nimport * as React from \"react\"\nimport * as RadioGroupPrimitive from \"@radix-ui/react-radio-group\"\nimport { CircleIcon } from \"lucide-react\"\n\nimport { cn } from \"@/shared/utils/cn\"\n\nfunction RadioGroup({\n  className,\n  ...props\n}: React.ComponentProps<typeof RadioGroupPrimitive.Root>) {\n  return (\n    <RadioGroupPrimitive.Root\n      data-slot=\"radio-group\"\n      className={cn(\"grid gap-3\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction RadioGroupItem({\n  className,\n  ...props\n}: React.ComponentProps<typeof RadioGroupPrimitive.Item>) {\n  return (\n    <RadioGroupPrimitive.Item\n      data-slot=\"radio-group-item\"\n      className={cn(\n        \"border-input text-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 aspect-square size-4 shrink-0 rounded-full border shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50\",\n        className\n      )}\n      {...props}\n    >\n      <RadioGroupPrimitive.Indicator\n        data-slot=\"radio-group-indicator\"\n        className=\"relative flex items-center justify-center\"\n      >\n        <CircleIcon className=\"fill-primary absolute top-1/2 left-1/2 size-2 -translate-x-1/2 -translate-y-1/2\" />\n      </RadioGroupPrimitive.Indicator>\n    </RadioGroupPrimitive.Item>\n  )\n}\n\nexport { RadioGroup, RadioGroupItem }\n","\"use client\";\r\n\r\nimport React, { useState } from \"react\";\r\nimport {\r\n  Dialog,\r\n  DialogContent,\r\n  DialogHeader,\r\n  DialogTitle,\r\n  DialogFooter,\r\n  DialogDescription,\r\n} from \"@/shared/components/ui/dialog\";\r\nimport { Button } from \"@/shared/components/ui/button\";\r\nimport { RadioGroup, RadioGroupItem } from \"@/shared/components/ui/radio-group\";\r\nimport { Label } from \"@/shared/components/ui/label\";\r\nimport { AlertTriangle, ChevronRight, TrendingUp } from \"lucide-react\";\r\nimport { Badge } from \"@/shared/components/ui/badge\";\r\n\r\nimport type { SuggestionOption } from '@/features/flashcards/types/session.types'\r\n\r\ninterface InsufficientCardsModalProps {\r\n  isOpen: boolean;\r\n  onClose: () => void;\r\n  availableCount: number;\r\n  requestedCount: number;\r\n  suggestions: SuggestionOption[];\r\n  onAcceptSuggestion: (suggestion: SuggestionOption) => void;\r\n  onAdjustFilters: () => void;\r\n  isLoading?: boolean;\r\n}\r\n\r\nexport const InsufficientCardsModal: React.FC<InsufficientCardsModalProps> = ({\r\n  isOpen,\r\n  onClose,\r\n  availableCount,\r\n  requestedCount,\r\n  suggestions,\r\n  onAcceptSuggestion,\r\n  onAdjustFilters,\r\n  isLoading = false,\r\n}) => {\r\n  const [selectedSuggestion, setSelectedSuggestion] = useState<string>(\r\n    suggestions.length > 0 ? suggestions[0].id : \"\"\r\n  );\r\n\r\n  const handleAcceptSuggestion = () => {\r\n    const suggestion = suggestions.find((s) => s.id === selectedSuggestion);\r\n    if (suggestion) {\r\n      onAcceptSuggestion(suggestion);\r\n    }\r\n  };\r\n\r\n  const selectedSuggestionData = suggestions.find(\r\n    (s) => s.id === selectedSuggestion\r\n  );\r\n\r\n  return (\r\n    <Dialog open={isOpen} onOpenChange={onClose}>\r\n      <DialogContent className=\"sm:max-w-2xl\">\r\n        <DialogHeader>\r\n          <div className=\"flex items-center gap-3\">\r\n            <div className=\"p-2 bg-orange-100 dark:bg-orange-900 rounded-full\">\r\n              <AlertTriangle className=\"h-5 w-5 text-orange-600 dark:text-orange-400\" />\r\n            </div>\r\n            <div>\r\n              <DialogTitle className=\"text-xl\">Not Enough Cards Available</DialogTitle>\r\n              <DialogDescription className=\"mt-1\">\r\n                Only {availableCount} cards found, but you requested {requestedCount} cards\r\n              </DialogDescription>\r\n            </div>\r\n          </div>\r\n        </DialogHeader>\r\n\r\n        <div className=\"py-6\">\r\n          {suggestions.length > 0 ? (\r\n            <div className=\"space-y-6\">\r\n              <div className=\"flex items-center gap-2 text-sm\">\r\n                <TrendingUp className=\"h-4 w-4 text-blue-600\" />\r\n                <span className=\"font-medium text-blue-900 dark:text-blue-100\">\r\n                  Suggestions to reach {requestedCount} cards:\r\n                </span>\r\n              </div>\r\n\r\n              <RadioGroup\r\n                value={selectedSuggestion}\r\n                onValueChange={setSelectedSuggestion}\r\n                className=\"space-y-4\"\r\n              >\r\n                {suggestions.map((suggestion) => (\r\n                  <div\r\n                    key={suggestion.id}\r\n                    className={`border rounded-lg p-4 transition-all ${\r\n                      selectedSuggestion === suggestion.id\r\n                        ? \"border-blue-500 bg-blue-50 dark:bg-blue-950/20\"\r\n                        : \"border-gray-200 dark:border-gray-700\"\r\n                    }`}\r\n                  >\r\n                    <div className=\"flex items-start gap-3\">\r\n                      <RadioGroupItem\r\n                        value={suggestion.id}\r\n                        id={suggestion.id}\r\n                        className=\"mt-1\"\r\n                      />\r\n                      <Label\r\n                        htmlFor={suggestion.id}\r\n                        className=\"flex-1 cursor-pointer space-y-2\"\r\n                      >\r\n                        <div className=\"flex items-center justify-between\">\r\n                          <h3 className=\"font-medium text-gray-900 dark:text-gray-100\">\r\n                            {suggestion.title}\r\n                          </h3>\r\n                          <Badge variant=\"secondary\" className=\"ml-2\">\r\n                            {suggestion.estimated_count} cards\r\n                          </Badge>\r\n                        </div>\r\n                        \r\n                        <p className=\"text-sm text-gray-600 dark:text-gray-400\">\r\n                          {suggestion.description}\r\n                        </p>\r\n\r\n                        {suggestion.impact.additional_count && (\r\n                          <div className=\"flex items-center gap-1 text-sm text-green-600 dark:text-green-400\">\r\n                            <ChevronRight className=\"h-3 w-3\" />\r\n                            <span>\r\n                              +{suggestion.impact.additional_count} additional cards\r\n                            </span>\r\n                          </div>\r\n                        )}\r\n                      </Label>\r\n                    </div>\r\n                  </div>\r\n                ))}\r\n              </RadioGroup>\r\n\r\n              {selectedSuggestionData && (\r\n                <div className=\"mt-4 p-4 bg-gray-50 dark:bg-gray-800 rounded-lg\">\r\n                  <div className=\"text-sm\">\r\n                    <span className=\"font-medium\">Selected option will provide: </span>\r\n                    <span className=\"text-green-600 dark:text-green-400 font-medium\">\r\n                      {selectedSuggestionData.estimated_count} cards total\r\n                    </span>\r\n                  </div>\r\n                </div>\r\n              )}\r\n            </div>\r\n          ) : (\r\n            <div className=\"text-center py-8\">\r\n              <div className=\"text-gray-500 dark:text-gray-400\">\r\n                <p>No suggestions available to reach {requestedCount} cards.</p>\r\n                <p className=\"mt-2\">Try adjusting your filters manually.</p>\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        <DialogFooter className=\"flex gap-3\">\r\n          <Button\r\n            variant=\"outline\"\r\n            onClick={onAdjustFilters}\r\n            className=\"flex-1\"\r\n            disabled={isLoading}\r\n          >\r\n            Adjust Filters\r\n          </Button>\r\n          \r\n          {suggestions.length > 0 && selectedSuggestionData && (\r\n            <Button\r\n              onClick={handleAcceptSuggestion}\r\n              className=\"flex-1\"\r\n              disabled={isLoading}\r\n            >\r\n              {isLoading ? \"Creating Session...\" : `Accept Suggestion`}\r\n            </Button>\r\n          )}\r\n        </DialogFooter>\r\n      </DialogContent>\r\n    </Dialog>\r\n  );\r\n}; ","\"use client\";\n\n// src/toggle.tsx\nimport * as React from \"react\";\nimport { composeEventHandlers } from \"@radix-ui/primitive\";\nimport { useControllableState } from \"@radix-ui/react-use-controllable-state\";\nimport { Primitive } from \"@radix-ui/react-primitive\";\nimport { jsx } from \"react/jsx-runtime\";\nvar NAME = \"Toggle\";\nvar Toggle = React.forwardRef((props, forwardedRef) => {\n  const { pressed: pressedProp, defaultPressed, onPressedChange, ...buttonProps } = props;\n  const [pressed, setPressed] = useControllableState({\n    prop: pressedProp,\n    onChange: onPressedChange,\n    defaultProp: defaultPressed ?? false,\n    caller: NAME\n  });\n  return /* @__PURE__ */ jsx(\n    Primitive.button,\n    {\n      type: \"button\",\n      \"aria-pressed\": pressed,\n      \"data-state\": pressed ? \"on\" : \"off\",\n      \"data-disabled\": props.disabled ? \"\" : void 0,\n      ...buttonProps,\n      ref: forwardedRef,\n      onClick: composeEventHandlers(props.onClick, () => {\n        if (!props.disabled) {\n          setPressed(!pressed);\n        }\n      })\n    }\n  );\n});\nToggle.displayName = NAME;\nvar Root = Toggle;\nexport {\n  Root,\n  Toggle\n};\n//# sourceMappingURL=index.mjs.map\n","\"use client\";\n\n// src/toggle-group.tsx\nimport React from \"react\";\nimport { createContextScope } from \"@radix-ui/react-context\";\nimport { Primitive } from \"@radix-ui/react-primitive\";\nimport * as RovingFocusGroup from \"@radix-ui/react-roving-focus\";\nimport { createRovingFocusGroupScope } from \"@radix-ui/react-roving-focus\";\nimport { Toggle } from \"@radix-ui/react-toggle\";\nimport { useControllableState } from \"@radix-ui/react-use-controllable-state\";\nimport { useDirection } from \"@radix-ui/react-direction\";\nimport { jsx } from \"react/jsx-runtime\";\nvar TOGGLE_GROUP_NAME = \"ToggleGroup\";\nvar [createToggleGroupContext, createToggleGroupScope] = createContextScope(TOGGLE_GROUP_NAME, [\n  createRovingFocusGroupScope\n]);\nvar useRovingFocusGroupScope = createRovingFocusGroupScope();\nvar ToggleGroup = React.forwardRef((props, forwardedRef) => {\n  const { type, ...toggleGroupProps } = props;\n  if (type === \"single\") {\n    const singleProps = toggleGroupProps;\n    return /* @__PURE__ */ jsx(ToggleGroupImplSingle, { ...singleProps, ref: forwardedRef });\n  }\n  if (type === \"multiple\") {\n    const multipleProps = toggleGroupProps;\n    return /* @__PURE__ */ jsx(ToggleGroupImplMultiple, { ...multipleProps, ref: forwardedRef });\n  }\n  throw new Error(`Missing prop \\`type\\` expected on \\`${TOGGLE_GROUP_NAME}\\``);\n});\nToggleGroup.displayName = TOGGLE_GROUP_NAME;\nvar [ToggleGroupValueProvider, useToggleGroupValueContext] = createToggleGroupContext(TOGGLE_GROUP_NAME);\nvar ToggleGroupImplSingle = React.forwardRef((props, forwardedRef) => {\n  const {\n    value: valueProp,\n    defaultValue,\n    onValueChange = () => {\n    },\n    ...toggleGroupSingleProps\n  } = props;\n  const [value, setValue] = useControllableState({\n    prop: valueProp,\n    defaultProp: defaultValue ?? \"\",\n    onChange: onValueChange,\n    caller: TOGGLE_GROUP_NAME\n  });\n  return /* @__PURE__ */ jsx(\n    ToggleGroupValueProvider,\n    {\n      scope: props.__scopeToggleGroup,\n      type: \"single\",\n      value: React.useMemo(() => value ? [value] : [], [value]),\n      onItemActivate: setValue,\n      onItemDeactivate: React.useCallback(() => setValue(\"\"), [setValue]),\n      children: /* @__PURE__ */ jsx(ToggleGroupImpl, { ...toggleGroupSingleProps, ref: forwardedRef })\n    }\n  );\n});\nvar ToggleGroupImplMultiple = React.forwardRef((props, forwardedRef) => {\n  const {\n    value: valueProp,\n    defaultValue,\n    onValueChange = () => {\n    },\n    ...toggleGroupMultipleProps\n  } = props;\n  const [value, setValue] = useControllableState({\n    prop: valueProp,\n    defaultProp: defaultValue ?? [],\n    onChange: onValueChange,\n    caller: TOGGLE_GROUP_NAME\n  });\n  const handleButtonActivate = React.useCallback(\n    (itemValue) => setValue((prevValue = []) => [...prevValue, itemValue]),\n    [setValue]\n  );\n  const handleButtonDeactivate = React.useCallback(\n    (itemValue) => setValue((prevValue = []) => prevValue.filter((value2) => value2 !== itemValue)),\n    [setValue]\n  );\n  return /* @__PURE__ */ jsx(\n    ToggleGroupValueProvider,\n    {\n      scope: props.__scopeToggleGroup,\n      type: \"multiple\",\n      value,\n      onItemActivate: handleButtonActivate,\n      onItemDeactivate: handleButtonDeactivate,\n      children: /* @__PURE__ */ jsx(ToggleGroupImpl, { ...toggleGroupMultipleProps, ref: forwardedRef })\n    }\n  );\n});\nToggleGroup.displayName = TOGGLE_GROUP_NAME;\nvar [ToggleGroupContext, useToggleGroupContext] = createToggleGroupContext(TOGGLE_GROUP_NAME);\nvar ToggleGroupImpl = React.forwardRef(\n  (props, forwardedRef) => {\n    const {\n      __scopeToggleGroup,\n      disabled = false,\n      rovingFocus = true,\n      orientation,\n      dir,\n      loop = true,\n      ...toggleGroupProps\n    } = props;\n    const rovingFocusGroupScope = useRovingFocusGroupScope(__scopeToggleGroup);\n    const direction = useDirection(dir);\n    const commonProps = { role: \"group\", dir: direction, ...toggleGroupProps };\n    return /* @__PURE__ */ jsx(ToggleGroupContext, { scope: __scopeToggleGroup, rovingFocus, disabled, children: rovingFocus ? /* @__PURE__ */ jsx(\n      RovingFocusGroup.Root,\n      {\n        asChild: true,\n        ...rovingFocusGroupScope,\n        orientation,\n        dir: direction,\n        loop,\n        children: /* @__PURE__ */ jsx(Primitive.div, { ...commonProps, ref: forwardedRef })\n      }\n    ) : /* @__PURE__ */ jsx(Primitive.div, { ...commonProps, ref: forwardedRef }) });\n  }\n);\nvar ITEM_NAME = \"ToggleGroupItem\";\nvar ToggleGroupItem = React.forwardRef(\n  (props, forwardedRef) => {\n    const valueContext = useToggleGroupValueContext(ITEM_NAME, props.__scopeToggleGroup);\n    const context = useToggleGroupContext(ITEM_NAME, props.__scopeToggleGroup);\n    const rovingFocusGroupScope = useRovingFocusGroupScope(props.__scopeToggleGroup);\n    const pressed = valueContext.value.includes(props.value);\n    const disabled = context.disabled || props.disabled;\n    const commonProps = { ...props, pressed, disabled };\n    const ref = React.useRef(null);\n    return context.rovingFocus ? /* @__PURE__ */ jsx(\n      RovingFocusGroup.Item,\n      {\n        asChild: true,\n        ...rovingFocusGroupScope,\n        focusable: !disabled,\n        active: pressed,\n        ref,\n        children: /* @__PURE__ */ jsx(ToggleGroupItemImpl, { ...commonProps, ref: forwardedRef })\n      }\n    ) : /* @__PURE__ */ jsx(ToggleGroupItemImpl, { ...commonProps, ref: forwardedRef });\n  }\n);\nToggleGroupItem.displayName = ITEM_NAME;\nvar ToggleGroupItemImpl = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeToggleGroup, value, ...itemProps } = props;\n    const valueContext = useToggleGroupValueContext(ITEM_NAME, __scopeToggleGroup);\n    const singleProps = { role: \"radio\", \"aria-checked\": props.pressed, \"aria-pressed\": void 0 };\n    const typeProps = valueContext.type === \"single\" ? singleProps : void 0;\n    return /* @__PURE__ */ jsx(\n      Toggle,\n      {\n        ...typeProps,\n        ...itemProps,\n        ref: forwardedRef,\n        onPressedChange: (pressed) => {\n          if (pressed) {\n            valueContext.onItemActivate(value);\n          } else {\n            valueContext.onItemDeactivate(value);\n          }\n        }\n      }\n    );\n  }\n);\nvar Root2 = ToggleGroup;\nvar Item2 = ToggleGroupItem;\nexport {\n  Item2 as Item,\n  Root2 as Root,\n  ToggleGroup,\n  ToggleGroupItem,\n  createToggleGroupScope\n};\n//# sourceMappingURL=index.mjs.map\n","\"use client\"\n\nimport * as React from \"react\"\nimport * as TogglePrimitive from \"@radix-ui/react-toggle\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/shared/utils/cn\"\n\nconst toggleVariants = cva(\n  \"inline-flex items-center justify-center gap-2 rounded-md text-sm font-medium hover:bg-muted hover:text-muted-foreground disabled:pointer-events-none disabled:opacity-50 data-[state=on]:bg-accent data-[state=on]:text-accent-foreground [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 [&_svg]:shrink-0 focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] outline-none transition-[color,box-shadow] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive whitespace-nowrap\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-transparent\",\n        outline:\n          \"border border-input bg-transparent shadow-xs hover:bg-accent hover:text-accent-foreground\",\n      },\n      size: {\n        default: \"h-9 px-2 min-w-9\",\n        sm: \"h-8 px-1.5 min-w-8\",\n        lg: \"h-10 px-2.5 min-w-10\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n)\n\nfunction Toggle({\n  className,\n  variant,\n  size,\n  ...props\n}: React.ComponentProps<typeof TogglePrimitive.Root> &\n  VariantProps<typeof toggleVariants>) {\n  return (\n    <TogglePrimitive.Root\n      data-slot=\"toggle\"\n      className={cn(toggleVariants({ variant, size, className }))}\n      {...props}\n    />\n  )\n}\n\nexport { Toggle, toggleVariants }\n","\"use client\"\n\nimport * as React from \"react\"\nimport * as ToggleGroupPrimitive from \"@radix-ui/react-toggle-group\"\nimport { type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/shared/utils/cn\"\nimport { toggleVariants } from \"@/shared/components/ui/toggle\"\n\nconst ToggleGroupContext = React.createContext<\n  VariantProps<typeof toggleVariants> & {\n    spacing?: number\n  }\n>({\n  size: \"default\",\n  variant: \"default\",\n  spacing: 0,\n})\n\nfunction ToggleGroup({\n  className,\n  variant,\n  size,\n  spacing = 0,\n  children,\n  ...props\n}: React.ComponentProps<typeof ToggleGroupPrimitive.Root> &\n  VariantProps<typeof toggleVariants> & {\n    spacing?: number\n  }) {\n  return (\n    <ToggleGroupPrimitive.Root\n      data-slot=\"toggle-group\"\n      data-variant={variant}\n      data-size={size}\n      data-spacing={spacing}\n      style={{ \"--gap\": spacing } as React.CSSProperties}\n      className={cn(\n        \"group/toggle-group flex w-fit items-center gap-[--spacing(var(--gap))] rounded-md data-[spacing=default]:data-[variant=outline]:shadow-xs\",\n        className\n      )}\n      {...props}\n    >\n      <ToggleGroupContext.Provider value={{ variant, size, spacing }}>\n        {children}\n      </ToggleGroupContext.Provider>\n    </ToggleGroupPrimitive.Root>\n  )\n}\n\nfunction ToggleGroupItem({\n  className,\n  children,\n  variant,\n  size,\n  ...props\n}: React.ComponentProps<typeof ToggleGroupPrimitive.Item> &\n  VariantProps<typeof toggleVariants>) {\n  const context = React.useContext(ToggleGroupContext)\n\n  return (\n    <ToggleGroupPrimitive.Item\n      data-slot=\"toggle-group-item\"\n      data-variant={context.variant || variant}\n      data-size={context.size || size}\n      data-spacing={context.spacing}\n      className={cn(\n        toggleVariants({\n          variant: context.variant || variant,\n          size: context.size || size,\n        }),\n        \"w-auto min-w-0 shrink-0 px-3 focus:z-10 focus-visible:z-10\",\n        \"data-[spacing=0]:rounded-none data-[spacing=0]:shadow-none data-[spacing=0]:first:rounded-l-md data-[spacing=0]:last:rounded-r-md data-[spacing=0]:data-[variant=outline]:border-l-0 data-[spacing=0]:data-[variant=outline]:first:border-l\",\n        className\n      )}\n      {...props}\n    >\n      {children}\n    </ToggleGroupPrimitive.Item>\n  )\n}\n\nexport { ToggleGroup, ToggleGroupItem }\n","'use client'\r\n\r\nimport {\r\n  Card,\r\n  CardContent,\r\n  CardDescription,\r\n  CardHeader,\r\n  CardTitle,\r\n} from \"@/shared/components/ui/card\";\r\nimport { Button } from \"@/shared/components/ui/button\";\r\nimport {\r\n  Select,\r\n  SelectContent,\r\n  SelectItem,\r\n  SelectTrigger,\r\n  SelectValue,\r\n} from \"@/shared/components/ui/select\";\r\nimport { ToggleGroup, ToggleGroupItem } from \"@/shared/components/ui/toggle-group\";\r\nimport { Slider } from \"@/shared/components/ui/slider\";\r\nimport { Checkbox } from \"@/shared/components/ui/checkbox\";\r\nimport { Separator } from \"@/shared/components/ui/separator\";\r\nimport { Badge } from \"@/shared/components/ui/badge\";\r\nimport {\r\n  Settings,\r\n  Play,\r\n  Lock,\r\n  Crown,\r\n} from \"lucide-react\";\r\nimport Link from \"next/link\";\r\n\r\ninterface FlashcardTopic {\r\n  id: string;\r\n  name: string;\r\n  description: string;\r\n  icon: string;\r\n}\r\n\r\ninterface User {\r\n  id: string;\r\n  name: string;\r\n  email?: string;\r\n  subscription_type: \"FREE\" | \"PLUS\";\r\n  streak_days: number;\r\n  coins: number;\r\n}\r\n\r\ninterface ReviewSessionConfig {\r\n  topic?: string;\r\n  complexity: string;\r\n  includeSavedCards: boolean;\r\n  numberOfCards: number;\r\n  onlyCommonWords: boolean;\r\n}\r\n\r\ninterface SessionConfigProps {\r\n  sessionConfig: ReviewSessionConfig;\r\n  setSessionConfig: (config: ReviewSessionConfig) => void;\r\n  topics: FlashcardTopic[];\r\n  user: User | null;\r\n  onStartCustomSession: () => void;\r\n  isCreatingCustomSession: boolean;\r\n  isValidating: boolean;\r\n}\r\n\r\nexport function SessionConfig({\r\n  sessionConfig,\r\n  setSessionConfig,\r\n  topics,\r\n  user,\r\n  onStartCustomSession,\r\n  isCreatingCustomSession,\r\n  isValidating,\r\n}: SessionConfigProps) {\r\n  return (\r\n    <>\r\n      <Card className=\"mb-8\">\r\n        <CardHeader>\r\n          <div className=\"flex items-center gap-3\">\r\n            <Settings className=\"h-5 w-5\" />\r\n            <CardTitle>Create Your Own Review Session</CardTitle>\r\n          </div>\r\n          <CardDescription>\r\n            Customize your review experience with specific filters and\r\n            preferences\r\n          </CardDescription>\r\n        </CardHeader>\r\n        <CardContent className=\"space-y-6\">\r\n          <div className=\"flex flex-col md:flex-row md:items-end md:gap-6\">\r\n            <div className=\"flex-1 space-y-2\">\r\n              <label className=\"text-sm font-medium\">Filter by Topic</label>\r\n              <Select\r\n                value={sessionConfig.topic}\r\n                onValueChange={(value) =>\r\n                  setSessionConfig({ ...sessionConfig, topic: value })\r\n                }\r\n              >\r\n                <SelectTrigger>\r\n                  <SelectValue placeholder=\"Select a Topic\" />\r\n                </SelectTrigger>\r\n                <SelectContent>\r\n                  {topics.map((topic) => (\r\n                    <SelectItem key={topic.id} value={topic.name}>\r\n                      <div className=\"flex items-center gap-2\">\r\n                        <span>{topic.icon}</span>\r\n                        <span>{topic.name}</span>\r\n                      </div>\r\n                    </SelectItem>\r\n                  ))}\r\n                </SelectContent>\r\n              </Select>\r\n            </div>\r\n            <div className=\"flex-1 space-y-2 mt-4 md:mt-0\">\r\n              <label className=\"text-sm font-medium\">\r\n                Filter by Complexity\r\n              </label>\r\n              <ToggleGroup\r\n                type=\"single\"\r\n                value={sessionConfig.complexity}\r\n                onValueChange={(value) =>\r\n                  value &&\r\n                  setSessionConfig({ ...sessionConfig, complexity: value })\r\n                }\r\n                className=\"w-full\"\r\n              >\r\n                <ToggleGroupItem value=\"All\">All</ToggleGroupItem>\r\n                <ToggleGroupItem value=\"Simple\">Simple</ToggleGroupItem>\r\n                <ToggleGroupItem value=\"Complex\">Complex</ToggleGroupItem>\r\n              </ToggleGroup>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"flex flex-col md:flex-row md:items-end md:gap-6\">\r\n            <div className=\"flex-1 flex items-center\">\r\n              <Checkbox\r\n                id=\"onlyCommonWords\"\r\n                checked={!!sessionConfig.onlyCommonWords}\r\n                onCheckedChange={(checked) =>\r\n                  setSessionConfig({\r\n                    ...sessionConfig,\r\n                    onlyCommonWords: !!checked,\r\n                  })\r\n                }\r\n              />\r\n              <label\r\n                htmlFor=\"onlyCommonWords\"\r\n                className=\"ml-2 text-sm font-medium\"\r\n              >\r\n                Only show common words\r\n              </label>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"space-y-3\">\r\n            <div className=\"flex items-center space-x-2\">\r\n              <Checkbox\r\n                id=\"savedCards\"\r\n                checked={sessionConfig.includeSavedCards}\r\n                onCheckedChange={(checked) =>\r\n                  setSessionConfig({\r\n                    ...sessionConfig,\r\n                    includeSavedCards: !!checked,\r\n                  })\r\n                }\r\n                disabled={user?.subscription_type === \"FREE\"}\r\n              />\r\n              <label htmlFor=\"savedCards\" className=\"text-sm font-medium\">\r\n                Include My Saved Cards\r\n              </label>\r\n              {user?.subscription_type === \"FREE\" && (\r\n                <Badge variant=\"secondary\">\r\n                  <Crown className=\"w-3 h-3 mr-1\" />\r\n                  Plus\r\n                </Badge>\r\n              )}\r\n            </div>\r\n\r\n            {/* Note about saved cards feature requiring Supabase integration */}\r\n            <div className=\"p-3 bg-blue-50 dark:bg-blue-950/20 border border-blue-200 dark:border-blue-800 rounded-lg\">\r\n              <div className=\"flex items-center gap-2\">\r\n                <Settings className=\"h-4 w-4 text-blue-600 dark:text-blue-400\" />\r\n                <p className=\"text-sm text-blue-800 dark:text-blue-200 font-medium\">\r\n                  Saved cards feature requires Supabase integration. Currently showing regular flashcards only.\r\n                </p>\r\n              </div>\r\n            </div>\r\n            {user?.subscription_type === \"FREE\" && (\r\n              <div className=\"p-3 bg-amber-50 dark:bg-amber-950/20 border border-amber-200 dark:border-amber-800 rounded-lg\">\r\n                <div className=\"flex items-center gap-2\">\r\n                  <Lock className=\"h-4 w-4 text-amber-600 dark:text-amber-400\" />\r\n                  <p className=\"text-sm text-amber-800 dark:text-amber-200 font-medium\">\r\n                    Tired of random words? Upgrade to Plus to unlock unlimited\r\n                    saved flashcards for review!\r\n                  </p>\r\n                </div>\r\n                <Button asChild size=\"sm\" className=\"mt-2\">\r\n                  <Link href=\"/plans\">\r\n                    <Crown className=\"w-4 h-4 mr-2\" />\r\n                    Upgrade to Plus\r\n                  </Link>\r\n                </Button>\r\n              </div>\r\n            )}\r\n          </div>\r\n\r\n          <div className=\"space-y-4\">\r\n            <label className=\"text-sm font-medium\">\r\n              Number of cards to review: {sessionConfig.numberOfCards}\r\n            </label>\r\n            <Slider\r\n              value={[sessionConfig.numberOfCards]}\r\n              onValueChange={(value) =>\r\n                setSessionConfig({\r\n                  ...sessionConfig,\r\n                  numberOfCards: value[0],\r\n                })\r\n              }\r\n              max={50}\r\n              min={10}\r\n              step={5}\r\n              className=\"w-full\"\r\n            />\r\n          </div>\r\n        </CardContent>\r\n      </Card>\r\n\r\n      <div className=\"text-center mb-8 space-y-4\">\r\n        <Button\r\n          onClick={onStartCustomSession}\r\n          size=\"lg\"\r\n          className=\"text-lg px-8 py-6 h-auto\"\r\n          disabled={isCreatingCustomSession || isValidating}\r\n        >\r\n          <Play className=\"w-5 h-5 mr-2\" />\r\n          {isCreatingCustomSession || isValidating\r\n            ? \"Validating Session...\"\r\n            : \"Start Custom Review Session\"}\r\n        </Button>\r\n      </div>\r\n    </>\r\n  );\r\n}","/* __next_internal_action_entry_do_not_use__ [{\"40138ba5c927606e17947caf045f883ea82b7072d9\":\"createReviewSession\"},\"features/flashcards/actions/review.ts\",\"\"] */\"use turbopack no side effects\";import{createServerReference,callServer,findSourceMapURL}from\"private-next-rsc-action-client-wrapper\";export var createReviewSession=/*#__PURE__*/createServerReference(\"40138ba5c927606e17947caf045f883ea82b7072d9\",callServer,void 0,findSourceMapURL,\"createReviewSession\");","/* __next_internal_action_entry_do_not_use__ [{\"4066c3bfc9842b3e7a2fa482e6d40eb90f4e658ba3\":\"createSessionCardMappings\"},\"features/flashcards/actions/review.ts\",\"\"] */\"use turbopack no side effects\";import{createServerReference,callServer,findSourceMapURL}from\"private-next-rsc-action-client-wrapper\";export var createSessionCardMappings=/*#__PURE__*/createServerReference(\"4066c3bfc9842b3e7a2fa482e6d40eb90f4e658ba3\",callServer,void 0,findSourceMapURL,\"createSessionCardMappings\");","/**\r\n * Daily flashcard caching utilities\r\n * Provides localStorage-based caching for daily flashcards with timezone-aware expiry\r\n */\r\n\r\nimport type { FlashcardData } from '../types/flashcard.types'\r\n\r\nconst FLASHCARDS_CACHE_KEY = \"flashcards:review\"\r\n\r\ninterface CachedFlashcards {\r\n  flashcards: FlashcardData[]\r\n  date: string\r\n  expiry: number\r\n  timezone: string\r\n}\r\n\r\n/**\r\n * Get user's timezone\r\n */\r\nexport function getUserTimezone(): string {\r\n  return Intl.DateTimeFormat().resolvedOptions().timeZone\r\n}\r\n\r\n/**\r\n * Get today's date in YYYY-MM-DD format for user's timezone\r\n */\r\nexport function getTodayDateString(timezone: string): string {\r\n  const now = new Date()\r\n  const formatter = new Intl.DateTimeFormat(\"en-CA\", {\r\n    timeZone: timezone,\r\n    year: \"numeric\",\r\n    month: \"2-digit\",\r\n    day: \"2-digit\",\r\n  })\r\n  return formatter.format(now)\r\n}\r\n\r\n/**\r\n * Get end of day timestamp (11:59:59 PM) in user's timezone\r\n */\r\nexport function getEndOfDayTimestamp(timezone: string): number {\r\n  const now = new Date()\r\n  const todayString = getTodayDateString(timezone)\r\n\r\n  const endOfDay = new Date(`${todayString}T23:59:59.999`)\r\n\r\n  const userDate = new Date(\r\n    endOfDay.toLocaleString(\"en-US\", { timeZone: timezone })\r\n  )\r\n  const utcDate = new Date(\r\n    endOfDay.toLocaleString(\"en-US\", { timeZone: \"UTC\" })\r\n  )\r\n  const offset = utcDate.getTime() - userDate.getTime()\r\n\r\n  return endOfDay.getTime() + offset\r\n}\r\n\r\n/**\r\n * Save flashcards to localStorage with expiry\r\n * Cache expires at end of day in user's timezone\r\n */\r\nexport function saveDailyFlashcards(flashcards: FlashcardData[]): void {\r\n  const timezone = getUserTimezone()\r\n  const today = getTodayDateString(timezone)\r\n  const expiry = getEndOfDayTimestamp(timezone)\r\n\r\n  const cacheData: CachedFlashcards = {\r\n    flashcards,\r\n    date: today,\r\n    expiry,\r\n    timezone,\r\n  }\r\n\r\n  try {\r\n    localStorage.setItem(FLASHCARDS_CACHE_KEY, JSON.stringify(cacheData))\r\n    console.log(\r\n      `üíæ Saved ${flashcards.length} flashcards to localStorage, expires at:`,\r\n      new Date(expiry)\r\n    )\r\n  } catch (error) {\r\n    console.error(\"Failed to save flashcards to localStorage:\", error)\r\n  }\r\n}\r\n\r\n/**\r\n * Load flashcards from localStorage if valid\r\n * Returns null if cache is expired or doesn't exist\r\n */\r\nexport function loadDailyFlashcards(): FlashcardData[] | null {\r\n  try {\r\n    const cached = localStorage.getItem(FLASHCARDS_CACHE_KEY)\r\n    if (!cached) {\r\n      console.log(\"üì≠ No cached flashcards found\")\r\n      return null\r\n    }\r\n\r\n    const cacheData: CachedFlashcards = JSON.parse(cached)\r\n    const timezone = getUserTimezone()\r\n    const today = getTodayDateString(timezone)\r\n    const now = Date.now()\r\n\r\n    if (cacheData.date === today && now < cacheData.expiry) {\r\n      console.log(\r\n        `üìö Loaded ${cacheData.flashcards.length} cached flashcards from ${cacheData.date}`\r\n      )\r\n      return cacheData.flashcards\r\n    } else {\r\n      console.log(\r\n        `üóëÔ∏è Cache expired or from different day. Cached: ${cacheData.date}, Today: ${today}`\r\n      )\r\n      localStorage.removeItem(FLASHCARDS_CACHE_KEY)\r\n      return null\r\n    }\r\n  } catch (error) {\r\n    console.error(\"Failed to load flashcards from localStorage:\", error)\r\n    localStorage.removeItem(FLASHCARDS_CACHE_KEY)\r\n    return null\r\n  }\r\n}\r\n\r\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  [\n    'path',\n    {\n      d: 'M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915',\n      key: '1i5ecw',\n    },\n  ],\n  ['circle', { cx: '12', cy: '12', r: '3', key: '1v7zrd' }],\n];\n\n/**\n * @component @name Settings\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNOS42NzEgNC4xMzZhMi4zNCAyLjM0IDAgMCAxIDQuNjU5IDAgMi4zNCAyLjM0IDAgMCAwIDMuMzE5IDEuOTE1IDIuMzQgMi4zNCAwIDAgMSAyLjMzIDQuMDMzIDIuMzQgMi4zNCAwIDAgMCAwIDMuODMxIDIuMzQgMi4zNCAwIDAgMS0yLjMzIDQuMDMzIDIuMzQgMi4zNCAwIDAgMC0zLjMxOSAxLjkxNSAyLjM0IDIuMzQgMCAwIDEtNC42NTkgMCAyLjM0IDIuMzQgMCAwIDAtMy4zMi0xLjkxNSAyLjM0IDIuMzQgMCAwIDEtMi4zMy00LjAzMyAyLjM0IDIuMzQgMCAwIDAgMC0zLjgzMUEyLjM0IDIuMzQgMCAwIDEgNi4zNSA2LjA1MWEyLjM0IDIuMzQgMCAwIDAgMy4zMTktMS45MTUiIC8+CiAgPGNpcmNsZSBjeD0iMTIiIGN5PSIxMiIgcj0iMyIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/settings\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Settings = createLucideIcon('settings', __iconNode);\n\nexport default Settings;\n","import * as React from 'react';\nimport { composeEventHandlers } from '@radix-ui/primitive';\nimport { useComposedRefs } from '@radix-ui/react-compose-refs';\nimport { createContextScope } from '@radix-ui/react-context';\nimport { useSize } from '@radix-ui/react-use-size';\nimport { usePrevious } from '@radix-ui/react-use-previous';\nimport { Presence } from '@radix-ui/react-presence';\nimport { Primitive } from '@radix-ui/react-primitive';\n\nimport type { Scope } from '@radix-ui/react-context';\n\n/* -------------------------------------------------------------------------------------------------\n * Radio\n * -----------------------------------------------------------------------------------------------*/\n\nconst RADIO_NAME = 'Radio';\n\ntype ScopedProps<P> = P & { __scopeRadio?: Scope };\nconst [createRadioContext, createRadioScope] = createContextScope(RADIO_NAME);\n\ntype RadioContextValue = { checked: boolean; disabled?: boolean };\nconst [RadioProvider, useRadioContext] = createRadioContext<RadioContextValue>(RADIO_NAME);\n\ntype RadioElement = React.ComponentRef<typeof Primitive.button>;\ntype PrimitiveButtonProps = React.ComponentPropsWithoutRef<typeof Primitive.button>;\ninterface RadioProps extends PrimitiveButtonProps {\n  checked?: boolean;\n  required?: boolean;\n  onCheck?(): void;\n}\n\nconst Radio = React.forwardRef<RadioElement, RadioProps>(\n  (props: ScopedProps<RadioProps>, forwardedRef) => {\n    const {\n      __scopeRadio,\n      name,\n      checked = false,\n      required,\n      disabled,\n      value = 'on',\n      onCheck,\n      form,\n      ...radioProps\n    } = props;\n    const [button, setButton] = React.useState<HTMLButtonElement | null>(null);\n    const composedRefs = useComposedRefs(forwardedRef, (node) => setButton(node));\n    const hasConsumerStoppedPropagationRef = React.useRef(false);\n    // We set this to true by default so that events bubble to forms without JS (SSR)\n    const isFormControl = button ? form || !!button.closest('form') : true;\n\n    return (\n      <RadioProvider scope={__scopeRadio} checked={checked} disabled={disabled}>\n        <Primitive.button\n          type=\"button\"\n          role=\"radio\"\n          aria-checked={checked}\n          data-state={getState(checked)}\n          data-disabled={disabled ? '' : undefined}\n          disabled={disabled}\n          value={value}\n          {...radioProps}\n          ref={composedRefs}\n          onClick={composeEventHandlers(props.onClick, (event) => {\n            // radios cannot be unchecked so we only communicate a checked state\n            if (!checked) onCheck?.();\n            if (isFormControl) {\n              hasConsumerStoppedPropagationRef.current = event.isPropagationStopped();\n              // if radio is in a form, stop propagation from the button so that we only propagate\n              // one click event (from the input). We propagate changes from an input so that native\n              // form validation works and form events reflect radio updates.\n              if (!hasConsumerStoppedPropagationRef.current) event.stopPropagation();\n            }\n          })}\n        />\n        {isFormControl && (\n          <RadioBubbleInput\n            control={button}\n            bubbles={!hasConsumerStoppedPropagationRef.current}\n            name={name}\n            value={value}\n            checked={checked}\n            required={required}\n            disabled={disabled}\n            form={form}\n            // We transform because the input is absolutely positioned but we have\n            // rendered it **after** the button. This pulls it back to sit on top\n            // of the button.\n            style={{ transform: 'translateX(-100%)' }}\n          />\n        )}\n      </RadioProvider>\n    );\n  }\n);\n\nRadio.displayName = RADIO_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * RadioIndicator\n * -----------------------------------------------------------------------------------------------*/\n\nconst INDICATOR_NAME = 'RadioIndicator';\n\ntype RadioIndicatorElement = React.ComponentRef<typeof Primitive.span>;\ntype PrimitiveSpanProps = React.ComponentPropsWithoutRef<typeof Primitive.span>;\nexport interface RadioIndicatorProps extends PrimitiveSpanProps {\n  /**\n   * Used to force mounting when more control is needed. Useful when\n   * controlling animation with React animation libraries.\n   */\n  forceMount?: true;\n}\n\nconst RadioIndicator = React.forwardRef<RadioIndicatorElement, RadioIndicatorProps>(\n  (props: ScopedProps<RadioIndicatorProps>, forwardedRef) => {\n    const { __scopeRadio, forceMount, ...indicatorProps } = props;\n    const context = useRadioContext(INDICATOR_NAME, __scopeRadio);\n    return (\n      <Presence present={forceMount || context.checked}>\n        <Primitive.span\n          data-state={getState(context.checked)}\n          data-disabled={context.disabled ? '' : undefined}\n          {...indicatorProps}\n          ref={forwardedRef}\n        />\n      </Presence>\n    );\n  }\n);\n\nRadioIndicator.displayName = INDICATOR_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * RadioBubbleInput\n * -----------------------------------------------------------------------------------------------*/\n\nconst BUBBLE_INPUT_NAME = 'RadioBubbleInput';\n\ntype InputProps = React.ComponentPropsWithoutRef<typeof Primitive.input>;\ninterface RadioBubbleInputProps extends Omit<InputProps, 'checked'> {\n  checked: boolean;\n  control: HTMLElement | null;\n  bubbles: boolean;\n}\n\nconst RadioBubbleInput = React.forwardRef<HTMLInputElement, RadioBubbleInputProps>(\n  (\n    {\n      __scopeRadio,\n      control,\n      checked,\n      bubbles = true,\n      ...props\n    }: ScopedProps<RadioBubbleInputProps>,\n    forwardedRef\n  ) => {\n    const ref = React.useRef<HTMLInputElement>(null);\n    const composedRefs = useComposedRefs(ref, forwardedRef);\n    const prevChecked = usePrevious(checked);\n    const controlSize = useSize(control);\n\n    // Bubble checked change to parents (e.g form change event)\n    React.useEffect(() => {\n      const input = ref.current;\n      if (!input) return;\n\n      const inputProto = window.HTMLInputElement.prototype;\n      const descriptor = Object.getOwnPropertyDescriptor(\n        inputProto,\n        'checked'\n      ) as PropertyDescriptor;\n      const setChecked = descriptor.set;\n      if (prevChecked !== checked && setChecked) {\n        const event = new Event('click', { bubbles });\n        setChecked.call(input, checked);\n        input.dispatchEvent(event);\n      }\n    }, [prevChecked, checked, bubbles]);\n\n    return (\n      <Primitive.input\n        type=\"radio\"\n        aria-hidden\n        defaultChecked={checked}\n        {...props}\n        tabIndex={-1}\n        ref={composedRefs}\n        style={{\n          ...props.style,\n          ...controlSize,\n          position: 'absolute',\n          pointerEvents: 'none',\n          opacity: 0,\n          margin: 0,\n        }}\n      />\n    );\n  }\n);\n\nRadioBubbleInput.displayName = BUBBLE_INPUT_NAME;\n\n/* ---------------------------------------------------------------------------------------------- */\n\nfunction getState(checked: boolean) {\n  return checked ? 'checked' : 'unchecked';\n}\n\nexport {\n  createRadioScope,\n  //\n  Radio,\n  RadioIndicator,\n};\nexport type { RadioProps };\n","import React from 'react';\nimport { createContextScope } from '@radix-ui/react-context';\nimport { Primitive } from '@radix-ui/react-primitive';\nimport * as RovingFocusGroup from '@radix-ui/react-roving-focus';\nimport { createRovingFocusGroupScope } from '@radix-ui/react-roving-focus';\nimport { Toggle } from '@radix-ui/react-toggle';\nimport { useControllableState } from '@radix-ui/react-use-controllable-state';\nimport { useDirection } from '@radix-ui/react-direction';\n\nimport type { Scope } from '@radix-ui/react-context';\n\n/* -------------------------------------------------------------------------------------------------\n * ToggleGroup\n * -----------------------------------------------------------------------------------------------*/\n\nconst TOGGLE_GROUP_NAME = 'ToggleGroup';\n\ntype ScopedProps<P> = P & { __scopeToggleGroup?: Scope };\nconst [createToggleGroupContext, createToggleGroupScope] = createContextScope(TOGGLE_GROUP_NAME, [\n  createRovingFocusGroupScope,\n]);\nconst useRovingFocusGroupScope = createRovingFocusGroupScope();\n\ntype ToggleGroupElement = ToggleGroupImplSingleElement | ToggleGroupImplMultipleElement;\ninterface ToggleGroupSingleProps extends ToggleGroupImplSingleProps {\n  type: 'single';\n}\ninterface ToggleGroupMultipleProps extends ToggleGroupImplMultipleProps {\n  type: 'multiple';\n}\n\nconst ToggleGroup = React.forwardRef<\n  ToggleGroupElement,\n  ToggleGroupSingleProps | ToggleGroupMultipleProps\n>((props, forwardedRef) => {\n  const { type, ...toggleGroupProps } = props;\n\n  if (type === 'single') {\n    const singleProps = toggleGroupProps as ToggleGroupImplSingleProps;\n    return <ToggleGroupImplSingle {...singleProps} ref={forwardedRef} />;\n  }\n\n  if (type === 'multiple') {\n    const multipleProps = toggleGroupProps as ToggleGroupImplMultipleProps;\n    return <ToggleGroupImplMultiple {...multipleProps} ref={forwardedRef} />;\n  }\n\n  throw new Error(`Missing prop \\`type\\` expected on \\`${TOGGLE_GROUP_NAME}\\``);\n});\n\nToggleGroup.displayName = TOGGLE_GROUP_NAME;\n\n/* -----------------------------------------------------------------------------------------------*/\n\ntype ToggleGroupValueContextValue = {\n  type: 'single' | 'multiple';\n  value: string[];\n  onItemActivate(value: string): void;\n  onItemDeactivate(value: string): void;\n};\n\nconst [ToggleGroupValueProvider, useToggleGroupValueContext] =\n  createToggleGroupContext<ToggleGroupValueContextValue>(TOGGLE_GROUP_NAME);\n\ntype ToggleGroupImplSingleElement = ToggleGroupImplElement;\ninterface ToggleGroupImplSingleProps extends ToggleGroupImplProps {\n  /**\n   * The controlled stateful value of the item that is pressed.\n   */\n  value?: string;\n  /**\n   * The value of the item that is pressed when initially rendered. Use\n   * `defaultValue` if you do not need to control the state of a toggle group.\n   */\n  defaultValue?: string;\n  /**\n   * The callback that fires when the value of the toggle group changes.\n   */\n  onValueChange?(value: string): void;\n}\n\nconst ToggleGroupImplSingle = React.forwardRef<\n  ToggleGroupImplSingleElement,\n  ToggleGroupImplSingleProps\n>((props: ScopedProps<ToggleGroupImplSingleProps>, forwardedRef) => {\n  const {\n    value: valueProp,\n    defaultValue,\n    onValueChange = () => {},\n    ...toggleGroupSingleProps\n  } = props;\n\n  const [value, setValue] = useControllableState({\n    prop: valueProp,\n    defaultProp: defaultValue ?? '',\n    onChange: onValueChange,\n    caller: TOGGLE_GROUP_NAME,\n  });\n\n  return (\n    <ToggleGroupValueProvider\n      scope={props.__scopeToggleGroup}\n      type=\"single\"\n      value={React.useMemo(() => (value ? [value] : []), [value])}\n      onItemActivate={setValue}\n      onItemDeactivate={React.useCallback(() => setValue(''), [setValue])}\n    >\n      <ToggleGroupImpl {...toggleGroupSingleProps} ref={forwardedRef} />\n    </ToggleGroupValueProvider>\n  );\n});\n\ntype ToggleGroupImplMultipleElement = ToggleGroupImplElement;\ninterface ToggleGroupImplMultipleProps extends ToggleGroupImplProps {\n  /**\n   * The controlled stateful value of the items that are pressed.\n   */\n  value?: string[];\n  /**\n   * The value of the items that are pressed when initially rendered. Use\n   * `defaultValue` if you do not need to control the state of a toggle group.\n   */\n  defaultValue?: string[];\n  /**\n   * The callback that fires when the state of the toggle group changes.\n   */\n  onValueChange?(value: string[]): void;\n}\n\nconst ToggleGroupImplMultiple = React.forwardRef<\n  ToggleGroupImplMultipleElement,\n  ToggleGroupImplMultipleProps\n>((props: ScopedProps<ToggleGroupImplMultipleProps>, forwardedRef) => {\n  const {\n    value: valueProp,\n    defaultValue,\n    onValueChange = () => {},\n    ...toggleGroupMultipleProps\n  } = props;\n\n  const [value, setValue] = useControllableState({\n    prop: valueProp,\n    defaultProp: defaultValue ?? [],\n    onChange: onValueChange,\n    caller: TOGGLE_GROUP_NAME,\n  });\n\n  const handleButtonActivate = React.useCallback(\n    (itemValue: string) => setValue((prevValue = []) => [...prevValue, itemValue]),\n    [setValue]\n  );\n\n  const handleButtonDeactivate = React.useCallback(\n    (itemValue: string) =>\n      setValue((prevValue = []) => prevValue.filter((value) => value !== itemValue)),\n    [setValue]\n  );\n\n  return (\n    <ToggleGroupValueProvider\n      scope={props.__scopeToggleGroup}\n      type=\"multiple\"\n      value={value}\n      onItemActivate={handleButtonActivate}\n      onItemDeactivate={handleButtonDeactivate}\n    >\n      <ToggleGroupImpl {...toggleGroupMultipleProps} ref={forwardedRef} />\n    </ToggleGroupValueProvider>\n  );\n});\n\nToggleGroup.displayName = TOGGLE_GROUP_NAME;\n\n/* -----------------------------------------------------------------------------------------------*/\n\ntype ToggleGroupContextValue = { rovingFocus: boolean; disabled: boolean };\n\nconst [ToggleGroupContext, useToggleGroupContext] =\n  createToggleGroupContext<ToggleGroupContextValue>(TOGGLE_GROUP_NAME);\n\ntype RovingFocusGroupProps = React.ComponentPropsWithoutRef<typeof RovingFocusGroup.Root>;\ntype ToggleGroupImplElement = React.ComponentRef<typeof Primitive.div>;\ntype PrimitiveDivProps = React.ComponentPropsWithoutRef<typeof Primitive.div>;\ninterface ToggleGroupImplProps extends PrimitiveDivProps {\n  /**\n   * Whether the group is disabled from user interaction.\n   * @defaultValue false\n   */\n  disabled?: boolean;\n  /**\n   * Whether the group should maintain roving focus of its buttons.\n   * @defaultValue true\n   */\n  rovingFocus?: boolean;\n  loop?: RovingFocusGroupProps['loop'];\n  orientation?: RovingFocusGroupProps['orientation'];\n  dir?: RovingFocusGroupProps['dir'];\n}\n\nconst ToggleGroupImpl = React.forwardRef<ToggleGroupImplElement, ToggleGroupImplProps>(\n  (props: ScopedProps<ToggleGroupImplProps>, forwardedRef) => {\n    const {\n      __scopeToggleGroup,\n      disabled = false,\n      rovingFocus = true,\n      orientation,\n      dir,\n      loop = true,\n      ...toggleGroupProps\n    } = props;\n    const rovingFocusGroupScope = useRovingFocusGroupScope(__scopeToggleGroup);\n    const direction = useDirection(dir);\n    const commonProps = { role: 'group', dir: direction, ...toggleGroupProps };\n    return (\n      <ToggleGroupContext scope={__scopeToggleGroup} rovingFocus={rovingFocus} disabled={disabled}>\n        {rovingFocus ? (\n          <RovingFocusGroup.Root\n            asChild\n            {...rovingFocusGroupScope}\n            orientation={orientation}\n            dir={direction}\n            loop={loop}\n          >\n            <Primitive.div {...commonProps} ref={forwardedRef} />\n          </RovingFocusGroup.Root>\n        ) : (\n          <Primitive.div {...commonProps} ref={forwardedRef} />\n        )}\n      </ToggleGroupContext>\n    );\n  }\n);\n\n/* -------------------------------------------------------------------------------------------------\n * ToggleGroupItem\n * -----------------------------------------------------------------------------------------------*/\n\nconst ITEM_NAME = 'ToggleGroupItem';\n\ntype ToggleGroupItemElement = ToggleGroupItemImplElement;\ninterface ToggleGroupItemProps extends Omit<ToggleGroupItemImplProps, 'pressed'> {}\n\nconst ToggleGroupItem = React.forwardRef<ToggleGroupItemElement, ToggleGroupItemProps>(\n  (props: ScopedProps<ToggleGroupItemProps>, forwardedRef) => {\n    const valueContext = useToggleGroupValueContext(ITEM_NAME, props.__scopeToggleGroup);\n    const context = useToggleGroupContext(ITEM_NAME, props.__scopeToggleGroup);\n    const rovingFocusGroupScope = useRovingFocusGroupScope(props.__scopeToggleGroup);\n    const pressed = valueContext.value.includes(props.value);\n    const disabled = context.disabled || props.disabled;\n    const commonProps = { ...props, pressed, disabled };\n    const ref = React.useRef<HTMLDivElement>(null);\n    return context.rovingFocus ? (\n      <RovingFocusGroup.Item\n        asChild\n        {...rovingFocusGroupScope}\n        focusable={!disabled}\n        active={pressed}\n        ref={ref}\n      >\n        <ToggleGroupItemImpl {...commonProps} ref={forwardedRef} />\n      </RovingFocusGroup.Item>\n    ) : (\n      <ToggleGroupItemImpl {...commonProps} ref={forwardedRef} />\n    );\n  }\n);\n\nToggleGroupItem.displayName = ITEM_NAME;\n\n/* -----------------------------------------------------------------------------------------------*/\n\ntype ToggleGroupItemImplElement = React.ComponentRef<typeof Toggle>;\ntype ToggleProps = React.ComponentPropsWithoutRef<typeof Toggle>;\ninterface ToggleGroupItemImplProps extends Omit<ToggleProps, 'defaultPressed' | 'onPressedChange'> {\n  /**\n   * A string value for the toggle group item. All items within a toggle group should use a unique value.\n   */\n  value: string;\n}\n\nconst ToggleGroupItemImpl = React.forwardRef<ToggleGroupItemImplElement, ToggleGroupItemImplProps>(\n  (props: ScopedProps<ToggleGroupItemImplProps>, forwardedRef) => {\n    const { __scopeToggleGroup, value, ...itemProps } = props;\n    const valueContext = useToggleGroupValueContext(ITEM_NAME, __scopeToggleGroup);\n    const singleProps = { role: 'radio', 'aria-checked': props.pressed, 'aria-pressed': undefined };\n    const typeProps = valueContext.type === 'single' ? singleProps : undefined;\n    return (\n      <Toggle\n        {...typeProps}\n        {...itemProps}\n        ref={forwardedRef}\n        onPressedChange={(pressed) => {\n          if (pressed) {\n            valueContext.onItemActivate(value);\n          } else {\n            valueContext.onItemDeactivate(value);\n          }\n        }}\n      />\n    );\n  }\n);\n\n/* -----------------------------------------------------------------------------------------------*/\n\nconst Root = ToggleGroup;\nconst Item = ToggleGroupItem;\n\nexport {\n  createToggleGroupScope,\n  //\n  ToggleGroup,\n  ToggleGroupItem,\n  //\n  Root,\n  Item,\n};\nexport type { ToggleGroupSingleProps, ToggleGroupMultipleProps, ToggleGroupItemProps };\n","/**\n * Session API service for custom flashcard review sessions\n */\n\nimport type {\n  SessionFilterRequest,\n  SessionValidationResponse,\n  SessionGenerationRequest,\n  SessionGenerationResponse,\n  SuggestionOption,\n} from '../types/session.types'\n\n// Re-export types for backward compatibility\nexport type {\n  SessionFilterRequest,\n  SessionValidationResponse,\n  SessionGenerationRequest,\n  SessionGenerationResponse,\n  SuggestionOption,\n}\n\nclass SessionAPI {\n  private baseUrl: string;\n\n  constructor() {\n    this.baseUrl = process.env.NEXT_PUBLIC_API_URL || \"http://localhost:8000\";\n  }\n\n  /**\n   * Validate session filters and get availability information\n   * @param filters - Session filter criteria\n   * @param userId - Optional user ID for saved cards validation\n   */\n  async validateSessionFilters(filters: SessionFilterRequest, userId?: string): Promise<SessionValidationResponse> {\n    try {\n      const requestBody: any = { ...filters }\n      if (userId) {\n        requestBody.user_id = userId\n      }\n      \n      const response = await fetch(`${this.baseUrl}/api/v1/flashcards/session/validate`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify(requestBody),\n      });\n\n      if (!response.ok) {\n        const errorData = await response.json().catch(() => null);\n        throw new Error(errorData?.detail || `HTTP error! status: ${response.status}`);\n      }\n\n      return await response.json();\n    } catch (error) {\n      console.error('Error validating session filters:', error);\n      throw error;\n    }\n  }\n\n  /**\n   * Generate flashcards for a custom session\n   */\n  async generateSessionCards(request: SessionGenerationRequest): Promise<SessionGenerationResponse> {\n    try {\n      const response = await fetch(`${this.baseUrl}/api/v1/flashcards/session/generate`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify(request),\n      });\n\n      if (!response.ok) {\n        const errorData = await response.json().catch(() => null);\n        throw new Error(errorData?.detail || `HTTP error! status: ${response.status}`);\n      }\n\n      return await response.json();\n    } catch (error) {\n      console.error('Error generating session cards:', error);\n      throw error;\n    }\n  }\n\n  /**\n   * Helper method to build filters from form data\n   */\n  buildFiltersFromForm(formData: {\n    topic?: string;\n    complexity: string;\n    onlyCommonWords: boolean;\n    numberOfCards: number;\n  }): SessionFilterRequest {\n    return {\n      topic: formData.topic || undefined,\n      complexity: formData.complexity === \"All\" ? \"all\" : formData.complexity.toLowerCase(),\n      common_words_only: formData.onlyCommonWords,\n      num_cards: formData.numberOfCards,\n    };\n  }\n\n  /**\n   * Helper method to format suggestion for display\n   */\n  formatSuggestionForDisplay(suggestion: SuggestionOption): string {\n    const impacts = [];\n    \n    if (suggestion.impact.removed_restrictions?.length) {\n      impacts.push(`removes ${suggestion.impact.removed_restrictions.join(\", \")} restrictions`);\n    }\n    \n    if (suggestion.impact.expanded_complexity) {\n      impacts.push(\"includes all complexity levels\");\n    }\n    \n    if (suggestion.impact.expanded_topics) {\n      impacts.push(\"includes all topics\");\n    }\n\n    return impacts.length > 0 ? impacts.join(\", \") : suggestion.description;\n  }\n}\n\n// Export singleton instance\nexport const sessionAPI = new SessionAPI(); "],"names":[],"mappings":"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","ignoreList":[4,7,8,15,16,17]}