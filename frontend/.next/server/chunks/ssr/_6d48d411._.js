module.exports=[81594,a=>{"use strict";a.s(["Label",()=>h],81594);var b=a.i(187924),c=a.i(572131);a.i(935112);var d=a.i(811011),e=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((a,e)=>{let f=(0,d.createSlot)(`Primitive.${e}`),g=c.forwardRef((a,c)=>{let{asChild:d,...g}=a;return(0,b.jsx)(d?f:e,{...g,ref:c})});return g.displayName=`Primitive.${e}`,{...a,[e]:g}},{}),f=c.forwardRef((a,c)=>(0,b.jsx)(e.label,{...a,ref:c,onMouseDown:b=>{b.target.closest("button, input, select, textarea")||(a.onMouseDown?.(b),!b.defaultPrevented&&b.detail>1&&b.preventDefault())}}));f.displayName="Label";var g=a.i(16116);function h({className:a,...c}){return(0,b.jsx)(f,{"data-slot":"label",className:(0,g.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",a),...c})}},125138,761355,a=>{"use strict";a.s(["default",()=>f],125138);var b=a.i(187924),c=a.i(572131),d=a.i(571987);let e=()=>{let[a,e]=(0,c.useState)(""),[f,g]=(0,c.useState)(""),h=["/images/loading/banh-mi.webp","/images/loading/cafe.webp","/images/loading/lotus.webp","/images/loading/non-la.webp","/images/loading/pho.webp"],i=["Connecting you to Vietnam...","Bringing you the best of Vietnamese...","Loading your learning experience..."];return((0,c.useEffect)(()=>{let a=Math.floor(Math.random()*h.length);e(h[a]);let b=Math.floor(Math.random()*i.length);g(i[b])},[]),a)?(0,b.jsx)("div",{className:"fixed inset-0 bg-white/80 backdrop-blur-sm z-50 flex flex-col items-center justify-center",children:(0,b.jsxs)("div",{className:"flex flex-col items-center space-y-6",children:[(0,b.jsx)("div",{className:"relative",children:(0,b.jsx)(d.default,{src:a,alt:"Loading",width:120,height:120,className:"animate-sway drop-shadow-lg",priority:!0})}),(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("h2",{className:"text-xl font-semibold text-gray-800 mb-2",children:f}),(0,b.jsxs)("div",{className:"flex space-x-1 justify-center",children:[(0,b.jsx)("div",{className:"w-2 h-2 bg-blue-500 rounded-full animate-bounce"}),(0,b.jsx)("div",{className:"w-2 h-2 bg-blue-500 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),(0,b.jsx)("div",{className:"w-2 h-2 bg-blue-500 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})]})]})}):null},f=({children:a,isLoading:c})=>(0,b.jsxs)(b.Fragment,{children:[c&&(0,b.jsx)(e,{}),a]});a.s(["useLoading",()=>g],761355);let g=(a=!1)=>{let[b,d]=(0,c.useState)(a),e=(0,c.useRef)(null),f=(0,c.useCallback)(()=>{d(!0),e.current=setTimeout(()=>{console.warn("Loading timeout reached, forcing stop"),d(!1)},1e4)},[]),g=(0,c.useCallback)(()=>{d(!1),e.current&&(clearTimeout(e.current),e.current=null)},[]),h=(0,c.useCallback)(async a=>{try{return f(),await a()}finally{g()}},[f,g]),i=(0,c.useCallback)(async(a,b=2)=>{let c;for(let d=0;d<=b;d++)try{return 0===d&&f(),await a()}catch(a){if(c=a,console.warn(`Attempt ${d+1} failed:`,a),d===b)throw c;await new Promise(a=>setTimeout(a,1e3*Math.pow(2,d)))}finally{d===b&&g()}throw c},[f,g]);return{isLoading:b,startLoading:f,stopLoading:g,withLoading:h,withLoadingAndRetry:i}}},966395,a=>{"use strict";a.s(["flashcardAPI",()=>f,"getAllFlashcards",()=>g,"getAllTopics",()=>h,"getAllWordTypes",()=>i,"getFlashcardsByCategoryWithPagination",()=>l,"getFlashcardsByTopic",()=>j,"getFlashcardsByTopicWithPagination",()=>k],966395);class b extends Error{status;constructor(a,b){super(b),this.status=a,this.name="APIError"}}async function c(a,c){let d=`https://vietnamesenext.onrender.com/api/v1${a}`;try{let a=await fetch(d,{headers:{"Content-Type":"application/json",...c?.headers},cache:"no-store",...c});if(!a.ok)throw new b(a.status,`API request failed: ${a.statusText}`);return await a.json()}catch(a){if(a instanceof b)throw a;throw new b(0,`Network error: ${a instanceof Error?a.message:"Unknown error"}`)}}function d(a){return{id:a.id,vietnamese:a.vietnamese,english:a.english,type:a.type,is_multiword:a.is_multiword,is_multimeaning:a.is_multimeaning,common_meaning:a.common_meaning,vietnamese_sentence:a.vietnamese_sentence,english_sentence:a.english_sentence,topic:a.topic,is_common:"common"===a.common_class,image_url:a.image_url,audio_url:a.audio_url,pronunciation:a.pronunciation,saved_id:a.saved_id,saved_at:a.saved_at,flashcard_type:a.flashcard_type,tags:a.tags,review_count:a.review_count,last_reviewed:a.last_reviewed,notes:a.notes,is_favorite:a.is_favorite,ipa_pronunciation:a.ipa_pronunciation}}function e(a){return{id:a.id,title:a.title,description:a.description,count:a.count,imageUrl:a.imageUrl||"/placeholder.svg?height=200&width=400"}}let f={getAllFlashcards:async(a=0,b=100)=>(await c(`/flashcards?skip=${a}&limit=${b}`)).map(d),async getRandomFlashcards({count:a=20,commonWordsOnly:b=!1}={}){let e=new URLSearchParams({count:String(a),common_words_only:String(b)});return(await c(`/flashcards/random?${e.toString()}`)).map(d)},searchFlashcards:async(a,b=50)=>(await c(`/flashcards/search?q=${encodeURIComponent(a)}&limit=${b}`)).map(d),async getAllTopics(a){let b=a?`/flashcards/topics?complexity=${encodeURIComponent(a)}`:"/flashcards/topics";return(await c(b)).map(e)},async getFlashcardsByTopic(a,b,e=0,f=20){let g=(await this.getAllTopics()).find(b=>b.id===a);if(!g)return console.warn(`Topic not found for ID: ${a}`),{flashcards:[],total:0,hasMore:!1};let h=new URLSearchParams({skip:e.toString(),limit:f.toString()});b&&h.append("complexity",b);let i=`/flashcards/by-topic/${encodeURIComponent(g.title)}?${h.toString()}`,j=await c(i);return{flashcards:j.flashcards.map(d),total:j.total,hasMore:j.has_more}},async getFlashcardsByTopicLegacy(a,b){return(await this.getFlashcardsByTopic(a,b,0,1e3)).flashcards},async getFlashcardsByType(a,b){let e=b?`/flashcards/by-type/${encodeURIComponent(a)}?complexity=${encodeURIComponent(b)}`:`/flashcards/by-type/${encodeURIComponent(a)}`;return(await c(e)).map(d)},async getMultiwordFlashcards(a){let b=a?`/flashcards/multiword?complexity=${encodeURIComponent(a)}`:"/flashcards/multiword";return(await c(b)).map(d)},async getMultimeaningFlashcards(a){let b=a?`/flashcards/multimeaning?complexity=${encodeURIComponent(a)}`:"/flashcards/multimeaning";return(await c(b)).map(d)},getFlashcardsByComplexity:async(a,b=0,e=100)=>(await c(`/flashcards/by-complexity/${encodeURIComponent(a)}?skip=${b}&limit=${e}`)).map(d),getComplexityCounts:async()=>await c("/flashcards/complexity-counts"),getFlashcardById:async a=>d(await c(`/flashcards/${a}`)),getFlashcardAudio:async a=>await c(`/flashcards/${a}/audio`),healthCheck:async()=>await c("/flashcards/health"),async getAllWordTypes(a){let b=a?`/flashcards/word-types?complexity=${encodeURIComponent(a)}`:"/flashcards/word-types";return await c(b)},async getOthersCounts(a){let b=a?`/flashcards/others-counts?complexity=${encodeURIComponent(a)}`:"/flashcards/others-counts";return await c(b)},async getFlashcardsByTypeWithPagination(a,b,e=0,f=20){let g=new URLSearchParams({skip:e.toString(),limit:f.toString()});b&&g.append("complexity",b);let h=await c(`/flashcards/by-type/${encodeURIComponent(a)}?${g}`);return{flashcards:h.flashcards.map(d),total:h.total,hasMore:h.has_more}},async getMultiwordFlashcardsWithPagination(a,b=0,e=20){let f=new URLSearchParams({skip:b.toString(),limit:e.toString()});a&&f.append("complexity",a);let g=await c(`/flashcards/multiword?${f}`);return{flashcards:g.flashcards.map(d),total:g.total,hasMore:g.has_more}},async getMultimeaningFlashcardsWithPagination(a,b=0,e=20){let f=new URLSearchParams({skip:b.toString(),limit:e.toString()});a&&f.append("complexity",a);let g=await c(`/flashcards/multimeaning?${f}`);return{flashcards:g.flashcards.map(d),total:g.total,hasMore:g.has_more}},async getSavedFlashcards(a){let b=await c(`/flashcards/saved/${a}`);return{flashcards:b.flashcards.map(d),total:b.total}},getSavedFlashcardsCount:async a=>await c(`/flashcards/saved/${a}/count`),getFlashcardsByIds:async a=>(await c("/flashcards/by-ids",{method:"POST",body:JSON.stringify(a)})).map(d)};async function g(){return f.getAllFlashcards()}async function h(){return f.getAllTopics()}async function i(){return f.getAllWordTypes()}async function j(a,b){let c=["multi-meaning","multi-word"];try{let d=await f.getAllWordTypes();if(d.map(a=>a.id).includes(a.toLowerCase())){let c=d.find(b=>b.id===a.toLowerCase());if(c)return{flashcards:await f.getFlashcardsByType(c.name,b),title:c.title}}if(c.includes(a.toLowerCase())){let c,d;return"multi-meaning"===a.toLowerCase()?(c=await f.getMultimeaningFlashcards(b),d="Multi-meaning Words"):"multi-word"===a.toLowerCase()?(c=await f.getMultiwordFlashcards(b),d="Multi-word Expressions"):(c=[],d=a),{flashcards:c,title:d}}}catch(c){if(console.error("Error loading word types:",c),["verb","noun","adj","adv","prep","conj","intj","pron","num","det","part"].includes(a.toLowerCase())){let c=a.toUpperCase();return{flashcards:await f.getFlashcardsByType(c,b),title:({VERB:"Verbs",NOUN:"Nouns",ADJ:"Adjectives",ADV:"Adverbs",PREP:"Prepositions",CONJ:"Conjunctions",INTJ:"Interjections",PRON:"Pronouns",NUM:"Numbers",DET:"Determiners",PART:"Particles"})[c]||c}}}if(c.includes(a.toLowerCase())){let c,d;return"multi-meaning"===a.toLowerCase()?(c=await f.getMultimeaningFlashcards(b),d="Multi-meaning Words"):"multi-word"===a.toLowerCase()?(c=await f.getMultiwordFlashcards(b),d="Multi-word Expressions"):(c=[],d=a),{flashcards:c,title:d}}let d=await f.getFlashcardsByTopicLegacy(a,b),e=(await f.getAllTopics()).find(b=>b.id===a);return{flashcards:d,title:e?.title||`Topic: ${a}`}}async function k(a,b,c=0,d=20){try{let e=await f.getFlashcardsByTopic(a,b,c,d),g=(await f.getAllTopics()).find(b=>b.id===a);return{flashcards:e.flashcards,title:g?.title||`Topic: ${a}`,total:e.total,hasMore:e.hasMore}}catch(a){throw console.error("Error fetching flashcards by topic with pagination:",a),a}}async function l(a,b,c=0,d=20){try{try{let e=await f.getAllWordTypes();if(e.map(a=>a.id).includes(a.toLowerCase())){let g=e.find(b=>b.id===a.toLowerCase());if(g){let a=await f.getFlashcardsByTypeWithPagination(g.name,b,c,d);return{flashcards:a.flashcards,title:g.title,total:a.total,hasMore:a.hasMore}}}}catch(e){if(console.error("Error loading word types, falling back to hardcoded list:",e),["verb","noun","adj","adv","prep","conj","intj","pron","num","det","part"].includes(a.toLowerCase())){let e=a.toUpperCase(),g=await f.getFlashcardsByTypeWithPagination(e,b,c,d);return{flashcards:g.flashcards,title:({VERB:"Verbs",NOUN:"Nouns",ADJ:"Adjectives",ADV:"Adverbs",PREP:"Prepositions",CONJ:"Conjunctions",INTJ:"Interjections",PRON:"Pronouns",NUM:"Numbers",DET:"Determiners",PART:"Particles"})[e]||e,total:g.total,hasMore:g.hasMore}}}if(["multi-meaning","multi-word"].includes(a.toLowerCase())){let e,g;return"multi-meaning"===a.toLowerCase()?(e=await f.getMultimeaningFlashcardsWithPagination(b,c,d),g="Multi-meaning Words"):"multi-word"===a.toLowerCase()?(e=await f.getMultiwordFlashcardsWithPagination(b,c,d),g="Multi-word Expressions"):(e={flashcards:[],total:0,hasMore:!1},g=a),{flashcards:e.flashcards,title:g,total:e.total,hasMore:e.hasMore}}let e=await f.getFlashcardsByTopic(a,b,c,d),g=(await f.getAllTopics()).find(b=>b.id===a);return{flashcards:e.flashcards,title:g?.title||`Topic: ${a}`,total:e.total,hasMore:e.hasMore}}catch(a){throw console.error("Error fetching flashcards by category with pagination:",a),a}}},862722,a=>{"use strict";a.s(["XCircle",()=>b.default]);var b=a.i(524667)},816201,a=>{"use strict";a.s(["CheckCircle",()=>b.default]);var b=a.i(626405)},633508,a=>{"use strict";a.s(["X",()=>b.default]);var b=a.i(562213)},669520,a=>{"use strict";a.s(["RefreshCw",()=>b],669520);let b=(0,a.i(883706).default)("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]])},6912,164593,a=>{"use strict";a.s(["useFlashcardReview",()=>i],6912);var b=a.i(572131),c=a.i(255895);a.s(["authSessionManager",()=>e],164593);class d{static instance;isReviewSession=!1;refreshTimeout=null;constructor(){this.setupVisibilityListener()}static getInstance(){return d.instance||(d.instance=new d),d.instance}setReviewSession(a){this.isReviewSession=a,console.log("ðŸ”„ AuthSessionManager: Review session status:",a)}setupVisibilityListener(){}async handleTabFocus(){if(this.isReviewSession)return void console.log("ðŸš« AuthSessionManager: Skipping session refresh during review session");this.refreshTimeout&&clearTimeout(this.refreshTimeout),this.refreshTimeout=setTimeout(async()=>{await this.refreshSession()},2e3)}handleTabBlur(){this.refreshTimeout&&(clearTimeout(this.refreshTimeout),this.refreshTimeout=null)}async refreshSession(){try{let a=(0,c.createClient)(),{data:b,error:d}=await a.auth.getSession();d?console.error("âŒ Auth session refresh error:",d):console.log("âœ… Auth session refreshed successfully")}catch(a){console.error("âŒ Auth session refresh failed:",a)}}async forceRefresh(){if(this.isReviewSession)return void console.log("ðŸš« AuthSessionManager: Cannot force refresh during review session");await this.refreshSession()}}let e=d.getInstance();var f=a.i(823292),g=a.i(945682),h=a.i(319408);let i=({cards:a,onSessionComplete:d,enableTimer:i=!0})=>{let{getReviewTimeSeconds:j}=(0,h.useDisplaySettings)(),k=j(),[l,m]=(0,b.useState)(0),[n,o]=(0,b.useState)(!1),[p,q]=(0,b.useState)(k),[r,s]=(0,b.useState)(!1),[t,u]=(0,b.useState)([]),[v,w]=(0,b.useState)(null),[x,y]=(0,b.useState)(new Set);(0,b.useEffect)(()=>(e.setReviewSession(!0),()=>{e.setReviewSession(!1)}),[]),(0,b.useEffect)(()=>{},[l,n,p,r,a.length,v]),(0,b.useEffect)(()=>{(async()=>{try{let{data:{user:a}}=await c.supabase.auth.getUser();if(!a)return;let{data:b,error:d}=await c.supabase.from("saved_flashcards").select("flashcard_id, flashcard_type, topic").eq("UserID",a.id);b&&y(new Set(b.map(a=>a.flashcard_id)))}catch(a){console.error("Error loading saved cards:",a)}})()},[]),(0,b.useEffect)(()=>{if(!i||!r||p<=0)return;let a=setInterval(()=>{q(a=>a-1)},1e3);return()=>{clearInterval(a)}},[i,r,p]),(0,b.useEffect)(()=>{i&&0===p&&r&&(o(!0),s(!1),(0,g.playFlipSound)())},[i,p,r]);let z=(0,b.useCallback)(()=>{o(!1),q(k),i&&s(!0),w(new Date)},[i,k,l]);(0,b.useEffect)(()=>{a.length>0&&l<a.length&&z()},[l,a.length,z]),(0,b.useEffect)(()=>{},[l,n,p,r,a.length]);let A=(0,b.useCallback)(b=>{if(!a[l])return void console.warn("âŒ [HOOK] No card at index:",l,{cardsLength:a.length,currentCardIndex:l,timestamp:new Date().toISOString()});let c=v??new Date;v||w(c),"correct"===b?(0,g.playCorrectSound)():"incorrect"===b&&(0,g.playIncorrectSound)();let e=Date.now()-c.getTime(),f={cardId:a[l].id,result:b,timeSpent:e};u(a=>[...a,f]),l<a.length-1?m(a=>a+1):d&&d(),s(!1)},[a,l,v,d,n,p,r]),B=(0,b.useCallback)(async a=>{try{let{data:{user:b}}=await c.supabase.auth.getUser();if(!b)return;let d=new Set(x);d.has(a)?(d.delete(a),await c.supabase.from("saved_flashcards").delete().eq("UserID",b.id).eq("flashcard_id",a),f.toast.success("Card removed from saved!")):(d.add(a),await c.supabase.from("saved_flashcards").insert({UserID:b.id,flashcard_id:a}),f.toast.success("Card saved!")),y(d)}catch(a){console.error("Error saving card:",a),f.toast.error("Failed to save card")}},[x]),C=(0,b.useCallback)(()=>{o(a=>(a||((0,g.playFlipSound)(),s(!1)),!a))},[n,l,p,r]),D=(0,b.useCallback)(()=>{m(0),o(!1),q(k),s(!1),u([]),w(null)},[k]),E=(0,b.useCallback)(()=>{let b=t.filter(a=>"correct"===a.result).length,c=t.filter(a=>"incorrect"===a.result).length,d=t.filter(a=>"unsure"===a.result).length,e=t.length;return{correct:b,incorrect:c,unsure:d,total:e,remaining:a.length-e,accuracy:e>0?b/e*100:0}},[t,a.length]);return{currentCard:a[l]||null,currentCardIndex:l,isFlipped:n,timer:p,isTimerActive:r,cardResults:t,savedCards:x,startTime:v,handleCardResult:A,handleSaveCard:B,handleFlipCard:C,resetSession:D,getProgressStats:E,hasMoreCards:l<a.length-1,progress:a.length>0?(l+1)/a.length*100:0}}},771441,a=>{"use strict";a.s(["ReviewSession",()=>k],771441);var b=a.i(187924),c=a.i(557116),d=a.i(214549);let e=(0,a.i(883706).default)("alarm-clock",[["circle",{cx:"12",cy:"13",r:"8",key:"3y4lt7"}],["path",{d:"M12 9v4l2 2",key:"1c63tq"}],["path",{d:"M5 3 2 6",key:"18tl5t"}],["path",{d:"m22 6-3-3",key:"1opdir"}],["path",{d:"M6.38 18.7 4 21",key:"17xu3x"}],["path",{d:"M17.64 18.67 20 21",key:"kv2oe2"}]]);var f=a.i(533441),g=a.i(633508),h=a.i(218064),h=h,i=a.i(669520),j=a.i(817249);function k({practiceCards:a,currentCard:k,currentCardIndex:l,isFlipped:m,timer:n,isTimerActive:o,cardResults:p,progressStats:q,savedCards:r,onCardResult:s,onSaveCard:t,onFlipCard:u,onRefreshCards:v,onGetFreshCards:w,getAnimationDuration:x,isLoading:y}){return a.length&&k?(0,b.jsx)(c.Card,{className:"mb-8 bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-blue-950/20 dark:to-indigo-950/20 border-blue-200 dark:border-blue-800",children:(0,b.jsx)(c.CardContent,{className:"p-8",children:(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsx)("div",{className:"text-center",children:(0,b.jsxs)("div",{className:"flex items-center justify-center gap-4 mb-2",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(e,{className:"h-5 w-5 text-blue-600"}),(0,b.jsx)("span",{className:"text-lg font-medium text-blue-900 dark:text-blue-100",children:n>0?`${n}s`:m?"Review time!":""})]}),(0,b.jsx)(d.Button,{onClick:v,variant:"outline",size:"sm",className:"h-8 w-8 p-0",disabled:y,title:"Restart session",children:(0,b.jsx)(i.RefreshCw,{className:`h-4 w-4 ${y?"animate-spin":""}`})})]})}),(0,b.jsx)("div",{className:"flex justify-center",children:(0,b.jsx)(j.FlashcardComponent,{data:k,saved:r.has(k.id),onSave:t,onFlip:u,isFlipped:m,animationDuration:x()})}),(0,b.jsxs)("div",{className:"flex justify-center gap-4 md:gap-6",children:[(0,b.jsx)(d.Button,{onClick:()=>s("incorrect"),className:"w-16 h-16 rounded-full bg-red-100 hover:bg-red-200 border-0",variant:"outline",disabled:!m,children:(0,b.jsx)(g.X,{className:"h-8 w-8 text-red-600"})}),(0,b.jsx)(d.Button,{onClick:()=>s("unsure"),className:"w-16 h-16 rounded-full bg-yellow-100 hover:bg-yellow-200 border-0",variant:"outline",disabled:!m,title:"Unsure","aria-label":"Unsure",children:(0,b.jsx)(h.default,{className:"h-8 w-8 text-yellow-600"})}),(0,b.jsx)(d.Button,{onClick:()=>s("correct"),className:"w-16 h-16 rounded-full bg-green-100 hover:bg-green-200 border-0",variant:"outline",disabled:!m,children:(0,b.jsx)(f.Check,{className:"h-8 w-8 text-green-600"})})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,b.jsxs)("span",{className:"text-blue-700 dark:text-blue-300",children:["Card ",l+1," of ",a.length]}),(0,b.jsxs)("span",{className:"text-blue-700 dark:text-blue-300",children:["Correct: ",q.correct," | Incorrect:"," ",q.incorrect," | Unsure: ",q.unsure]})]}),(0,b.jsx)("div",{className:"grid grid-cols-10 gap-1",children:a.map((a,c)=>{let d="bg-gray-200";if(c<q.total){let a=p[c]?.result;"correct"===a?d="bg-green-500":"incorrect"===a?d="bg-red-500":"unsure"===a&&(d="bg-yellow-500")}else c===l&&(d="bg-gray-300");return(0,b.jsx)("div",{className:`h-2 rounded ${d}`},c)})})]})]})})}):null}},429535,a=>{"use strict";a.s(["Checkbox",()=>C],429535);var b=a.i(187924),c=a.i(572131),d=a.i(470121),e=a.i(750104),f=a.i(507554),g=a.i(225152),h=a.i(77994),i=a.i(3688),j=a.i(777192),k=a.i(30553),l="Checkbox",[m,n]=(0,e.createContextScope)(l),[o,p]=m(l);function q(a){let{__scopeCheckbox:d,checked:e,children:f,defaultChecked:h,disabled:i,form:j,name:k,onCheckedChange:m,required:n,value:p="on",internal_do_not_use_render:q}=a,[r,s]=(0,g.useControllableState)({prop:e,defaultProp:h??!1,onChange:m,caller:l}),[t,u]=c.useState(null),[v,w]=c.useState(null),x=c.useRef(!1),z=!t||!!j||!!t.closest("form"),A={checked:r,disabled:i,setChecked:s,control:t,setControl:u,name:k,form:j,value:p,hasConsumerStoppedPropagationRef:x,required:n,defaultChecked:!y(h)&&h,isFormControl:z,bubbleInput:v,setBubbleInput:w};return(0,b.jsx)(o,{scope:d,...A,children:"function"==typeof q?q(A):f})}var r="CheckboxTrigger",s=c.forwardRef(({__scopeCheckbox:a,onKeyDown:e,onClick:g,...h},i)=>{let{control:j,value:l,disabled:m,checked:n,required:o,setControl:q,setChecked:s,hasConsumerStoppedPropagationRef:t,isFormControl:u,bubbleInput:v}=p(r,a),w=(0,d.useComposedRefs)(i,q),x=c.useRef(n);return c.useEffect(()=>{let a=j?.form;if(a){let b=()=>s(x.current);return a.addEventListener("reset",b),()=>a.removeEventListener("reset",b)}},[j,s]),(0,b.jsx)(k.Primitive.button,{type:"button",role:"checkbox","aria-checked":y(n)?"mixed":n,"aria-required":o,"data-state":z(n),"data-disabled":m?"":void 0,disabled:m,value:l,...h,ref:w,onKeyDown:(0,f.composeEventHandlers)(e,a=>{"Enter"===a.key&&a.preventDefault()}),onClick:(0,f.composeEventHandlers)(g,a=>{s(a=>!!y(a)||!a),v&&u&&(t.current=a.isPropagationStopped(),t.current||a.stopPropagation())})})});s.displayName=r;var t=c.forwardRef((a,c)=>{let{__scopeCheckbox:d,name:e,checked:f,defaultChecked:g,required:h,disabled:i,value:j,onCheckedChange:k,form:l,...m}=a;return(0,b.jsx)(q,{__scopeCheckbox:d,checked:f,defaultChecked:g,disabled:i,required:h,onCheckedChange:k,name:e,form:l,value:j,internal_do_not_use_render:({isFormControl:a})=>(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(s,{...m,ref:c,__scopeCheckbox:d}),a&&(0,b.jsx)(x,{__scopeCheckbox:d})]})})});t.displayName=l;var u="CheckboxIndicator",v=c.forwardRef((a,c)=>{let{__scopeCheckbox:d,forceMount:e,...f}=a,g=p(u,d);return(0,b.jsx)(j.Presence,{present:e||y(g.checked)||!0===g.checked,children:(0,b.jsx)(k.Primitive.span,{"data-state":z(g.checked),"data-disabled":g.disabled?"":void 0,...f,ref:c,style:{pointerEvents:"none",...a.style}})})});v.displayName=u;var w="CheckboxBubbleInput",x=c.forwardRef(({__scopeCheckbox:a,...e},f)=>{let{control:g,hasConsumerStoppedPropagationRef:j,checked:l,defaultChecked:m,required:n,disabled:o,name:q,value:r,form:s,bubbleInput:t,setBubbleInput:u}=p(w,a),v=(0,d.useComposedRefs)(f,u),x=(0,h.usePrevious)(l),z=(0,i.useSize)(g);c.useEffect(()=>{if(!t)return;let a=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set,b=!j.current;if(x!==l&&a){let c=new Event("click",{bubbles:b});t.indeterminate=y(l),a.call(t,!y(l)&&l),t.dispatchEvent(c)}},[t,x,l,j]);let A=c.useRef(!y(l)&&l);return(0,b.jsx)(k.Primitive.input,{type:"checkbox","aria-hidden":!0,defaultChecked:m??A.current,required:n,disabled:o,name:q,value:r,form:s,...e,tabIndex:-1,ref:v,style:{...e.style,...z,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});function y(a){return"indeterminate"===a}function z(a){return y(a)?"indeterminate":a?"checked":"unchecked"}x.displayName=w;var A=a.i(606406),B=a.i(16116);function C({className:a,...c}){return(0,b.jsx)(t,{"data-slot":"checkbox",className:(0,B.cn)("peer border-input dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",a),...c,children:(0,b.jsx)(v,{"data-slot":"checkbox-indicator",className:"grid place-content-center text-current transition-none",children:(0,b.jsx)(A.CheckIcon,{className:"size-3.5"})})})}},945682,a=>{"use strict";a.s(["audioManager",()=>c,"playCorrectSound",()=>d,"playFlipSound",()=>f,"playIncorrectSound",()=>e]);class b{static instance;audioCache=new Map;settings=null;constructor(){}static getInstance(){return b.instance||(b.instance=new b),b.instance}updateSettings(a){this.settings=a}getSoundEffectsVolume(){return this.settings?this.settings.muteSounds?0:this.settings.soundVolume/100:0}getPronunciationVolume(){return this.settings?this.settings.soundVolume/100:.75}async loadAudio(a,b={}){if(this.audioCache.has(a))return this.audioCache.get(a);let c=new Audio(a);c.volume=b.volume??.75,c.loop=b.loop??!1,c.preload=b.preload?"auto":"metadata";try{return await new Promise((a,b)=>{c.oncanplaythrough=a,c.onerror=b,c.load()}),this.audioCache.set(a,c),c}catch(b){throw console.error(`Failed to load audio: ${a}`,b),b}}async playSoundEffect(a,b={}){let c=this.getSoundEffectsVolume();if(0!==c)try{let d=await this.loadAudio(a,b);d.volume=b.volume??c,d.currentTime=0,await d.play()}catch(b){console.error(`Failed to play sound effect: ${a}`,b)}}async playPronunciation(a,b={}){let c=this.getPronunciationVolume();try{let d=await this.loadAudio(a,b);d.volume=b.volume??c,d.currentTime=0,await d.play()}catch(b){console.error(`Failed to play pronunciation: ${a}`,b)}}stopAllSounds(){this.audioCache.forEach(a=>{a.pause(),a.currentTime=0})}updateVolume(){this.audioCache.forEach((a,b)=>{b.includes("/tts/")||b.includes("/pronunciation/")?a.volume=this.getPronunciationVolume():a.volume=this.getSoundEffectsVolume()})}clearCache(){this.stopAllSounds(),this.audioCache.clear()}}let c=b.getInstance(),d=()=>c.playSoundEffect("/sounds/correct.mp3"),e=()=>c.playSoundEffect("/sounds/incorrect.wav"),f=()=>c.playSoundEffect("/sounds/flip.mp3")},675751,a=>{"use strict";a.s(["Dialog",()=>f,"DialogContent",()=>i,"DialogDescription",()=>m,"DialogFooter",()=>k,"DialogHeader",()=>j,"DialogTitle",()=>l]);var b=a.i(187924),c=a.i(897942),d=a.i(422262),e=a.i(16116);function f({...a}){return(0,b.jsx)(c.Root,{"data-slot":"dialog",...a})}function g({...a}){return(0,b.jsx)(c.Portal,{"data-slot":"dialog-portal",...a})}function h({className:a,...d}){return(0,b.jsx)(c.Overlay,{"data-slot":"dialog-overlay",className:(0,e.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",a),...d})}function i({className:a,children:f,showCloseButton:i=!0,...j}){return(0,b.jsxs)(g,{"data-slot":"dialog-portal",children:[(0,b.jsx)(h,{}),(0,b.jsxs)(c.Content,{"data-slot":"dialog-content",className:(0,e.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",a),...j,children:[f,i&&(0,b.jsxs)(c.Close,{"data-slot":"dialog-close",className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[(0,b.jsx)(d.XIcon,{}),(0,b.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})}function j({className:a,...c}){return(0,b.jsx)("div",{"data-slot":"dialog-header",className:(0,e.cn)("flex flex-col gap-2 text-center sm:text-left",a),...c})}function k({className:a,...c}){return(0,b.jsx)("div",{"data-slot":"dialog-footer",className:(0,e.cn)("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",a),...c})}function l({className:a,...d}){return(0,b.jsx)(c.Title,{"data-slot":"dialog-title",className:(0,e.cn)("text-lg leading-none font-semibold",a),...d})}function m({className:a,...d}){return(0,b.jsx)(c.Description,{"data-slot":"dialog-description",className:(0,e.cn)("text-muted-foreground text-sm",a),...d})}},73570,a=>{"use strict";a.s(["AlertTriangle",()=>b.default]);var b=a.i(783604)}];

//# sourceMappingURL=_6d48d411._.js.map