{"version":3,"sources":["turbopack:///[project]/features/flashcards/utils/vocab-key.ts","turbopack:///[project]/.next-internal/server/app/(app)/learn/[topicSlug]/[lessonSlug]/exercise/page/actions.js (server actions loader)"],"sourcesContent":["/**\r\n * Utility functions for generating and parsing deterministic vocabulary keys\r\n * Format: t{topicId}-l{lessonId}-{slugified_vietnamese}\r\n */\r\n\r\n/**\r\n * Generates a deterministic vocabulary key from topic, lesson, and Vietnamese text\r\n * @param topicId - Topic ID (bigint)\r\n * @param lessonId - Lesson ID (bigint)\r\n * @param vietnameseText - Vietnamese text to slugify\r\n * @returns Deterministic key in format: t{topicId}-l{lessonId}-{slugified}\r\n */\r\nexport function generateVocabKey(\r\n  topicId: number,\r\n  lessonId: number,\r\n  vietnameseText: string\r\n): string {\r\n  const slugified = vietnameseText\r\n    .toLowerCase()\r\n    .trim()\r\n    .replace(/\\s+/g, '_')\r\n    .replace(/[^\\w\\-_]/g, '')\r\n    .replace(/_+/g, '_') // Replace multiple underscores with single\r\n    .replace(/^_|_$/g, ''); // Remove leading/trailing underscores\r\n\r\n  return `t${topicId}-l${lessonId}-${slugified}`;\r\n}\r\n\r\n/**\r\n * Parses a vocabulary key to extract topic ID, lesson ID, and slug\r\n * @param key - Vocabulary key in format: t{topicId}-l{lessonId}-{slug}\r\n * @returns Parsed components or null if invalid format\r\n */\r\nexport function parseVocabKey(\r\n  key: string\r\n): { topicId: number; lessonId: number; slug: string } | null {\r\n  const match = key.match(/^t(\\d+)-l(\\d+)-(.+)$/);\r\n  if (!match) return null;\r\n\r\n  return {\r\n    topicId: parseInt(match[1], 10),\r\n    lessonId: parseInt(match[2], 10),\r\n    slug: match[3],\r\n  };\r\n}\r\n\r\n/**\r\n * Checks if a string is a valid vocabulary key format\r\n * @param key - String to validate\r\n * @returns True if key matches vocabulary key format\r\n */\r\nexport function isValidVocabKey(key: string): boolean {\r\n  return /^t\\d+-l\\d+-[\\w\\-_]+$/.test(key);\r\n}\r\n\r\n","export {saveVocabularyFromLesson as '40b7874b5beee18e2e913212052e9efd3061f9459a'} from 'ACTIONS_MODULE0'\nexport {unsaveVocabularyFromLesson as '40a12d3392f5f7e3fd35f464eebcfef7da83f3293b'} from 'ACTIONS_MODULE1'\n"],"names":[],"mappings":"uCAYO,SAAS,EACd,CAAe,CACf,CAAgB,CAChB,CAAsB,EAEtB,IAAM,EAAY,EACf,WAAW,GACX,IAAI,GACJ,OAAO,CAAC,OAAQ,KAChB,OAAO,CAAC,YAAa,IACrB,OAAO,CAAC,MAAO,KAAK,AACpB,OAAO,CAAC,SAAU,IAErB,CAF0B,KAEnB,CAAC,CAAC,EAAE,EAAQ,EAAE,EAAE,EAAS,CAAC,EAAE,CAH+B,CAG/B,CAAW,AAChD,CAyBO,SAAS,EAAgB,CAAW,EA5BuB,AA6BhE,MAAO,uBAAuB,IAAI,CAAC,EACrC,CA1CC,EAAA,CAAA,CAAA,sdCXD,IAAA,EAAA,EAAA,CAAA,CAAA,QACA,EAAA,EAAA,CAAA,CAAA"}