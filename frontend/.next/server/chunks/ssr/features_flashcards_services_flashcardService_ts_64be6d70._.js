module.exports=[966395,a=>{"use strict";a.s(["flashcardAPI",()=>f,"getAllFlashcards",()=>g,"getAllTopics",()=>h,"getAllWordTypes",()=>i,"getFlashcardsByCategoryWithPagination",()=>l,"getFlashcardsByTopic",()=>j,"getFlashcardsByTopicWithPagination",()=>k],966395);class b extends Error{status;constructor(a,b){super(b),this.status=a,this.name="APIError"}}async function c(a,c){let d=`https://vietnamesenext.onrender.com/api/v1${a}`;try{let a=await fetch(d,{headers:{"Content-Type":"application/json",...c?.headers},cache:"no-store",...c});if(!a.ok)throw new b(a.status,`API request failed: ${a.statusText}`);return await a.json()}catch(a){if(a instanceof b)throw a;throw new b(0,`Network error: ${a instanceof Error?a.message:"Unknown error"}`)}}function d(a){return{id:a.id,vietnamese:a.vietnamese,english:a.english,type:a.type,is_multiword:a.is_multiword,is_multimeaning:a.is_multimeaning,common_meaning:a.common_meaning,vietnamese_sentence:a.vietnamese_sentence,english_sentence:a.english_sentence,topic:a.topic,is_common:"common"===a.common_class,image_url:a.image_url,audio_url:a.audio_url,pronunciation:a.pronunciation,saved_id:a.saved_id,saved_at:a.saved_at,flashcard_type:a.flashcard_type,tags:a.tags,review_count:a.review_count,last_reviewed:a.last_reviewed,notes:a.notes,is_favorite:a.is_favorite,ipa_pronunciation:a.ipa_pronunciation}}function e(a){return{id:a.id,title:a.title,description:a.description,count:a.count,imageUrl:a.imageUrl||"/placeholder.svg?height=200&width=400"}}let f={getAllFlashcards:async(a=0,b=100)=>(await c(`/flashcards?skip=${a}&limit=${b}`)).map(d),async getRandomFlashcards({count:a=20,commonWordsOnly:b=!1}={}){let e=new URLSearchParams({count:String(a),common_words_only:String(b)});return(await c(`/flashcards/random?${e.toString()}`)).map(d)},searchFlashcards:async(a,b=50)=>(await c(`/flashcards/search?q=${encodeURIComponent(a)}&limit=${b}`)).map(d),async getAllTopics(a){let b=a?`/flashcards/topics?complexity=${encodeURIComponent(a)}`:"/flashcards/topics";return(await c(b)).map(e)},async getFlashcardsByTopic(a,b,e=0,f=20){let g=(await this.getAllTopics()).find(b=>b.id===a);if(!g)return console.warn(`Topic not found for ID: ${a}`),{flashcards:[],total:0,hasMore:!1};let h=new URLSearchParams({skip:e.toString(),limit:f.toString()});b&&h.append("complexity",b);let i=`/flashcards/by-topic/${encodeURIComponent(g.title)}?${h.toString()}`,j=await c(i);return{flashcards:j.flashcards.map(d),total:j.total,hasMore:j.has_more}},async getFlashcardsByTopicLegacy(a,b){return(await this.getFlashcardsByTopic(a,b,0,1e3)).flashcards},async getFlashcardsByType(a,b){let e=b?`/flashcards/by-type/${encodeURIComponent(a)}?complexity=${encodeURIComponent(b)}`:`/flashcards/by-type/${encodeURIComponent(a)}`;return(await c(e)).map(d)},async getMultiwordFlashcards(a){let b=a?`/flashcards/multiword?complexity=${encodeURIComponent(a)}`:"/flashcards/multiword";return(await c(b)).map(d)},async getMultimeaningFlashcards(a){let b=a?`/flashcards/multimeaning?complexity=${encodeURIComponent(a)}`:"/flashcards/multimeaning";return(await c(b)).map(d)},getFlashcardsByComplexity:async(a,b=0,e=100)=>(await c(`/flashcards/by-complexity/${encodeURIComponent(a)}?skip=${b}&limit=${e}`)).map(d),getComplexityCounts:async()=>await c("/flashcards/complexity-counts"),getFlashcardById:async a=>d(await c(`/flashcards/${a}`)),getFlashcardAudio:async a=>await c(`/flashcards/${a}/audio`),healthCheck:async()=>await c("/flashcards/health"),async getAllWordTypes(a){let b=a?`/flashcards/word-types?complexity=${encodeURIComponent(a)}`:"/flashcards/word-types";return await c(b)},async getOthersCounts(a){let b=a?`/flashcards/others-counts?complexity=${encodeURIComponent(a)}`:"/flashcards/others-counts";return await c(b)},async getFlashcardsByTypeWithPagination(a,b,e=0,f=20){let g=new URLSearchParams({skip:e.toString(),limit:f.toString()});b&&g.append("complexity",b);let h=await c(`/flashcards/by-type/${encodeURIComponent(a)}?${g}`);return{flashcards:h.flashcards.map(d),total:h.total,hasMore:h.has_more}},async getMultiwordFlashcardsWithPagination(a,b=0,e=20){let f=new URLSearchParams({skip:b.toString(),limit:e.toString()});a&&f.append("complexity",a);let g=await c(`/flashcards/multiword?${f}`);return{flashcards:g.flashcards.map(d),total:g.total,hasMore:g.has_more}},async getMultimeaningFlashcardsWithPagination(a,b=0,e=20){let f=new URLSearchParams({skip:b.toString(),limit:e.toString()});a&&f.append("complexity",a);let g=await c(`/flashcards/multimeaning?${f}`);return{flashcards:g.flashcards.map(d),total:g.total,hasMore:g.has_more}},async getSavedFlashcards(a){let b=await c(`/flashcards/saved/${a}`);return{flashcards:b.flashcards.map(d),total:b.total}},getSavedFlashcardsCount:async a=>await c(`/flashcards/saved/${a}/count`),getFlashcardsByIds:async a=>(await c("/flashcards/by-ids",{method:"POST",body:JSON.stringify(a)})).map(d)};async function g(){return f.getAllFlashcards()}async function h(){return f.getAllTopics()}async function i(){return f.getAllWordTypes()}async function j(a,b){let c=["multi-meaning","multi-word"];try{let d=await f.getAllWordTypes();if(d.map(a=>a.id).includes(a.toLowerCase())){let c=d.find(b=>b.id===a.toLowerCase());if(c)return{flashcards:await f.getFlashcardsByType(c.name,b),title:c.title}}if(c.includes(a.toLowerCase())){let c,d;return"multi-meaning"===a.toLowerCase()?(c=await f.getMultimeaningFlashcards(b),d="Multi-meaning Words"):"multi-word"===a.toLowerCase()?(c=await f.getMultiwordFlashcards(b),d="Multi-word Expressions"):(c=[],d=a),{flashcards:c,title:d}}}catch(c){if(console.error("Error loading word types:",c),["verb","noun","adj","adv","prep","conj","intj","pron","num","det","part"].includes(a.toLowerCase())){let c=a.toUpperCase();return{flashcards:await f.getFlashcardsByType(c,b),title:({VERB:"Verbs",NOUN:"Nouns",ADJ:"Adjectives",ADV:"Adverbs",PREP:"Prepositions",CONJ:"Conjunctions",INTJ:"Interjections",PRON:"Pronouns",NUM:"Numbers",DET:"Determiners",PART:"Particles"})[c]||c}}}if(c.includes(a.toLowerCase())){let c,d;return"multi-meaning"===a.toLowerCase()?(c=await f.getMultimeaningFlashcards(b),d="Multi-meaning Words"):"multi-word"===a.toLowerCase()?(c=await f.getMultiwordFlashcards(b),d="Multi-word Expressions"):(c=[],d=a),{flashcards:c,title:d}}let d=await f.getFlashcardsByTopicLegacy(a,b),e=(await f.getAllTopics()).find(b=>b.id===a);return{flashcards:d,title:e?.title||`Topic: ${a}`}}async function k(a,b,c=0,d=20){try{let e=await f.getFlashcardsByTopic(a,b,c,d),g=(await f.getAllTopics()).find(b=>b.id===a);return{flashcards:e.flashcards,title:g?.title||`Topic: ${a}`,total:e.total,hasMore:e.hasMore}}catch(a){throw console.error("Error fetching flashcards by topic with pagination:",a),a}}async function l(a,b,c=0,d=20){try{try{let e=await f.getAllWordTypes();if(e.map(a=>a.id).includes(a.toLowerCase())){let g=e.find(b=>b.id===a.toLowerCase());if(g){let a=await f.getFlashcardsByTypeWithPagination(g.name,b,c,d);return{flashcards:a.flashcards,title:g.title,total:a.total,hasMore:a.hasMore}}}}catch(e){if(console.error("Error loading word types, falling back to hardcoded list:",e),["verb","noun","adj","adv","prep","conj","intj","pron","num","det","part"].includes(a.toLowerCase())){let e=a.toUpperCase(),g=await f.getFlashcardsByTypeWithPagination(e,b,c,d);return{flashcards:g.flashcards,title:({VERB:"Verbs",NOUN:"Nouns",ADJ:"Adjectives",ADV:"Adverbs",PREP:"Prepositions",CONJ:"Conjunctions",INTJ:"Interjections",PRON:"Pronouns",NUM:"Numbers",DET:"Determiners",PART:"Particles"})[e]||e,total:g.total,hasMore:g.hasMore}}}if(["multi-meaning","multi-word"].includes(a.toLowerCase())){let e,g;return"multi-meaning"===a.toLowerCase()?(e=await f.getMultimeaningFlashcardsWithPagination(b,c,d),g="Multi-meaning Words"):"multi-word"===a.toLowerCase()?(e=await f.getMultiwordFlashcardsWithPagination(b,c,d),g="Multi-word Expressions"):(e={flashcards:[],total:0,hasMore:!1},g=a),{flashcards:e.flashcards,title:g,total:e.total,hasMore:e.hasMore}}let e=await f.getFlashcardsByTopic(a,b,c,d),g=(await f.getAllTopics()).find(b=>b.id===a);return{flashcards:e.flashcards,title:g?.title||`Topic: ${a}`,total:e.total,hasMore:e.hasMore}}catch(a){throw console.error("Error fetching flashcards by category with pagination:",a),a}}}];

//# sourceMappingURL=features_flashcards_services_flashcardService_ts_64be6d70._.js.map