{"version":3,"sources":["turbopack:///[project]/node_modules/lucide-react/src/icons/pause.ts","turbopack:///[project]/node_modules/@radix-ui/react-popover/dist/index.mjs","turbopack:///[project]/shared/components/ui/popover.tsx","turbopack:///[project]/node_modules/@radix-ui/react-popover/node_modules/@radix-ui/react-slot/dist/index.mjs","turbopack:///[project]/features/learn/components/lesson/DialoguePlayer.tsx","turbopack:///[project]/node_modules/lucide-react/src/icons/rotate-cw.ts","turbopack:///[project]/features/learn/components/lesson/StorybookPopup.tsx","turbopack:///[project]/features/learn/components/lesson/GrammarCarousel.tsx","turbopack:///[project]/node_modules/lucide-react/src/icons/book-marked.ts","turbopack:///[project]/features/learn/components/lesson/ExampleSentences.tsx","turbopack:///[project]/features/learn/components/lesson/KeyVocabulary.tsx","turbopack:///[project]/features/learn/components/lesson/VocabHoverPopup.tsx","turbopack:///[project]/features/flashcards/actions/data:02e0c7 <text/javascript>","turbopack:///[project]/features/flashcards/actions/data:be61a2 <text/javascript>","turbopack:///[project]/features/learn/utils/audio-player.ts","turbopack:///[project]/features/learn/components/lesson/UserCoins.tsx","turbopack:///[project]/features/learn/contexts/UserProgressContext.tsx","turbopack:///[project]/features/learn/components/lesson/TopicCard.tsx","turbopack:///[project]/features/learn/components/lesson/ZoneSection.tsx","turbopack:///[project]/features/learn/components/lesson/LessonProgressBadge.tsx","turbopack:///[project]/features/learn/components/lesson/LessonUnlockTooltip.tsx"],"sourcesContent":["import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['rect', { x: '14', y: '3', width: '5', height: '18', rx: '1', key: 'kaeet6' }],\n  ['rect', { x: '5', y: '3', width: '5', height: '18', rx: '1', key: '1wsw3u' }],\n];\n\n/**\n * @component @name Pause\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cmVjdCB4PSIxNCIgeT0iMyIgd2lkdGg9IjUiIGhlaWdodD0iMTgiIHJ4PSIxIiAvPgogIDxyZWN0IHg9IjUiIHk9IjMiIHdpZHRoPSI1IiBoZWlnaHQ9IjE4IiByeD0iMSIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/pause\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Pause = createLucideIcon('pause', __iconNode);\n\nexport default Pause;\n","\"use client\";\n\n// src/popover.tsx\nimport * as React from \"react\";\nimport { composeEventHandlers } from \"@radix-ui/primitive\";\nimport { useComposedRefs } from \"@radix-ui/react-compose-refs\";\nimport { createContextScope } from \"@radix-ui/react-context\";\nimport { DismissableLayer } from \"@radix-ui/react-dismissable-layer\";\nimport { useFocusGuards } from \"@radix-ui/react-focus-guards\";\nimport { FocusScope } from \"@radix-ui/react-focus-scope\";\nimport { useId } from \"@radix-ui/react-id\";\nimport * as PopperPrimitive from \"@radix-ui/react-popper\";\nimport { createPopperScope } from \"@radix-ui/react-popper\";\nimport { Portal as PortalPrimitive } from \"@radix-ui/react-portal\";\nimport { Presence } from \"@radix-ui/react-presence\";\nimport { Primitive } from \"@radix-ui/react-primitive\";\nimport { createSlot } from \"@radix-ui/react-slot\";\nimport { useControllableState } from \"@radix-ui/react-use-controllable-state\";\nimport { hideOthers } from \"aria-hidden\";\nimport { RemoveScroll } from \"react-remove-scroll\";\nimport { jsx } from \"react/jsx-runtime\";\nvar POPOVER_NAME = \"Popover\";\nvar [createPopoverContext, createPopoverScope] = createContextScope(POPOVER_NAME, [\n  createPopperScope\n]);\nvar usePopperScope = createPopperScope();\nvar [PopoverProvider, usePopoverContext] = createPopoverContext(POPOVER_NAME);\nvar Popover = (props) => {\n  const {\n    __scopePopover,\n    children,\n    open: openProp,\n    defaultOpen,\n    onOpenChange,\n    modal = false\n  } = props;\n  const popperScope = usePopperScope(__scopePopover);\n  const triggerRef = React.useRef(null);\n  const [hasCustomAnchor, setHasCustomAnchor] = React.useState(false);\n  const [open, setOpen] = useControllableState({\n    prop: openProp,\n    defaultProp: defaultOpen ?? false,\n    onChange: onOpenChange,\n    caller: POPOVER_NAME\n  });\n  return /* @__PURE__ */ jsx(PopperPrimitive.Root, { ...popperScope, children: /* @__PURE__ */ jsx(\n    PopoverProvider,\n    {\n      scope: __scopePopover,\n      contentId: useId(),\n      triggerRef,\n      open,\n      onOpenChange: setOpen,\n      onOpenToggle: React.useCallback(() => setOpen((prevOpen) => !prevOpen), [setOpen]),\n      hasCustomAnchor,\n      onCustomAnchorAdd: React.useCallback(() => setHasCustomAnchor(true), []),\n      onCustomAnchorRemove: React.useCallback(() => setHasCustomAnchor(false), []),\n      modal,\n      children\n    }\n  ) });\n};\nPopover.displayName = POPOVER_NAME;\nvar ANCHOR_NAME = \"PopoverAnchor\";\nvar PopoverAnchor = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopePopover, ...anchorProps } = props;\n    const context = usePopoverContext(ANCHOR_NAME, __scopePopover);\n    const popperScope = usePopperScope(__scopePopover);\n    const { onCustomAnchorAdd, onCustomAnchorRemove } = context;\n    React.useEffect(() => {\n      onCustomAnchorAdd();\n      return () => onCustomAnchorRemove();\n    }, [onCustomAnchorAdd, onCustomAnchorRemove]);\n    return /* @__PURE__ */ jsx(PopperPrimitive.Anchor, { ...popperScope, ...anchorProps, ref: forwardedRef });\n  }\n);\nPopoverAnchor.displayName = ANCHOR_NAME;\nvar TRIGGER_NAME = \"PopoverTrigger\";\nvar PopoverTrigger = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopePopover, ...triggerProps } = props;\n    const context = usePopoverContext(TRIGGER_NAME, __scopePopover);\n    const popperScope = usePopperScope(__scopePopover);\n    const composedTriggerRef = useComposedRefs(forwardedRef, context.triggerRef);\n    const trigger = /* @__PURE__ */ jsx(\n      Primitive.button,\n      {\n        type: \"button\",\n        \"aria-haspopup\": \"dialog\",\n        \"aria-expanded\": context.open,\n        \"aria-controls\": context.contentId,\n        \"data-state\": getState(context.open),\n        ...triggerProps,\n        ref: composedTriggerRef,\n        onClick: composeEventHandlers(props.onClick, context.onOpenToggle)\n      }\n    );\n    return context.hasCustomAnchor ? trigger : /* @__PURE__ */ jsx(PopperPrimitive.Anchor, { asChild: true, ...popperScope, children: trigger });\n  }\n);\nPopoverTrigger.displayName = TRIGGER_NAME;\nvar PORTAL_NAME = \"PopoverPortal\";\nvar [PortalProvider, usePortalContext] = createPopoverContext(PORTAL_NAME, {\n  forceMount: void 0\n});\nvar PopoverPortal = (props) => {\n  const { __scopePopover, forceMount, children, container } = props;\n  const context = usePopoverContext(PORTAL_NAME, __scopePopover);\n  return /* @__PURE__ */ jsx(PortalProvider, { scope: __scopePopover, forceMount, children: /* @__PURE__ */ jsx(Presence, { present: forceMount || context.open, children: /* @__PURE__ */ jsx(PortalPrimitive, { asChild: true, container, children }) }) });\n};\nPopoverPortal.displayName = PORTAL_NAME;\nvar CONTENT_NAME = \"PopoverContent\";\nvar PopoverContent = React.forwardRef(\n  (props, forwardedRef) => {\n    const portalContext = usePortalContext(CONTENT_NAME, props.__scopePopover);\n    const { forceMount = portalContext.forceMount, ...contentProps } = props;\n    const context = usePopoverContext(CONTENT_NAME, props.__scopePopover);\n    return /* @__PURE__ */ jsx(Presence, { present: forceMount || context.open, children: context.modal ? /* @__PURE__ */ jsx(PopoverContentModal, { ...contentProps, ref: forwardedRef }) : /* @__PURE__ */ jsx(PopoverContentNonModal, { ...contentProps, ref: forwardedRef }) });\n  }\n);\nPopoverContent.displayName = CONTENT_NAME;\nvar Slot = createSlot(\"PopoverContent.RemoveScroll\");\nvar PopoverContentModal = React.forwardRef(\n  (props, forwardedRef) => {\n    const context = usePopoverContext(CONTENT_NAME, props.__scopePopover);\n    const contentRef = React.useRef(null);\n    const composedRefs = useComposedRefs(forwardedRef, contentRef);\n    const isRightClickOutsideRef = React.useRef(false);\n    React.useEffect(() => {\n      const content = contentRef.current;\n      if (content) return hideOthers(content);\n    }, []);\n    return /* @__PURE__ */ jsx(RemoveScroll, { as: Slot, allowPinchZoom: true, children: /* @__PURE__ */ jsx(\n      PopoverContentImpl,\n      {\n        ...props,\n        ref: composedRefs,\n        trapFocus: context.open,\n        disableOutsidePointerEvents: true,\n        onCloseAutoFocus: composeEventHandlers(props.onCloseAutoFocus, (event) => {\n          event.preventDefault();\n          if (!isRightClickOutsideRef.current) context.triggerRef.current?.focus();\n        }),\n        onPointerDownOutside: composeEventHandlers(\n          props.onPointerDownOutside,\n          (event) => {\n            const originalEvent = event.detail.originalEvent;\n            const ctrlLeftClick = originalEvent.button === 0 && originalEvent.ctrlKey === true;\n            const isRightClick = originalEvent.button === 2 || ctrlLeftClick;\n            isRightClickOutsideRef.current = isRightClick;\n          },\n          { checkForDefaultPrevented: false }\n        ),\n        onFocusOutside: composeEventHandlers(\n          props.onFocusOutside,\n          (event) => event.preventDefault(),\n          { checkForDefaultPrevented: false }\n        )\n      }\n    ) });\n  }\n);\nvar PopoverContentNonModal = React.forwardRef(\n  (props, forwardedRef) => {\n    const context = usePopoverContext(CONTENT_NAME, props.__scopePopover);\n    const hasInteractedOutsideRef = React.useRef(false);\n    const hasPointerDownOutsideRef = React.useRef(false);\n    return /* @__PURE__ */ jsx(\n      PopoverContentImpl,\n      {\n        ...props,\n        ref: forwardedRef,\n        trapFocus: false,\n        disableOutsidePointerEvents: false,\n        onCloseAutoFocus: (event) => {\n          props.onCloseAutoFocus?.(event);\n          if (!event.defaultPrevented) {\n            if (!hasInteractedOutsideRef.current) context.triggerRef.current?.focus();\n            event.preventDefault();\n          }\n          hasInteractedOutsideRef.current = false;\n          hasPointerDownOutsideRef.current = false;\n        },\n        onInteractOutside: (event) => {\n          props.onInteractOutside?.(event);\n          if (!event.defaultPrevented) {\n            hasInteractedOutsideRef.current = true;\n            if (event.detail.originalEvent.type === \"pointerdown\") {\n              hasPointerDownOutsideRef.current = true;\n            }\n          }\n          const target = event.target;\n          const targetIsTrigger = context.triggerRef.current?.contains(target);\n          if (targetIsTrigger) event.preventDefault();\n          if (event.detail.originalEvent.type === \"focusin\" && hasPointerDownOutsideRef.current) {\n            event.preventDefault();\n          }\n        }\n      }\n    );\n  }\n);\nvar PopoverContentImpl = React.forwardRef(\n  (props, forwardedRef) => {\n    const {\n      __scopePopover,\n      trapFocus,\n      onOpenAutoFocus,\n      onCloseAutoFocus,\n      disableOutsidePointerEvents,\n      onEscapeKeyDown,\n      onPointerDownOutside,\n      onFocusOutside,\n      onInteractOutside,\n      ...contentProps\n    } = props;\n    const context = usePopoverContext(CONTENT_NAME, __scopePopover);\n    const popperScope = usePopperScope(__scopePopover);\n    useFocusGuards();\n    return /* @__PURE__ */ jsx(\n      FocusScope,\n      {\n        asChild: true,\n        loop: true,\n        trapped: trapFocus,\n        onMountAutoFocus: onOpenAutoFocus,\n        onUnmountAutoFocus: onCloseAutoFocus,\n        children: /* @__PURE__ */ jsx(\n          DismissableLayer,\n          {\n            asChild: true,\n            disableOutsidePointerEvents,\n            onInteractOutside,\n            onEscapeKeyDown,\n            onPointerDownOutside,\n            onFocusOutside,\n            onDismiss: () => context.onOpenChange(false),\n            children: /* @__PURE__ */ jsx(\n              PopperPrimitive.Content,\n              {\n                \"data-state\": getState(context.open),\n                role: \"dialog\",\n                id: context.contentId,\n                ...popperScope,\n                ...contentProps,\n                ref: forwardedRef,\n                style: {\n                  ...contentProps.style,\n                  // re-namespace exposed content custom properties\n                  ...{\n                    \"--radix-popover-content-transform-origin\": \"var(--radix-popper-transform-origin)\",\n                    \"--radix-popover-content-available-width\": \"var(--radix-popper-available-width)\",\n                    \"--radix-popover-content-available-height\": \"var(--radix-popper-available-height)\",\n                    \"--radix-popover-trigger-width\": \"var(--radix-popper-anchor-width)\",\n                    \"--radix-popover-trigger-height\": \"var(--radix-popper-anchor-height)\"\n                  }\n                }\n              }\n            )\n          }\n        )\n      }\n    );\n  }\n);\nvar CLOSE_NAME = \"PopoverClose\";\nvar PopoverClose = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopePopover, ...closeProps } = props;\n    const context = usePopoverContext(CLOSE_NAME, __scopePopover);\n    return /* @__PURE__ */ jsx(\n      Primitive.button,\n      {\n        type: \"button\",\n        ...closeProps,\n        ref: forwardedRef,\n        onClick: composeEventHandlers(props.onClick, () => context.onOpenChange(false))\n      }\n    );\n  }\n);\nPopoverClose.displayName = CLOSE_NAME;\nvar ARROW_NAME = \"PopoverArrow\";\nvar PopoverArrow = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopePopover, ...arrowProps } = props;\n    const popperScope = usePopperScope(__scopePopover);\n    return /* @__PURE__ */ jsx(PopperPrimitive.Arrow, { ...popperScope, ...arrowProps, ref: forwardedRef });\n  }\n);\nPopoverArrow.displayName = ARROW_NAME;\nfunction getState(open) {\n  return open ? \"open\" : \"closed\";\n}\nvar Root2 = Popover;\nvar Anchor2 = PopoverAnchor;\nvar Trigger = PopoverTrigger;\nvar Portal = PopoverPortal;\nvar Content2 = PopoverContent;\nvar Close = PopoverClose;\nvar Arrow2 = PopoverArrow;\nexport {\n  Anchor2 as Anchor,\n  Arrow2 as Arrow,\n  Close,\n  Content2 as Content,\n  Popover,\n  PopoverAnchor,\n  PopoverArrow,\n  PopoverClose,\n  PopoverContent,\n  PopoverPortal,\n  PopoverTrigger,\n  Portal,\n  Root2 as Root,\n  Trigger,\n  createPopoverScope\n};\n//# sourceMappingURL=index.mjs.map\n","\"use client\"\r\n\r\nimport * as React from \"react\"\r\nimport * as PopoverPrimitive from \"@radix-ui/react-popover\"\r\n\r\nimport { cn } from \"@/shared/utils/cn\"\r\n\r\nfunction Popover({\r\n  ...props\r\n}: React.ComponentProps<typeof PopoverPrimitive.Root>) {\r\n  return <PopoverPrimitive.Root data-slot=\"popover\" {...props} />\r\n}\r\n\r\nfunction PopoverTrigger({\r\n  ...props\r\n}: React.ComponentProps<typeof PopoverPrimitive.Trigger>) {\r\n  return <PopoverPrimitive.Trigger data-slot=\"popover-trigger\" {...props} />\r\n}\r\n\r\nfunction PopoverContent({\r\n  className,\r\n  align = \"center\",\r\n  sideOffset = 4,\r\n  ...props\r\n}: React.ComponentProps<typeof PopoverPrimitive.Content>) {\r\n  return (\r\n    <PopoverPrimitive.Portal>\r\n      <PopoverPrimitive.Content\r\n        data-slot=\"popover-content\"\r\n        align={align}\r\n        sideOffset={sideOffset}\r\n        className={cn(\r\n          \"bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-72 origin-(--radix-popover-content-transform-origin) rounded-md border p-4 shadow-md outline-hidden\",\r\n          className\r\n        )}\r\n        {...props}\r\n      />\r\n    </PopoverPrimitive.Portal>\r\n  )\r\n}\r\n\r\nfunction PopoverAnchor({\r\n  ...props\r\n}: React.ComponentProps<typeof PopoverPrimitive.Anchor>) {\r\n  return <PopoverPrimitive.Anchor data-slot=\"popover-anchor\" {...props} />\r\n}\r\n\r\nexport { Popover, PopoverTrigger, PopoverContent, PopoverAnchor }\r\n","// src/slot.tsx\nimport * as React from \"react\";\nimport { composeRefs } from \"@radix-ui/react-compose-refs\";\nimport { Fragment as Fragment2, jsx } from \"react/jsx-runtime\";\n// @__NO_SIDE_EFFECTS__\nfunction createSlot(ownerName) {\n  const SlotClone = /* @__PURE__ */ createSlotClone(ownerName);\n  const Slot2 = React.forwardRef((props, forwardedRef) => {\n    const { children, ...slotProps } = props;\n    const childrenArray = React.Children.toArray(children);\n    const slottable = childrenArray.find(isSlottable);\n    if (slottable) {\n      const newElement = slottable.props.children;\n      const newChildren = childrenArray.map((child) => {\n        if (child === slottable) {\n          if (React.Children.count(newElement) > 1) return React.Children.only(null);\n          return React.isValidElement(newElement) ? newElement.props.children : null;\n        } else {\n          return child;\n        }\n      });\n      return /* @__PURE__ */ jsx(SlotClone, { ...slotProps, ref: forwardedRef, children: React.isValidElement(newElement) ? React.cloneElement(newElement, void 0, newChildren) : null });\n    }\n    return /* @__PURE__ */ jsx(SlotClone, { ...slotProps, ref: forwardedRef, children });\n  });\n  Slot2.displayName = `${ownerName}.Slot`;\n  return Slot2;\n}\nvar Slot = /* @__PURE__ */ createSlot(\"Slot\");\n// @__NO_SIDE_EFFECTS__\nfunction createSlotClone(ownerName) {\n  const SlotClone = React.forwardRef((props, forwardedRef) => {\n    const { children, ...slotProps } = props;\n    if (React.isValidElement(children)) {\n      const childrenRef = getElementRef(children);\n      const props2 = mergeProps(slotProps, children.props);\n      if (children.type !== React.Fragment) {\n        props2.ref = forwardedRef ? composeRefs(forwardedRef, childrenRef) : childrenRef;\n      }\n      return React.cloneElement(children, props2);\n    }\n    return React.Children.count(children) > 1 ? React.Children.only(null) : null;\n  });\n  SlotClone.displayName = `${ownerName}.SlotClone`;\n  return SlotClone;\n}\nvar SLOTTABLE_IDENTIFIER = Symbol(\"radix.slottable\");\n// @__NO_SIDE_EFFECTS__\nfunction createSlottable(ownerName) {\n  const Slottable2 = ({ children }) => {\n    return /* @__PURE__ */ jsx(Fragment2, { children });\n  };\n  Slottable2.displayName = `${ownerName}.Slottable`;\n  Slottable2.__radixId = SLOTTABLE_IDENTIFIER;\n  return Slottable2;\n}\nvar Slottable = /* @__PURE__ */ createSlottable(\"Slottable\");\nfunction isSlottable(child) {\n  return React.isValidElement(child) && typeof child.type === \"function\" && \"__radixId\" in child.type && child.type.__radixId === SLOTTABLE_IDENTIFIER;\n}\nfunction mergeProps(slotProps, childProps) {\n  const overrideProps = { ...childProps };\n  for (const propName in childProps) {\n    const slotPropValue = slotProps[propName];\n    const childPropValue = childProps[propName];\n    const isHandler = /^on[A-Z]/.test(propName);\n    if (isHandler) {\n      if (slotPropValue && childPropValue) {\n        overrideProps[propName] = (...args) => {\n          const result = childPropValue(...args);\n          slotPropValue(...args);\n          return result;\n        };\n      } else if (slotPropValue) {\n        overrideProps[propName] = slotPropValue;\n      }\n    } else if (propName === \"style\") {\n      overrideProps[propName] = { ...slotPropValue, ...childPropValue };\n    } else if (propName === \"className\") {\n      overrideProps[propName] = [slotPropValue, childPropValue].filter(Boolean).join(\" \");\n    }\n  }\n  return { ...slotProps, ...overrideProps };\n}\nfunction getElementRef(element) {\n  let getter = Object.getOwnPropertyDescriptor(element.props, \"ref\")?.get;\n  let mayWarn = getter && \"isReactWarning\" in getter && getter.isReactWarning;\n  if (mayWarn) {\n    return element.ref;\n  }\n  getter = Object.getOwnPropertyDescriptor(element, \"ref\")?.get;\n  mayWarn = getter && \"isReactWarning\" in getter && getter.isReactWarning;\n  if (mayWarn) {\n    return element.props.ref;\n  }\n  return element.props.ref || element.ref;\n}\nexport {\n  Slot as Root,\n  Slot,\n  Slottable,\n  createSlot,\n  createSlottable\n};\n//# sourceMappingURL=index.mjs.map\n","\"use client\";\r\n\r\nimport { useEffect, useMemo, useRef, useState, useCallback } from \"react\";\r\nimport { Play, Pause, Volume2, RotateCw, RotateCcw, Loader2 } from \"lucide-react\";\r\nimport { TbMessageLanguage } from \"react-icons/tb\";\r\nimport { Button } from \"@/shared/components/ui/button\";\r\nimport { Slider } from \"@/shared/components/ui/slider\";\r\nimport { Popover, PopoverContent, PopoverTrigger } from \"@/shared/components/ui/popover\";\r\nimport {\r\n  Tooltip,\r\n  TooltipContent,\r\n  TooltipProvider,\r\n  TooltipTrigger,\r\n} from \"@/shared/components/ui/tooltip\";\r\n\r\ntype WordTimestamp = {\r\n  s: number; // start time in milliseconds\r\n  e: number; // end time in milliseconds  \r\n  t: string; // text/word\r\n};\r\n\r\ntype Line = {\r\n  speaker?: string;           // \"Lan\", \"Minh\", ...\r\n  vi: string;                 // câu tiếng Việt\r\n  en?: string;                // câu tiếng Anh (hiển thị trong tooltip)\r\n  start?: number;             // giây bắt đầu trong sprite (tuỳ chọn)\r\n  end?: number;               // giây kết thúc trong sprite (tuỳ chọn)\r\n  audioUrl?: string | null;   // nếu phát file riêng từng câu (tuỳ chọn)\r\n  highlight_words?: string[]; // gợi ý highlight (tuỳ chọn)\r\n  words?: WordTimestamp[];    // word-level timestamps\r\n};\r\n\r\ntype SpeakerStyle = {\r\n  bg: string;\r\n  border: string;\r\n  text: string;\r\n  tail: string;\r\n};\r\n\r\nconst DEFAULT_PALETTE: SpeakerStyle[] = [\r\n  // 0: Xanh (Lan)\r\n  {\r\n    bg: \"bg-[#E8F2FF]\",\r\n    border: \"border-[#bcd9ff]\",\r\n    text: \"text-[#0b5bbf]\",\r\n    tail: \"bg-[#E8F2FF] border-[#bcd9ff]\",\r\n  },\r\n  // 1: Vàng (Minh)\r\n  {\r\n    bg: \"bg-[#FFF6CC]\",\r\n    border: \"border-[#f1dc86]\",\r\n    text: \"text-[#8a6a00]\",\r\n    tail: \"bg-[#FFF6CC] border-[#f1dc86]\",\r\n  },\r\n  // 2+: fallback nhạt\r\n  {\r\n    bg: \"bg-[#F1F5F9]\",\r\n    border: \"border-[#d7dee7]\",\r\n    text: \"text-[#0f172a]\",\r\n    tail: \"bg-[#F1F5F9] border-[#d7dee7]\",\r\n  },\r\n];\r\n\r\nfunction escapeRegex(s: string) {\r\n  return s.replace(/[.*+?^${}()|[\\]\\\\]/g, \"\\\\$&\");\r\n}\r\n\r\nfunction highlightText(text: string, words?: string[]) {\r\n  if (!text || !words?.length) return text;\r\n  const pattern = words.filter(Boolean).map(escapeRegex).join(\"|\");\r\n  if (!pattern) return text;\r\n  const re = new RegExp(`(${pattern})`, \"gi\");\r\n  return text.split(re).map((part, i) =>\r\n    i % 2\r\n      ? <mark key={i} className=\"bg-yellow-200/70 rounded px-0.5\">{part}</mark>\r\n      : <span key={i}>{part}</span>\r\n  );\r\n}\r\n\r\nfunction renderWordsWithTiming(\r\n  text: string, \r\n  words: WordTimestamp[] | undefined, \r\n  currentWordIndex: number | null,\r\n  onWordClick: (wordIndex: number, startTime: number) => void,\r\n  defaultHighlight?: string[]\r\n) {\r\n  if (!words || words.length === 0) {\r\n    return highlightText(text, defaultHighlight);\r\n  }\r\n\r\n  return (\r\n    <div className=\"inline leading-relaxed\">\r\n      {words.map((word, index) => (\r\n        <span\r\n          key={index}\r\n          onClick={() => onWordClick(index, word.s / 1000)}\r\n          className={`cursor-pointer transition-all duration-200 rounded-sm px-0.5 -mx-0.5 ${\r\n            currentWordIndex === index\r\n              ? 'bg-violet-100 text-violet-900 font-semibold shadow-sm'\r\n              : currentWordIndex !== null && index < currentWordIndex\r\n              ? 'text-gray-400'\r\n              : 'text-gray-700 hover:bg-gray-50'\r\n          }`}\r\n          style={{\r\n            textDecoration: currentWordIndex === index ? 'underline' : 'none',\r\n            textDecorationColor: currentWordIndex === index ? '#6D28D9' : 'transparent',\r\n            textUnderlineOffset: '3px'\r\n          }}\r\n        >\r\n          {word.t}\r\n          {index < words.length - 1 ? ' ' : ''}\r\n        </span>\r\n      ))}\r\n    </div>\r\n  );\r\n}\r\n\r\n// Binary search for performance\r\nfunction findCurrentLine(lines: any[], currentTimeMs: number): number | null {\r\n  for (let i = 0; i < lines.length; i++) {\r\n    const line = lines[i];\r\n    if (line.start !== undefined && line.end !== undefined) {\r\n      const startMs = line.start * 1000;\r\n      const endMs = line.end * 1000;\r\n      if (currentTimeMs >= startMs && currentTimeMs <= endMs) {\r\n        return i;\r\n      }\r\n    }\r\n  }\r\n  return null;\r\n}\r\n\r\nfunction findCurrentWord(words: WordTimestamp[], currentTimeMs: number, lineStartMs = 0): number | null {\r\n  for (let i = 0; i < words.length; i++) {\r\n    const absStart = lineStartMs + words[i].s; // relative to line start\r\n    const absEnd = lineStartMs + words[i].e;\r\n    if (currentTimeMs >= absStart && currentTimeMs <= absEnd) return i;\r\n  }\r\n  return null;\r\n}\r\n\r\nfunction formatTime(seconds: number): string {\r\n  const mins = Math.floor(seconds / 60);\r\n  const secs = Math.floor(seconds % 60);\r\n  return `${mins}:${secs.toString().padStart(2, '0')}`;\r\n}\r\n\r\nexport default function DialoguePlayer({\r\n  title,\r\n  spriteUrl,                    // để undefined nếu dùng audio từng câu\r\n  lines,\r\n  meta,                         // chứa word_index\r\n  defaultHighlight = [],\r\n  maxVisibleLines = 10,         // chỉ đặt max-height & scrollbar khi > ngưỡng\r\n  speakerPalette = DEFAULT_PALETTE,\r\n}: {\r\n  title?: string;\r\n  spriteUrl?: string;\r\n  lines: Line[];\r\n  meta?: { word_index?: Record<string, WordTimestamp[]> };\r\n  defaultHighlight?: string[];\r\n  maxVisibleLines?: number;\r\n  speakerPalette?: SpeakerStyle[];\r\n}) {\r\n  const audioRef = useRef<HTMLAudioElement | null>(null);\r\n  const scrollRef = useRef<HTMLDivElement | null>(null);\r\n  const [playingIndex, setPlayingIndex] = useState<number | null>(null);\r\n  const [hoverIndex, setHoverIndex] = useState<number | null>(null);\r\n  \r\n  // Audio player states\r\n  const [isPlaying, setIsPlaying] = useState(false);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [currentTime, setCurrentTime] = useState(0);\r\n  const [duration, setDuration] = useState(0); // total audio duration (seconds)\r\n  const [playbackRate, setPlaybackRate] = useState(1.0);\r\n  const [volume, setVolume] = useState(1.0);\r\n  const [currentLineIndex, setCurrentLineIndex] = useState<number | null>(null);\r\n  const [currentWordIndex, setCurrentWordIndex] = useState<number | null>(null);\r\n  const [isDragging, setIsDragging] = useState(false);\r\n\r\n  const [hasOverflow, setHasOverflow] = useState(false);\r\n  const [showTopFade, setShowTopFade] = useState(false);\r\n  const [showBottomFade, setShowBottomFade] = useState(false);\r\n\r\n  const timerRef = useRef<any>(null);\r\n  const playbackRates = [0.25, 0.5, 0.75, 1.0, 1.25, 1.5];\r\n  const animationFrameRef = useRef<number | undefined>(undefined);\r\n  // When playing a specific line from the sprite we keep its end boundary (seconds)\r\n  const lineEndRef = useRef<number | null>(null);\r\n\r\n  // speaker theo thứ tự xuất hiện\r\n  const speakerOrder = useMemo(() => {\r\n    const seen = new Set<string>();\r\n    const arr: string[] = [];\r\n    for (const l of lines) {\r\n      const key = (l.speaker ?? \"\").trim();\r\n      if (!key) continue;\r\n      if (!seen.has(key)) {\r\n        seen.add(key);\r\n        arr.push(key);\r\n      }\r\n    }\r\n    return arr;\r\n  }, [lines]);\r\n\r\n  const speakerIdx = useMemo(() => {\r\n    const m = new Map<string, number>();\r\n    speakerOrder.forEach((name, i) => m.set(name, i));\r\n    return m;\r\n  }, [speakerOrder]);\r\n\r\n  const prepared = useMemo(\r\n    () =>\r\n      lines.map((ln) => {\r\n        const duration =\r\n          ln.start != null && ln.end != null ? Math.max(0, (ln.end as number) - (ln.start as number)) : undefined;\r\n        return {\r\n          ...ln,\r\n          _duration: duration,\r\n          _hl: ln.highlight_words?.length ? ln.highlight_words : defaultHighlight,\r\n          _speakerIndex: speakerIdx.get(ln.speaker ?? \"\") ?? 0,\r\n        };\r\n      }),\r\n    [lines, speakerIdx, defaultHighlight]\r\n  );\r\n\r\n  const useSprite = !!spriteUrl && prepared.every((l) => l._duration != null && l.start != null);\r\n\r\n  // Fallback duration derived from sprite cues (max end time) when metadata not available\r\n  const fallbackDuration = useMemo(() => {\r\n    if (!useSprite) return 0;\r\n    let maxEnd = 0;\r\n    for (const l of prepared) {\r\n      if (typeof l.end === 'number' && l.end > maxEnd) maxEnd = l.end;\r\n    }\r\n    return maxEnd; // seconds\r\n  }, [useSprite, prepared]);\r\n\r\n  useEffect(() => {\r\n    return () => {\r\n      clearTimeout(timerRef.current);\r\n      audioRef.current?.pause();\r\n    };\r\n  }, []);\r\n\r\n  // kiểm tra overflow + fade\r\n  useEffect(() => {\r\n    const el = scrollRef.current;\r\n    if (!el) return;\r\n    const update = () => {\r\n      const overflow = el.scrollHeight > el.clientHeight;\r\n      setHasOverflow(overflow);\r\n      setShowTopFade(el.scrollTop > 4);\r\n      setShowBottomFade(el.scrollTop + el.clientHeight < el.scrollHeight - 4);\r\n    };\r\n    update();\r\n    el.addEventListener(\"scroll\", update, { passive: true });\r\n    window.addEventListener(\"resize\", update);\r\n    return () => {\r\n      el.removeEventListener(\"scroll\", update);\r\n      window.removeEventListener(\"resize\", update);\r\n    };\r\n  }, [prepared.length]);\r\n\r\n  // Force initial overflow check after render\r\n  useEffect(() => {\r\n    const timer = setTimeout(() => {\r\n      const el = scrollRef.current;\r\n      if (el) {\r\n        const overflow = el.scrollHeight > el.clientHeight;\r\n        if (overflow !== hasOverflow) {\r\n          setHasOverflow(overflow);\r\n        }\r\n      }\r\n    }, 100);\r\n    return () => clearTimeout(timer);\r\n  }, [prepared, hasOverflow]);\r\n\r\n  const stopCurrent = () => {\r\n    clearTimeout(timerRef.current);\r\n    audioRef.current?.pause();\r\n    setPlayingIndex(null);\r\n  lineEndRef.current = null;\r\n  };\r\n\r\n  const playLine = (idx: number) => {\r\n    const audio = audioRef.current;\r\n    if (!audio) return;\r\n    \r\n    const line = prepared[idx];\r\n    \r\n    try {\r\n      if (useSprite && line.start !== undefined && line.end !== undefined) {\r\n        // Sprite audio: play only this slice then pause\r\n        audio.currentTime = Math.max(0, line.start);\r\n        lineEndRef.current = line.end; // seconds\r\n        audio.play().then(() => setPlayingIndex(idx)).catch(err => {\r\n          console.error('Play sprite line error:', err);\r\n          setPlayingIndex(null);\r\n          lineEndRef.current = null;\r\n        });\r\n      } else if (line.audioUrl) {\r\n        // Individual audio file per line (whole file is the line)\r\n        if (audio.src !== line.audioUrl) {\r\n          audio.src = line.audioUrl;\r\n        }\r\n        lineEndRef.current = null; // full file\r\n        audio.currentTime = 0;\r\n        audio.play().then(() => setPlayingIndex(idx)).catch(err => {\r\n          console.error('Play line file error:', err);\r\n          setPlayingIndex(null);\r\n        });\r\n      }\r\n    } catch (error) {\r\n      console.error('Error playing line:', error);\r\n      setPlayingIndex(null);\r\n    }\r\n  };\r\n\r\n  // Audio player controls\r\n  const togglePlayPause = useCallback(() => {\r\n    const audio = audioRef.current;\r\n    if (!audio) return;\r\n\r\n    if (isPlaying) {\r\n      audio.pause();\r\n    } else {\r\n      setIsLoading(true);\r\n      lineEndRef.current = null;\r\n      setPlayingIndex(null);\r\n      audio.play().catch(console.error);\r\n    }\r\n  }, [isPlaying]);\r\n\r\n  const skipTime = useCallback((seconds: number) => {\r\n    const audio = audioRef.current;\r\n    if (!audio) return;\r\n    // if metadata not loaded yet, ignore\r\n    if (!isFinite(audio.duration) || audio.duration === 0) return;\r\n    const target = audio.currentTime + seconds;\r\n    const newTime = Math.max(0, Math.min(target, audio.duration));\r\n    audio.currentTime = newTime;\r\n    setCurrentTime(newTime);\r\n  }, []);\r\n\r\n  const changePlaybackRate = useCallback(() => {\r\n    const currentIndex = playbackRates.indexOf(playbackRate);\r\n    const nextIndex = (currentIndex + 1) % playbackRates.length;\r\n    const newRate = playbackRates[nextIndex];\r\n    setPlaybackRate(newRate);\r\n    if (audioRef.current) {\r\n      audioRef.current.playbackRate = newRate;\r\n    }\r\n  }, [playbackRate, playbackRates]);\r\n\r\n  const setSpecificPlaybackRate = useCallback((newRate: number) => {\r\n    setPlaybackRate(newRate);\r\n    if (audioRef.current) {\r\n      audioRef.current.playbackRate = newRate;\r\n    }\r\n  }, []);\r\n\r\n  const seekToTime = useCallback((time: number) => {\r\n    const audio = audioRef.current;\r\n    if (!audio) return;\r\n    if (!isFinite(audio.duration) || audio.duration === 0) return;\r\n    const clamped = Math.max(0, Math.min(time, audio.duration));\r\n    audio.currentTime = clamped;\r\n    setCurrentTime(clamped);\r\n  }, []);\r\n\r\n  const handleWordClick = useCallback((wordIndex: number, startTime: number) => {\r\n    // startTime expected as absolute seconds in full audio timeline\r\n    seekToTime(startTime);\r\n  }, [seekToTime]);\r\n\r\n  // volume slider will pass value 0..100\r\n  const changeVolume = useCallback((newVolume: number[]) => {\r\n    const volPercent = newVolume[0];\r\n    const vol = Math.max(0, Math.min(100, volPercent)) / 100;\r\n    setVolume(vol);\r\n    if (audioRef.current) audioRef.current.volume = vol;\r\n  }, []);\r\n\r\n  // Track current word highlighting with animation frame for smoothness\r\n  const updateCurrentWord = useCallback(() => {\r\n    if (!meta?.word_index) return;\r\n    const timeMs = currentTime * 1000;\r\n    const foundLineIndex = findCurrentLine(prepared, timeMs);\r\n    let foundWordIndex = null;\r\n    if (foundLineIndex !== null) {\r\n      const lineId = (foundLineIndex + 1).toString();\r\n      const wordsInLine = meta.word_index[lineId];\r\n      const lineStartMs = prepared[foundLineIndex].start ? prepared[foundLineIndex].start * 1000 : 0;\r\n      if (wordsInLine) foundWordIndex = findCurrentWord(wordsInLine, timeMs, lineStartMs);\r\n    }\r\n    setCurrentLineIndex(foundLineIndex);\r\n    setCurrentWordIndex(foundWordIndex);\r\n  }, [meta?.word_index, prepared, currentTime]);\r\n\r\n  // Keyboard controls for accessibility\r\n  useEffect(() => {\r\n    const handleKeydown = (e: KeyboardEvent) => {\r\n      // Only handle if focused element is not an input\r\n      if (document.activeElement?.tagName.toLowerCase() === 'input') return;\r\n      \r\n      switch (e.key.toLowerCase()) {\r\n        case ' ':\r\n        case 'k':\r\n          e.preventDefault();\r\n          togglePlayPause();\r\n          break;\r\n        case 'j':\r\n          e.preventDefault();\r\n          skipTime(-3);\r\n          break;\r\n        case 'l':\r\n          e.preventDefault();\r\n          skipTime(3);\r\n          break;\r\n        case 'arrowleft':\r\n          e.preventDefault();\r\n          skipTime(-3);\r\n          break;\r\n        case 'arrowright':\r\n          e.preventDefault();\r\n          skipTime(3);\r\n          break;\r\n      }\r\n    };\r\n\r\n    document.addEventListener('keydown', handleKeydown);\r\n    return () => document.removeEventListener('keydown', handleKeydown);\r\n  }, [togglePlayPause, skipTime]);\r\n\r\n  // High-frequency updates for smooth word highlighting\r\n  useEffect(() => {\r\n    const updateFrame = () => {\r\n      updateCurrentWord();\r\n      if (isPlaying) {\r\n        animationFrameRef.current = requestAnimationFrame(updateFrame);\r\n      }\r\n    };\r\n\r\n    if (isPlaying) {\r\n      animationFrameRef.current = requestAnimationFrame(updateFrame);\r\n    }\r\n\r\n    return () => {\r\n      if (animationFrameRef.current) {\r\n        cancelAnimationFrame(animationFrameRef.current);\r\n      }\r\n    };\r\n  }, [isPlaying, updateCurrentWord]);\r\n\r\n  // Audio event handlers\r\n  useEffect(() => {\r\n    const audio = audioRef.current;\r\n    if (!audio) return;\r\n\r\n    const updateDuration = () => {\r\n      let d = audio.duration; // seconds\r\n      if (!isFinite(d) || d <= 0) {\r\n        if (fallbackDuration > 0) d = fallbackDuration;\r\n      }\r\n      if (isFinite(d) && d > 0) {\r\n        setDuration(d);\r\n      }\r\n    };\r\n\r\n    const handleLoadedMetadata = () => {\r\n      updateDuration();\r\n      setIsLoading(false);\r\n    };\r\n\r\n    const handleTimeUpdate = () => {\r\n      if (!isDragging) setCurrentTime(audio.currentTime);\r\n      // Stop automatically at end of selected line\r\n      if (playingIndex !== null && lineEndRef.current != null) {\r\n        if (audio.currentTime >= (lineEndRef.current - 0.01)) { // small epsilon\r\n          audio.pause();\r\n          lineEndRef.current = null;\r\n          setPlayingIndex(null);\r\n          setIsPlaying(false);\r\n        }\r\n      }\r\n    };\r\n\r\n    const handlePlay = () => {\r\n      setIsPlaying(true);\r\n      setIsLoading(false);\r\n    };\r\n    \r\n    const handlePause = () => setIsPlaying(false);\r\n    \r\n    const handleEnded = () => {\r\n      setIsPlaying(false);\r\n      setCurrentLineIndex(null);\r\n      setCurrentWordIndex(null);\r\n      lineEndRef.current = null;\r\n      setPlayingIndex(null);\r\n    };\r\n\r\n    const handleLoadStart = () => setIsLoading(true);\r\n    const handleCanPlay = () => {\r\n      setIsLoading(false);\r\n      updateDuration();\r\n    };\r\n\r\n    audio.addEventListener('loadedmetadata', handleLoadedMetadata);\r\n    audio.addEventListener('durationchange', updateDuration);\r\n    audio.addEventListener('timeupdate', handleTimeUpdate);\r\n    audio.addEventListener('play', handlePlay);\r\n    audio.addEventListener('pause', handlePause);\r\n    audio.addEventListener('ended', handleEnded);\r\n    audio.addEventListener('loadstart', handleLoadStart);\r\n    audio.addEventListener('canplay', handleCanPlay);\r\n\r\n    // Set initial volume and playback rate\r\n    audio.volume = volume;\r\n    audio.playbackRate = playbackRate;\r\n\r\n    // Try initial duration resolution (covers cached scenarios)\r\n    updateDuration();\r\n\r\n    return () => {\r\n      audio.removeEventListener('loadedmetadata', handleLoadedMetadata);\r\n      audio.removeEventListener('durationchange', updateDuration);\r\n      audio.removeEventListener('timeupdate', handleTimeUpdate);\r\n      audio.removeEventListener('play', handlePlay);\r\n      audio.removeEventListener('pause', handlePause);\r\n      audio.removeEventListener('ended', handleEnded);\r\n      audio.removeEventListener('loadstart', handleLoadStart);\r\n      audio.removeEventListener('canplay', handleCanPlay);\r\n    };\r\n  }, [spriteUrl, playbackRate, volume, isDragging, playingIndex, fallbackDuration]);\r\n\r\n  const scrollClasses = \"max-h-[60vh] overflow-y-auto scroll-area pr-1\";\r\n\r\n  return (\r\n    <TooltipProvider delayDuration={150}>\r\n      <div className=\"space-y-6\">\r\n        {/* Karaoke-style Audio Player */}\r\n        <div className=\"bg-white rounded-2xl border border-gray-200 shadow-lg p-6\">\r\n          {/* Hidden audio element */}\r\n          <audio \r\n            ref={audioRef} \r\n            preload=\"auto\" \r\n            src={spriteUrl} \r\n            crossOrigin=\"anonymous\"\r\n            className=\"hidden\"\r\n          />\r\n          \r\n          {/* Main controls row */}\r\n          <div className=\"flex items-center gap-4 mb-4\">\r\n            {/* Large Play/Pause button */}\r\n            <div className=\"relative\">\r\n              <Button\r\n                onClick={togglePlayPause}\r\n                className=\"w-14 h-14 rounded-full bg-gray-900 hover:bg-gray-800 text-white shadow-lg relative\"\r\n                size=\"icon\"\r\n                disabled={isLoading}\r\n              >\r\n                {isLoading ? (\r\n                  <Loader2 className=\"w-7 h-7 animate-spin\" />\r\n                ) : isPlaying ? (\r\n                  <Pause className=\"w-7 h-7\" />\r\n                ) : (\r\n                  <Play className=\"w-7 h-7 ml-1\" />\r\n                )}\r\n              </Button>\r\n            </div>\r\n\r\n            {/* Progress area */}\r\n            <div className=\"flex-1 mx-4\">\r\n              {/* Title/Speaker */}\r\n              {title && (\r\n                <div className=\"text-center mb-2\">\r\n                  <h4 className=\"text-sm font-medium text-gray-700 tracking-wide\">{title}</h4>\r\n                </div>\r\n              )}\r\n              \r\n              {/* Progress bar with timecodes */}\r\n              <div className=\"flex items-center gap-3\">\r\n                <span className=\"text-sm font-mono text-gray-500 min-w-[2.5rem]\">\r\n                  {formatTime(currentTime)}\r\n                </span>\r\n                \r\n                <div className=\"flex-1\">\r\n                  <Slider\r\n                    value={[duration > 0 ? Math.min(currentTime, duration) : currentTime]}\r\n                    max={duration > 0 ? duration : 1}\r\n                    step={0.05}\r\n                    onValueChange={([value]) => {\r\n                      setIsDragging(true);\r\n                      setCurrentTime(value);\r\n                    }}\r\n                    onValueCommit={([value]) => {\r\n                      seekToTime(value);\r\n                      setIsDragging(false);\r\n                    }}\r\n                    className=\"w-full cursor-pointer\"\r\n                  />\r\n                </div>\r\n                \r\n                <span className=\"text-sm font-mono text-gray-500 min-w-[2.5rem]\">\r\n                  {formatTime(duration)}\r\n                </span>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Volume control */}\r\n            <Popover>\r\n              <PopoverTrigger asChild>\r\n                <Button\r\n                  variant=\"ghost\"\r\n                  size=\"icon\"\r\n                  className=\"w-10 h-10 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-full\"\r\n                >\r\n                  <Volume2 className=\"w-5 h-5\" />\r\n                </Button>\r\n              </PopoverTrigger>\r\n              <PopoverContent className=\"w-24 p-2\" align=\"end\">\r\n                <div className=\"flex flex-col items-center h-24 justify-center\">\r\n                  <Slider\r\n                    value={[Math.round(volume * 100)]}\r\n                    max={100}\r\n                    step={1}\r\n                    onValueChange={changeVolume}\r\n                    orientation=\"vertical\"\r\n                    className=\"h-24\"\r\n                  />\r\n                  <div className=\"text-[10px] text-center mt-1 text-gray-500 w-full\">\r\n                    {Math.round(volume * 100)}%\r\n                  </div>\r\n                </div>\r\n              </PopoverContent>\r\n            </Popover>\r\n          </div>\r\n\r\n          {/* Secondary controls row */}\r\n          <div className=\"flex items-center justify-center gap-6\">\r\n            {/* Skip back */}\r\n            <Tooltip>\r\n              <TooltipTrigger asChild>\r\n                <Button\r\n                  variant=\"ghost\"\r\n                  size=\"icon\"\r\n                  onClick={() => skipTime(-3)}\r\n                  className=\"w-10 h-10 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-full\"\r\n                >\r\n                  <RotateCcw className=\"w-5 h-5\" />\r\n                </Button>\r\n              </TooltipTrigger>\r\n              <TooltipContent>Skip back 3s</TooltipContent>\r\n            </Tooltip>\r\n\r\n            {/* Playback speed */}\r\n            <Tooltip>\r\n              <TooltipTrigger asChild>\r\n                <Button\r\n                  variant=\"ghost\"\r\n                  onClick={changePlaybackRate}\r\n                  className=\"text-gray-700 hover:text-gray-900 hover:bg-gray-100 rounded-lg px-3 py-2 text-sm font-medium min-w-[3rem]\"\r\n                >\r\n                  {playbackRate}×\r\n                </Button>\r\n              </TooltipTrigger>\r\n              <TooltipContent>\r\n                <div className=\"text-center\">\r\n                  <div className=\"text-xs text-gray-500 mb-1\">Available speeds:</div>\r\n                  <div className=\"flex gap-2 justify-center text-sm\">\r\n                    {playbackRates.map((rate) => (\r\n                      <button\r\n                        key={rate}\r\n                        onClick={() => setSpecificPlaybackRate(rate)}\r\n                        className={`px-1.5 py-0.5 rounded cursor-pointer transition-colors ${\r\n                          rate === playbackRate\r\n                            ? 'bg-blue-100 text-blue-700 font-medium'\r\n                            : 'text-gray-600 hover:bg-gray-100 hover:text-gray-900'\r\n                        }`}\r\n                      >\r\n                        {rate}×\r\n                      </button>\r\n                    ))}\r\n                  </div>\r\n                </div>\r\n              </TooltipContent>\r\n            </Tooltip>\r\n\r\n            {/* Skip forward */}\r\n            <Tooltip>\r\n              <TooltipTrigger asChild>\r\n                <Button\r\n                  variant=\"ghost\"\r\n                  size=\"icon\"\r\n                  onClick={() => skipTime(3)}\r\n                  className=\"w-10 h-10 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-full\"\r\n                >\r\n                  <RotateCw className=\"w-5 h-5\" />\r\n                </Button>\r\n              </TooltipTrigger>\r\n              <TooltipContent>Skip forward 3s</TooltipContent>\r\n            </Tooltip>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Karaoke Text Panel */}\r\n        {currentLineIndex !== null && (\r\n          <div className=\"bg-gray-50 rounded-xl p-6 border border-gray-200\">\r\n            <div className=\"text-lg leading-relaxed text-center\">\r\n              {(() => {\r\n                const line = prepared[currentLineIndex];\r\n                const words = meta?.word_index?.[String(currentLineIndex + 1)];\r\n                const lineStart = line.start ?? 0; // seconds\r\n                return renderWordsWithTiming(\r\n                  line.vi,\r\n                  words,\r\n                  currentWordIndex,\r\n                  (idx) => {\r\n                    const w = words?.[idx];\r\n                    if (!w) return;\r\n                    const absoluteSeconds = lineStart + w.s / 1000;\r\n                    handleWordClick(idx, absoluteSeconds);\r\n                  },\r\n                  line.highlight_words?.length ? line.highlight_words : defaultHighlight\r\n                );\r\n              })()}\r\n            </div>\r\n            \r\n            {/* Speaker name */}\r\n            <div className=\"text-center mt-3\">\r\n              <span className=\"text-sm text-gray-500 font-medium\">\r\n                {prepared[currentLineIndex].speaker || 'Speaker'}\r\n              </span>\r\n            </div>\r\n            \r\n            {/* English translation */}\r\n            {prepared[currentLineIndex].en && (\r\n              <div className=\"text-center mt-2 text-sm text-gray-600 italic\">\r\n                \"{prepared[currentLineIndex].en}\"\r\n              </div>\r\n            )}\r\n          </div>\r\n        )}\r\n\r\n        {/* Vùng hội thoại cuộn + fade */}\r\n        <div className={`relative ${scrollClasses}`} ref={scrollRef}>\r\n          {hasOverflow && (\r\n            <>\r\n              <div\r\n                className={`pointer-events-none absolute left-0 right-0 top-0 h-6 bg-gradient-to-b from-white to-transparent transition-opacity ${\r\n                  showTopFade ? \"opacity-100\" : \"opacity-0\"\r\n                }`}\r\n              />\r\n              <div\r\n                className={`pointer-events-none absolute left-0 right-0 bottom-0 h-6 bg-gradient-to-t from-white to-transparent transition-opacity ${\r\n                  showBottomFade ? \"opacity-100\" : \"opacity-0\"\r\n                }`}\r\n              />\r\n            </>\r\n          )}\r\n\r\n          <div className=\"space-y-4\">\r\n            {prepared.map((ln, i) => {\r\n              const idx = ln._speakerIndex;               // index speaker theo dữ liệu thực\r\n              const sideLeft = idx % 2 === 0;             // 0 trái, 1 phải, 2+ fallback theo index\r\n              const palette = speakerPalette[idx] ?? speakerPalette[speakerPalette.length - 1];\r\n\r\n              return (\r\n                <div key={i} className={`flex ${sideLeft ? \"justify-start\" : \"justify-end\"}`}>\r\n                  <div\r\n                    className={`relative max-w-[92%] rounded-xl border p-3 shadow-sm ${palette.bg} ${palette.border} ${\r\n                      sideLeft ? \"rounded-tl-none\" : \"rounded-tr-none\"\r\n                    }`}\r\n                  >\r\n                    {/* Tail */}\r\n                    <span\r\n                      className={`absolute top-3 ${sideLeft ? \"-left-1.5\" : \"-right-1.5\"} h-3 w-3 rotate-45 ${palette.bg} z-[-1]`}\r\n                      aria-hidden\r\n                    />\r\n\r\n                    <div className=\"flex items-center gap-2\">\r\n                      <span className=\"font-semibold text-gray-700\">\r\n                        {ln.speaker ?? (sideLeft ? \"A\" : \"B\")}\r\n                      </span>\r\n\r\n                      {/* Nút play từng câu (sprite hoặc audioUrl) */}\r\n                      {(useSprite || ln.audioUrl) && (\r\n                        <Button\r\n                          size=\"icon\"\r\n                          variant=\"ghost\"\r\n                          onClick={() => (playingIndex === i ? (stopCurrent()) : playLine(i))}\r\n                          title=\"Play line\"\r\n                          className=\"ml-1\"\r\n                        >\r\n                          {playingIndex === i ? <Pause className=\"h-4 w-4\" /> : <Volume2 className=\"h-4 w-4\" />}\r\n                        </Button>\r\n                      )}\r\n\r\n                      {/* Nút translate: Languages + Tooltip hiển thị TRÊN icon */}\r\n                      <Tooltip>\r\n                        <TooltipTrigger asChild>\r\n                          <Button\r\n                            variant=\"ghost\"\r\n                            size=\"icon\"\r\n                            className=\"p-1 h-7 w-7 text-gray-500 hover:text-indigo-600 hover:bg-indigo-50 rounded-full\"\r\n                            aria-label=\"See English translation\"\r\n                            onMouseEnter={() => setHoverIndex(i)}\r\n                            onMouseLeave={() => setHoverIndex((cur) => (cur === i ? null : cur))}\r\n                            disabled={!ln.en}\r\n                          >\r\n                            <TbMessageLanguage className=\"h-4 w-4\" />\r\n                          </Button>\r\n                        </TooltipTrigger>\r\n\r\n                        {ln.en && hoverIndex === i ? (\r\n                          <TooltipContent\r\n                            side=\"top\"\r\n                            align=\"center\"\r\n                            sideOffset={8}\r\n                            className=\"max-w-[28rem] whitespace-pre-wrap leading-relaxed text-sm\"\r\n                          >\r\n                            <p className=\"italic text-gray-700\">“{ln.en}”</p>\r\n                          </TooltipContent>\r\n                        ) : null}\r\n                      </Tooltip>\r\n                    </div>\r\n\r\n                    <div className={`mt-1 ${palette.text} font-medium`}>\r\n                      {currentLineIndex === i ? (\r\n                        // Show word-level highlighting when this line is playing\r\n                        (() => {\r\n                          const words = meta?.word_index?.[String(i + 1)];\r\n                          const lineStart = ln.start ?? 0;\r\n                          return renderWordsWithTiming(\r\n                            ln.vi,\r\n                            words,\r\n                            currentWordIndex,\r\n                            (idx) => {\r\n                              const w = words?.[idx];\r\n                              if (!w) return;\r\n                              const absSeconds = lineStart + w.s / 1000;\r\n                              handleWordClick(idx, absSeconds);\r\n                            },\r\n                            ln.highlight_words?.length ? ln.highlight_words : defaultHighlight\r\n                          );\r\n                        })()\r\n                      ) : (\r\n                        // Show normal highlighting when not playing\r\n                        highlightText(ln.vi, ln.highlight_words?.length ? ln.highlight_words : defaultHighlight)\r\n                      )}\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              );\r\n            })}\r\n          </div>\r\n        </div>\r\n\r\n        {/* Scrollbar mảnh, chỉ hiện khi hover */}\r\n        <style jsx global>{`\r\n          .scroll-area {\r\n            scrollbar-gutter: stable both-edges;\r\n            scroll-behavior: smooth;\r\n            scrollbar-width: none; /* Firefox */\r\n          }\r\n          .scroll-area:hover {\r\n            scrollbar-width: thin;\r\n          }\r\n          .scroll-area::-webkit-scrollbar {\r\n            width: 0px;\r\n            height: 0px;\r\n          }\r\n          .scroll-area:hover::-webkit-scrollbar {\r\n            width: 6px;\r\n            height: 6px;\r\n          }\r\n          .scroll-area::-webkit-scrollbar-track {\r\n            background: transparent;\r\n          }\r\n          .scroll-area::-webkit-scrollbar-thumb {\r\n            background: rgba(0, 0, 0, 0.0);\r\n            border-radius: 999px;\r\n          }\r\n          .scroll-area:hover::-webkit-scrollbar-thumb {\r\n            background: rgba(0, 0, 0, 0.35);\r\n          }\r\n          .scroll-area::-webkit-scrollbar-thumb:hover {\r\n            background: rgba(0, 0, 0, 0.5);\r\n          }\r\n        `}</style>\r\n      </div>\r\n    </TooltipProvider>\r\n  );\r\n}\r\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8', key: '1p45f6' }],\n  ['path', { d: 'M21 3v5h-5', key: '1q7to0' }],\n];\n\n/**\n * @component @name RotateCw\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMjEgMTJhOSA5IDAgMSAxLTktOWMyLjUyIDAgNC45MyAxIDYuNzQgMi43NEwyMSA4IiAvPgogIDxwYXRoIGQ9Ik0yMSAzdjVoLTUiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/rotate-cw\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst RotateCw = createLucideIcon('rotate-cw', __iconNode);\n\nexport default RotateCw;\n","\"use client\";\r\n\r\nimport { useState } from \"react\";\r\n\r\nfunction openCenteredPopup(url: string, name = \"gemini_story\", w = 960, h = 720) {\r\n  const topWin = window.top ?? window;\r\n  const y = topWin.outerHeight ? Math.max(0, (topWin.outerHeight - h) / 2) : 0;\r\n  const x = topWin.outerWidth ? Math.max(0, (topWin.outerWidth - w) / 2) : 0;\r\n\r\n  // Phải được gọi trong click handler để tránh bị blocker\r\n  const win = window.open(\r\n    url,\r\n    name,\r\n    `popup=yes,toolbar=no,location=no,status=no,menubar=no,scrollbars=yes,resizable=yes,width=${w},height=${h},top=${y},left=${x}`\r\n  );\r\n  return win;\r\n}\r\n\r\n/** Nút mở Storybook trong popup (fallback sang tab mới nếu bị chặn) */\r\nexport default function StorybookPopup({ url, label = \"Open Storybook (Popup)\" }: { url: string; label?: string }) {\r\n  const [popupBlocked, setPopupBlocked] = useState(false);\r\n\r\n  const onClick = () => {\r\n    if (!url) return;\r\n    const win = openCenteredPopup(url);\r\n    // Bị blocker → fallback mở tab mới\r\n    if (!win || win.closed) {\r\n      setPopupBlocked(true);\r\n      const a = document.createElement(\"a\");\r\n      a.href = url;\r\n      a.target = \"_blank\";\r\n      a.rel = \"noopener noreferrer\";\r\n      a.click();\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"space-y-1\">\r\n      <button\r\n        onClick={onClick}\r\n        className=\"inline-flex items-center rounded-md px-3 py-2 bg-[#067BC2] text-white hover:bg-[#055a9f] text-sm\"\r\n      >\r\n        {label}\r\n      </button>\r\n      {popupBlocked && (\r\n        <p className=\"text-xs text-muted-foreground\">\r\n          Popup bị chặn bởi trình duyệt, đã mở trong tab mới.\r\n        </p>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","\"use client\";\r\n\r\nimport { useState } from \"react\";\r\nimport { ChevronLeft, ChevronRight, BookMarked, Check } from \"lucide-react\";\r\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/shared/components/ui/card\";\r\nimport { Button } from \"@/shared/components/ui/button\";\r\n\r\ninterface GrammarPoint {\r\n  usage?: string;\r\n  structure?: string;\r\n  notes?: string[];\r\n}\r\n\r\ninterface GrammarCarouselProps {\r\n  grammarPoints: GrammarPoint[];\r\n}\r\n\r\nexport default function GrammarCarousel({ grammarPoints }: GrammarCarouselProps) {\r\n  const [currentIndex, setCurrentIndex] = useState(0);\r\n\r\n  if (!grammarPoints || grammarPoints.length === 0) {\r\n    return null;\r\n  }\r\n\r\n  const currentPoint = grammarPoints[currentIndex];\r\n  const totalPoints = grammarPoints.length;\r\n\r\n  const goToPrevious = () => {\r\n    setCurrentIndex((prev) => (prev === 0 ? totalPoints - 1 : prev - 1));\r\n  };\r\n\r\n  const goToNext = () => {\r\n    setCurrentIndex((prev) => (prev === totalPoints - 1 ? 0 : prev + 1));\r\n  };\r\n\r\n  return (\r\n    <Card className=\"bg-white shadow-lg rounded-xl\">\r\n      <CardHeader>\r\n        <div className=\"flex items-center justify-between\">\r\n          <div className=\"flex items-center gap-3\">\r\n            <BookMarked className=\"h-6 w-6 text-violet-600\" />\r\n            <CardTitle className=\"text-xl font-bold text-slate-800\">\r\n              Grammar Points\r\n            </CardTitle>\r\n          </div>\r\n          \r\n          {/* Navigation Controls */}\r\n          {totalPoints > 1 && (\r\n            <div className=\"ml-auto flex items-center gap-1.5 flex-nowrap\">\r\n\r\n              <Button\r\n                variant=\"ghost\"\r\n                size=\"icon\"\r\n                onClick={goToPrevious}\r\n                className=\"h-8 w-8 rounded-full hover:bg-violet-100 hover:text-violet-700 transition-colors\"\r\n                aria-label=\"Previous grammar point\"\r\n              >\r\n                <ChevronLeft className=\"h-4 w-4\" />\r\n              </Button>\r\n\r\n              <Button\r\n                variant=\"ghost\"\r\n                size=\"icon\"\r\n                onClick={goToNext}\r\n                className=\"h-8 w-8 rounded-full hover:bg-violet-100 hover:text-violet-700 transition-colors\"\r\n                aria-label=\"Next grammar point\"\r\n              >\r\n                <ChevronRight className=\"h-4 w-4\" />\r\n              </Button>\r\n            </div>\r\n          )}\r\n\r\n        </div>\r\n      </CardHeader>\r\n\r\n      <CardContent>\r\n        <div className=\"space-y-3 rounded-lg border border-violet-200 bg-violet-50/50 p-4 min-h-[200px]\">\r\n          {/* USAGE */}\r\n          {currentPoint.usage && (\r\n            <p className=\"text-base text-slate-700 leading-relaxed\">{currentPoint.usage}</p>\r\n          )}\r\n\r\n          {/* STRUCTURE */}\r\n          {currentPoint.structure && (\r\n            <div>\r\n              <h5 className=\"text-sm font-semibold text-slate-600 mb-1\">Formula</h5>\r\n              <div className=\"rounded-md bg-violet-100 p-2 text-sm font-mono text-violet-900 border border-violet-200\">\r\n                {currentPoint.structure}\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {/* NOTES */}\r\n          {Array.isArray(currentPoint.notes) && currentPoint.notes.length > 0 && (\r\n            <div className=\"pt-2\">\r\n              <h5 className=\"text-sm font-semibold text-slate-600 mb-2\">Notes</h5>\r\n              <ul className=\"space-y-2\">\r\n                {currentPoint.notes.map((note: string, j: number) => (\r\n                  <li key={j} className=\"flex items-start gap-2\">\r\n                    <Check className=\"h-4 w-4 mt-1 shrink-0 text-violet-500\" />\r\n                    <span className=\"text-sm text-slate-600\">{note}</span>\r\n                  </li>\r\n                ))}\r\n              </ul>\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        {/* Pagination Dots */}\r\n        {totalPoints > 1 && (\r\n          <div className=\"flex justify-center gap-1 mt-4\">\r\n            {Array.from({ length: totalPoints }).map((_, index) => (\r\n              <button\r\n                key={index}\r\n                onClick={() => setCurrentIndex(index)}\r\n                className={`h-2 w-2 rounded-full transition-colors ${\r\n                  index === currentIndex\r\n                    ? \"bg-violet-600\"\r\n                    : \"bg-violet-200 hover:bg-violet-300\"\r\n                }`}\r\n                aria-label={`Go to grammar point ${index + 1}`}\r\n              />\r\n            ))}\r\n          </div>\r\n        )}\r\n      </CardContent>\r\n    </Card>\r\n  );\r\n}\r\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M10 2v8l3-3 3 3V2', key: 'sqw3rj' }],\n  [\n    'path',\n    {\n      d: 'M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20',\n      key: 'k3hazp',\n    },\n  ],\n];\n\n/**\n * @component @name BookMarked\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTAgMnY4bDMtMyAzIDNWMiIgLz4KICA8cGF0aCBkPSJNNCAxOS41di0xNUEyLjUgMi41IDAgMCAxIDYuNSAySDE5YTEgMSAwIDAgMSAxIDF2MThhMSAxIDAgMCAxLTEgMUg2LjVhMSAxIDAgMCAxIDAtNUgyMCIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/book-marked\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst BookMarked = createLucideIcon('book-marked', __iconNode);\n\nexport default BookMarked;\n","\"use client\";\r\n\r\nimport { useState, useRef, useEffect } from \"react\";\r\nimport {\r\n  MessageCircle,\r\n  Volume2,\r\n  Play,\r\n  Pause,\r\n  ChevronDown,\r\n  ChevronUp,\r\n} from \"lucide-react\";\r\nimport { TbMessageLanguage } from \"react-icons/tb\";\r\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/shared/components/ui/card\";\r\nimport { Button } from \"@/shared/components/ui/button\";\r\nimport {\r\n  Tooltip,\r\n  TooltipContent,\r\n  TooltipProvider,\r\n  TooltipTrigger,\r\n} from \"@/shared/components/ui/tooltip\";\r\nimport clsx from \"clsx\";\r\n\r\n// --- INTERFACES ---\r\ninterface ExamplePair {\r\n  vi: string;\r\n  en?: string;\r\n  audioUrl?: string | null;\r\n  audioPath?: string | null;\r\n}\r\n\r\ninterface ExampleSentencesProps {\r\n  examples: ExamplePair[];\r\n}\r\n\r\n// --- CONSTANTS ---\r\nconst INITIAL_VISIBLE = 2; // Hiển thị 2 câu ban đầu\r\n\r\n// --- MAIN COMPONENT ---\r\nexport default function ExampleSentences({ examples }: ExampleSentencesProps) {\r\n  if (!examples || examples.length === 0) return null;\r\n\r\n  const [expanded, setExpanded] = useState(false);\r\n  const hasOverflow = examples.length > INITIAL_VISIBLE;\r\n\r\n  return (\r\n    <Card className=\"bg-white shadow-lg rounded-xl\">\r\n      <CardHeader>\r\n        <div className=\"flex items-center gap-2\">\r\n          <MessageCircle className=\"h-6 w-6 text-emerald-600\" />\r\n          <CardTitle className=\"text-xl font-bold text-slate-800 flex-1\">\r\n            Example Sentences\r\n          </CardTitle>\r\n          {hasOverflow && (\r\n            <Button\r\n              variant=\"ghost\"\r\n              size=\"sm\"\r\n              onClick={() => setExpanded((v) => !v)}\r\n              className=\"h-7 px-2 text-emerald-700 hover:text-emerald-800 hover:bg-emerald-100\"\r\n              aria-expanded={expanded}\r\n            >\r\n              {expanded ? (\r\n                <span className=\"flex items-center gap-1 text-sm font-medium\">\r\n                 Less <ChevronUp className=\"h-4 w-4\" />\r\n                </span>\r\n              ) : (\r\n                <span className=\"flex items-center gap-1 text-sm font-medium\">\r\n                  More <ChevronDown className=\"h-4 w-4\" />\r\n                </span>\r\n              )}\r\n            </Button>\r\n          )}\r\n        </div>\r\n      </CardHeader>\r\n      <TooltipProvider>\r\n        <CardContent className=\"relative\">\r\n          <div className=\"space-y-3\">\r\n            {examples.map((example, index) => {\r\n              const isHidden = !expanded && index >= INITIAL_VISIBLE;\r\n              return (\r\n                <div key={index} className={clsx(isHidden && \"hidden\")}>\r\n                  <SentenceItem example={example} />\r\n                </div>\r\n              );\r\n            })}\r\n          </div>\r\n          {hasOverflow && !expanded && (\r\n            <div className=\"pointer-events-none absolute inset-x-0 bottom-0 h-20 bg-gradient-to-t from-white to-transparent rounded-b-xl\" />\r\n          )}\r\n        </CardContent>\r\n      </TooltipProvider>\r\n    </Card>\r\n  );\r\n}\r\n\r\n// --- SUB COMPONENT: SENTENCE ITEM ---\r\nfunction SentenceItem({ example }: { example: ExamplePair }) {\r\n  const [isPlaying, setIsPlaying] = useState(false);\r\n  const [duration, setDuration] = useState(0);\r\n  const [currentTime, setCurrentTime] = useState(0);\r\n  const [resolvedUrl, setResolvedUrl] = useState<string | null>(example.audioUrl ?? null);\r\n\r\n  const audioRef = useRef<HTMLAudioElement>(null);\r\n  const progressBarRef = useRef<HTMLDivElement>(null);\r\n  \r\n  // Resolve audio URL from path if not provided directly\r\n  useEffect(() => {\r\n    if (!example.audioUrl && example.audioPath) {\r\n      const baseUrl = process.env.NEXT_PUBLIC_SUPABASE_URL;\r\n      if (baseUrl) {\r\n        setResolvedUrl(`${baseUrl}/storage/v1/object/public/lesson-materials/${example.audioPath}`);\r\n      }\r\n    }\r\n  }, [example.audioUrl, example.audioPath]);\r\n\r\n\r\n  const togglePlayPause = () => {\r\n    if (isPlaying) {\r\n      audioRef.current?.pause();\r\n    } else {\r\n      audioRef.current?.play();\r\n    }\r\n    setIsPlaying(!isPlaying);\r\n  };\r\n\r\n\r\n  const handleTimeUpdate = () => {\r\n    setCurrentTime(audioRef.current?.currentTime || 0);\r\n  };\r\n\r\n  const handleLoadedMetadata = () => {\r\n    setDuration(audioRef.current?.duration || 0);\r\n  };\r\n  \r\n  const handleSeek = (event: React.MouseEvent<HTMLDivElement>) => {\r\n    if (progressBarRef.current && audioRef.current) {\r\n      const barWidth = progressBarRef.current.clientWidth;\r\n      const clickOffset = event.nativeEvent.offsetX;\r\n      const newTime = (clickOffset / barWidth) * duration;\r\n      audioRef.current.currentTime = newTime;\r\n      setCurrentTime(newTime);\r\n    }\r\n  };\r\n\r\n  const progressPercentage = duration > 0 ? (currentTime / duration) * 100 : 0;\r\n\r\n  return (\r\n    <div className=\"group rounded-lg border border-slate-200 bg-slate-50/70 p-4 transition-all duration-200 hover:border-emerald-200 hover:bg-emerald-50/60\">\r\n      {/* Hidden Audio Element */}\r\n      {resolvedUrl && (\r\n        <audio\r\n          ref={audioRef}\r\n          src={resolvedUrl}\r\n          preload=\"metadata\"\r\n          onPlay={() => setIsPlaying(true)}\r\n          onPause={() => setIsPlaying(false)}\r\n          onEnded={() => setIsPlaying(false)}\r\n          onTimeUpdate={handleTimeUpdate}\r\n          onLoadedMetadata={handleLoadedMetadata}\r\n        />\r\n      )}\r\n\r\n      {/* Sentence Text */}\r\n      <div className=\"mb-3 flex items-start gap-2\">\r\n        <p className=\"font-semibold text-emerald-800 text-base leading-relaxed flex-1\">\r\n          “{example.vi}”\r\n        </p>\r\n        {example.en && (\r\n          <Tooltip>\r\n            <TooltipTrigger asChild>\r\n              <Button\r\n                variant=\"ghost\"\r\n                size=\"sm\"\r\n                aria-label=\"Show English translation\"\r\n                className=\"h-7 w-7 p-0 shrink-0 text-emerald-700 hover:text-emerald-800 hover:bg-emerald-100\"\r\n              >\r\n                <TbMessageLanguage className=\"h-4 w-4\" />\r\n              </Button>\r\n            </TooltipTrigger>\r\n            <TooltipContent side=\"top\" className=\"max-w-xs\">\r\n              <p className=\"text-sm italic\">{example.en}</p>\r\n            </TooltipContent>\r\n          </Tooltip>\r\n        )}\r\n      </div>\r\n\r\n      {/* Custom Audio Player */}\r\n      {resolvedUrl && (\r\n        <div className=\"flex items-center gap-3\">\r\n          <Button\r\n            size=\"icon\"\r\n            variant=\"ghost\"\r\n            onClick={togglePlayPause}\r\n            className=\"h-8 w-8 shrink-0 rounded-full text-emerald-700 bg-emerald-100 hover:bg-emerald-200\"\r\n          >\r\n            {isPlaying ? <Pause className=\"h-4 w-4\" /> : <Play className=\"h-4 w-4\" />}\r\n          </Button>\r\n          <div className=\"flex-grow flex items-center gap-2\">\r\n            <div \r\n              ref={progressBarRef}\r\n              onClick={handleSeek}\r\n              className=\"w-full h-1.5 bg-emerald-200/80 rounded-full cursor-pointer\"\r\n            >\r\n              <div\r\n                style={{ width: `${progressPercentage}%` }}\r\n                className=\"h-full bg-emerald-600 rounded-full transition-all\"\r\n              />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","\"use client\";\r\n\r\nimport { Sparkles, Star } from \"lucide-react\";\r\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/shared/components/ui/card\";\r\nimport { cn } from \"@/shared/utils/cn\";\r\nimport { Badge } from \"@/shared/components/ui/badge\";\r\nimport { VocabHoverPopup, EnrichedVocabItem } from \"./VocabHoverPopup\";\r\n\r\ninterface KeyVocabularyProps {\r\n  vocabulary: EnrichedVocabItem[];\r\n  topicId: number;\r\n  lessonId: number;\r\n  maxHeight?: string;\r\n}\r\n\r\nexport default function KeyVocabulary({\r\n  vocabulary,\r\n  topicId,\r\n  lessonId,\r\n  maxHeight = \"200px\",\r\n}: KeyVocabularyProps) {\r\n  if (!vocabulary || vocabulary.length === 0) {\r\n    return null;\r\n  }\r\n\r\n  // Map pos to abbreviation & colors\r\n  const getPosBadge = (pos?: string) => {\r\n    if (!pos) return { label: \"\", className: \"hidden\" };\r\n\r\n    const key = String(pos).toLowerCase().trim();\r\n    switch (key.toLowerCase()) {\r\n      case \"noun\":\r\n      case \"n\":\r\n        return { label: \"n.\", className: \"bg-blue-100 text-blue-800\" };\r\n\r\n      case \"verb\":\r\n      case \"v\":\r\n        return { label: \"v.\", className: \"bg-emerald-100 text-emerald-800\" };\r\n\r\n      case \"adjective\":\r\n      case \"adj\":\r\n        return { label: \"adj.\", className: \"bg-purple-100 text-purple-800\" };\r\n\r\n      case \"adverb\":\r\n      case \"adv\":\r\n        return { label: \"adv.\", className: \"bg-teal-100 text-teal-800\" };\r\n\r\n      case \"phrase\":\r\n      case \"phr\":\r\n      case \"phr.\":\r\n        return { label: \"phr.\", className: \"bg-amber-100 text-amber-800\" };\r\n\r\n      // thêm mới\r\n      case \"verb phrase\":\r\n      case \"vp\":\r\n        return { label: \"v.phr.\", className: \"bg-emerald-200 text-emerald-900\" };\r\n\r\n      case \"conjunction\":\r\n      case \"conj\":\r\n        return { label: \"conj.\", className: \"bg-pink-100 text-pink-800\" };\r\n\r\n      case \"pronoun\":\r\n      case \"pron\":\r\n        return { label: \"pron.\", className: \"bg-indigo-100 text-indigo-800\" };\r\n\r\n      case \"preposition\":\r\n      case \"prep\":\r\n        return { label: \"prep.\", className: \"bg-rose-100 text-rose-800\" };\r\n\r\n      case \"particle\":\r\n      case \"prt\":\r\n        return { label: \"prt.\", className: \"bg-gray-200 text-gray-800\" };\r\n\r\n      case \"determiner\":\r\n      case \"det\":\r\n        return { label: \"det.\", className: \"bg-yellow-100 text-yellow-800\" };\r\n\r\n      case \"classifier\":\r\n      case \"clf\":\r\n        return { label: \"clf.\", className: \"bg-lime-100 text-lime-800\" };\r\n\r\n      default:\r\n        return { label: key.slice(0, 3) + \".\", className: \"bg-slate-100 text-slate-800\" };\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Card className=\"bg-white shadow-lg rounded-xl\">\r\n      <CardHeader className=\"pb-4\">\r\n        <div className=\"flex items-center gap-3\">\r\n          <Sparkles className=\"h-6 w-6 text-indigo-600\" />\r\n          <CardTitle className=\"text-xl font-bold text-slate-800\">Key Vocabulary</CardTitle>\r\n        </div>\r\n        {vocabulary.length > 8 && (\r\n          <p className=\"text-xs text-slate-500 mt-1\">Scroll to see all {vocabulary.length} words</p>\r\n        )}\r\n      </CardHeader>\r\n\r\n      <CardContent className=\"pt-0\">\r\n        <div className=\"relative\">\r\n          {/* Scrollable container */}\r\n          <div\r\n            className={cn(\r\n              \"divide-y divide-slate-200 overflow-y-auto custom-scrollbar pr-2\",\r\n              vocabulary.length > 8 && \"pb-4\"\r\n            )}\r\n            style={{ maxHeight }}\r\n          >\r\n            {vocabulary.map((item, index) => {\r\n              const badge = getPosBadge(item.pos);\r\n              return (\r\n                <div\r\n                  key={index}\r\n                  className=\"grid grid-cols-2 gap-4 py-3 first:pt-0 hover:bg-indigo-50/50 transition-colors duration-150 rounded-md px-2 -mx-2\"\r\n                >\r\n                  <div className=\"flex items-center gap-3 relative\">\r\n                    <Badge\r\n                      className={cn(\r\n                        \"rounded-md px-2 py-0.5 text-xs pointer-events-none transition-none\",\r\n                        badge.className\r\n                      )}\r\n                    >\r\n                      {badge.label}\r\n                    </Badge>\r\n                    <div className=\"flex items-center gap-2 relative flex-1\">\r\n                      <VocabHoverPopup\r\n                        vocabulary={item}\r\n                        topicId={topicId}\r\n                        lessonId={lessonId}\r\n                      >\r\n                        <span className=\"font-semibold text-indigo-700 leading-relaxed\">\r\n                          {item.vi}\r\n                        </span>\r\n                      </VocabHoverPopup>\r\n                      {/* Persistent saved indicator */}\r\n                      {item.isSaved && (\r\n                        <Star className=\"h-3 w-3 text-amber-500 fill-amber-500 shrink-0\" />\r\n                      )}\r\n                    </div>\r\n                  </div>\r\n                  <p className=\"text-slate-600 justify-self-end text-right leading-relaxed\">{item.en}</p>\r\n                </div>\r\n              );\r\n            })}\r\n          </div>\r\n\r\n          {/* Fade gradient at bottom to indicate scrollability */}\r\n          {vocabulary.length > 8 && (\r\n            <div\r\n              className=\"absolute bottom-0 left-0 right-2 h-6 bg-gradient-to-t from-white to-transparent pointer-events-none rounded-b-lg\"\r\n              aria-hidden=\"true\"\r\n            />\r\n          )}\r\n        </div>\r\n      </CardContent>\r\n    </Card>\r\n  );\r\n}\r\n//","\"use client\";\n\nimport { useState, useRef, useEffect } from \"react\";\nimport { Volume2, Bookmark, Loader2 } from \"lucide-react\";\nimport { Popover, PopoverContent, PopoverTrigger } from \"@/shared/components/ui/popover\";\nimport { Button } from \"@/shared/components/ui/button\";\nimport { cn } from \"@/shared/utils/cn\";\nimport { saveVocabularyFromLesson } from \"@/features/flashcards/actions/save-vocab\";\nimport { unsaveVocabularyFromLesson } from \"@/features/flashcards/actions/unsave-vocab\";\nimport { playVocabAudio, stopAudio } from \"@/features/learn/utils/audio-player\";\nimport { createClient } from \"@/shared/lib/supabase/client\";\nimport { useRouter } from \"next/navigation\";\n\nexport interface EnrichedVocabItem {\n  vi: string;\n  en: string;\n  ipa?: string;\n  audio?: string;\n  pos?: string;\n  vocabKey: string;\n  isSaved: boolean;\n}\n\ninterface VocabHoverPopupProps {\n  vocabulary: EnrichedVocabItem;\n  topicId: number;\n  lessonId: number;\n  children: React.ReactNode;\n}\n\nexport function VocabHoverPopup({\n  vocabulary,\n  topicId,\n  lessonId,\n  children,\n}: VocabHoverPopupProps) {\n  const [isOpen, setIsOpen] = useState(false);\n  const [isSaved, setIsSaved] = useState(vocabulary.isSaved);\n  const [isSaving, setIsSaving] = useState(false);\n  const [isPlaying, setIsPlaying] = useState(false);\n  const audioRef = useRef<HTMLAudioElement | null>(null);\n  const router = useRouter();\n\n  // Cleanup audio on unmount\n  useEffect(() => {\n    return () => {\n      if (audioRef.current) {\n        stopAudio(audioRef.current);\n      }\n    };\n  }, []);\n\n  const handlePlayAudio = async () => {\n    if (!vocabulary.audio) return;\n\n    try {\n      setIsPlaying(true);\n      const supabase = createClient();\n      const audio = await playVocabAudio(vocabulary.audio, supabase);\n      audioRef.current = audio;\n\n      // Reset playing state when audio ends\n      audio.onended = () => {\n        setIsPlaying(false);\n        audioRef.current = null;\n      };\n\n      audio.onerror = () => {\n        setIsPlaying(false);\n        audioRef.current = null;\n      };\n    } catch (error) {\n      console.error(\"Error playing audio:\", error);\n      setIsPlaying(false);\n    }\n  };\n\n  const handleSave = async () => {\n    if (isSaving) return;\n\n    try {\n      setIsSaving(true);\n      const result = await saveVocabularyFromLesson({\n        topicId,\n        lessonId,\n        vietnameseText: vocabulary.vi,\n        englishText: vocabulary.en,\n        ipa: vocabulary.ipa || null,\n        audioPath: vocabulary.audio || null,\n        pos: vocabulary.pos || null,\n      });\n\n      if (result.success) {\n        setIsSaved(true);\n        router.refresh();\n      } else {\n        console.error(\"Failed to save vocabulary:\", result.error);\n      }\n    } catch (error) {\n      console.error(\"Error saving vocabulary:\", error);\n    } finally {\n      setIsSaving(false);\n    }\n  };\n\n  const handleUnsave = async () => {\n    if (isSaving) return;\n\n    try {\n      setIsSaving(true);\n      const result = await unsaveVocabularyFromLesson(vocabulary.vocabKey);\n\n      if (result.success) {\n        setIsSaved(false);\n        router.refresh();\n      } else {\n        console.error(\"Failed to unsave vocabulary:\", result.error);\n      }\n    } catch (error) {\n      console.error(\"Error unsaving vocabulary:\", error);\n    } finally {\n      setIsSaving(false);\n    }\n  };\n\n  return (\n    <Popover open={isOpen} onOpenChange={setIsOpen}>\n      <PopoverTrigger asChild>\n        <span\n          className={cn(\n            \"cursor-pointer transition-all\",\n            isOpen && \"underline decoration-dashed\",\n            isSaved && \"text-indigo-600\"\n          )}\n          onMouseEnter={() => setIsOpen(true)}\n          onMouseLeave={() => setIsOpen(false)}\n        >\n          {children}\n        </span>\n      </PopoverTrigger>\n      <PopoverContent\n        className=\"w-auto p-2\"\n        side=\"top\"\n        align=\"start\"\n        sideOffset={8}\n        onMouseEnter={() => setIsOpen(true)}\n        onMouseLeave={() => setIsOpen(false)}\n      >\n        <div className=\"flex items-center gap-2\">\n          {/* IPA Pronunciation */}\n          {vocabulary.ipa && (\n            <span className=\"text-sm font-mono text-slate-700\">\n              /{vocabulary.ipa}/\n            </span>\n          )}\n\n          {/* Audio Play Button */}\n          {vocabulary.audio && (\n            <Button\n              variant=\"ghost\"\n              size=\"icon\"\n              onClick={handlePlayAudio}\n              disabled={isPlaying}\n              className=\"h-7 w-7\"\n              title=\"Play pronunciation\"\n            >\n              {isPlaying ? (\n                <Loader2 className=\"h-3.5 w-3.5 animate-spin\" />\n              ) : (\n                <Volume2 className=\"h-3.5 w-3.5\" />\n              )}\n            </Button>\n          )}\n\n          {/* Save/Unsave Button */}\n          <Button\n            variant=\"ghost\"\n            size=\"icon\"\n            onClick={isSaved ? handleUnsave : handleSave}\n            disabled={isSaving}\n            className={cn(\n              \"h-7 w-7\",\n              isSaved && \"text-primary\"\n            )}\n            title={isSaved ? \"Unsave vocabulary\" : \"Save vocabulary\"}\n          >\n            {isSaving ? (\n              <Loader2 className=\"h-3.5 w-3.5 animate-spin\" />\n            ) : (\n              <Bookmark className={cn(\n                \"h-3.5 w-3.5\",\n                isSaved && \"fill-current\"\n              )} />\n            )}\n          </Button>\n        </div>\n      </PopoverContent>\n    </Popover>\n  );\n}\n\n","/* __next_internal_action_entry_do_not_use__ [{\"40b7874b5beee18e2e913212052e9efd3061f9459a\":\"saveVocabularyFromLesson\"},\"features/flashcards/actions/save-vocab.ts\",\"\"] */\"use turbopack no side effects\";import{createServerReference,callServer,findSourceMapURL}from\"private-next-rsc-action-client-wrapper\";export var saveVocabularyFromLesson=/*#__PURE__*/createServerReference(\"40b7874b5beee18e2e913212052e9efd3061f9459a\",callServer,void 0,findSourceMapURL,\"saveVocabularyFromLesson\");","/* __next_internal_action_entry_do_not_use__ [{\"40a12d3392f5f7e3fd35f464eebcfef7da83f3293b\":\"unsaveVocabularyFromLesson\"},\"features/flashcards/actions/unsave-vocab.ts\",\"\"] */\"use turbopack no side effects\";import{createServerReference,callServer,findSourceMapURL}from\"private-next-rsc-action-client-wrapper\";export var unsaveVocabularyFromLesson=/*#__PURE__*/createServerReference(\"40a12d3392f5f7e3fd35f464eebcfef7da83f3293b\",callServer,void 0,findSourceMapURL,\"unsaveVocabularyFromLesson\");","/**\r\n * Audio playback utility for vocabulary pronunciation\r\n */\r\n\r\n/**\r\n * Plays vocabulary audio from Supabase storage\r\n * @param audioPath - Storage path to audio file (e.g., \"audio/vocabulary/topic_19/lesson_12/bac_si.mp3\")\r\n * @param supabaseClient - Supabase client instance\r\n * @returns Promise resolving to Audio element\r\n */\r\nexport async function playVocabAudio(\r\n  audioPath: string,\r\n  supabaseClient: any\r\n): Promise<HTMLAudioElement> {\r\n  if (!audioPath) {\r\n    throw new Error('Audio path is required')\r\n  }\r\n\r\n  // Get public URL from Supabase storage\r\n  const { data } = supabaseClient.storage\r\n    .from('lesson-materials')\r\n    .getPublicUrl(audioPath)\r\n\r\n  const publicUrl = data.publicUrl\r\n\r\n  if (!publicUrl) {\r\n    throw new Error('Failed to get public URL for audio file')\r\n  }\r\n\r\n  // Create and play audio\r\n  const audio = new Audio(publicUrl)\r\n  \r\n  // Return promise that resolves when audio starts playing\r\n  return new Promise((resolve, reject) => {\r\n    audio.oncanplaythrough = () => {\r\n      audio.play().then(() => {\r\n        resolve(audio)\r\n      }).catch((error) => {\r\n        reject(new Error(`Failed to play audio: ${error.message}`))\r\n      })\r\n    }\r\n\r\n    audio.onerror = (error) => {\r\n      reject(new Error(`Audio loading error: ${error}`))\r\n    }\r\n\r\n    // Start loading\r\n    audio.load()\r\n  })\r\n}\r\n\r\n/**\r\n * Stops currently playing audio\r\n * @param audio - Audio element to stop\r\n */\r\nexport function stopAudio(audio: HTMLAudioElement | null): void {\r\n  if (audio) {\r\n    audio.pause()\r\n    audio.currentTime = 0\r\n  }\r\n}\r\n\r\n","\"use client\"\r\nimport { useUserProfile } from \"@/shared/hooks/use-user-profile\"\r\nimport { Coins } from \"lucide-react\"\r\nimport { useEffect, useState } from \"react\"\r\n\r\nconst UserCoins = () => {\r\n  const { profile, loading } = useUserProfile()\r\n  const [mounted, setMounted] = useState(false)\r\n\r\n  // Ensure consistent rendering between server and client\r\n  useEffect(() => {\r\n    setMounted(true)\r\n  }, [])\r\n\r\n  // During SSR and initial client render, show consistent content\r\n  // Only show loading state after component has mounted on client\r\n  const isLoading = mounted && loading\r\n  const displayValue = isLoading ? '--' : (profile?.coins ?? 0)\r\n\r\n  return (\r\n    <div className={`flex items-center gap-2 bg-amber-50 px-3 py-1.5 rounded-full border border-amber-200 ${isLoading ? 'animate-pulse' : ''}`}>\r\n      <Coins className=\"h-5 w-5 text-amber-500\" />\r\n      <span className=\"font-semibold text-amber-700\">{displayValue}</span>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default UserCoins\r\n","\"use client\"\r\n\r\nimport { createContext, useContext, useState, type ReactNode } from \"react\"\r\nimport type { UserProgress, Lesson } from \"@/features/learn/types/exercises\"\r\nimport { useToast } from \"@/shared/hooks/use-toast\"\r\n\r\n// Initial user progress state\r\nconst initialUserProgress: UserProgress = {\r\n  completedLessons: [],\r\n  unlockedChapters: [],\r\n  coins: 0,\r\n}\r\n\r\ninterface UserProgressContextType {\r\n  userProgress: UserProgress\r\n  completeLesson: (lessonId: string) => void\r\n  unlockChapter: (chapterId: string, price: number) => boolean\r\n  isLessonLocked: (lesson: Lesson, chapterId: string) => boolean\r\n  canUnlockChapter: (price: number) => boolean\r\n}\r\n\r\nconst UserProgressContext = createContext<UserProgressContextType | undefined>(undefined)\r\n\r\nexport const UserProgressProvider = ({ children }: { children: ReactNode }) => {\r\n  const [userProgress, setUserProgress] = useState<UserProgress>(initialUserProgress)\r\n  const { toast } = useToast()\r\n\r\n  const completeLesson = (lessonId: string) => {\r\n    if (!userProgress.completedLessons.includes(lessonId)) {\r\n      setUserProgress((prev) => ({\r\n        ...prev,\r\n        completedLessons: [...prev.completedLessons, lessonId],\r\n        coins: prev.coins + 10, // Reward with 10 coins for completing a lesson\r\n      }))\r\n      toast({\r\n        title: \"Lesson Completed!\",\r\n        description: \"You've earned 10 coins.\",\r\n        variant: \"default\",\r\n      })\r\n    }\r\n  }\r\n\r\n  const unlockChapter = (chapterId: string, price: number): boolean => {\r\n    if (userProgress.coins < price) {\r\n      toast({\r\n        title: \"Not enough coins\",\r\n        description: `You need ${price} coins to unlock this chapter.`,\r\n        variant: \"destructive\",\r\n      })\r\n      return false\r\n    }\r\n\r\n    if (!userProgress.unlockedChapters.includes(chapterId)) {\r\n      setUserProgress((prev) => ({\r\n        ...prev,\r\n        unlockedChapters: [...prev.unlockedChapters, chapterId],\r\n        coins: prev.coins - price,\r\n      }))\r\n      toast({\r\n        title: \"Chapter Unlocked!\",\r\n        description: `You've spent ${price} coins to unlock this chapter.`,\r\n        variant: \"default\",\r\n      })\r\n      return true\r\n    }\r\n    return true\r\n  }\r\n\r\n  const isLessonLocked = (lesson: Lesson, chapterId: string): boolean => {\r\n    // Check if the chapter is unlocked first\r\n    if (!userProgress.unlockedChapters.includes(chapterId)) {\r\n      return true\r\n    }\r\n\r\n    // The first lesson in an unlocked chapter is always available\r\n    if (lesson.order === 1) {\r\n      return false\r\n    }\r\n\r\n    // For subsequent lessons, check if previous lesson is completed\r\n    const previousLessonId = `${chapterId}-${lesson.order - 1}`\r\n    return !userProgress.completedLessons.includes(previousLessonId)\r\n  }\r\n\r\n  const canUnlockChapter = (price: number): boolean => {\r\n    return userProgress.coins >= price\r\n  }\r\n\r\n  return (\r\n    <UserProgressContext.Provider\r\n      value={{\r\n        userProgress,\r\n        completeLesson,\r\n        unlockChapter,\r\n        isLessonLocked,\r\n        canUnlockChapter,\r\n      }}\r\n    >\r\n      {children}\r\n    </UserProgressContext.Provider>\r\n  )\r\n}\r\n\r\nexport const useUserProgress = () => {\r\n  const context = useContext(UserProgressContext)\r\n  if (context === undefined) {\r\n    throw new Error(\"useUserProgress must be used within a UserProgressProvider\")\r\n  }\r\n  return context\r\n}\r\n","\"use client\"\r\n\r\nimport Image from \"next/image\"\r\nimport { useRouter } from \"next/navigation\"\r\nimport { Card, CardContent } from \"@/shared/components/ui/card\"\r\nimport type { Topic } from \"@/features/learn/types/exercises\"\r\nimport { useUserProgress } from \"@/features/learn/contexts/UserProgressContext\"\r\n\r\ninterface TopicCardProps {\r\n  topic: Topic\r\n}\r\n\r\nconst TopicCard = ({ topic }: TopicCardProps) => {\r\n  const router = useRouter()\r\n  const { userProgress } = useUserProgress()\r\n  \r\n  // Calculate progress for this topic\r\n  const allLessons = topic.chapters.flatMap(chapter => chapter.lessons)\r\n  const completedLessons = allLessons.filter(lesson => \r\n    userProgress.completedLessons.includes(lesson.id)\r\n  ).length\r\n  const progressPercentage = allLessons.length > 0 ? (completedLessons / allLessons.length) * 100 : 0\r\n\r\n  const handleClick = () => {\r\n    router.push(`/learn/${topic.slug}`)\r\n  }\r\n\r\n  return (\r\n    <Card \r\n      className=\"group cursor-pointer transition-all duration-300 hover:shadow-xl hover:scale-105 bg-white border-0 shadow-md overflow-hidden rounded-xl\"\r\n      onClick={handleClick}\r\n    >\r\n      <CardContent className=\"p-0\">\r\n        {/* Image container with aspect ratio */}\r\n        <div className=\"relative aspect-square bg-gradient-to-br from-orange-100 to-orange-200 overflow-hidden rounded-t-xl\">\r\n          {topic.image ? (\r\n            <Image\r\n              src={topic.image}\r\n              alt={topic.title}\r\n              fill\r\n              className=\"object-cover group-hover:scale-110 transition-transform duration-300\"\r\n            />\r\n          ) : (\r\n            // Fallback gradient background with icon\r\n            <div className=\"w-full h-full flex items-center justify-center\">\r\n              <div className=\"w-16 h-16 bg-white/20 rounded-2xl flex items-center justify-center\">\r\n                <div className=\"w-8 h-8 bg-orange-400 rounded-lg\"></div>\r\n              </div>\r\n            </div>\r\n          )}\r\n          \r\n          {/* Progress indicator */}\r\n          {progressPercentage > 0 && (\r\n            <div className=\"absolute top-3 right-3 bg-white/90 backdrop-blur-sm rounded-full px-3 py-1.5\">\r\n              <span className=\"text-xs font-bold text-green-600\">\r\n                {Math.round(progressPercentage)}%\r\n              </span>\r\n            </div>\r\n          )}\r\n        </div>\r\n        \r\n        {/* Content */}\r\n        <div className=\"p-5\">\r\n          <h3 className=\"font-bold text-gray-900 mb-2 group-hover:text-[#067BC2] transition-colors text-lg\">\r\n            {topic.title}\r\n          </h3>\r\n          \r\n          {topic.description && (\r\n            <p className=\"text-sm text-gray-600 leading-relaxed mb-3 line-clamp-2\">\r\n              {topic.description}\r\n            </p>\r\n          )}\r\n          \r\n          {/* Lesson count */}\r\n          <div className=\"text-xs text-gray-500 font-medium\">\r\n            {topic.lessonCount ?? 0} lesson{(topic.lessonCount ?? 0) !== 1 ? 's' : ''}\r\n          </div>\r\n        </div>\r\n      </CardContent>\r\n    </Card>\r\n  )\r\n}\r\n\r\nexport default TopicCard ","\"use client\"\r\n\r\nimport type { Zone } from \"@/features/learn/types/exercises\"\r\nimport TopicCard from \"./TopicCard\"\r\n\r\ninterface ZoneSectionProps {\r\n  zone: Zone\r\n}\r\n\r\nconst ZoneSection = ({ zone }: ZoneSectionProps) => {\r\n  return (\r\n    <section className=\"mb-12\">\r\n      {/* Zone Header */}\r\n      <div className=\"mb-8\">\r\n        <h2 className=\"text-2xl font-bold text-gray-900 mb-3\">\r\n          {zone.title}\r\n        </h2>\r\n        <p className=\"text-gray-600 text-lg leading-relaxed max-w-4xl\">\r\n          {zone.description}\r\n        </p>\r\n      </div>\r\n\r\n      {/* Topics Grid */}\r\n      <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6\">\r\n        {zone.topics.map((topic) => (\r\n          <TopicCard\r\n            key={topic.id}\r\n            topic={topic}\r\n          />\r\n        ))}\r\n      </div>\r\n    </section>\r\n  )\r\n}\r\n\r\nexport default ZoneSection ","'use client'\r\n\r\nimport { Badge } from '@/shared/components/ui/badge'\r\nimport { CheckCircle2, Clock, Lock, Circle } from 'lucide-react'\r\n\r\ninterface LessonProgressBadgeProps {\r\n  status: 'not_started' | 'in_progress' | 'passed'\r\n  bestScore?: number\r\n  passThreshold?: number\r\n  className?: string\r\n}\r\n\r\n/**\r\n * LessonProgressBadge Component\r\n * Displays visual indicator of lesson completion status\r\n * \r\n * @param status - Current lesson status\r\n * @param bestScore - User's best score percentage\r\n * @param passThreshold - Minimum score required to pass (default: 80)\r\n * @param className - Optional additional CSS classes\r\n */\r\nexport function LessonProgressBadge({ \r\n  status, \r\n  bestScore = 0, \r\n  passThreshold = 80,\r\n  className = ''\r\n}: LessonProgressBadgeProps) {\r\n  if (status === 'passed') {\r\n    return (\r\n      <Badge \r\n        className={`bg-green-500 hover:bg-green-600 text-white flex items-center gap-1 text-xs px-2 py-1 w-fit ${className}`}\r\n      >\r\n        <CheckCircle2 size={12} />\r\n        <span>{Math.round(bestScore)}%</span>\r\n      </Badge>\r\n    )\r\n  }\r\n\r\n  if (status === 'in_progress') {\r\n    return (\r\n      <Badge \r\n        variant=\"secondary\" \r\n        className={`bg-blue-100 hover:bg-blue-200 text-blue-700 flex items-center gap-1 text-xs px-2 py-1 w-fit ${className}`}\r\n      >\r\n        <Clock size={12} />\r\n        <span>{Math.round(bestScore)}%</span>\r\n      </Badge>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <Badge \r\n      variant=\"outline\" \r\n      className={`bg-gray-50 text-gray-600 flex items-center gap-1 text-xs px-2 py-1 w-fit ${className}`}\r\n    >\r\n      <Circle size={12} />\r\n      <span>Start</span>\r\n    </Badge>\r\n  )\r\n}\r\n","'use client'\r\n\r\nimport {\r\n  Tooltip,\r\n  TooltipContent,\r\n  TooltipProvider,\r\n  TooltipTrigger,\r\n} from '@/shared/components/ui/tooltip'\r\nimport { Lock, CheckCircle2, Crown } from 'lucide-react'\r\nimport type { LessonUnlockStatus } from '@/features/learn/utils/lesson-unlock-logic'\r\n\r\ninterface LessonUnlockTooltipProps {\r\n  unlockStatus: LessonUnlockStatus\r\n  children: React.ReactNode\r\n}\r\n\r\n/**\r\n * LessonUnlockTooltip Component\r\n * Shows detailed information about why a lesson is locked or unlocked\r\n * \r\n * @param unlockStatus - Unlock status object with reason and required action\r\n * @param children - Wrapped content (usually a lesson card or button)\r\n */\r\nexport function LessonUnlockTooltip({ \r\n  unlockStatus, \r\n  children \r\n}: LessonUnlockTooltipProps) {\r\n  // If lesson is unlocked, don't show tooltip\r\n  if (!unlockStatus.isLocked) {\r\n    return <>{children}</>\r\n  }\r\n\r\n  const getTooltipContent = () => {\r\n    switch (unlockStatus.reason) {\r\n      case 'login_required':\r\n        return (\r\n          <div className=\"flex items-start gap-2\">\r\n            <Lock size={16} className=\"mt-0.5 flex-shrink-0\" />\r\n            <div>\r\n              <p className=\"font-semibold\">Login Required</p>\r\n              <p className=\"text-xs text-gray-300 mt-1\">\r\n                Please log in to access lessons\r\n              </p>\r\n            </div>\r\n          </div>\r\n        )\r\n      \r\n      case 'zone_locked':\r\n        return (\r\n          <div className=\"flex items-start gap-2\">\r\n            <Lock size={16} className=\"mt-0.5 flex-shrink-0\" />\r\n            <div>\r\n              <p className=\"font-semibold\">Zone Locked</p>\r\n              <p className=\"text-xs text-gray-300 mt-1\">\r\n                {unlockStatus.requiredAction}\r\n              </p>\r\n              {unlockStatus.completedTopicsInPrevZone !== undefined && \r\n               unlockStatus.totalTopicsInPrevZone !== undefined && (\r\n                <div className=\"mt-2\">\r\n                  <div className=\"text-xs text-gray-400\">Progress:</div>\r\n                  <div className=\"w-full bg-gray-700 rounded-full h-2 mt-1\">\r\n                    <div \r\n                      className=\"bg-blue-500 h-2 rounded-full transition-all duration-300\"\r\n                      style={{ \r\n                        width: `${(unlockStatus.completedTopicsInPrevZone / unlockStatus.totalTopicsInPrevZone) * 100}%` \r\n                      }}\r\n                    />\r\n                  </div>\r\n                  <p className=\"text-xs text-gray-400 mt-1\">\r\n                    {unlockStatus.completedTopicsInPrevZone} / {unlockStatus.totalTopicsInPrevZone} topics completed\r\n                  </p>\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n        )\r\n      \r\n      case 'previous_incomplete':\r\n        return (\r\n          <div className=\"flex items-start gap-2\">\r\n            <CheckCircle2 size={16} className=\"mt-0.5 flex-shrink-0\" />\r\n            <div>\r\n              <p className=\"font-semibold\">Previous Lesson Required</p>\r\n              <p className=\"text-xs text-gray-300 mt-1\">\r\n                {unlockStatus.requiredAction}\r\n              </p>\r\n            </div>\r\n          </div>\r\n        )\r\n      \r\n      case 'tier_restriction':\r\n        return (\r\n          <div className=\"flex items-start gap-2\">\r\n            <Crown size={16} className=\"mt-0.5 flex-shrink-0 text-yellow-400\" />\r\n            <div>\r\n              <p className=\"font-semibold\">Upgrade Required</p>\r\n              <p className=\"text-xs text-gray-300 mt-1\">\r\n                {unlockStatus.requiredAction || 'Upgrade your subscription to access this lesson'}\r\n              </p>\r\n            </div>\r\n          </div>\r\n        )\r\n      \r\n      case 'loading':\r\n        return (\r\n          <div className=\"flex items-start gap-2\">\r\n            <div className=\"animate-spin rounded-full h-4 w-4 border-b-2 border-white mt-0.5\" />\r\n            <div>\r\n              <p className=\"font-semibold\">Loading...</p>\r\n              <p className=\"text-xs text-gray-300 mt-1\">\r\n                Checking unlock status\r\n              </p>\r\n            </div>\r\n          </div>\r\n        )\r\n      \r\n      default:\r\n        return (\r\n          <div className=\"flex items-start gap-2\">\r\n            <Lock size={16} className=\"mt-0.5 flex-shrink-0\" />\r\n            <div>\r\n              <p className=\"font-semibold\">Locked</p>\r\n              <p className=\"text-xs text-gray-300 mt-1\">\r\n                This lesson is currently unavailable\r\n              </p>\r\n            </div>\r\n          </div>\r\n        )\r\n    }\r\n  }\r\n\r\n  return (\r\n    <TooltipProvider>\r\n      <Tooltip>\r\n        <TooltipTrigger asChild>\r\n          {children}\r\n        </TooltipTrigger>\r\n        <TooltipContent \r\n          side=\"right\" \r\n          className=\"bg-gray-900 text-white border-gray-700 max-w-xs\"\r\n        >\r\n          {getTooltipContent()}\r\n        </TooltipContent>\r\n      </Tooltip>\r\n    </TooltipProvider>\r\n  )\r\n}\r\n"],"names":[],"mappings":"oEAmBA,CAAA,CAAA,CAAA,CAAA,AAAM,CAAN,CAAM,CAAA,EAAA,AAAQ,CAAR,AAAQ,CAAR,AAAQ,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,IAAA,EAAiB,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAhBK,CAgBI,AAftC,CAesC,AAfrC,CAAA,AAeqC,CAAA,AAfrC,CAeqC,AAfrC,CAeqC,AAfrC,CAeqC,AAfrC,CAeqC,AAfrC,CAeqC,AAfrC,AAAQ,CAAA,AAAE,AAe2B,CAf3B,AAeqC,CAAA,AAfrC,AAAG,CAAA,CAAA,CAAA,EAAM,CAAA,CAAA,AAAG,CAAA,CAAA,CAAA,CAAA,AAAK,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,AAAO,CAAA,CAAA,CAAA,CAAK,AAAL,CAAK,CAAA,CAAA,CAAA,CAAA,EAAQ,CAAA,CAAA,CAAA,CAAA,CAAA,AAAM,CAAA,CAAA,CAAA,AAAI,CAAA,CAAA,CAAA,CAAK,AAAL,CAAK,CAAA,CAAA,CAAA,AAAK,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAU,CAAA,CAC9E,CAAC,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,AAAQ,CAAA,AAAE,CAAA,CAAA,AAAG,CAAA,CAAA,EAAK,CAAA,CAAA,AAAG,CAAA,CAAA,CAAA,CAAK,AAAL,CAAK,CAAA,CAAA,CAAA,CAAA,CAAA,AAAO,CAAA,CAAA,CAAA,CAAA,AAAK,CAAA,CAAA,CAAA,CAAA,CAAA,EAAQ,CAAA,CAAA,CAAA,CAAA,CAAA,AAAM,CAAA,CAAA,CAAA,AAAI,CAAA,CAAA,CAAA,CAAA,AAAK,CAAA,CAAA,CAAA,CAAA,AAAK,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAU,CAAA,CAC/E,yHCHA,EAAA,EAAA,CAAA,CAAA,QACA,EAAA,EAAA,CAAA,CAAA,QACA,EAAA,EAAA,CAAA,CAAA,QACA,EAAA,EAAA,CAAA,CAAA,QACA,EAAA,EAAA,CAAA,CAAA,QACA,EAAA,EAAA,CAAA,CAAA,QACA,EAAA,EAAA,CAAA,CAAA,QACA,EAAA,EAAA,CAAA,CAAA,QACA,EAAA,EAAA,CAAA,CAAA,QAEA,EAAA,EAAA,CAAA,CAAA,QACA,EAAA,EAAA,CAAA,CAAA,QACA,EAAA,EAAA,CAAA,CAAA,OE+BI,EAAuB,OAAO,mBAWlC,SAAS,EAAY,CAAK,EACxB,OAAO,EAAA,cAAoB,CAAC,IAAgC,YAAtB,OAAO,EAAM,IAAI,EAAmB,cAAe,EAAM,IAAI,EAAI,EAAM,IAAI,CAAC,SAAS,GAAK,CAClI,CF1CA,IAAA,EAAA,EAAA,CAAA,CAAA,QACA,EAAA,EAAA,CAAA,CAAA,QACA,EAAA,EAAA,CAAA,CAAA,QAEI,EAAe,UACf,CAAC,EAAsB,EAAmB,CAAG,CAAA,EAAA,EAAA,kBAAA,AAAkB,EAAC,EAAc,CAChF,EAAA,iBAAiB,CAClB,EACG,EAAiB,CAAA,EAAA,EAAA,iBAAA,AAAiB,IAClC,CAAC,EAAiB,EAAkB,CAAG,EAAqB,GAC5D,EAAU,AAAC,IACb,GAAM,CACJ,gBAAc,UACd,CAAQ,CACR,KAAM,CAAQ,aACd,CAAW,cACX,CAAY,OACZ,GAAQ,CAAK,CACd,CAAG,EACE,EAAc,EAAe,GAC7B,EAAa,EAAA,MAAY,CAAC,MAC1B,CAAC,EAAiB,EAAmB,CAAG,EAAA,QAAc,EAAC,GACvD,CAAC,EAAM,EAAQ,CAAG,CAAA,EAAA,EAAA,oBAAA,AAAoB,EAAC,CAC3C,KAAM,EACN,YAAa,IAAe,EAC5B,SAAU,EACV,OAAQ,CACV,GACA,MAAuB,CAAA,AAAhB,EAAgB,EAAA,GAAA,AAAG,EAAC,EAAA,EAAP,EAA2B,CAAE,CAAE,GAAG,CAAW,CAAE,SAA0B,CAAhB,AAAgB,EAAA,EAAA,GAAG,AAAH,EAC3F,EACA,CACE,CAHsF,KAG/E,EACP,UAAW,CAAA,EAAA,EAAA,KAAA,AAAK,eAChB,OACA,EACA,aAAc,EACd,aAAc,EAAA,WAAiB,CAAC,IAAM,EAAQ,AAAC,GAAa,CAAC,GAAW,CAAC,EAAQ,kBACjF,EACA,kBAAmB,EAAA,WAAiB,CAAC,IAAM,GAAmB,GAAO,EAAE,EACvE,qBAAsB,EAAA,WAAiB,CAAC,IAAM,GAAmB,GAAQ,EAAE,EAC3E,iBACA,CACF,EACA,EACJ,EACA,EAAQ,WAAW,CAAG,EACtB,IAAI,EAAc,eAclB,CAboB,EAAA,UAAgB,CAClC,CAAC,EAAO,KACN,GAAM,CAAE,gBAAc,CAAE,GAAG,EAAa,CAAG,EACrC,EAAU,EAAkB,EAAa,GACzC,EAAc,EAAe,GAC7B,mBAAE,CAAiB,CAAE,sBAAoB,CAAE,CAAG,EAKpD,OAJA,AAIO,EAJP,SAAe,CAAC,CAII,IAHlB,IACO,IAAM,KACZ,CAAC,EAAmB,EAAqB,EACrB,CAAA,EAAA,EAAA,GAAG,AAAH,EAAI,EAAA,MAAsB,CAAE,CAAE,GAAG,CAAW,CAAE,GAAG,CAAW,CAAE,IAAK,CAAa,EACzG,GAEY,WAAW,CAAG,EAC5B,IAAI,EAAe,iBACf,EAAiB,EAAA,UAAgB,CACnC,CAAC,EAAO,KACN,GAAM,gBAAE,CAAc,CAAE,GAAG,EAAc,CAAG,EACtC,EAAU,EAAkB,EAAc,GAC1C,EAAc,EAAe,GAC7B,EAAqB,CAAA,EAAA,EAAA,eAAA,AAAe,EAAC,EAAc,EAAQ,UAAU,EACrE,EAA0B,CAAA,EAAA,EAAA,GAAhB,AAAgB,AAAG,EACjC,EAAA,SAD2B,AAClB,CAAC,MAAM,CAChB,CACE,KAAM,SACN,gBAAiB,SACjB,gBAAiB,EAAQ,IAAI,CAC7B,gBAAiB,EAAQ,SAAS,CAClC,aAAc,EAAS,EAAQ,IAAI,EACnC,GAAG,CAAY,CACf,IAAK,EACL,QAAS,CAAA,EAAA,EAAA,oBAAA,AAAoB,EAAC,EAAM,OAAO,CAAE,EAAQ,YAAY,CACnE,GAEF,OAAO,EAAQ,eAAe,CAAG,EAA0B,CAAA,EAAA,EAAA,GAAhB,AAAgB,AAAG,EAAC,EAAA,MAAsB,CAAE,CAAE,CAAjC,QAA0C,EAAM,GAAG,CAAW,CAAE,SAAU,CAAQ,EAC5I,GAEF,EAAe,WAAW,CAAG,EAC7B,IAAI,EAAc,gBACd,CAAC,EAAgB,EAAiB,CAAG,EAAqB,EAAa,CACzE,WAAY,KAAK,CACnB,GACI,EAAgB,AAAC,IACnB,GAAM,gBAAE,CAAc,YAAE,CAAU,UAAE,CAAQ,WAAE,CAAS,CAAE,CAAG,EACtD,EAAU,EAAkB,EAAa,GAC/C,MAAuB,CAAhB,AAAgB,EAAA,EAAA,GAAA,AAAG,EAAC,EAAgB,CAAE,CAAzB,KAAgC,aAAgB,EAAY,SAA0B,CAAhB,AAAgB,EAAA,EAAA,GAAA,AAAG,EAAC,EAAA,EAAP,MAAe,CAAE,CAAE,QAAS,GAAc,EAAQ,IAAI,CAAE,SAA0B,CAAhB,AAAgB,EAAA,EAAA,GAAA,AAAG,EAAC,EAAA,EAAP,IAAsB,CAAE,CAAE,QAAS,GAAM,qBAAW,CAAS,EAAG,EAAG,EAC3P,EACA,EAAc,WAAW,CAAG,EAC5B,IAAI,EAAe,iBACf,EAAiB,EAAA,UAAgB,CACnC,CAAC,EAAO,KACN,IAAM,EAAgB,EAAiB,EAAc,EAAM,cAAc,EACnE,YAAE,EAAa,EAAc,UAAU,CAAE,GAAG,EAAc,CAAG,EAC7D,EAAU,EAAkB,EAAc,EAAM,cAAc,EACpE,MAAuB,CAAA,AAAhB,EAAgB,EAAA,GAAA,AAAG,EAAC,EAAA,EAAP,MAAe,CAAE,CAAE,QAAS,GAAc,EAAQ,IAAI,CAAE,SAAU,EAAQ,KAAK,CAAmB,CAAA,CAAhB,CAAgB,EAAA,GAAA,AAAG,EAAC,EAAqB,CAAE,EAA9B,CAAiC,CAAY,CAAE,IAAK,CAAa,GAAqB,CAAA,CAAhB,CAAgB,EAAA,GAAG,AAAH,EAAI,EAAwB,CAAE,EAAjC,CAAoC,CAAY,CAAE,IAAK,CAAa,EAAG,EAC/Q,GAEF,EAAe,WAAW,CAAG,EAC7B,IAAI,EAAO,AErHX,SAAS,AAAW,CAAS,EAC3B,IAAM,EAA4B,AAwBpC,SAAS,AAAgB,CAxBL,AAwBc,EAChC,IAAM,EAAY,EAAA,GAzBa,OAyBG,CAAC,CAAC,EAAO,KACzC,GAAM,UAAE,CAAQ,CAAE,GAAG,EAAW,CAAG,EACnC,GAAI,EAAA,cAAoB,CAAC,GAAW,eAC5B,GAkDW,EAlDiB,EAqDtC,CADI,EAAU,AAFc,CACxB,AAEA,EAFS,CAnDW,MAmDJ,AAEP,wBAF+B,CAAC,EAAQ,KAAK,CAAE,QAAQ,MAC5C,mBAAoB,GAAU,EAAO,cAAc,EAElE,EAAQ,GAAG,EAGpB,EAAU,CADV,EAAS,OAAO,wBAAwB,CAAC,EAAS,QAAQ,GAAA,GACtC,mBAAoB,GAAU,EAAO,cAAc,AAAd,EAEhD,EAAQ,KAAK,CAAC,GAAG,CAEnB,EAAQ,KAAK,CAAC,GAAG,EAAI,EAAQ,GAAG,EA5D7B,EAyBZ,AAzBqB,SAyBZ,AAAW,CAAS,CAAE,CAAU,EACvC,IAAM,EAAgB,CAAE,GAAG,CAAU,AAAC,EACtC,IAAK,IAAM,KAAY,EAAY,CACjC,IAAM,EAAgB,CAAS,CAAC,EAAS,CACnC,EAAiB,CAAU,CAAC,EAAS,CACzB,WAAW,IAAI,CAAC,GAE5B,GAAiB,EACnB,CAAa,CAAC,EAAS,CAAG,CAAC,GAAG,KADK,AAEjC,IAAM,EAAS,KAAkB,GAEjC,OADA,KAAiB,GACV,CACT,EACS,IACT,CAAa,CAAC,EAAS,CAAG,CAAA,EAEnB,AAAa,GAHI,MAGK,GAC/B,CAAa,CAAC,EAAS,CAAG,CAAE,GAAG,CAAa,CAAE,GAAG,CAAc,AAAC,EAC1C,aAAa,CAA1B,IACT,CAAa,CAAC,EAAS,CAAG,CAAC,EAAe,EAAe,CAAC,MAAM,CAAC,SAAS,IAAI,CAAC,IAAA,CAEnF,CACA,MAAO,CAAE,GAAG,CAAS,CAAE,GAAG,CAAa,AAAC,CAC1C,EAhDgC,EAAW,EAAS,KAAK,EAInD,OAHI,EAAS,IAAI,GAAK,EAAA,QAAc,EAAE,AACpC,GAAO,GAAG,CAAG,EAAe,CAAA,EAAA,EAAA,WAAA,AAAW,EAAC,EAAc,GAAe,CAAA,EAEhE,EAAA,YAAkB,CAAC,EAAU,EACtC,CACA,OAAO,EAAA,QAAc,CAAC,KAAK,CAAC,GAAY,EAAI,EAAA,QAAc,CAAC,IAAI,CAAC,MAAQ,IAC1E,GAEA,OADA,EAAU,WAAW,CAAG,CAAA,EAAG,EAAU,UAAU,CAAC,CACzC,CACT,EAvCoD,GAC5C,EAAQ,EAAA,UAAgB,CAAC,CAAC,EAAO,KACrC,GAAM,UAAE,CAAQ,CAAE,GAAG,EAAW,CAAG,EAC7B,EAAgB,EAAA,QAAc,CAAC,OAAO,CAAC,GACvC,EAAY,EAAc,IAAI,CAAC,GACrC,GAAI,EAAW,CACb,IAAM,EAAa,EAAU,KAAK,CAAC,QAAQ,CACrC,EAAc,EAAc,GAAG,CAAC,AAAC,GACrC,AAAI,IAAU,EAIL,EAHP,AAAI,EAAA,KADmB,GACL,CAAC,KAAK,CAAC,GAAc,EAAU,CAAP,CAAO,QAAc,CAAC,IAAI,CAAC,MAC9D,EAAA,cAAoB,CAAC,GAAc,EAAW,KAAK,CAAC,QAAQ,CAAG,MAK1E,MAAuB,CAAhB,AAAgB,EAAA,EAAA,GAAA,AAAG,EAAC,EAAW,CAAE,CAApB,EAAuB,CAAS,CAAE,IAAK,EAAc,SAAU,EAAA,cAAoB,CAAC,GAAc,EAAA,YAAkB,CAAC,EAAY,KAAK,EAAG,GAAe,IAAK,EACnL,CACA,MAAuB,CAAhB,AAAgB,EAAA,EAAA,GAAA,AAAG,EAAC,EAAW,CAAE,CAApB,EAAuB,CAAS,CAAE,IAAK,WAAc,CAAS,EACpF,GAEA,OADA,EAAM,WAAW,CAAG,CAAA,EAAG,EAAU,KAAK,CAAC,CAChC,CACT,EF+FsB,+BAClB,EAAsB,EAAA,UAAgB,CACxC,CAAC,EAAO,KACN,IAAM,EAAU,EAAkB,EAAc,EAAM,cAAc,EAC9D,EAAa,EAAA,MAAY,CAAC,MAC1B,EAAe,CAAA,EAAA,EAAA,eAAA,AAAe,EAAC,EAAc,GAC7C,EAAyB,EAAA,MAAY,CAAC,IAK5C,OAJA,AAIO,EAJP,SAAe,CAAC,CAII,IAHlB,IAAM,EAAU,EAAW,OAAO,CAClC,GAAI,EAAS,MAAO,CAAA,EAAA,EAAA,UAAU,AAAV,EAAW,EACjC,EAAG,EAAE,EACkB,CAAA,EAAA,EAAA,GAAA,AAAG,EAAC,EAAA,YAAY,CAAE,CAAE,GAAI,EAAM,gBAAgB,EAAM,SAA0B,CAAA,AAAhB,EAAgB,EAAA,GAAA,AAAG,EACtG,EACA,CACE,CAH8F,EAG3F,CAAK,CACR,IAAK,EACL,UAAW,EAAQ,IAAI,CACvB,6BAA6B,EAC7B,iBAAkB,CAAA,EAAA,EAAA,oBAAA,AAAoB,EAAC,EAAM,gBAAgB,CAAG,AAAD,IAC7D,EAAM,cAAc,GAChB,AAAC,EAAuB,OAAO,EAAE,EAAQ,UAAU,CAAC,OAAO,EAAE,OACnE,GACA,qBAAsB,CAAA,EAAA,EAAA,oBAAA,AAAoB,EACxC,EAAM,oBAAoB,CAC1B,AAAC,IACC,IAAM,EAAgB,EAAM,MAAM,CAAC,aAAa,CAC1C,EAAyC,IAAzB,EAAc,MAAM,EAAU,CAA0B,MAAZ,OAAO,CAEzE,EAAuB,OAAO,CADgB,EACb,EADZ,EAAc,MAAM,EAAU,CAErD,EACA,CAAE,0BAA0B,CAAM,GAEpC,eAAgB,CAAA,EAAA,EAAA,oBAAA,AAAoB,EAClC,EAAM,cAAc,CACpB,AAAC,GAAU,EAAM,cAAc,GAC/B,CAAE,0BAA0B,CAAM,EAEtC,EACA,EACJ,GAEE,EAAyB,EAAA,UAAgB,CAC3C,CAAC,EAAO,KACN,IAAM,EAAU,EAAkB,EAAc,EAAM,cAAc,EAC9D,EAA0B,EAAA,MAAY,EAAC,GACvC,EAA2B,EAAA,MAAY,CAAC,IAC9C,MAAuB,CAAA,AAAhB,EAAgB,EAAA,GAAA,AAAG,EACxB,EACA,CACE,CAHgB,EAGb,CAAK,CACR,IAAK,EACL,WAAW,EACX,6BAA6B,EAC7B,iBAAkB,AAAC,IACjB,EAAM,gBAAgB,GAAG,GACpB,EAAM,gBAAgB,EAAE,CACvB,AAAC,EAAwB,OAAO,EAAE,EAAQ,UAAU,CAAC,OAAO,EAAE,QAClE,EAAM,cAAc,IAEtB,EAAwB,OAAO,EAAG,EAClC,EAAyB,OAAO,EAAG,CACrC,EACA,kBAAmB,AAAC,IAClB,EAAM,iBAAiB,GAAG,GACrB,EAAM,gBAAgB,EAAE,CAC3B,EAAwB,OAAO,EAAG,EACM,eAAe,CAAnD,EAAM,MAAM,CAAC,aAAa,CAAC,IAAI,GACjC,EAAyB,OAAO,EAAG,CAAA,GAGvC,IAAM,EAAS,EAAM,MAAM,AAEvB,CADoB,EAAQ,UAAU,CAAC,OAAO,EAAE,SAAS,IACxC,EAAM,cAAc,GACD,YAApC,EAAM,MAAM,CAAC,aAAa,CAAC,IAAI,EAAkB,EAAyB,OAAO,EAAE,AACrF,EAAM,cAAc,EAExB,CACF,EAEJ,GAEE,EAAqB,EAAA,UAAgB,CACvC,CAAC,EAAO,KACN,GAAM,gBACJ,CAAc,WACd,CAAS,iBACT,CAAe,kBACf,CAAgB,6BAChB,CAA2B,iBAC3B,CAAe,sBACf,CAAoB,gBACpB,CAAc,CACd,mBAAiB,CACjB,GAAG,EACJ,CAAG,EACE,EAAU,EAAkB,EAAc,GAC1C,EAAc,EAAe,GAEnC,MADA,CAAA,AACO,EADP,EAAA,SACoB,KADpB,AAAc,IACS,CAAA,EAAA,EAAA,GAAG,AAAH,EACrB,EAAA,UAAU,CACV,CACE,SAAS,EACT,MAAM,EACN,QAAS,EACT,iBAAkB,EAClB,mBAAoB,EACpB,SAA0B,CAAhB,AAAgB,EAAA,EAAA,GAAA,AAAG,EAC3B,EAAA,EADqB,cACL,CAChB,CACE,SAAS,8BACT,oBACA,kBACA,uBACA,iBACA,EACA,UAAW,IAAM,EAAQ,YAAY,EAAC,GACtC,SAA0B,CAAhB,AAAgB,EAAA,EAAA,GAAA,AAAG,EAC3B,EAAA,EADqB,KACE,CACvB,CACE,aAAc,EAAS,EAAQ,IAAI,EACnC,KAAM,SACN,GAAI,EAAQ,SAAS,CACrB,GAAG,CAAW,CACd,GAAG,CAAY,CACf,IAAK,EACL,MAAO,CACL,GAAG,EAAa,KAAK,CAGnB,2CAA4C,uCAC5C,0CAA2C,sCAC3C,2CAA4C,uCAC5C,gCAAiC,mCACjC,iCAAkC,mCAEtC,CACF,EAEJ,EAEJ,EAEJ,GAEE,EAAa,eA0BjB,SAAS,EAAS,CAAI,EACpB,OAAO,EAAO,OAAS,QACzB,CAZA,AAfmB,EAAA,UAAgB,CACjC,CAAC,EAAO,KACN,GAAM,gBAAE,CAAc,CAAE,GAAG,EAAY,CAAG,EACpC,EAAU,EAAkB,EAAY,GAC9C,MAAuB,CAAhB,AAAgB,EAAA,EAAA,GAAG,AAAH,EACrB,EAAA,EADkB,OACT,CAAC,MAAM,CAChB,CACE,KAAM,SACN,GAAG,CAAU,CACb,IAAK,EACL,QAAS,CAAA,EAAA,EAAA,oBAAA,AAAoB,EAAC,EAAM,OAAO,CAAE,IAAM,EAAQ,YAAY,EAAC,GAC1E,EAEJ,GAEW,WAAW,CAAG,EAER,AAOnB,EAPmB,UAAgB,CACjC,CAAC,EAAO,KACN,GAAM,CAAE,gBAAc,CAAE,GAAG,EAAY,CAAG,EACpC,EAAc,EAAe,GACnC,MAAuB,CAAA,AAAhB,EAAgB,EAAA,GAAG,AAAH,EAAI,EAAA,EAAP,GAA4B,CAAE,CAAE,GAAG,CAAW,CAAE,GAAG,CAAU,CAAE,IAAK,CAAa,EACvG,GAEW,WAAW,CARP,EAQU,aC9R3B,IAAA,EAAA,EAAA,CAAA,CAAA,OAEA,SAAS,EAAQ,CACf,GAAG,EACgD,EACnD,MAAO,CAAA,EAAA,EAAA,GAAA,EAAC,AD6RE,EC7RF,CAAsB,YAAU,UAAW,GAAG,CAAK,EAC7D,CAEA,SAAS,EAAe,CACtB,GAAG,EACmD,EACtD,MAAO,CAAA,EAAA,EAAA,GAAA,EAAC,ADyRI,ECzRJ,CAAyB,YAAU,kBAAmB,GAAG,CAAK,EACxE,CAEA,SAAS,EAAe,CACtB,WAAS,OACT,EAAQ,QAAQ,YAChB,EAAa,CAAC,CACd,GAAG,EACmD,EACtD,MACE,CAAA,EAAA,EAAA,GAAA,EAAC,ADgRQ,EChRR,UACC,CAAA,EAAA,EAAA,GAAA,EDgRS,AChRR,EAAA,CACC,YAAU,kBACV,MAAO,EACP,WAAY,EACZ,UAAW,CAAA,EAAA,EAAA,EAAA,AAAE,EACX,ieACA,GAED,GAAG,CAAK,IAIjB,yFErCA,EAAA,EAAA,CAAA,CAAA,QACA,EAAA,EAAA,CAAA,CAAA,QAAA,EAAA,EAAA,CAAA,CAAA,QAAA,EAAA,EAAA,CAAA,CAAA,QCgBA,CAAA,CAAA,CAAA,CAAM,AAAN,CAAA,CAAM,CAAA,EAAW,CAAA,CAAA,CAAX,AAAW,CAAX,AAAW,CAAX,AAAW,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,IAAA,EAAiB,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAhBE,CAClC,AAe6C,CAf5C,AAe4C,CAf5C,AAe4C,CAf5C,AAe4C,CAf5C,AAe4C,CAf5C,AAe4C,CAf5C,AAe4C,CAf5C,AAe4C,CAf5C,AAAQ,AAeoC,CAfpC,AAAE,AAekC,CAAU,CAfzC,AAeyC,CAfzC,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,AAAqD,CAAA,CAAA,CAAA,CAAA,AAAK,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAU,CAAA,CAClF,CAAC,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,AAAQ,CAAA,AAAE,EAAG,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,AAAc,CAAA,CAAA,CAAA,CAAA,AAAK,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAU,CAAA,CAC7C,EDHA,IAAA,EAAA,EAAA,CAAA,CAAA,QAAA,EAAA,EAAA,CAAA,CAAA,QACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,QACA,EAAA,EAAA,CAAA,CAAA,QACA,EAAA,EAAA,CAAA,CAAA,QACA,EAAA,EAAA,CAAA,CAAA,QA+BA,IAAM,EAAkC,CAEtC,CACE,GAAI,eACJ,OAAQ,mBACR,KAAM,iBACN,KAAM,+BACR,EAEA,CACE,GAAI,eACJ,OAAQ,mBACR,KAAM,iBACN,KAAM,+BACR,EAEA,CACE,GAAI,eACJ,OAAQ,mBACR,KAAM,iBACN,KAAM,+BACR,EACD,CAED,SAAS,EAAY,CAAS,EAC5B,OAAO,EAAE,OAAO,CAAC,sBAAuB,OAC1C,CAEA,SAAS,EAAc,CAAY,CAAE,CAAgB,EACnD,GAAI,CAAC,GAAQ,CAAC,GAAO,OAAQ,OAAO,EACpC,IAAM,EAAU,EAAM,MAAM,CAAC,SAAS,GAAG,CAAC,GAAa,IAAI,CAAC,KAC5D,GAAI,CAAC,EAAS,OAAO,EACrB,IAAM,EAAK,AAAI,OAAO,CAAC,CAAC,EAAE,EAAQ,CAAC,CAAC,CAAE,MACtC,OAAO,EAAK,KAAK,CAAC,GAAI,GAAG,CAAC,CAAC,EAAM,IAC/B,EAAI,EACA,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAa,UAAU,2CAAmC,GAAhD,GACX,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,UAAc,GAAJ,GAEnB,CAEA,SAAS,EACP,CAAY,CACZ,CAAkC,CAClC,CAA+B,CAC/B,CAA2D,CAC3D,CAA2B,SAE3B,AAAI,AAAC,GAA0B,GAAG,CAApB,EAAM,MAAM,CAKxB,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,kCACZ,EAAM,GAAG,CAAC,CAAC,EAAM,IAChB,CAAA,EAAA,EAAA,IAAA,EAAC,OAAA,CAEC,QAAS,IAAM,EAAY,EAAO,EAAK,CAAC,CAAG,KAC3C,UAAW,CAAC,qEAAqE,EAC/E,IAAqB,EACjB,wDACqB,OAArB,GAA6B,EAAQ,EACrC,gBACA,iCAAA,CACJ,CACF,MAAO,CACL,eAAgB,IAAqB,EAAQ,YAAc,OAC3D,oBAAqB,IAAqB,EAAQ,UAAY,cAC9D,oBAAqB,KACvB,YAEC,EAAK,CAAC,CACN,EAAQ,EAAM,MAAM,CAAG,EAAI,IAAM,KAhB7B,MAPJ,EAAc,EAAM,EA4B/B,CA0BA,SAAS,EAAW,CAAe,EACjC,IAAM,EAAO,KAAK,KAAK,CAAC,EAAU,IAC5B,EAAO,KAAK,KAAK,CAAC,EAAU,IAClC,MAAO,CAAA,EAAG,EAAK,CAAC,EAAE,EAAK,QAAQ,GAAG,QAAQ,CAAC,EAAG,KAAA,CAAM,AACtD,CAEe,SAAS,EAAe,OACrC,CAAK,WACL,CAAS,OACT,CAAK,MACL,CAAI,kBACJ,EAAmB,EAAE,iBACrB,EAAkB,EAAE,gBACpB,EAAiB,CAAe,CASjC,EACC,IAAM,EAAW,CAAA,EAAA,EAAA,MAAA,AAAM,EAA0B,MAC3C,EAAY,CAAA,EAAA,EAAA,MAAM,AAAN,EAA8B,MAC1C,CAAC,EAAc,EAAgB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAgB,MAC1D,CAAC,EAAY,EAAc,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAgB,MAGtD,CAAC,EAAW,EAAa,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,GAAC,GACrC,CAAC,EAAW,EAAa,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,GAAC,GACrC,CAAC,EAAa,EAAe,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,GACzC,CAAC,EAAU,EAAY,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,GACnC,CADuC,AACtC,EAAc,EAAgB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,GAC3C,CAAC,EAAQ,EAAU,CAAG,CAAA,EAAA,CAFkD,CAElD,QAAQ,AAAR,EAAS,GAC/B,CAAC,EAAkB,EAAoB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAgB,MAClE,CAAC,EAAkB,EAAoB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAgB,MAClE,CAAC,EAAY,EAAc,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,GAAC,GAEvC,CAAC,EAAa,EAAe,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,GAAC,GACzC,CAAC,EAAa,EAAe,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,GAAC,GACzC,CAAC,EAAgB,GAAkB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,GAAC,GAE/C,GAAW,CAAA,EAAA,EAAA,MAAA,AAAM,EAAM,MACvB,GAAgB,CAAC,IAAM,GAAK,IAAM,EAAK,KAAM,IAAI,CACjD,GAAoB,CAAA,EAAA,EAAA,MAAA,AAAM,EAAqB,QAE/C,GAAa,CAAA,EAAA,EAAA,MAAA,AAAM,EAAgB,MAGnC,GAAe,CAAA,EAAA,EAAA,OAAA,AAAO,EAAC,KAC3B,IAAM,EAAO,IAAI,IACX,EAAgB,EAAE,CACxB,IAAK,IAAM,KAAK,EAAO,CACrB,IAAM,EAAM,CAAC,EAAE,OAAO,EAAI,EAAA,CAAE,CAAE,IAAI,GAC7B,IACA,CADK,CACA,GAAG,CAAC,KACZ,CADkB,CACb,GAAG,CAAC,GACT,EAAI,IAAI,CAAC,IAEb,CACA,OAAO,CACT,EAAG,CAAC,EAAM,EAEJ,GAAa,CAAA,EAAA,EAAA,OAAA,AAAO,EAAC,KACzB,IAAM,EAAI,IAAI,IAEd,OADA,GAAa,OAAO,CAAC,CAAC,EAAM,IAAM,EAAE,GAAG,CAAC,EAAM,IACvC,CACT,EAAG,CAAC,GAAa,EAEX,GAAW,CAAA,EAAA,EAAA,OAAA,AAAO,EACtB,IACE,EAAM,GAAG,CAAC,AAAC,IACT,IAAM,EACQ,MAAZ,EAAG,KAAK,EAAsB,MAAV,EAAG,GAAG,CAAW,KAAK,GAAG,CAAC,EAAI,EAAG,GAAG,CAAe,EAAG,KAAK,OAAe,EAChG,MAAO,CACL,GAAG,CAAE,CACL,UAAW,EACX,IAAK,EAAG,eAAe,EAAE,OAAS,EAAG,eAAe,CAAG,EACvD,cAAe,GAAW,GAAG,CAAC,EAAG,OAAO,EAAI,KAAO,CACrD,CACF,GACF,CAAC,EAAO,GAAY,EAAiB,EAGjC,GAAY,CAAC,CAAC,GAAa,GAAS,KAAK,CAAC,AAAC,GAAqB,MAAf,EAAE,SAAS,EAAY,AAAW,QAAT,KAAK,EAG/E,GAAmB,CAAA,EAAA,EAAA,OAAA,AAAO,EAAC,KAC/B,GAAI,CAAC,GAAW,OAAO,EACvB,IAAI,EAAS,EACb,IAAK,IAAM,KAAK,GACO,MADG,IACpB,OAAO,EAAE,GAAG,EAAiB,EAAE,GAAG,CAAG,IAAQ,EAAS,EAAE,GAAA,AAAG,EAEjE,OAAO,CACT,EAAG,CAAC,GAAW,CADE,EACO,EAExB,CAAA,EAAA,EAAA,CAH2B,QAG3B,AAAS,EAAC,IACD,KACL,aAAa,GAAS,OAAO,EAC7B,EAAS,OAAO,EAAE,OACpB,EACC,EAAE,EAGL,CAAA,EAAA,EAAA,SAAA,AAAS,EAAC,KACR,IAAM,EAAK,EAAU,OAAO,CAC5B,GAAI,CAAC,EAAI,OACT,IAAM,EAAS,KAEb,EADiB,EAAG,WACL,CADiB,CAAG,EAAG,YAAY,EAElD,EAAe,EAAG,SAAS,CAAG,GAC9B,GAAkB,EAAG,SAAS,CAAG,EAAG,YAAY,CAAG,EAAG,YAAY,CAAG,EACvE,EAIA,OAHA,IACA,EAAG,gBAAgB,CAAC,SAAU,EAAQ,CAAE,QAAS,EAAK,GACtD,OAAO,gBAAgB,CAAC,SAAU,GAC3B,KACL,EAAG,mBAAmB,CAAC,SAAU,GACjC,OAAO,mBAAmB,CAAC,SAAU,EACvC,CACF,EAAG,CAAC,GAAS,MAAM,CAAC,EAGpB,CAAA,EAAA,EAAA,SAAA,AAAS,EAAC,KACR,IAAM,EAAQ,WAAW,KACvB,IAAM,EAAK,EAAU,OAAO,CAC5B,GAAI,EAAI,CACN,IAAM,EAAW,EAAG,YAAY,CAAG,EAAG,YAAY,CAC9C,IAAa,GACf,EAAe,EAEnB,CACF,EAAG,GAJ+B,EAKlC,MAAO,IAAM,aAAa,EAC5B,EAAG,CAAC,GAAU,EAAY,EA4C1B,IAAM,GAAkB,CAAA,EAAA,EAAA,WAAA,AAAW,EAAC,KAClC,IAAM,EAAQ,EAAS,OAAO,CACzB,IAED,EACF,CAHU,CAGJ,KAAK,EADE,EAGb,GAAa,GACb,GAAW,OAAO,CAAG,KACrB,EAAgB,MAChB,EAAM,IAAI,GAAG,KAAK,CAAC,QAAQ,KAAK,GAEpC,EAAG,CAAC,EAAU,EAER,GAAW,CAAA,EAAA,EAAA,WAAA,AAAW,EAAC,AAAC,IAC5B,IAAM,EAAQ,EAAS,OAAO,CAC9B,GAAI,CAAC,GAED,CAAC,SAAS,EAAM,QAAQ,GAAwB,GAAG,CAAtB,EAAM,QAAQ,CAFnC,OAIZ,IAAM,EAAU,KAAK,GAAG,CAAC,EAAG,KAAK,GAAG,CAAC,AADtB,EAAM,WAAW,CAAG,EACU,EAAM,QAAQ,GAC3D,EAAM,WAAW,CAAG,EACpB,EAAe,EACjB,EAAG,EAAE,EAEC,GAAqB,CAAA,EAAA,EAAA,WAAA,AAAW,EAAC,KAErC,IAAM,EAAY,AAAC,CADE,GAAc,OAAO,CAAC,IACT,CAAC,CAAI,GAAc,MAAM,CACrD,EAAU,EAAa,CAAC,EAAU,CACxC,EAAgB,GACZ,EAAS,OAAO,EAAE,CACpB,EAAS,OAAO,CAAC,YAAY,CAAG,CAAA,CAEpC,EAAG,CAAC,EAAc,GAAc,EAE1B,GAA0B,CAAA,EAAA,EAAA,WAAA,AAAW,EAAC,AAAC,IAC3C,EAAgB,GACZ,EAAS,OAAO,EAAE,CACpB,EAAS,OAAO,CAAC,YAAY,CAAG,CAAA,CAEpC,EAAG,EAAE,EAEC,GAAa,CAAA,EAAA,EAAA,WAAA,AAAW,EAAC,AAAC,IAC9B,IAAM,EAAQ,EAAS,OAAO,CAC9B,GAAI,CAAC,GACD,CAAC,SAAS,EAAM,QAAQ,GAAwB,GAAG,CAAtB,EAAM,QAAQ,CADnC,OAEZ,IAAM,EAAU,KAAK,GAAG,CAAC,EAAG,KAAK,GAAG,CAAC,EAAM,EAAM,QAAQ,GACzD,EAAM,WAAW,CAAG,EACpB,EAAe,EACjB,EAAG,EAAE,EAEC,GAAkB,CAAA,EAAA,EAAA,WAAA,AAAW,EAAC,CAAC,EAAmB,KAEtD,GAAW,EACb,EAAG,CAAC,GAAW,EAGT,GAAe,CAAA,EAAA,EAAA,WAAA,AAAW,EAAC,AAAC,IAEhC,IAAM,EAAM,KAAK,GAAG,CAAC,EAAG,KAAK,GAAG,CAAC,IADd,CAAS,AACU,CADT,EAAE,GACsB,IACrD,EAAU,GACN,EAAS,OAAO,GAAE,EAAS,OAAO,CAAC,MAAM,CAAG,CAAA,CAClD,EAAG,EAAE,EAGC,GAAoB,CAAA,EAAA,EAAA,WAAW,AAAX,EAAY,KACpC,GAAI,CAAC,GAAM,WAAY,OACvB,IAAM,EAAuB,IAAd,EACT,EA9QV,AA8Q2B,SA9QlB,AAAgB,CAAY,CAAE,CAAqB,EAC1D,IAAK,IAAI,EAAI,EAAG,EAAI,EAAM,MAAM,CAAE,IAAK,CACrC,IAAM,EAAO,CAAK,CAAC,EAAE,CACrB,QAAmB,IAAf,EAAK,KAAK,EAAkB,KAAa,MAAR,GAAG,CAAgB,CACtD,IAAM,EAAuB,IAAb,EAAK,KAAK,CACpB,EAAmB,IAAX,EAAK,GAAG,CACtB,GAAI,GAAiB,GAAW,GAAiB,EAC/C,KADsD,EAC/C,CAEX,CACF,CACA,OAAO,IACT,EAkQ2C,GAAU,GAC7C,EAAiB,KACrB,GAAuB,OAAnB,EAAyB,CAC3B,IAAM,EAAS,CAAC,GAAiB,CAAC,CAAE,QAAQ,GACtC,EAAc,EAAK,UAAU,CAAC,EAAO,CACrC,EAAc,EAAQ,CAAC,EAAe,CAAC,KAAK,CAAoC,IAAjC,EAAQ,CAAC,EAAe,CAAC,KAAK,CAAU,EACzF,IAAa,EAtQvB,AAsQwC,SAtQ/B,AAAgB,CAAsB,CAAE,CAAqB,CAAE,EAAc,CAAC,EACrF,IAAK,IAAI,EAAI,EAAG,EAAI,EAAM,MAAM,CAAE,IAAK,CACrC,IAAM,EAAW,EAAc,CAAK,CAAC,EAAE,CAAC,CAAC,CACnC,CADqC,CAC5B,EAAc,CAAK,CAAC,EAAE,CAAC,CAAC,CACvC,GAAI,GAAiB,GAAY,GAAiB,EAAQ,CAFU,MAEH,CACnE,CACA,OAAO,IACT,EA+PwD,EAAa,EAAQ,EAAA,CACzE,CACA,EAAoB,GACpB,EAAoB,EACtB,EAAG,CAAC,GAAM,WAAY,GAAU,EAAY,QAG5C,CAAA,EAAA,EAAA,SAAS,AAAT,EAAU,KACR,IAAM,EAAgB,AAAC,IAErB,GAAI,SAAS,aAAa,EAAE,QAAQ,gBAAkB,QAEtD,CAF+D,MAEvD,EAAE,GAAG,CAAC,WAAW,IACvB,IAAK,IACL,IAAK,IACH,EAAE,cAAc,GAChB,KACA,KACF,KAAK,IAQL,IAAK,YAPH,EAAE,cAAc,GAChB,GAAS,CAAC,GACV,KACF,KAAK,IAQL,IAAK,aAPH,EAAE,cAAc,GAChB,GAAS,EAUb,CACF,EAGA,OADA,SAAS,gBAAgB,CAAC,UAAW,GAC9B,IAAM,SAAS,mBAAmB,CAAC,UAAW,EACvD,EAAG,CAAC,GAAiB,GAAS,EAG9B,CAAA,EAAA,EAAA,SAAA,AAAS,EAAC,KACR,IAAM,EAAc,KAClB,KACI,IACF,GAAkB,IADL,GACY,CAAG,sBAAsB,EAAA,CAEtD,EAMA,OAJI,IACF,GAAkB,IADL,GACY,CAAG,sBAAsB,EAAA,EAG7C,KACD,GAAkB,OAAO,EAAE,AAC7B,qBAAqB,GAAkB,OAAO,CAElD,CACF,EAAG,CAAC,EAAW,GAAkB,EAGjC,CAAA,EAAA,EAAA,SAAA,AAAS,EAAC,KACR,IAAM,EAAQ,EAAS,OAAO,CAC9B,GAAI,CAAC,EAAO,OAEZ,IAAM,EAAiB,KACrB,IAAI,EAAI,EAAM,QAAQ,EAClB,AADoB,CACnB,SAAS,AADoB,IACd,IAAK,GAAG,AACtB,GAAmB,GAAG,GAAI,EAAA,EAE5B,SAAS,IAAM,EAAI,GACrB,AADwB,EACZ,EAEhB,EAEM,EAAuB,KAC3B,IACA,GAAa,EACf,EAEM,EAAmB,KACnB,AAAC,GAAY,EAAe,EAAM,WAAW,EAE5B,OAAjB,GAAyB,AAAsB,MAAM,GAAjB,OAAO,EACzC,EAAM,WAAW,EAAK,GAAW,OAAO,CAAG,MAAO,AACpD,EAAM,KAAK,GACX,GAAW,OAAO,CAAG,KACrB,EAAgB,MAChB,GAAa,GAGnB,EAEM,EAAa,KACjB,GAAa,GACb,GAAa,EACf,EAEM,EAAc,IAAM,GAAa,GAEjC,EAAc,KAClB,GAAa,GACb,EAAoB,MACpB,EAAoB,MACpB,GAAW,OAAO,CAAG,KACrB,EAAgB,KAClB,EAEM,EAAkB,IAAM,GAAa,GACrC,EAAgB,KACpB,GAAa,GACb,GACF,EAkBA,OAhBA,EAAM,gBAAgB,CAAC,iBAAkB,GACzC,EAAM,gBAAgB,CAAC,iBAAkB,GACzC,EAAM,gBAAgB,CAAC,aAAc,GACrC,EAAM,gBAAgB,CAAC,OAAQ,GAC/B,EAAM,gBAAgB,CAAC,QAAS,GAChC,EAAM,gBAAgB,CAAC,QAAS,GAChC,EAAM,gBAAgB,CAAC,YAAa,GACpC,EAAM,gBAAgB,CAAC,UAAW,GAGlC,EAAM,MAAM,CAAG,EACf,EAAM,YAAY,CAAG,EAGrB,IAEO,KACL,EAAM,mBAAmB,CAAC,iBAAkB,GAC5C,EAAM,mBAAmB,CAAC,iBAAkB,GAC5C,EAAM,mBAAmB,CAAC,aAAc,GACxC,EAAM,mBAAmB,CAAC,OAAQ,GAClC,EAAM,mBAAmB,CAAC,QAAS,GACnC,EAAM,mBAAmB,CAAC,QAAS,GACnC,EAAM,mBAAmB,CAAC,YAAa,GACvC,EAAM,mBAAmB,CAAC,UAAW,EACvC,CACF,EAAG,CAAC,EAAW,EAAc,EAAQ,EAAY,EAAc,GAAiB,EAK9E,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,eAAe,CAAA,CAAC,cAAe,aAC9B,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,0CAAc,YAEb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,0CAAc,4DAEb,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CACC,IAAK,EACL,QAAQ,OACR,IAAK,EACL,YAAY,qDACF,CAIZ,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,0CAAc,+BAEb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,0CAAc,UACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CACL,QAAS,GACT,UAAU,qFACV,KAAK,OACL,SAAU,WAET,EACC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,OAAO,CAAA,CAAC,UAAU,yBACjB,EACF,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CAAC,UAAU,YAEjB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,IAAI,CAAA,CAAC,UAAU,qBAMtB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,0CAAc,cAEZ,GACC,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,0CAAc,kBACb,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,0CAAa,iDAAmD,MAKrE,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,0CAAc,0BACb,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,0CAAe,gDACb,EAAW,KAGd,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,0CAAc,QACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CACL,MAAO,CAAC,EAAW,EAAI,KAAK,GAAG,CAAC,EAAa,GAAY,EAAY,CACrE,IAAK,EAAW,EAAI,EAAW,EAC/B,KAAM,IACN,cAAe,CAAC,CAAC,EAAM,IACrB,GAAc,GACd,EAAe,EACjB,EACA,cAAe,CAAC,CAAC,EAAM,IACrB,GAAW,GACX,GAAc,EAChB,EACA,UAAU,4BAId,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,0CAAe,gDACb,EAAW,WAMlB,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,OAAO,CAAA,WACN,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,cAAc,CAAA,CAAC,OAAO,CAAA,CAAA,WACrB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CACL,QAAQ,QACR,KAAK,OACL,UAAU,sFAEV,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,OAAO,CAAA,CAAC,UAAU,gBAGvB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,cAAc,CAAA,CAAC,UAAU,WAAW,MAAM,eACzC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,0CAAc,iDACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CACL,MAAO,CAAC,KAAK,KAAK,CAAC,AAAS,OAAK,CACjC,IAAK,IACL,KAAM,EACN,cAAe,GACf,YAAY,WACZ,UAAU,SAEZ,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,0CAAc,oDACZ,KAAK,KAAK,CAAU,IAAT,GAAc,kBAQpC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,0CAAc,yCAEb,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,OAAO,CAAA,WACN,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,cAAc,CAAA,CAAC,OAAO,CAAA,CAAA,WACrB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CACL,QAAQ,QACR,KAAK,OACL,QAAS,IAAM,GAAS,CAAC,GACzB,UAAU,sFAEV,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,SAAS,CAAA,CAAC,UAAU,gBAGzB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,cAAc,CAAA,UAAC,oBAIlB,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,OAAO,CAAA,WACN,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,cAAc,CAAA,CAAC,OAAO,CAAA,CAAA,WACrB,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,MAAM,CAAA,CACL,QAAQ,QACR,QAAS,GACT,UAAU,sHAET,EAAa,SAGlB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,cAAc,CAAA,UACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,0CAAc,cACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,0CAAc,4BAA6B,sBAC5C,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,0CAAc,mCACZ,GAAc,GAAG,CAAE,AAAD,GACjB,CAAA,EAAA,EAAA,IAAA,EAAC,SAAA,CAEC,QAAS,IAAM,GAAwB,aAC5B,CAAC,4EAAuD,EACjE,IAAS,EACL,wCACA,sDAAA,CACJ,WAED,EAAK,MARD,cAiBjB,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,OAAO,CAAA,WACN,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,cAAc,CAAA,CAAC,OAAO,CAAA,CAAA,WACrB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CACL,QAAQ,QACR,KAAK,OACL,QAAS,IAAM,GAAS,GACxB,UAAU,sFAEV,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CAAS,UAAU,gBAGxB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,cAAc,CAAA,UAAC,6BAMA,OAArB,GACC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,0CAAc,mDACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,0CAAc,qCACZ,CAAC,KACA,IAAM,EAAO,EAAQ,CAAC,EAAiB,CACjC,EAAQ,GAAM,YAAY,CAAC,OAAO,EAAmB,GAAG,CACxD,EAAY,EAAK,KAAK,EAAI,EAChC,CADmC,MAC5B,EACL,EAF2C,AAEtC,EAAE,CACP,EACA,EACC,AAAD,IACE,IAAM,EAAI,GAAO,CAAC,EAAI,CACjB,GAAG,AAER,GAAgB,EADQ,EAAY,CACf,CADiB,CAAC,CAAG,IAE5C,EACA,EAAK,eAAe,EAAE,OAAS,EAAK,eAAe,CAAG,GAE1D,CAAC,KAIH,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,0CAAc,kBACb,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,0CAAe,mCACb,EAAQ,CAAC,EAAiB,CAAC,OAAO,EAAI,cAK1C,EAAQ,CAAC,EAAiB,CAAC,EAAE,EAC5B,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,0CAAc,gDAAgD,IAC3D,EAAQ,CAAC,EAAiB,CAAC,EAAE,CAAC,UAOxC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAA4C,IAAK,YAAlC,CAAC,SAAS,EAAE,eAAe,6DACxC,GACC,CAAA,EAAA,EAAA,IAAA,EAAA,EAAA,QAAA,CAAA,WACE,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,WACY,CAAC,yIAAoH,EAC9H,EAAc,cAAgB,YAAA,CAC9B,GAEJ,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,WACY,CAAC,4IAAuH,EACjI,EAAiB,cAAgB,YAAA,CACjC,MAKR,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,0CAAc,WACZ,GAAS,GAAG,CAAC,CAAC,EAAI,KACjB,IAAM,EAAM,EAAG,aAAa,CACtB,CADsC,CAC3B,EAAM,GAAM,EACvB,CADsC,CAC5B,CAAc,CAAC,EAAI,EAAI,CAAc,CAAC,EAAe,MAAM,CAAG,EAAE,CAEhF,IAJ8E,EAK5E,CAAA,EAAA,EAAA,GAAA,EAAC,IAJkF,EAIlF,WAAuB,CAAC,0BAAK,EAAE,EAAW,gBAAkB,cAAA,CAAe,UAC1E,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACY,CAAC,0EAAqD,EAAE,EAAQ,EAAE,CAAC,CAAC,EAAE,EAAQ,MAAM,CAAC,CAAC,EAC/F,EAAW,kBAAoB,kBAAA,CAC/B,WAGF,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAEC,aAAW,CAAA,CAAA,YADA,CAAC,oCAAe,EAAE,EAAW,YAAc,aAAa,mBAAmB,EAAE,EAAQ,EAAE,CAAC,OAAO,CAAC,GAI7G,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,0CAAc,0BACb,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,0CAAe,6BACb,EAAG,OAAO,GAAK,CAAD,CAAY,IAAM,GAAA,CAAG,GAIrC,CAAC,IAAa,EAAG,QAAA,AAAQ,GACxB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CACL,KAAK,OACL,QAAQ,QACR,QAAS,IAAO,IAAiB,IAAK,GAjgB5D,aAAa,GAAS,OAAO,EAC7B,EAAS,OAAO,EAAE,QAClB,EAAgB,MAClB,GAAW,OAAO,CAAG,MA8f0D,CA3f9D,AAAC,IAChB,IAAM,EAAQ,EAAS,OAAO,CAC9B,GAAI,CAAC,EAAO,OAEZ,IAAM,EAAO,EAAQ,CAAC,EAAI,CAE1B,GAAI,CACE,SAA4B,IAAf,EAAK,KAAK,OAA+B,IAAb,EAAK,GAAG,EAAgB,AAEnE,EAAM,WAAW,CAAG,KAAK,GAAG,CAAC,EAAG,EAAK,KAAK,EAC1C,GAAW,OAAO,CAAG,EAAK,GAAG,CAC7B,CAD+B,CACzB,IAAI,GAAG,EAD4B,EACxB,CAAC,IAAM,EAAgB,IAAM,KAAK,CAAC,IAClD,QAAQ,KAAK,CAAC,0BAA2B,GACzC,EAAgB,MAChB,GAAW,OAAO,CAAG,IACvB,IACS,EAAK,QAAQ,EAAE,CAEpB,EAAM,GAAG,GAAK,EAAK,QAAQ,EAAE,AAC/B,GAAM,GAAG,CAAG,EAAK,QAAA,AAAQ,EAE3B,GAAW,OAAO,CAAG,KACrB,CAD2B,CACrB,WADiC,AACtB,CAAG,EACpB,EAAM,IAAI,GAAG,IAAI,CAAC,IAAM,EAAgB,IAAM,KAAK,CAAC,IAClD,QAAQ,KAAK,CAAC,wBAAyB,GACvC,EAAgB,KAClB,GAEJ,CAAE,MAAO,EAAO,CACd,QAAQ,KAAK,CAAC,sBAAuB,GACrC,EAAgB,KAClB,EACF,EA2dwF,GAChE,MAAM,YACN,UAAU,gBAET,IAAiB,EAAI,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CAAC,UAAU,YAAe,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,OAAO,CAAA,CAAC,UAAU,cAK7E,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,OAAO,CAAA,WACN,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,cAAc,CAAA,CAAC,OAAO,CAAA,CAAA,WACrB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CACL,QAAQ,QACR,KAAK,OACL,UAAU,kFACV,aAAW,0BACX,aAAc,IAAM,EAAc,GAClC,aAAc,IAAM,EAAc,AAAC,GAAS,IAAQ,EAAI,KAAO,GAC/D,SAAU,CAAC,EAAG,EAAE,UAEhB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,iBAAiB,CAAA,CAAC,UAAU,gBAIhC,EAAG,EAAE,EAAI,IAAe,EACvB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,cAAc,CAAA,CACb,KAAK,MACL,MAAM,SACN,WAAY,EACZ,UAAU,qEAEV,CAAA,EAAA,EAAA,IAAA,EAAC,IAAA,0CAAY,uBAAuB,IAAE,EAAG,EAAE,CAAC,SAE5C,WAIR,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,WAAe,CAAC,0BAAK,EAAE,EAAQ,IAAI,CAAC,YAAY,CAAC,UAC/C,IAAqB,EAEpB,CAAC,CADD,IAEE,IAAM,EAAQ,GAAM,YAAY,CAAC,OAAO,EAAI,GAAG,CACzC,EAAY,EAAG,KAAK,EAAI,EAC9B,KAJuD,EAIhD,EACL,EAAG,EAAE,CACL,EACA,EACA,AAAC,IACC,IAAM,EAAI,GAAO,CAAC,EAAI,CACjB,GAEL,AAFQ,GAEQ,EADG,EAAY,CACV,CADY,CAAC,CAAG,IAEvC,EACA,EAAG,eAAe,EAAE,OAAS,EAAG,eAAe,CAAG,GAEtD,CAAC,GAGD,EAAc,CADd,CACiB,EAAE,CAAE,EAAG,eAAe,EAAE,OAAS,EAAG,YADT,GACwB,CAAG,SAhFrE,EAsFd,qjBAuCZ,oEE73BA,EAAA,EAAA,CAAA,CAAA,QAiBe,SAAS,EAAe,KAAE,CAAG,OAAE,EAAQ,wBAAwB,CAAmC,EAC/G,GAAM,CAAC,EAAc,EAAgB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,GAAC,GAgBjD,MACE,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,sBACb,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,QAjBU,CAiBD,IAhBb,GAAI,CAAC,EAAK,OACV,IAAM,EAAM,AApBhB,SAAS,AAAkB,CAAW,CAAE,EAAO,cAAc,CAAE,EAAI,GAAG,CAAE,EAAI,GAAG,EAC7E,IAAM,EAAS,OAAO,GAAG,EAAI,OACvB,EAAI,EAAO,WAAW,CAAG,KAAK,GAAG,CAAC,EAAG,CAAC,EAAO,WAAW,EAAG,CAAC,CAAI,GAAK,EACrE,EAAI,EAAO,UAAU,CAAG,KAAK,GAAG,CAAC,EAAG,CAAC,EAAO,UAAU,EAAG,CAAC,CAAI,GAAK,EAQzE,OAAO,AALK,OAAO,IAAI,CACrB,EACA,EACA,CAAC,yFAAyF,EAAE,EAAE,QAAQ,EAAE,EAAE,KAAK,EAAE,EAAE,MAAM,EAAE,EAAA,CAAG,CAGlI,EAQkC,GAE9B,GAAI,CAAC,GAAO,EAAI,MAAM,CAAE,CACtB,GAAgB,GAChB,IAAM,EAAI,SAAS,aAAa,CAAC,KACjC,EAAE,IAAI,CAAG,EACT,EAAE,MAAM,CAAG,SACX,EAAE,GAAG,CAAG,sBACR,EAAE,KAAK,EACT,CACF,EAMM,UAAU,4GAET,IAEF,GACC,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,yCAAgC,0DAMrD,2ECjDA,EAAA,EAAA,CAAA,CAAA,QACA,EAAA,EAAA,CAAA,CAAA,QAAA,EAAA,EAAA,CAAA,CAAA,OCsBA,CAAA,CAAA,CAAA,CAAA,AAAM,CAAN,CAAM,CAAA,EAAa,CAAA,CAAA,CAAA,CAAA,CAAb,AAAa,CAAb,AAAa,CAAA,AAAb,CAAa,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,IAAA,EAAiB,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAtBA,CAClC,AAqBiD,CAAA,AArBhD,CAAA,AAqBgD,CArBhD,AAqBgD,CAAA,AArBhD,CAAA,AAqBgD,CArBhD,AAqBgD,CArBhD,AAqBgD,CArBhD,AAAQ,AAqBwC,CArBxC,AAAE,AAqBsC,CAAU,CArB7C,AAqB6C,CArB7C,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,AAAqB,CAAA,CAAA,CAAA,CAAA,AAAK,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAU,CAAA,CAClD,CACE,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CACA,CACE,CAAA,CAAG,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CACH,GAAA,CAAA,AAAK,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,EACP,CAEJ,EDTA,IAAA,EAAA,EAAA,CAAA,CAAA,QACA,EAAA,EAAA,CAAA,CAAA,QACA,EAAA,EAAA,CAAA,CAAA,QAYe,SAAS,EAAgB,eAAE,CAAa,CAAwB,EAC7E,GAAM,CAAC,EAAc,EAAgB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,GAEjD,GAAI,CAAC,GAA0C,GAAG,CAA5B,EAAc,MAAM,CACxC,OAAO,KAGT,IAAM,EAAe,CAAa,CAAC,EAAa,CAC1C,EAAc,EAAc,MAAM,CAUxC,MACE,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,IAAI,CAAA,CAAC,UAAU,0CACd,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,UAAU,CAAA,UACT,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,8CACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,oCACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CAAW,UAAU,4BACtB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,SAAS,CAAA,CAAC,UAAU,4CAAmC,sBAMzD,EAAc,GACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,0DAEb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CACL,QAAQ,QACR,KAAK,OACL,QA1BO,CA0BE,IAzBrB,EAAgB,AAAC,GAAmB,IAAT,EAAa,EAAc,EAAI,EAAO,EACnE,EAyBc,UAAU,mFACV,aAAW,kCAEX,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,WAAW,CAAA,CAAC,UAAU,cAGzB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CACL,QAAQ,QACR,KAAK,OACL,QAhCG,CAgCM,IA/BrB,EAAiB,AAAD,GAAW,IAAS,EAAc,EAAI,EAAI,EAAO,EACnE,EA+Bc,UAAU,mFACV,aAAW,8BAEX,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,YAAY,CAAA,CAAC,UAAU,sBAQlC,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,WAAW,CAAA,WACV,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,4FAEZ,EAAa,KAAK,EACjB,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,oDAA4C,EAAa,KAAK,GAI5E,EAAa,SAAS,EACrB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,qDAA4C,YAC1D,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,mGACZ,EAAa,SAAS,MAM5B,MAAM,OAAO,CAAC,EAAa,KAAK,GAAK,EAAa,KAAK,CAAC,MAAM,CAAG,GAChE,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,iBACb,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,qDAA4C,UAC1D,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,qBACX,EAAa,KAAK,CAAC,GAAG,CAAC,CAAC,EAAc,IACrC,CAAA,EAAA,EAAA,IAAA,EAAC,KAAA,CAAW,UAAU,mCACpB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CAAC,UAAU,0CACjB,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,kCAA0B,MAFnC,YAWlB,EAAc,GACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,0CACZ,MAAM,IAAI,CAAC,CAAE,OAAQ,CAAY,GAAG,GAAG,CAAC,CAAC,EAAG,IAC3C,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CAEC,QAAS,IAAM,EAAgB,GAC/B,UAAW,CAAC,uCAAuC,EACjD,IAAU,EACN,gBACA,oCAAA,CACJ,CACF,aAAY,CAAC,oBAAoB,EAAE,EAAQ,EAAA,CAAG,EAPzC,WAerB,2EE9HA,EAAA,EAAA,CAAA,CAAA,QACA,EAAA,EAAA,CAAA,CAAA,OAAA,EAAA,EAAA,CAAA,CAAA,QAAA,EAAA,EAAA,CAAA,CAAA,4CAQA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,QACA,EAAA,EAAA,CAAA,CAAA,QACA,EAAA,EAAA,CAAA,CAAA,QAMA,EAAA,EAAA,CAAA,CAAA,QAkBe,SAAS,EAAiB,UAAE,CAAQ,CAAyB,EAC1E,GAAI,CAAC,GAAgC,IAApB,EAAS,MAAM,CAAQ,OAAO,KAE/C,GAAM,CAAC,EAAU,EAAY,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,GAAC,GACnC,EAAc,EAAS,MAAM,GAAG,AAEtC,MACE,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,IAAI,CAAA,CAAC,UAAU,0CACd,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,UAAU,CAAA,UACT,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,oCACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,aAAa,CAAA,CAAC,UAAU,6BACzB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,SAAS,CAAA,CAAC,UAAU,mDAA0C,sBAG9D,GACC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CACL,QAAQ,QACR,KAAK,KACL,QAAS,IAAM,EAAY,AAAC,GAAM,CAAC,GACnC,UAAU,wEACV,gBAAe,WAEd,EACC,CAAA,EAAA,EAAA,IAAA,EAAC,OAAA,CAAK,UAAU,wDAA8C,QACxD,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,OAAS,CAAA,CAAC,UAAU,eAG3B,CAAA,EAAA,EAAA,IAAA,EAAC,OAAA,CAAK,UAAU,wDAA8C,QACvD,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,OAAW,CAAA,CAAC,UAAU,sBAOxC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,eAAe,CAAA,UACd,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,WAAW,CAAA,CAAC,UAAU,qBACrB,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,qBACZ,EAAS,GAAG,CAAC,CAAC,EAAS,IAGpB,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAgB,UAAW,CAAA,EAAA,EAAA,OAAA,AAAI,EAFjB,AAEkB,CAFjB,GAAY,GA1CpB,GA4CqC,AA5ClC,GA0C0B,gBAGnC,CAAA,EAAA,EAAA,CA7CkC,EA6ClC,EAAC,EAAA,CAAa,QAAS,KADf,MAMf,GAAe,CAAC,GACf,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,wHAM3B,CAGA,SAAS,EAAa,CAAE,SAAO,CAA4B,EACzD,GAAM,CAAC,EAAW,EAAa,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,GAAC,GACrC,CAAC,EAAU,EAAY,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,GACnC,CAAC,EAAa,EAAe,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,GACzC,CAAC,EAAa,EAAe,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAgB,EAAQ,QAAQ,EAAI,MAE5E,EAAW,CAAA,EAAA,EAAA,MAAA,AAAM,EAAmB,MACpC,EAAiB,CAAA,EAAA,EAAA,MAAA,AAAM,EAAiB,YAG9C,CAAA,EAAA,EAAA,SAAA,AAAS,EAAC,KACJ,CAAC,EAAQ,QAAQ,EAAI,EAAQ,SAAS,EAAE,AAGxC,EAAe,GAAG,QAAQ,2CAA2C,gCAAE,EAAQ,SAAS,EAAE,CAGhG,EAAG,CAAC,EAAQ,QAAQ,CAAE,EAAQ,SAAS,CAAC,EAkCtC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,oJAEZ,GACC,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CACC,IAAK,EACL,IAAK,EACL,QAAQ,WACR,OAAQ,IAAM,GAAa,GAC3B,QAAS,IAAM,GAAa,GAC5B,QAAS,IAAM,GAAa,GAC5B,aA/BiB,CA+BH,IA9BpB,EAAe,EAAS,OAAO,EAAE,aAAe,EAClD,EA8BQ,iBA5BqB,CA4BH,IA3BxB,EAAY,EAAS,OAAO,EAAE,UAAY,EAC5C,IA+BI,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,wCACb,CAAA,EAAA,EAAA,IAAA,EAAC,IAAA,CAAE,UAAU,4EAAkE,IAC3E,EAAQ,EAAE,CAAC,OAEd,EAAQ,EAAE,EACT,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,OAAO,CAAA,WACN,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,cAAc,CAAA,CAAC,OAAO,CAAA,CAAA,WACrB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CACL,QAAQ,QACR,KAAK,KACL,aAAW,2BACX,UAAU,6FAEV,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,iBAAiB,CAAA,CAAC,UAAU,gBAGjC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,cAAc,CAAA,CAAC,KAAK,MAAM,UAAU,oBACnC,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,0BAAkB,EAAQ,EAAE,WAOhD,GACC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,oCACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CACL,KAAK,OACL,QAAQ,QACR,QA5Ec,CA4EL,IA3Eb,EACF,EAAS,OADI,AACG,EAAE,QAElB,EAAS,OAAO,EAAE,OAEpB,EAAa,CAAC,EAChB,EAsEU,UAAU,8FAET,EAAY,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CAAC,UAAU,YAAe,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,IAAI,CAAA,CAAC,UAAU,cAE/D,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,6CACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CACC,IAAK,EACL,QAlEO,AAAC,CAkEC,GAjEnB,GAAI,EAAe,OAAO,EAAI,EAAS,OAAO,CAAE,CAC9C,IAAM,EAAW,EAAe,OAAO,CAAC,WAAW,CAE7C,EADc,AACH,EADS,WAAW,CAAC,OAAO,CACd,EAAY,EAC3C,EAAS,OAAO,CAAC,WAAW,CAAG,EAC/B,EAAe,EACjB,CACF,EA2DY,UAAU,sEAEV,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CACC,MAAO,CAAE,MAAO,CAAA,EA5DH,AA4DM,EA5DK,EAAK,EAAc,EAAY,IAAM,EA4DvB,CAAC,CAAC,AAAC,EACzC,UAAU,+DAQ1B,2EClNA,EAAA,EAAA,CAAA,CAAA,QAAA,EAAA,EAAA,CAAA,CAAA,QACA,EAAA,EAAA,CAAA,CAAA,QACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,QCHA,EAAA,EAAA,CAAA,CAAA,QACA,EAAA,EAAA,CAAA,CAAA,QAAA,EAAA,EAAA,CAAA,CAAA,QAAA,EAAA,EAAA,CAAA,CAAA,QACA,EAAA,EAAA,CAAA,CAAA,QACA,EAAA,EAAA,CAAA,CAAA,QCL0M,EAAA,EAAA,CAAA,CAAA,QAAiH,EAAsC,CAAA,EAAA,EAAA,oBAAb,CAAa,AAAqB,EAAC,QAAxB,qCAAqE,EAAA,UAAU,CAAC,KAAK,EAAE,EAAA,gBAAgB,CAAC,4BCAxI,EAAwC,CAAA,EAAA,EAAA,qBAAA,AAAqB,CAAlC,CAAmC,UAAxB,mCAAqE,EAAA,UAAU,CAAC,KAAK,EAAE,EAAA,gBAAgB,CAAC,8BCUtc,eAAe,EACpB,CAAiB,CACjB,CAAmB,EAEnB,GAAI,CAAC,EACH,MAAM,AAAI,GADI,GACE,0BAIlB,GAAM,MAAE,CAAI,CAAE,CAAG,EAAe,OAAO,CACpC,IAAI,CAAC,oBACL,YAAY,CAAC,GAEV,EAAY,EAAK,SAAS,CAEhC,GAAI,CAAC,EACH,MAAM,AAAI,GADI,GACE,2CAIlB,IAAM,EAAQ,IAAI,MAAM,GAGxB,OAAO,IAAI,QAAQ,CAAC,EAAS,KAC3B,EAAM,gBAAgB,CAAG,KACvB,EAAM,IAAI,GAAG,IAAI,CAAC,KAChB,EAAQ,EACV,GAAG,KAAK,CAAC,AAAC,IACR,EAAO,AAAI,MAAM,CAAC,sBAAsB,EAAE,EAAM,OAAO,CAAA,CAAE,EAC3D,EACF,EAEA,EAAM,OAAO,CAAG,AAAC,IACf,EAAW,AAAJ,MAAU,CAAC,qBAAqB,EAAE,EAAA,CAAO,EAClD,EAGA,EAAM,IAAI,EACZ,EACF,CHvCA,IAAA,EAAA,EAAA,CAAA,CAAA,QACA,EAAA,EAAA,CAAA,CAAA,OAmBO,SAAS,EAAgB,YAC9B,CAAU,SACV,CAAO,UACP,CAAQ,UACR,CAAQ,CACa,EACrB,GAAM,CAAC,EAAQ,EAAU,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,GAAC,GAC/B,CAAC,EAAS,EAAW,CAAG,CAAA,EAAA,EAAA,QAAQ,AAAR,EAAS,EAAW,OAAO,EACnD,CAAC,EAAU,EAAY,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,GAAC,GACnC,CAAC,EAAW,EAAa,CAAG,CAAA,EAAA,EAAA,QAAQ,AAAR,GAAS,GACrC,EAAW,CAAA,EAAA,EAAA,MAAA,AAAM,EAA0B,MAC3C,EAAS,CAAA,EAAA,EAAA,SAAA,AAAS,IAGxB,CAAA,EAAA,EAAA,SAAA,AAAS,EAAC,IACD,UACD,GAAS,OAAO,EAAE,CGSF,EHRR,EAAS,CGQ6B,MHRtB,IGU9B,EAAM,KAAK,GACX,EAAM,WAAW,CAAG,EHTpB,EACC,EAAE,EAEL,IAAM,EAAkB,UACtB,GAAK,CAAD,CAAY,KAAK,CAErB,CAFuB,EAEnB,CACF,EAAa,IACb,IAAM,EAAW,CAAA,EAAA,EAAA,YAAA,AAAY,IACvB,EAAQ,MAAM,EAAe,EAAW,KAAK,CAAE,GACrD,EAAS,OAAO,CAAG,EAGnB,EAAM,OAAO,CAAG,KACd,GAAa,GACb,EAAS,OAAO,CAAG,IACrB,EAEA,EAAM,OAAO,CAAG,KACd,GAAa,GACb,EAAS,OAAO,CAAG,IACrB,CACF,CAAE,MAAO,EAAO,CACd,QAAQ,KAAK,CAAC,uBAAwB,GACtC,EAAa,GACf,CACF,EAEM,EAAa,UACjB,IAAI,EAEJ,GAAI,CACF,GAAY,CAHA,EAIZ,IAAM,EAAS,MAAM,EAAyB,SAC5C,EACA,WACA,eAAgB,EAAW,EAAE,CAC7B,YAAa,EAAW,EAAE,CAC1B,IAAK,EAAW,GAAG,EAAI,KACvB,UAAW,EAAW,KAAK,EAAI,KAC/B,IAAK,EAAW,GAAG,EAAI,IACzB,GAEI,EAAO,OAAO,EAAE,AAClB,GAAW,GACX,EAAO,OAAO,IAEd,QAAQ,KAAK,CAAC,6BAA8B,EAAO,KAAK,CAE5D,CAAE,MAAO,EAAO,CACd,QAAQ,KAAK,CAAC,2BAA4B,EAC5C,QAAU,CACR,GAAY,EACd,CACF,EAEM,EAAe,UACnB,IAAI,EAEJ,GAAI,CACF,GAAY,CAHA,EAIZ,IAAM,EAAS,MAAM,EAA2B,EAAW,QAAQ,EAE/D,EAAO,OAAO,EAAE,AAClB,EAAW,IACX,EAAO,OAAO,IAEd,QAAQ,KAAK,CAAC,+BAAgC,EAAO,KAAK,CAE9D,CAAE,MAAO,EAAO,CACd,QAAQ,KAAK,CAAC,6BAA8B,EAC9C,QAAU,CACR,GAAY,EACd,CACF,EAEA,MACE,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,OAAO,CAAA,CAAC,KAAM,EAAQ,aAAc,YACnC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,cAAc,CAAA,CAAC,OAAO,CAAA,CAAA,WACrB,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CACC,UAAW,CAAA,EAAA,EAAA,EAAA,AAAE,EACX,gCACA,GAAU,8BACV,GAAW,mBAEb,aAAc,IAAM,EAAU,IAC9B,aAAc,IAAM,GAAU,YAE7B,MAGL,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,cAAc,CAAA,CACb,UAAU,aACV,KAAK,MACL,MAAM,QACN,WAAY,EACZ,aAAc,IAAM,GAAU,GAC9B,aAAc,IAAM,GAAU,YAE9B,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,oCAEZ,EAAW,GAAG,EACb,CAAA,EAAA,EAAA,IAAA,EAAC,OAAA,CAAK,UAAU,6CAAmC,IAC/C,EAAW,GAAG,CAAC,OAKpB,EAAW,KAAK,EACf,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CACL,QAAQ,QACR,KAAK,OACL,QAAS,EACT,SAAU,EACV,UAAU,UACV,MAAM,8BAEL,EACC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,OAAO,CAAA,CAAC,UAAU,6BAEnB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,OAAO,CAAA,CAAC,UAAU,kBAMzB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CACL,QAAQ,QACR,KAAK,OACL,QAAS,EAAU,EAAe,EAClC,SAAU,EACV,UAAW,CAAA,EAAA,EAAA,EAAA,AAAE,EACX,UACA,GAAW,gBAEb,MAAO,EAAU,oBAAsB,2BAEtC,EACC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,OAAO,CAAA,CAAC,UAAU,6BAEnB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,QAAQ,CAAA,CAAC,UAAW,CAAA,EAAA,EAAA,EAAA,AAAE,EACrB,cACA,GAAW,2BAQ3B,CDxLe,SAAS,EAAc,YACpC,CAAU,SACV,CAAO,UACP,CAAQ,WACR,EAAY,OAAO,CACA,SACnB,AAAI,AAAC,GAAoC,GAAG,CAAzB,EAAW,MAAM,CAkElC,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,IAAI,CAAA,CAAC,UAAU,0CACd,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,UAAU,CAAA,CAAC,UAAU,iBACpB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,oCACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,QAAQ,CAAA,CAAC,UAAU,4BACpB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,SAAS,CAAA,CAAC,UAAU,4CAAmC,sBAEzD,EAAW,MAAM,CAAG,GACnB,CAAA,EAAA,EAAA,IAAA,EAAC,IAAA,CAAE,UAAU,wCAA8B,qBAAmB,EAAW,MAAM,CAAC,eAIpF,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,WAAW,CAAA,CAAC,UAAU,gBACrB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,qBAEb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CACC,UAAW,CAAA,EAAA,EAAA,EAAA,AAAE,EACX,kEACA,EAAW,MAAM,CAAG,GAAK,QAE3B,MAAO,CAAE,WAAU,WAElB,EAAW,GAAG,CAAC,CAAC,EAAM,KACrB,IAAM,EAAQ,AAnFN,CAAC,IACnB,GAAI,CAAC,EAAK,MAAO,CAAE,MAAO,GAAI,UAAW,QAAS,EAElD,IAAM,EAAM,OAAO,GAAK,WAAW,GAAG,IAAI,GAC1C,OAAQ,EAAI,WAAW,IACrB,IAAK,OACL,IAAK,IACH,MAAO,CAAE,MAAO,KAAM,UAAW,2BAA4B,CAE/D,KAAK,OACL,IAAK,IACH,MAAO,CAAE,MAAO,KAAM,UAAW,iCAAkC,CAErE,KAAK,YACL,IAAK,MACH,MAAO,CAAE,MAAO,OAAQ,UAAW,+BAAgC,CAErE,KAAK,SACL,IAAK,MACH,MAAO,CAAE,MAAO,OAAQ,UAAW,2BAA4B,CAEjE,KAAK,SACL,IAAK,MACL,IAAK,OACH,MAAO,CAAE,MAAO,OAAQ,UAAW,6BAA8B,CAGnE,KAAK,cACL,IAAK,KACH,MAAO,CAAE,MAAO,SAAU,UAAW,iCAAkC,CAEzE,KAAK,cACL,IAAK,OACH,MAAO,CAAE,MAAO,QAAS,UAAW,2BAA4B,CAElE,KAAK,UACL,IAAK,OACH,MAAO,CAAE,MAAO,QAAS,UAAW,+BAAgC,CAEtE,KAAK,cACL,IAAK,OACH,MAAO,CAAE,MAAO,QAAS,UAAW,2BAA4B,CAElE,KAAK,WACL,IAAK,MACH,MAAO,CAAE,MAAO,OAAQ,UAAW,2BAA4B,CAEjE,KAAK,aACL,IAAK,MACH,MAAO,CAAE,MAAO,OAAQ,UAAW,+BAAgC,CAErE,KAAK,aACL,IAAK,MACH,MAAO,CAAE,MAAO,OAAQ,UAAW,2BAA4B,CAEjE,SACE,MAAO,CAAE,MAAO,EAAI,KAAK,CAAC,EAAG,GAAK,IAAK,UAAW,6BAA8B,CACpF,CACF,GAyBsC,EAAK,GAAG,EAClC,MACE,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAEC,UAAU,8HAEV,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,6CACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CACJ,UAAW,CAAA,EAAA,EAAA,EAAA,AAAE,EACX,qEACA,EAAM,SAAS,WAGhB,EAAM,KAAK,GAEd,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,oDACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CACC,WAAY,EACZ,QAAS,EACT,SAAU,WAEV,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,yDACb,EAAK,EAAE,KAIX,EAAK,OAAO,EACX,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,IAAI,CAAA,CAAC,UAAU,yDAItB,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,sEAA8D,EAAK,EAAE,KA5B7E,EA+BX,KAID,EAAW,MAAM,CAAG,GACnB,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CACC,UAAU,mHACV,cAAY,iBAhIf,IAuIX,EACA,EAAE,gEK7JF,EAAA,EAAA,CAAA,CAAA,QACA,EAAA,EAAA,CAAA,CAAA,QACA,EAAA,EAAA,CAAA,CAAA,cAEkB,KAChB,GAAM,SAAE,CAAO,SAAE,CAAO,CAAE,CAAG,CAAA,AAqBhB,EArBgB,EAAA,cAAA,AAAc,IACrC,CAAC,EAAS,EAAW,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,GAAC,GAGvC,CAAA,EAAA,EAAA,SAAA,AAAS,EAAC,KACR,GAAW,EACb,EAAG,EAAE,EAIL,IAAM,EAAY,GAAW,EACvB,EAAe,EAAY,KAAQ,GAAS,OAAS,EAE3D,MACE,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAW,CAAC,qFAAqF,EAAE,EAAY,gBAAkB,GAAA,CAAI,WACxI,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CAAC,UAAU,2BACjB,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,wCAAgC,MAGtD,yGCvBA,EAAA,EAAA,CAAA,CAAA,QAEA,EAAA,EAAA,CAAA,CAAA,QAGA,IAAM,EAAoC,CACxC,iBAAkB,EAAE,CACpB,iBAAkB,EAAE,CACpB,MAAO,CACT,EAUM,EAAsB,CAAA,EAAA,EAAA,aAAA,AAAa,OAAsC,GAElE,EAAuB,CAAC,UAAE,CAAQ,CAA2B,IACxE,GAAM,CAAC,EAAc,EAAgB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAe,GACzD,OAAE,CAAK,CAAE,CAAG,CAAA,EAAA,EAAA,QAAQ,AAAR,IA+DlB,MACE,CAAA,EAAA,EAAA,GAAA,EAAC,EAAoB,QAAQ,CAAA,CAC3B,MAAO,CACL,eACA,eAjEiB,AAAC,IACjB,EAAa,gBAAgB,CAAC,QAAQ,CAAC,KAC1C,EAAiB,AAAD,IADqC,AAC1B,CACzB,EADwB,CACrB,CAAI,CACP,iBAAkB,IAAI,EAAK,gBAAgB,CAAE,EAAS,CACtD,MAAO,EAAK,KAAK,CAAG,GACtB,CAAC,EACD,EAAM,CACJ,MAAO,oBACP,YAAa,0BACb,QAAS,SACX,GAEJ,EAqDM,cAnDgB,CAAC,EAAmB,IACxC,AAAI,EAAa,KAAK,CAAG,GACvB,EAAM,CACJ,CAF4B,KAErB,mBACP,YAAa,CAAC,SAAS,EAAE,EAAM,8BAA8B,CAAC,CAC9D,QAAS,aACX,IACO,IAGJ,EAAa,gBAAgB,CAAC,QAAQ,CAAC,KAC1C,EAAgB,AAAC,IAAU,CAD2B,AAEpD,EADwB,CACrB,CAAI,CACP,iBAAkB,IAAI,EAAK,gBAAgB,CAAE,EAAU,CACvD,MAAO,EAAK,KAAK,CAAG,EACtB,CAAC,EACD,EAAM,CACJ,MAAO,oBACP,YAAa,CAAC,aAAa,EAAE,EAAM,8BAA8B,CAAC,CAClE,QAAS,SACX,KAGK,GA6BH,eA1BiB,CAAC,EAAgB,KAEtC,GAAI,CAAC,EAAa,gBAAgB,CAAC,QAAQ,CAAC,GAC1C,OAAO,EAD+C,AAKxD,GAAqB,GAAG,CAApB,EAAO,KAAK,CACd,OAAO,EAIT,IAAM,EAAmB,CAAA,EAAG,EAAU,CAAC,EAAE,EAAO,KAAK,CAAG,EAAA,CAAG,CAC3D,MAAO,CAAC,EAAa,gBAAgB,CAAC,QAAQ,CAAC,EACjD,EAaM,iBAXmB,AAAC,GACjB,EAAa,KAAK,EAAI,CAW3B,WAEC,GAGP,EAEa,EAAkB,KAC7B,IAAM,EAAU,CAAA,EAAA,EAAA,UAAU,AAAV,EAAW,GAC3B,GAAgB,SAAZ,EAAuB,AACzB,MAAM,AAAI,MAAM,8DAElB,OAAO,CACT,oEC3GA,EAAA,EAAA,CAAA,CAAA,QACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,QAEA,EAAA,EAAA,CAAA,CAAA,cAMkB,CAAC,OAAE,CAAK,CAAkB,IAC1C,IAAM,EAAS,CAAA,EAAA,EAAA,MAsEF,GAtEE,AAAS,IAClB,cAAE,CAAY,CAAE,CAAG,CAAA,EAAA,EAAA,eAAA,AAAe,IAGlC,EAAa,EAAM,QAAQ,CAAC,OAAO,CAAC,GAAW,EAAQ,OAAO,EAC9D,EAAmB,EAAW,MAAM,CAAC,GACzC,EAAa,gBAAgB,CAAC,QAAQ,CAAC,EAAO,EAAE,GAChD,MAAM,CACF,EAAqB,EAAW,MAAM,CAAG,EAAK,EAAmB,EAAW,MAAM,CAAI,IAAM,EAMlG,MACE,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,IAAI,CAAA,CACH,UAAU,0IACV,QAPgB,CAOP,IANX,EAAO,IAAI,CAAC,CAAC,OAAO,EAAE,EAAM,IAAI,CAAA,CAAE,CACpC,WAOI,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,WAAW,CAAA,CAAC,UAAU,gBAErB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,gHACZ,EAAM,KAAK,CACV,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,OAAK,CAAA,CACJ,IAAK,EAAM,KAAK,CAChB,IAAK,EAAM,KAAK,CAChB,IAAI,CAAA,CAAA,EACJ,UAAU,yEAIZ,CAAA,CADA,CACA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,gBAD0B,0CAEvC,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,8EACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,yCAMpB,EAAqB,GACpB,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,wFACb,CAAA,EAAA,EAAA,IAAA,EAAC,OAAA,CAAK,UAAU,6CACb,KAAK,KAAK,CAAC,GAAoB,YAOxC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,gBACb,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,6FACX,EAAM,KAAK,GAGb,EAAM,WAAW,EAChB,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,mEACV,EAAM,WAAW,GAKtB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,8CACZ,EAAM,WAAW,EAAI,EAAE,UAAQ,CAAC,EAAM,WAAW,GAAI,CAAC,GAAM,EAAI,IAAM,aAMnF,oEC9EA,EAAA,EAAA,CAAA,CAAA,cAMoB,CAAC,MAAE,CAAI,CAAoB,GAE3C,CAAA,EAAA,EAAA,IAAA,EAAC,QAwBU,EAxBV,CAAQ,UAAU,kBAEjB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,iBACb,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,iDACX,EAAK,KAAK,GAEb,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,2DACV,EAAK,WAAW,MAKrB,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,gEACZ,EAAK,MAAM,CAAC,GAAG,CAAC,AAAC,GAChB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,OAAS,CAAA,CAER,MAAO,GADF,EAAM,EAAE,qKCxBzB,EAAA,EAAA,CAAA,CAAA,QACA,EAAA,EAAA,CAAA,CAAA,QAAA,EAAA,EAAA,CAAA,CAAA,QAAA,EAAA,EAAA,CAAA,CAAA,OAkBO,SAAS,EAAoB,QAClC,CAAM,WACN,EAAY,CAAC,eACb,EAAgB,EAAE,CAClB,YAAY,EAAE,CACW,QACzB,AAAe,UAAU,CAArB,EAEA,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,KAAK,CAAA,CACJ,UAAW,CAAC,2FAA2F,EAAE,EAAA,CAAW,WAEpH,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,YAAY,CAAA,CAAC,KAAM,KACpB,CAAA,EAAA,EAAA,IAAA,EAAC,OAAA,WAAM,KAAK,KAAK,CAAC,GAAW,UAKpB,eAAe,CAA1B,EAEA,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,KAAK,CAAA,CACJ,QAAQ,YACR,UAAW,CAAC,4FAA4F,EAAE,EAAA,CAAW,WAErH,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CAAC,KAAM,KACb,CAAA,EAAA,EAAA,IAAA,EAAC,OAAA,WAAM,KAAK,KAAK,CAAC,GAAW,UAMjC,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,KAAK,CAAA,CACJ,QAAQ,UACR,UAAW,CAAC,yEAAyE,EAAE,EAAA,CAAW,WAElG,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CAAC,KAAM,KACd,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,UAAK,YAGZ,gFCzDA,EAAA,EAAA,CAAA,CAAA,QAMA,EAAA,EAAA,CAAA,CAAA,QAAA,EAAA,EAAA,CAAA,CAAA,QAAA,EAAA,EAAA,CAAA,CAAA,QAeO,SAAS,EAAoB,cAClC,CAAY,UACZ,CAAQ,CACiB,SAEzB,AAAK,EAAa,EAAd,MAAsB,CAwGxB,CAxG0B,AAwG1B,EAAA,EAAA,GAAA,EAAC,EAAA,eAAe,CAAA,UACd,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,OAAO,CAAA,WACN,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,cAAc,CAAA,CAAC,OAAO,CAAA,CAAA,WACpB,IAEH,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,cAAc,CAAA,CACb,KAAK,QACL,UAAU,2DAET,CA7GiB,KACxB,OAAQ,EAAa,MAAM,EACzB,IAAK,iBACH,MACE,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,mCACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,IAAI,CAAA,CAAC,KAAM,GAAI,UAAU,yBAC1B,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,yBAAgB,mBAC7B,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,sCAA6B,yCAOlD,KAAK,cACH,MACE,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,mCACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,IAAI,CAAA,CAAC,KAAM,GAAI,UAAU,yBAC1B,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,yBAAgB,gBAC7B,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,sCACV,EAAa,cAAc,GAE7B,KAA2C,MAA9B,yBAAyB,OACC,IAAvC,EAAa,qBAAqB,EACjC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,iBACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,iCAAwB,cACvC,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,oDACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CACC,UAAU,2DACV,MAAO,CACL,MAAO,CAAA,EAAI,EAAa,yBAAyB,CAAG,EAAa,qBAAqB,CAAI,IAAI,CAAC,CAAC,AAClG,MAGJ,CAAA,EAAA,EAAA,IAAA,EAAC,IAAA,CAAE,UAAU,uCACV,EAAa,yBAAyB,CAAC,MAAI,EAAa,qBAAqB,CAAC,+BAQ7F,KAAK,sBACH,MACE,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,mCACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,YAAY,CAAA,CAAC,KAAM,GAAI,UAAU,yBAClC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,yBAAgB,6BAC7B,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,sCACV,EAAa,cAAc,QAMtC,KAAK,mBACH,MACE,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,mCACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CAAC,KAAM,GAAI,UAAU,yCAC3B,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,yBAAgB,qBAC7B,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,sCACV,EAAa,cAAc,EAAI,yDAM1C,KAAK,UACH,MACE,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,mCACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,qEACf,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,yBAAgB,eAC7B,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,sCAA6B,gCAOlD,SACE,MACE,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,mCACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,IAAI,CAAA,CAAC,KAAM,GAAI,UAAU,yBAC1B,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,yBAAgB,WAC7B,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,sCAA6B,8CAMpD,CACF,YApGS,CAAA,EAAA,EAAA,GAAA,EAAA,EAAA,QAAA,CAAA,UAAG,GAqHd","ignoreList":[0,1,3,5,8]}